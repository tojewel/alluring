!function(){var n,t;(function(){t={}}).call(this),function(){(function(){var n=this,r=n._,e={},u=Array.prototype,i=Object.prototype,a=Function.prototype,o=u.push,c=u.slice,l=u.concat,f=i.toString,s=i.hasOwnProperty,p=u.forEach,v=u.map,h=u.reduce,d=u.reduceRight,g=u.filter,m=u.every,y=u.some,b=u.indexOf,_=u.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=A),t._=A):n._=A,A.VERSION="1.5.2";var k=function(n){return"[object Arguments]"===f.call(n)};k(arguments)||(k=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var O=function(n){return n.length===+n.length&&(k(n)||n.constructor!==Object)},E=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(O(n)){for(var u=0,i=n.length;i>u;u++)if(t.call(r,n[u],u,n)===e)return}else for(var a=A.keys(n),u=0,i=a.length;i>u;u++)if(t.call(r,n[a[u]],a[u],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:v&&n.map===v?n.map(t,r):(E(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=A.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(E(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),d&&n.reduceRight===d)return e&&(t=A.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(!O(n)){var a=A.keys(n);i=a.length}if(E(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(E(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},A.reject=function(n,t,r){return A.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var u=!0;return null==n?u:m&&n.every===m?n.every(t,r):(E(n,function(n,i,a){return(u=u&&t.call(r,n,i,a))?void 0:e}),!!u)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var u=!1;return null==n?u:y&&n.some===y?n.some(t,r):(E(n,function(n,i,a){return u||(u=t.call(r,n,i,a))?e:void 0}),!!u)};A.contains=A.include=function(n,t){return null==n?!1:b&&n.indexOf===b?-1!=n.indexOf(t):M(n,function(n){return n===t})},A.invoke=function(n,t){var r=c.call(arguments,2),e=A.isFunction(t);return A.map(n,function(n){return(e?t:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},A.shuffle=function(n){var t,r=0,e=[];return E(n,function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n}),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var u={},i=null==r?A.identity:R(r);return E(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};A.groupBy=S(function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)}),A.indexBy=S(function(n,t,r){n[t]=r}),A.countBy=S(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,r,e){r=null==r?A.identity:R(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},A.toArray=function(n){return n?A.isArray(n)?c.call(n):O(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:O(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:c.call(n,0,t)},A.initial=function(n,t,r){return c.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:c.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return c.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(E(n,function(n){A.isArray(n)||A.isArguments(n)?t?o.apply(r,n):I(n,t,r):r.push(n)}),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,c.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var u=r?A.map(n,r,e):n,i=[],a=[];return E(u,function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),i.push(n[e]))}),i},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=c.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=l.apply(u,c.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,c.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=c.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(c.call(arguments)));T.prototype=n.prototype;var u=new T;T.prototype=null;var i=n.apply(u,r.concat(c.call(arguments)));return Object(i)===i?i:u}},A.partial=function(n){var t=c.call(arguments,1);return function(){return n.apply(this,t.concat(c.call(arguments)))}},A.bindAll=function(n){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=c.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(c.call(arguments,1)))},A.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},A.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return o.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={},r=l.apply(u,c.call(arguments,1));return E(r,function(r){r in n&&(t[r]=n[r])}),t},A.omit=function(n){var t={},r=l.apply(u,c.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var u=f.call(n);if(u!=f.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,l=!0;if("[object Array]"==u){if(c=n.length,l=c==t.length)for(;c--&&(l=N(n[c],t[c],r,e)););}else{for(var s in n)if(A.has(n,s)&&(c++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!c--)break;l=!c}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},E(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return n._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],function(t){return q[n][t]})}}),A.result=function(n,t){if(null==n)return void 0;var r=n[t];return A.isFunction(r)?r.call(n):r},A.mixin=function(n){E(A.functions(n),function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),U.call(this,r.apply(A,n))}})};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var u=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(C,function(n){return"\\"+z[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}}),E(["concat","join","slice"],function(n){var t=u[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){n=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:n}}();

!function(){var t=Package.underscore._,e;(function(){e={isClient:!0,isServer:!1,isCordova:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){function n(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0}if(e.isServer)var r=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return void 0;t=t[arguments[e]]}return t},_ensure:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},_delete:function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in t)){n=!1;break}if(t=t[o],"object"!=typeof t)break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},wrapAsync:function(o,i){return function(){for(var a=i||this,u=t.toArray(arguments),s,c=u.length-1;c>=0;--c){var l=u[c],f=typeof l;if("undefined"!==f){"function"===f&&(s=l);break}}if(!s){if(e.isClient)s=n;else{var _=new r;s=_.resolver()}++c}u[c]=e.bindEnvironment(s);var p=o.apply(a,u);return _?_.wait():p}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;e._wrapAsync=function(t,n){return o||(e._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),e.wrapAsync.apply(e,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var t=function(t){o.setImmediate(t)};return t.implementation="setImmediate",t}return null}function n(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===o&&t(e.data,u)){var n=e.data.substring(u.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,a={},u="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",e,!1):o.attachEvent("onmessage",e);var s=function(t){++i,a[i]=t,o.postMessage(u+i,"*")};return s.implementation="postMessage",s}function r(){var t=function(t){o.setTimeout(t,0)};return t.implementation="setTimeout",t}var o=this;e._setImmediate=t()||n()||r()}.call(this),function(){var n=function(t){if(Package.ddp){var e=Package.ddp.DDP._CurrentInvocation;if(e.get()&&e.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){e.withValue(null,t)}}return t},r=function(t,r){return e.bindEnvironment(n(r),t)};t.extend(e,{setTimeout:function(t,e){return setTimeout(r("setTimeout callback",t),e)},setInterval:function(t,e){return setInterval(r("setInterval callback",t),e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},defer:function(t){e._setImmediate(r("defer callback",t))}})}.call(this),function(){e.makeErrorType=function(t,n){var r=function(){var e=this;if(Error.captureStackTrace)Error.captureStackTrace(e,r);else{var o=new Error;o.__proto__=r.prototype,o instanceof r&&(e=o)}return n.apply(e,arguments),e.errorType=t,e};return e._inherits(r,Error),r},e.Error=e.makeErrorType("Meteor.Error",function(t,e,n){var r=this;r.error=t,r.reason=e,r.details=n,r.message=r.reason?r.reason+" ["+r.error+"]":"["+r.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(t){return t()},e._SynchronousQueue=function(){var t=this;t._tasks=[],t._running=!1,t._runTimeout=null},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var r=this;if(!r.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");r._tasks.push(n);var o=r._tasks;r._tasks=[],r._running=!0,r._runTimeout&&(clearTimeout(r._runTimeout),r._runTimeout=null);try{for(;!t.isEmpty(o);){var i=o.shift();try{i()}catch(a){if(t.isEmpty(o))throw a;e._debug("Exception in queued task: "+a.stack)}}}finally{r._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var t=this;t.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var t=this;return!t._running}})}.call(this),function(){var t=[],n=!e.isCordova&&("loaded"===document.readyState||"complete"==document.readyState),r=1,o=function(){if(r--,!(r>0)){n=!0;var o=function(){if(e.isCordova&&(!cordova.plugins||!cordova.plugins.CordovaUpdate))return void e.setTimeout(o,20);for(;t.length;)t.shift()()};o()}};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),e.isCordova&&(r++,document.addEventListener("deviceready",o,!1)),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&o()}),window.attachEvent("load",o)),e.startup=function(r){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(i){return void setTimeout(function(){e.startup(r)},50)}r()}else n?r():t.push(r)}}.call(this),function(){var t=0;e._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e},e._supressed_log_expected=function(){return 0!==t}}.call(this),function(){var n=0,r=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return r[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(t,e){var n=r[this.slot];try{r[this.slot]=t;var o=e()}finally{r[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,i){var a=t.clone(r);if(!o||"string"==typeof o){var u=o||"callback of async function";o=function(t){e._debug("Exception in "+u+":",t&&t.stack||t)}}return function(){var e=r;try{r=a;var u=n.apply(i,t.toArray(arguments))}catch(s){o(s)}finally{r=e}return u}},e._nodeCodeMustBeInFiber=function(){}}.call(this),function(){e.absoluteUrl=function(n,r){r||"object"!=typeof n||(r=n,n=void 0),r=t.extend({},e.absoluteUrl.defaultOptions,r||{});var o=r.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),r.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),r.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.showdown={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["meyerweb-reset"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,r,a;(function(){r={};var e=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};r._encodeParams=function(r){var a=[];return n.each(r,function(n,r){a.length&&a.push("&"),a.push(e(r),"=",e(n))}),a.join("").replace(/%20/g,"+")},a=function(e,n,a,c){var t=e,o=n?n.slice(1):null;if("string"==typeof a&&(o=String(a)),c){o=o||"";var u=r._encodeParams(c);o&&u&&(o+="&"),o+=u}var i=t;return null!==o&&(i+="?"+o),i}}).call(this),function(){r._constructUrl=function(e,n,r){var c=/^(.*?)(\?.*)?$/.exec(e);return a(c[1],c[2],n,r)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.url={URL:r}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.url.URL,r,a,o;(function(){a=function(t,e){var n=500,r=function(t,e){return t.length>e?t.slice(0,e)+"...":t},a="failed ["+t+"]";return e&&(a+=" "+r(e.replace(/\n/g," "),n)),new Error(a)},o=function(t){var n=(t.headers["content-type"]||";").split(";")[0];if(e.include(["application/json","text/javascript"],n))try{t.data=JSON.parse(t.content)}catch(r){t.data=null}else t.data=null},r={},r.get=function(){return r.call.apply(this,["GET"].concat(e.toArray(arguments)))},r.post=function(){return r.call.apply(this,["POST"].concat(e.toArray(arguments)))},r.put=function(){return r.call.apply(this,["PUT"].concat(e.toArray(arguments)))},r.del=function(){return r.call.apply(this,["DELETE"].concat(e.toArray(arguments)))}}).call(this),function(){r.call=function(r,s,c,i){if(i||"function"!=typeof c||(i=c,c=null),c=c||{},"function"!=typeof i)throw new Error("Can't make a blocking HTTP call from the client; callback required.");r=(r||"").toUpperCase();var u={},l=c.content;c.data&&(l=JSON.stringify(c.data),u["Content-Type"]="application/json");var p,f;if(l||"GET"===r||"HEAD"===r?p=c.params:f=c.params,s=n._constructUrl(s,c.query,p),c.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");if(e.has(c,"npmRequestOptions"))throw new Error("Option npmRequestOptions not supported on client.");var d,h;if(c.auth){var y=c.auth.indexOf(":");if(0>y)throw new Error('auth option should be of the form "username:password"');d=c.auth.substring(0,y),h=c.auth.substring(y+1)}f&&(l=n._encodeParams(f)),e.extend(u,c.headers||{}),i=function(t){return function(e,n){e&&n&&(e.response=n),t(e,n)}}(i),i=e.once(i);try{var g;if("undefined"!=typeof XMLHttpRequest)g=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");g=new ActiveXObject("Microsoft.XMLHttp")}g.open(r,s,!0,d,h);for(var w in u)g.setRequestHeader(w,u[w]);var m=!1,v;c.timeout&&(v=t.setTimeout(function(){m=!0,g.abort()},c.timeout)),g.onreadystatechange=function(n){if(4===g.readyState)if(v&&t.clearTimeout(v),m)i(new Error("timeout"));else if(g.status){var r={};r.statusCode=g.status,r.content=g.responseText,r.headers={};var s=g.getAllResponseHeaders();""===s&&g.getResponseHeader("content-type")&&(s="content-type: "+g.getResponseHeader("content-type"));var c=s.split(/\r?\n/);e.each(c,function(t){var e=/^(.*?):(?:\s+)(.*)$/.exec(t);e&&3===e.length&&(r.headers[e[1].toLowerCase()]=e[2])}),o(r);var u=null;r.statusCode>=400&&(u=a(r.statusCode,r.content)),i(u,r)}else i(new Error("network"))},g.send(l)}catch(E){i(E)}}}.call(this),function(){t.http=r}.call(this),"undefined"==typeof Package&&(Package={}),Package.http={HTTP:r}}();

!function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u=gap,i,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(a)){for(f=a.length,n=0;f>n;n+=1)i[n]=str(n,a)||"null";return o=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+u+"]":"["+i.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;f>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,a),o&&i.push(quote(r)+(gap?": ":":")+o));else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(o=str(r,a),o&&i.push(quote(r)+(gap?": ":":")+o));return o=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+u+"}":"{"+i.join(",")+"}",gap=u,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}();

!function(){var n=Package.meteor.Meteor,r;(function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={},a=0;a<n.length;a++)e[n.charAt(a)]=a;r={},r.encode=function(n){if("string"==typeof n){var e=n;n=r.newBinary(e.length);for(var a=0;a<e.length;a++){var l=e.charCodeAt(a);if(l>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");n[a]=l}}for(var u=[],i=null,o=null,c=null,s=null,a=0;a<n.length;a++)switch(a%3){case 0:i=n[a]>>2&63,o=(3&n[a])<<4;break;case 1:o|=n[a]>>4&15,c=(15&n[a])<<2;break;case 2:c|=n[a]>>6&3,s=63&n[a],u.push(t(i)),u.push(t(o)),u.push(t(c)),u.push(t(s)),i=null,o=null,c=null,s=null}return null!=i&&(u.push(t(i)),u.push(t(o)),u.push(null==c?"=":t(c)),null==s&&u.push("=")),u.join("")};var t=function(r){return n.charAt(r)},l=function(n){return"="===n?-1:e[n]};r.newBinary=function(n){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var r=[],e=0;n>e;e++)r.push(0);return r.$Uint8ArrayPolyfill=!0,r}return new Uint8Array(new ArrayBuffer(n))},r.decode=function(n){var e=Math.floor(3*n.length/4);"="==n.charAt(n.length-1)&&(e--,"="==n.charAt(n.length-2)&&e--);for(var a=r.newBinary(e),t=null,u=null,i=null,o=0,c=0;c<n.length;c++){var s=n.charAt(c),f=l(s);switch(c%4){case 0:if(0>f)throw new Error("invalid base64 string");t=f<<2;break;case 1:if(0>f)throw new Error("invalid base64 string");t|=f>>4,a[o++]=t,u=(15&f)<<4;break;case 2:f>=0&&(u|=f>>2,a[o++]=u,i=(3&f)<<6);break;case 3:f>=0&&(a[o++]=i|f)}}return a}}).call(this),"undefined"==typeof Package&&(Package={}),Package.base64={Base64:r}}();

!function(){var n=Package.meteor.Meteor,e=Package.json.JSON,t=Package.underscore._,r=Package.base64.Base64,u,a;(function(){u={},a={};var i={};u.addType=function(n,e){if(t.has(i,n))throw new Error("Type "+n+" already present");i[n]=e};var o=function(n){return t.isNaN(n)||n===1/0||n===-(1/0)},f=[{matchJSONValue:function(n){return t.has(n,"$date")&&1===t.size(n)},matchObject:function(n){return n instanceof Date},toJSONValue:function(n){return{$date:n.getTime()}},fromJSONValue:function(n){return new Date(n.$date)}},{matchJSONValue:function(n){return t.has(n,"$InfNaN")&&1===t.size(n)},matchObject:o,toJSONValue:function(n){var e;return e=t.isNaN(n)?0:n===1/0?1:-1,{$InfNaN:e}},fromJSONValue:function(n){return n.$InfNaN/0}},{matchJSONValue:function(n){return t.has(n,"$binary")&&1===t.size(n)},matchObject:function(n){return"undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&t.has(n,"$Uint8ArrayPolyfill")},toJSONValue:function(n){return{$binary:r.encode(n)}},fromJSONValue:function(n){return r.decode(n.$binary)}},{matchJSONValue:function(n){return t.has(n,"$escape")&&1===t.size(n)},matchObject:function(n){return t.isEmpty(n)||t.size(n)>2?!1:t.any(f,function(e){return e.matchJSONValue(n)})},toJSONValue:function(n){var e={};return t.each(n,function(n,t){e[t]=u.toJSONValue(n)}),{$escape:e}},fromJSONValue:function(n){var e={};return t.each(n.$escape,function(n,t){e[t]=u.fromJSONValue(n)}),e}},{matchJSONValue:function(n){return t.has(n,"$type")&&t.has(n,"$value")&&2===t.size(n)},matchObject:function(n){return u._isCustomType(n)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var r=e.$type;if(!t.has(i,r))throw new Error("Custom EJSON type "+r+" is not defined");var u=i[r];return n._noYieldsAllowed(function(){return u(e.$value)})}}];u._isCustomType=function(n){return n&&"function"==typeof n.toJSONValue&&"function"==typeof n.typeName&&t.has(i,n.typeName())};var c=u._adjustTypesToJSONValue=function(n){if(null===n)return null;var e=l(n);return void 0!==e?e:"object"!=typeof n?n:(t.each(n,function(e,t){if("object"==typeof e||void 0===e||o(e)){var r=l(e);return r?void(n[t]=r):void c(e)}}),n)},l=function(n){for(var e=0;e<f.length;e++){var t=f[e];if(t.matchObject(n))return t.toJSONValue(n)}return void 0};u.toJSONValue=function(n){var e=l(n);return void 0!==e?e:("object"==typeof n&&(n=u.clone(n),c(n)),n)};var s=u._adjustTypesFromJSONValue=function(n){if(null===n)return null;var e=y(n);return e!==n?e:"object"!=typeof n?n:(t.each(n,function(e,t){if("object"==typeof e){var r=y(e);if(e!==r)return void(n[t]=r);s(e)}}),n)},y=function(n){if("object"==typeof n&&null!==n&&t.size(n)<=2&&t.all(n,function(n,e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var e=0;e<f.length;e++){var r=f[e];if(r.matchJSONValue(n))return r.fromJSONValue(n)}return n};u.fromJSONValue=function(n){var e=y(n);return e===n&&"object"==typeof n?(n=u.clone(n),s(n),n):e},u.stringify=function(n,t){var r=u.toJSONValue(n);return t&&(t.canonical||t.indent)?u._canonicalStringify(r,t):e.stringify(r)},u.parse=function(n){if("string"!=typeof n)throw new Error("EJSON.parse argument should be a string");return u.fromJSONValue(e.parse(n))},u.isBinary=function(n){return!!("undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&n.$Uint8ArrayPolyfill)},u.equals=function(n,e,r){var a,i=!(!r||!r.keyOrderSensitive);if(n===e)return!0;if(t.isNaN(n)&&t.isNaN(e))return!0;if(!n||!e)return!1;if("object"!=typeof n||"object"!=typeof e)return!1;if(n instanceof Date&&e instanceof Date)return n.valueOf()===e.valueOf();if(u.isBinary(n)&&u.isBinary(e)){if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(n[a]!==e[a])return!1;return!0}if("function"==typeof n.equals)return n.equals(e,r);if("function"==typeof e.equals)return e.equals(n,r);if(n instanceof Array){if(!(e instanceof Array))return!1;if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(!u.equals(n[a],e[a],r))return!1;return!0}switch(u._isCustomType(n)+u._isCustomType(e)){case 1:return!1;case 2:return u.equals(u.toJSONValue(n),u.toJSONValue(e))}var o;if(i){var f=[];return t.each(e,function(n,e){f.push(e)}),a=0,o=t.all(n,function(n,t){return a>=f.length?!1:t!==f[a]?!1:u.equals(n,e[f[a]],r)?(a++,!0):!1}),o&&a===f.length}return a=0,o=t.all(n,function(n,i){return t.has(e,i)&&u.equals(n,e[i],r)?(a++,!0):!1}),o&&t.size(e)===a},u.clone=function(n){var e;if("object"!=typeof n)return n;if(null===n)return null;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return n;if(u.isBinary(n)){e=u.newBinary(n.length);for(var r=0;r<n.length;r++)e[r]=n[r];return e}if(t.isArray(n)||t.isArguments(n)){for(e=[],r=0;r<n.length;r++)e[r]=u.clone(n[r]);return e}return"function"==typeof n.clone?n.clone():u._isCustomType(n)?u.fromJSONValue(u.clone(u.toJSONValue(n)),!0):(e={},t.each(n,function(n,t){e[t]=u.clone(n)}),e)},u.newBinary=r.newBinary}).call(this),function(){function n(n){return e.stringify(n)}var r=function(e,u,a,i,o){var f,c,l,s,y=i,h,N=u[e];switch(typeof N){case"string":return n(N);case"number":return isFinite(N)?String(N):"null";case"boolean":return String(N);case"object":if(!N)return"null";if(y=i+a,h=[],t.isArray(N)||t.isArguments(N)){for(s=N.length,f=0;s>f;f+=1)h[f]=r(f,N,a,y,o)||"null";return l=0===h.length?"[]":y?"[\n"+y+h.join(",\n"+y)+"\n"+i+"]":"["+h.join(",")+"]"}var p=t.keys(N);return o&&(p=p.sort()),t.each(p,function(e){l=r(e,N,a,y,o),l&&h.push(n(e)+(y?": ":":")+l)}),l=0===h.length?"{}":y?"{\n"+y+h.join(",\n"+y)+"\n"+i+"}":"{"+h.join(",")+"}"}};u._canonicalStringify=function(n,e){if(e=t.extend({indent:"",canonical:!1},e),e.indent===!0)e.indent="  ";else if("number"==typeof e.indent){for(var u="",a=0;a<e.indent;a++)u+=" ";e.indent=u}return r("",{"":n},e.indent,"",e.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:u,EJSONTest:a}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n,i;(function(){var o=new e.EnvironmentVariable;n=function(e,t){var r=o.getOrNullIfOutsideFiber();r&&r.checking(e);try{l(e,t)}catch(n){throw n instanceof i.Error&&n.path&&(n.message+=" in field "+n.path),n}},i={Optional:function(e){return new a(e)},OneOf:function(){return new c(t.toArray(arguments))},Any:["__any__"],Where:function(e){return new f(e)},ObjectIncluding:function(e){return new s(e)},ObjectWithValues:function(e){return new h(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){try{return l(e,t),!0}catch(r){if(r instanceof i.Error)return!1;throw r}},_failIfArgumentsAreNotAllChecked:function(e,t,r,n){var i=new p(r,n),a=o.withValue(i,function(){return e.apply(t,r)});return i.throwUnlessAllArgumentsHaveBeenChecked(),a}};var a=function(e){this.pattern=e},c=function(e){if(t.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},f=function(e){this.condition=e},s=function(e){this.pattern=e},h=function(e){this.pattern=e},u=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],l=function(e,n){if(n!==i.Any){for(var o=0;o<u.length;++o)if(n===u[o][0]){if(typeof e===u[o][1])return;throw new i.Error("Expected "+u[o][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new i.Error("Expected null, got "+r.stringify(e))}if("string"==typeof n||"number"==typeof n){if(e===n)return;throw new i.Error("Expected "+n+", got "+r.stringify(e))}if(n===i.Integer){if("number"==typeof e&&(0|e)===e)return;throw new i.Error("Expected Integer, got "+(e instanceof Object?r.stringify(e):e))}if(n===Object&&(n=i.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+r.stringify(n));if(!t.isArray(e)&&!t.isArguments(e))throw new i.Error("Expected array, got "+r.stringify(e));return void t.each(e,function(e,t){try{l(e,n[0])}catch(r){throw r instanceof i.Error&&(r.path=w(t,r.path)),r}})}if(n instanceof f){if(n.condition(e))return;throw new i.Error("Failed Match.Where validation")}if(n instanceof a&&(n=i.OneOf(void 0,n.pattern)),n instanceof c){for(var o=0;o<n.choices.length;++o)try{return void l(e,n.choices[o])}catch(p){if(!(p instanceof i.Error))throw p}throw new i.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new i.Error("Expected "+(n.name||"particular constructor"))}var g=!1,d;if(n instanceof s&&(g=!0,n=n.pattern),n instanceof h&&(g=!0,d=[n.pattern],n={}),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new i.Error("Expected object, got "+typeof e);if(null===e)throw new i.Error("Expected object, got null");if(e.constructor!==Object)throw new i.Error("Expected plain object");var y={},E={};t.each(n,function(e,t){e instanceof a?E[t]=e.pattern:y[t]=e}),t.each(e,function(e,r){try{if(t.has(y,r))l(e,y[r]),delete y[r];else if(t.has(E,r))l(e,E[r]);else{if(!g)throw new i.Error("Unknown key");d&&l(e,d[0])}}catch(n){throw n instanceof i.Error&&(n.path=w(r,n.path)),n}}),t.each(y,function(e,t){throw new i.Error("Missing key '"+t+"'")})}},p=function(e,r){var n=this;n.args=t.clone(e),n.args.reverse(),n.description=r};t.extend(p.prototype,{checking:function(e){var r=this;r._checkingOneValue(e)||(t.isArray(e)||t.isArguments(e))&&t.each(e,t.bind(r._checkingOneValue,r))},_checkingOneValue:function(e){for(var r=this,n=0;n<r.args.length;++n)if(e===r.args[n]||t.isNaN(e)&&t.isNaN(r.args[n]))return r.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!t.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var g=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],w=function(e,r){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||t.contains(g,e))&&(e=JSON.stringify([e])),r&&"["!==r[0]?e+"."+r:e+r}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:n,Match:i}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,t;(function(){if(e.isServer)var n=Npm.require("crypto");var r=function(){function e(){var e=4022871197,n=function(n){n=n.toString();for(var t=0;t<n.length;t++){e+=n.charCodeAt(t);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return n.version="Mash 0.9",n}return function(n){var t=0,r=0,o=0,i=1;0==n.length&&(n=[+new Date]);var a=e();t=a(" "),r=a(" "),o=a(" ");for(var u=0;u<n.length;u++)t-=a(n[u]),0>t&&(t+=1),r-=a(n[u]),0>r&&(r+=1),o-=a(n[u]),0>o&&(o+=1);a=null;var d=function(){var e=2091639*t+2.3283064365386963e-10*i;return t=r,r=o,o=e-(i=0|e)};return d.uint32=function(){return 4294967296*d()},d.fract53=function(){return d()+1.1102230246251565e-16*(2097152*d()|0)},d.version="Alea 0.9",d.args=n,d}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",a=function(e){var n=this;void 0!==e&&(n.alea=r.apply(null,e))};a.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("No random generator available")},a.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var r=Math.ceil(e/2),o;try{o=n.randomBytes(r)}catch(i){o=n.pseudoRandomBytes(r)}var a=o.toString("hex");return a.substring(0,e)}for(var u=[],d=0;e>d;++d)u.push(t.choice("0123456789abcdef"));return u.join("")},a.prototype._randomString=function(e,n){for(var t=this,r=[],o=0;e>o;o++)r[o]=t.choice(n);return r.join("")},a.prototype.id=function(e){var n=this;return void 0===e&&(e=17),n._randomString(e,o)},a.prototype.secret=function(e){var n=this;return void 0===e&&(e=43),n._randomString(e,i)},a.prototype.choice=function(e){var n=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(n,1):e[n]};var u="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,d="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,c="undefined"!=typeof navigator&&navigator.userAgent||"";t=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new a:new a([new Date,u,d,c,Math.random()]),t.createWithSeeds=function(){if(0===arguments.length)throw new Error("No seeds were provided");return new a(arguments)}}).call(this),function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],r=0;36>r;r++)n[r]=t.choice(e);n[14]="4",n[19]=e.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var o=n.join("");return o}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:t}}();

!function(){var n=Package.meteor.Meteor,t,e;(function(){t={},t.active=!1,t.currentComputation=null,t._computations={};var e=function(n){t.currentComputation=n,t.active=!!n},r=function(){return"undefined"!=typeof n?n._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},o=function(t){"undefined"!=typeof n&&n._supressed_log_expected()&&n._suppress_log(t-1)},i=function(n,t){if(d)throw t;var e=["Exception from Tracker "+n+" function:"];if(t.stack&&t.message&&t.name){var i=t.stack.indexOf(t.message);if(0>i||i>t.name.length+2){var a=t.name+": "+t.message;e.push(a)}}e.push(t.stack),o(e.length);for(var u=0;u<e.length;u++)r()(e[u])},a=function(t){return"undefined"==typeof n||n.isClient?t:function(){var e=arguments;n._noYieldsAllowed(function(){t.apply(null,e)})}},u=1,c=[],s=!1,f=!1,p=!1,d=!1,l=[],h=function(){s||("undefined"!=typeof n?n._setImmediate(t._runFlush):setTimeout(t._runFlush,0),s=!0)},v=!1;t.Computation=function(n,e,r){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var o=this;o.stopped=!1,o.invalidated=!1,o.firstRun=!0,o._id=u++,o._onInvalidateCallbacks=[],o._parent=e,o._func=n,o._onError=r,o._recomputing=!1,t._computations[o._id]=o;var i=!0;try{o._compute(),i=!1}finally{o.firstRun=!1,i&&o.stop()}},t.Computation.prototype.onInvalidate=function(n){var e=this;if("function"!=typeof n)throw new Error("onInvalidate requires a function");e.invalidated?t.nonreactive(function(){a(n)(e)}):e._onInvalidateCallbacks.push(n)},t.Computation.prototype.invalidate=function(){var n=this;if(!n.invalidated){n._recomputing||n.stopped||(h(),c.push(this)),n.invalidated=!0;for(var e=0,r;r=n._onInvalidateCallbacks[e];e++)t.nonreactive(function(){a(r)(n)});n._onInvalidateCallbacks=[]}},t.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate(),delete t._computations[this._id])},t.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var r=t.currentComputation;e(n);var o=p;p=!0;try{a(n._func)(n)}finally{e(r),p=o}},t.Computation.prototype._needsRecompute=function(){var n=this;return n.invalidated&&!n.stopped},t.Computation.prototype._recompute=function(){var n=this;n._recomputing=!0;try{if(n._needsRecompute())try{n._compute()}catch(t){n._onError?n._onError(t):i("recompute",t)}}finally{n._recomputing=!1}},t.Dependency=function(){this._dependentsById={}},t.Dependency.prototype.depend=function(n){if(!n){if(!t.active)return!1;n=t.currentComputation}var e=this,r=n._id;return r in e._dependentsById?!1:(e._dependentsById[r]=n,n.onInvalidate(function(){delete e._dependentsById[r]}),!0)},t.Dependency.prototype.changed=function(){var n=this;for(var t in n._dependentsById)n._dependentsById[t].invalidate()},t.Dependency.prototype.hasDependents=function(){var n=this;for(var t in n._dependentsById)return!0;return!1},t.flush=function(n){t._runFlush({finishSynchronously:!0,throwFirstError:n&&n._throwFirstError})},t._runFlush=function(n){if(f)throw new Error("Can't call Tracker.flush while flushing");if(p)throw new Error("Can't flush inside Tracker.autorun");n=n||{},f=!0,s=!0,d=!!n.throwFirstError;var e=0,r=!1;try{for(;c.length||l.length;){for(;c.length;){var o=c.shift();if(o._recompute(),o._needsRecompute()&&c.unshift(o),!n.finishSynchronously&&++e>1e3)return void(r=!0)}if(l.length){var a=l.shift();try{a()}catch(u){i("afterFlush",u)}}}r=!0}finally{if(r||(f=!1,t._runFlush({finishSynchronously:n.finishSynchronously,throwFirstError:!1})),s=!1,f=!1,c.length||l.length){if(n.finishSynchronously)throw new Error("still have more to do?");setTimeout(h,10)}}},t.autorun=function(n,e){if("function"!=typeof n)throw new Error("Tracker.autorun requires a function argument");e=e||{},v=!0;var r=new t.Computation(n,t.currentComputation,e.onError);return t.active&&t.onInvalidate(function(){r.stop()}),r},t.nonreactive=function(n){var r=t.currentComputation;e(null);try{return n()}finally{e(r)}},t.onInvalidate=function(n){if(!t.active)throw new Error("Tracker.onInvalidate requires a currentComputation");t.currentComputation.onInvalidate(n)},t.afterFlush=function(n){l.push(n),h()}}).call(this),function(){n.flush=t.flush,n.autorun=t.autorun,n.autosubscribe=t.autorun,t.depend=function(n){return n.depend()},e=t}.call(this),"undefined"==typeof Package&&(Package={}),Package.tracker={Tracker:t,Deps:e}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n;(function(){n=function(){return n.info.apply(this,arguments)};var i=0,o=[],a=0;n._intercept=function(e){i+=e},n._suppress=function(e){a+=e},n._intercepted=function(){var e=o;return o=[],i=0,e},n.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},l="blue",c=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=c.concat(["app","message"]),g=function(t){var r=n.format(t),i=t.level;"undefined"!=typeof console&&console[i]?console[i](r):e._debug(r)};n._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var r=t.split("\n"),n,i=1;i<r.length;++i){if(n=r[i],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/(?:local-test:)?logging(?:\/|\.js)/))break}var o={},a=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return a?(o.line=a[2].split(":")[0],o.file=a[1].split("/").slice(-1)[0].split("?")[0],o):o},t.each(["debug","info","warn","error"],function(s){n[s]=function(l){if(a)return void a--;var u=!1;i&&(i--,u=!0);var f=!t.isObject(l)||t.isRegExp(l)||t.isDate(l)?{message:new String(l).toString()}:l;if(t.each(c,function(e){if(f[e])throw new Error("Can't set '"+e+"' in log message")}),t.has(f,"message")&&!t.isString(f.message))throw new Error("The 'message' field in log objects must be a string");if(f.omitCallerDetails||(f=t.extend(n._getCallerDetails(),f)),f.time=new Date,f.level=s,"debug"!==s)if(u)o.push(r.stringify(f));else if(e.isServer)if("colored-text"===n.outputFormat)console.log(n.format(f,{color:!0}));else{if("json"!==n.outputFormat)throw new Error("Unknown logging output format: "+n.outputFormat);console.log(r.stringify(f))}else g(f)}}),n.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=r.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},n.format=function(n,i){n=r.clone(n),i=i||{};var o=n.time;if(!(o instanceof Date))throw new Error("'time' must be a Date object");var a=n.timeInexact,c=n.level||"info",g=n.file,f=n.line,m=n.app||"",p=n.originApp,v=n.message||"",h=n.program||"",d=n.satellite,w=n.stderr||"";t.each(u,function(e){delete n[e]}),t.isEmpty(n)||(v&&(v+=" "),v+=r.stringify(n));var b=function(e){return 10>e?"0"+e:e.toString()},D=function(e){return 100>e?"0"+b(e):e.toString()},j=o.getFullYear().toString()+b(o.getMonth()+1)+b(o.getDate()),S=b(o.getHours())+":"+b(o.getMinutes())+":"+b(o.getSeconds())+"."+D(o.getMilliseconds()),k="("+-((new Date).getTimezoneOffset()/60)+")",E="";m&&(E+=m),p&&p!==m&&(E+=" via "+p),E&&(E="["+E+"] ");var x=[];h&&x.push(h),g&&x.push(g),f&&x.push(f);var y=t.isEmpty(x)?"":"("+x.join(":")+") ";d&&(y+=["[",d,"]"].join(""));var _=w?"(STDERR) ":"",C=[c.charAt(0).toUpperCase(),j,"-",S,k,a?"? ":" ",E,y,_].join(""),F=function(t,r){return i.color&&e.isServer&&r?Npm.require("cli-color")[r](t):t};return F(C,i.metaColor||l)+F(v,s[c])},n.objFromText=function(e,r){var n={message:e,level:"info",time:new Date,timeInexact:!0};return t.extend(n,r)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:n}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.random.Random,i;(function(){i=function(e){var r=this;t.extend(r,t.defaults(t.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),r.retryTimer=null},t.extend(i.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var i=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return i*=r.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(t,r){var i=this,n=i._timeout(t);return i.retryTimer&&clearTimeout(i.retryTimer),i.retryTimer=e.setTimeout(r,n),n}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:i}}();

!function(){var a=Package.meteor.Meteor,e=Package.underscore._,t=Package.logging.Log,o=Package.json.JSON,n;(function(){n={};var t="Meteor_Reload",r={},i,l=null;try{l=window.sessionStorage,l?(l.setItem("__dummy__","1"),l.removeItem("__dummy__")):l=null}catch(g){l=null}n._getData=function(){return l&&l.getItem(t)},l&&(i=n._getData(),l.removeItem(t)),i||(i="{}");var c={};try{c=o.parse(i),"object"!=typeof c&&(a._debug("Got bad data on reload. Ignoring."),c={})}catch(d){a._debug("Got invalid JSON on reload. Ignoring.")}c.reload&&"object"==typeof c.data&&(r=c.data);var u=[];n._onMigrate=function(a,e){e||(e=a,a=void 0),u.push({name:a,callback:e})},n._migrationData=function(a){return r[a]};var s=function(a,t){a=a||function(){},t=t||{};for(var o={},n=e.clone(u),r=!0;n.length;){var i=n.shift(),l=i.callback(a,t);l[0]||(r=!1),l.length>1&&i.name&&(o[i.name]=l[1])}return r||t.immediateMigration?o:null};n._migrate=function(e,n){var r=s(e,n);if(null===r)return!1;try{var i=o.stringify({data:r,reload:!0})}catch(g){throw a._debug("Couldn't serialize data for migration",r),g}if(l)try{l.setItem(t,i)}catch(g){a._debug("Couldn't save data for migration to sessionStorage",g)}else a._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},n._withFreshProvidersForTest=function(a){var t=e.clone(u);u=[];try{a()}finally{u=t}};var f=!1;n._reload=function(a){if(a=a||{},!f){f=!0;var t=function(){e.defer(function(){n._migrate(t,a)&&window.location.reload()})};t()}}}).call(this),function(){a._reload={onMigrate:n._onMigrate,migrationData:n._migrationData,reload:n._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:n}}();

!function(){var i=Package.meteor.Meteor,t=Package.underscore._,a=Package.json.JSON,n=Package.ejson.EJSON,e;(function(){e=function(i,t){var n=this;n._map={},n._idStringify=i||a.stringify,n._idParse=t||a.parse},t.extend(e.prototype,{get:function(i){var t=this,a=t._idStringify(i);return t._map[a]},set:function(i,t){var a=this,n=a._idStringify(i);a._map[n]=t},remove:function(i){var t=this,a=t._idStringify(i);delete t._map[a]},has:function(i){var a=this,n=a._idStringify(i);return t.has(a._map,n)},empty:function(){var i=this;return t.isEmpty(i._map)},clear:function(){var i=this;i._map={}},forEach:function(i){for(var a=this,n=t.keys(a._map),e=0;e<n.length;e++){var r=i.call(null,a._map[n[e]],a._idParse(n[e]));if(r===!1)return}},size:function(){var i=this;return t.size(i._map)},setDefault:function(i,a){var n=this,e=n._idStringify(i);return t.has(n._map,e)?n._map[e]:(n._map[e]=a,a)},clone:function(){var i=this,t=new e(i._idStringify,i._idParse);return i.forEach(function(i,a){t.set(a,n.clone(i))}),t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["id-map"]={IdMap:e}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,r;(function(){var t=function(t,e,r,n){return{key:t,value:e,next:r,prev:n}};r=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var r=e.toArray(arguments);t._stringify=function(t){return t},"function"==typeof r[0]&&(t._stringify=r.shift()),e.each(r,function(e){t.putBefore(e[0],e[1],null)})},e.extend(r.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){var t=this;return!t._first},size:function(){var t=this;return t._size},_linkEltIn:function(t){var e=this;t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=e._last,e._last&&(e._last.next=t),e._last=t),(null===e._first||e._first===t.next)&&(e._first=t)},_linkEltOut:function(t){var e=this;t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===e._last&&(e._last=t.prev),t===e._first&&(e._first=t.next)},putBefore:function(e,r,n){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=n?t(e,r,i._dict[i._k(n)]):t(e,r,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(t,e){var r=this;r.putBefore(t,e,null)},remove:function(t){var e=this,r=e._dict[e._k(t)];if(void 0===r)throw new Error("Item "+t+" not present in OrderedDict");return e._linkEltOut(r),e._size--,delete e._dict[e._k(t)],r.value},get:function(t){var e=this;return e.has(t)?e._dict[e._k(t)].value:void 0},has:function(t){var r=this;return e.has(r._dict,r._k(t))},forEach:function(t){for(var e=this,n=0,i=e._first;null!==i;){var o=t(i.value,i.key,n);if(o===r.BREAK)return;i=i.next,n++}},first:function(){var t=this;return t.empty()?void 0:t._first.key},firstValue:function(){var t=this;return t.empty()?void 0:t._first.value},last:function(){var t=this;return t.empty()?void 0:t._last.key},lastValue:function(){var t=this;return t.empty()?void 0:t._last.value},prev:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.prev)return r.prev.key}return null},next:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.next)return r.next.key}return null},moveBefore:function(t,e){var r=this,n=r._dict[r._k(t)],i=e?r._dict[r._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==n.next&&(r._linkEltOut(n),n.next=i,r._linkEltIn(n))},indexOf:function(t){var e=this,n=null;return e.forEach(function(i,o,u){return e._k(o)===e._k(t)?(n=u,r.BREAK):void 0}),n},_checkRep:function(){var t=this;e.each(t._dict,function(t,e){if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}),r.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:r}}();

!function(){var t=Package.meteor.Meteor,n,o;(function(){o={exports:{}}}).call(this),function(){!function(){function t(t){for(var n=[],o=[],a=0;a<t[0].length;a++)n.push(t[0][a][1]),o.push(t[0][a][0]);return n=n.sort(function(t,n){return t-n}),o=o.sort(function(t,n){return t-n}),[[n[0],o[0]],[n[n.length-1],o[o.length-1]]]}function n(t,n,o){for(var a=[[0,0]],r=0;r<o.length;r++){for(var e=0;e<o[r].length;e++)a.push(o[r][e]);a.push([0,0])}for(var i=!1,r=0,e=a.length-1;r<a.length;e=r++)a[r][0]>n!=a[e][0]>n&&t<(a[e][1]-a[r][1])*(n-a[r][0])/(a[e][0]-a[r][0])+a[r][1]&&(i=!i);return i}var a={};"undefined"!=typeof o&&o.exports&&(o.exports=a),a.lineStringsIntersect=function(t,n){for(var o=[],a=0;a<=t.coordinates.length-2;++a)for(var r=0;r<=n.coordinates.length-2;++r){var e={x:t.coordinates[a][1],y:t.coordinates[a][0]},i={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},s={x:n.coordinates[r][1],y:n.coordinates[r][0]},c={x:n.coordinates[r+1][1],y:n.coordinates[r+1][0]},u=(c.x-s.x)*(e.y-s.y)-(c.y-s.y)*(e.x-s.x),h=(i.x-e.x)*(e.y-s.y)-(i.y-e.y)*(e.x-s.x),d=(c.y-s.y)*(i.x-e.x)-(c.x-s.x)*(i.y-e.y);if(0!=d){var l=u/d,y=h/d;l>=0&&1>=l&&y>=0&&1>=y&&o.push({type:"Point",coordinates:[e.x+l*(i.x-e.x),e.y+l*(i.y-e.y)]})}}return 0==o.length&&(o=!1),o},a.pointInBoundingBox=function(t,n){return!(t.coordinates[1]<n[0][0]||t.coordinates[1]>n[1][0]||t.coordinates[0]<n[0][1]||t.coordinates[0]>n[1][1])},a.pointInPolygon=function(o,r){for(var e="Polygon"==r.type?[r.coordinates]:r.coordinates,i=!1,s=0;s<e.length;s++)a.pointInBoundingBox(o,t(e[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<e.length;s++)n(o.coordinates[1],o.coordinates[0],e[s])&&(c=!0);return c},a.numberToRadius=function(t){return t*Math.PI/180},a.numberToDegree=function(t){return 180*t/Math.PI},a.drawCircle=function(t,n,o){for(var r=[n.coordinates[1],n.coordinates[0]],e=t/1e3/6371,i=[a.numberToRadius(r[0]),a.numberToRadius(r[1])],o=o||15,s=[[r[0],r[1]]],c=0;o>c;c++){var u=2*Math.PI*c/o,h=Math.asin(Math.sin(i[0])*Math.cos(e)+Math.cos(i[0])*Math.sin(e)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(e)*Math.cos(i[0]),Math.cos(e)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=a.numberToDegree(h),s[c][0]=a.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},a.rectangleCentroid=function(t){var n=t.coordinates[0],o=n[0][0],a=n[0][1],r=n[2][0],e=n[2][1],i=r-o,s=e-a;return{type:"Point",coordinates:[o+i/2,a+s/2]}},a.pointDistance=function(t,n){var o=t.coordinates[0],r=t.coordinates[1],e=n.coordinates[0],i=n.coordinates[1],s=a.numberToRadius(i-r),c=a.numberToRadius(e-o),u=Math.pow(Math.sin(s/2),2)+Math.cos(a.numberToRadius(r))*Math.cos(a.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*h*1e3},a.geometryWithinRadius=function(t,n,o){if("Point"==t.type)return a.pointDistance(t,n)<=o;if("LineString"==t.type||"Polygon"==t.type){var r={},e;e="Polygon"==t.type?t.coordinates[0]:t.coordinates;for(var i in e)if(r.coordinates=e[i],a.pointDistance(r,n)>o)return!1}return!0},a.area=function(t){for(var n=0,o=t.coordinates[0],a=o.length-1,r,e,i=0;i<o.length;a=i++){var r={x:o[i][1],y:o[i][0]},e={x:o[a][1],y:o[a][0]};n+=r.x*e.y,n-=r.y*e.x}return n/=2},a.centroid=function(t){for(var n,o=0,r=0,e=t.coordinates[0],i=e.length-1,s,c,u=0;u<e.length;i=u++){var s={x:e[u][1],y:e[u][0]},c={x:e[i][1],y:e[i][0]};n=s.x*c.y-c.x*s.y,o+=(s.x+c.x)*n,r+=(s.y+c.y)*n}return n=6*a.area(t),{type:"Point",coordinates:[r/n,o/n]}},a.simplify=function(t,n){n=n||20,t=t.map(function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}});var o,a,r,e,i,s,c,u,h,d,l,y,M,f,g,x,p,v,P,b=Math.PI/180*.5,m=new Array,T=new Array,I=new Array;if(t.length<3)return t;for(o=t.length,d=360*n/(2*Math.PI*6378137),d*=d,r=0,T[0]=0,I[0]=o-1,a=1;a>0;)if(e=T[a-1],i=I[a-1],a--,i-e>1){for(l=t[i].lng()-t[e].lng(),y=t[i].lat()-t[e].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),l*=Math.cos(b*(t[i].lat()+t[e].lat())),M=l*l+y*y,s=e+1,c=e,h=-1;i>s;s++)f=t[s].lng()-t[e].lng(),g=t[s].lat()-t[e].lat(),Math.abs(f)>180&&(f=360-Math.abs(f)),f*=Math.cos(b*(t[s].lat()+t[e].lat())),x=f*f+g*g,p=t[s].lng()-t[i].lng(),v=t[s].lat()-t[i].lat(),Math.abs(p)>180&&(p=360-Math.abs(p)),p*=Math.cos(b*(t[s].lat()+t[i].lat())),P=p*p+v*v,u=x>=M+P?P:P>=M+x?x:(f*y-g*l)*(f*y-g*l)/M,u>h&&(c=s,h=u);d>h?(m[r]=e,r++):(a++,T[a-1]=c,I[a-1]=i,a++,T[a-1]=e,I[a-1]=c)}else m[r]=e,r++;m[r]=o-1,r++;for(var R=new Array,s=0;r>s;s++)R.push(t[m[s]]);return R.map(function(t){return{type:"Point",coordinates:[t.lng,t.lat]}})},a.destinationPoint=function(t,n,o){o/=6371,n=a.numberToRadius(n);var r=a.numberToRadius(t.coordinates[0]),e=a.numberToRadius(t.coordinates[1]),i=Math.asin(Math.sin(r)*Math.cos(o)+Math.cos(r)*Math.sin(o)*Math.cos(n)),s=e+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(r),Math.cos(o)-Math.sin(r)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[a.numberToDegree(i),a.numberToDegree(s)]}}}()}.call(this),function(){n=o.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:n}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,t=Package.json.JSON,n=Package.ejson.EJSON,o=Package["id-map"].IdMap,i=Package["ordered-dict"].OrderedDict,a=Package.tracker.Tracker,s=Package.tracker.Deps,c=Package.random.Random,u=Package["geojson-utils"].GeoJSON,d,f,l,h,p,v,_,m,y,g,w,b,$,I,E,O;(function(){d=function(r){var t=this;t.name=r,t._docs=new d._IdMap,t._observeQueue=new e._SynchronousQueue,t.next_qid=1,t.queries={},t._savedOriginals=null,t.paused=!1},f={},l={},d._applyChanges=function(e,t){r.each(t,function(r,t){void 0===r?delete e[t]:e[t]=r})},h=function(e){var r=new Error(e);return r.name="MinimongoError",r},d.prototype.find=function(e,r){return 0===arguments.length&&(e={}),new d.Cursor(this,e,r)},d.Cursor=function(e,r,t){var n=this;t||(t={}),n.collection=e,n.sorter=null,d._selectorIsId(r)?(n._selectorId=r,n.matcher=new f.Matcher(r)):(n._selectorId=void 0,n.matcher=new f.Matcher(r),(n.matcher.hasGeoQuery()||t.sort)&&(n.sorter=new f.Sorter(t.sort||[],{matcher:n.matcher}))),n.skip=t.skip,n.limit=t.limit,n.fields=t.fields,n._projectionFn=d._compileProjection(n.fields||{}),n._transform=d.wrapTransform(t.transform),"undefined"!=typeof a&&(n.reactive=void 0===t.reactive?!0:t.reactive)},d.Cursor.prototype.rewind=function(){},d.prototype.findOne=function(e,r){return 0===arguments.length&&(e={}),r=r||{},r.limit=1,this.find(e,r).fetch()[0]},d.Cursor.prototype.forEach=function(e,t){var n=this,o=n._getRawObjects({ordered:!0});n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),r.each(o,function(r,o){r=n._projectionFn(r),n._transform&&(r=n._transform(r)),e.call(t,r,o,n)})},d.Cursor.prototype.getTransform=function(){return this._transform},d.Cursor.prototype.map=function(e,r){var t=this,n=[];return t.forEach(function(o,i){n.push(e.call(r,o,i,t))}),n},d.Cursor.prototype.fetch=function(){var e=this,r=[];return e.forEach(function(e){r.push(e)}),r},d.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},d.Cursor.prototype._publishCursor=function(e){var r=this;if(!r.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var t=r.collection.name;return Mongo.Collection._publishCursor(r,e,t)},d.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},d._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},d._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},d.ObserveHandle=function(){},r.extend(d.Cursor.prototype,{observe:function(e){var r=this;return d._observeFromObserveChanges(r,e)},observeChanges:function(e){var t=this,o=d._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!o&&(t.skip||t.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(t.fields&&(0===t.fields._id||t.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var i={matcher:t.matcher,sorter:o&&t.sorter,distances:t.matcher.hasGeoQuery()&&o&&new d._IdMap,resultsSnapshot:null,ordered:o,cursor:t,projectionFn:t._projectionFn},s;t.reactive&&(s=t.collection.next_qid++,t.collection.queries[s]=i),i.results=t._getRawObjects({ordered:o,distances:i.distances}),t.collection.paused&&(i.resultsSnapshot=o?[]:new d._IdMap);var c=function(e){return e?function(){var r=this,n=arguments;t.collection.paused||t.collection._observeQueue.queueTask(function(){e.apply(r,n)})}:function(){}};if(i.added=c(e.added),i.changed=c(e.changed),i.removed=c(e.removed),o&&(i.addedBefore=c(e.addedBefore),i.movedBefore=c(e.movedBefore)),!e._suppress_initial&&!t.collection.paused){var u=o?r.bind(r.each,null,i.results):r.bind(i.results.forEach,i.results);u(function(e){var r=n.clone(e);delete r._id,o&&i.addedBefore(e._id,t._projectionFn(r),null),i.added(e._id,t._projectionFn(r))})}var f=new d.ObserveHandle;return r.extend(f,{collection:t.collection,stop:function(){t.reactive&&delete t.collection.queries[s]}}),t.reactive&&a.active&&a.onInvalidate(function(){f.stop()}),t.collection._observeQueue.drain(),f}}),d.Cursor.prototype._getRawObjects=function(e){var r=this;e=e||{};var t=e.ordered?[]:new d._IdMap;if(void 0!==r._selectorId){if(r.skip)return t;var n=r.collection._docs.get(r._selectorId);return n&&(e.ordered?t.push(n):t.set(r._selectorId,n)),t}var o;if(r.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances,o.clear()):o=new d._IdMap),r.collection._docs.forEach(function(n,i){var a=r.matcher.documentMatches(n);return a.result&&(e.ordered?(t.push(n),o&&void 0!==a.distance&&o.set(i,a.distance)):t.set(i,n)),!r.limit||r.skip||r.sorter||t.length!==r.limit?!0:!1}),!e.ordered)return t;if(r.sorter){var i=r.sorter.getComparator({distances:o});t.sort(i)}var a=r.skip||0,s=r.limit?r.limit+a:t.length;return t.slice(a,s)},d.Cursor.prototype._depend=function(e,t){var n=this;if(a.active){var o=new a.Dependency;o.depend();var i=r.bind(o.changed,o),s={_suppress_initial:!0,_allow_unordered:t};r.each(["added","changed","removed","addedBefore","movedBefore"],function(r){e[r]&&(s[r]=i)}),n.observeChanges(s)}},d.prototype.insert=function(t,o){var i=this;t=n.clone(t),r.has(t,"_id")||(t._id=d._useOID?new d._ObjectID:c.id());var a=t._id;if(i._docs.has(a))throw h("Duplicate _id '"+a+"'");i._saveOriginal(a,void 0),i._docs.set(a,t);var s=[];for(var u in i.queries){var f=i.queries[u],l=f.matcher.documentMatches(t);l.result&&(f.distances&&void 0!==l.distance&&f.distances.set(a,l.distance),f.cursor.skip||f.cursor.limit?s.push(u):d._insertInResults(f,t))}return r.each(s,function(e){i.queries[e]&&i._recomputeResults(i.queries[e])}),i._observeQueue.drain(),o&&e.defer(function(){o(null,a)}),a},d.prototype._eachPossiblyMatchingDoc=function(e,r){var t=this,n=d._idsMatchedBySelector(e);if(n)for(var o=0;o<n.length;++o){var i=n[o],a=t._docs.get(i);if(a){var s=r(a,i);if(s===!1)break}}else t._docs.forEach(r)},d.prototype.remove=function(t,o){var i=this;if(i.paused&&!i._savedOriginals&&n.equals(t,{})){var a=i._docs.size();return i._docs.clear(),r.each(i.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),o&&e.defer(function(){o(null,a)}),a}var s=new f.Matcher(t),c=[];i._eachPossiblyMatchingDoc(t,function(e,r){s.documentMatches(e).result&&c.push(r)});for(var u=[],l=[],h=0;h<c.length;h++){var p=c[h],v=i._docs.get(p);r.each(i.queries,function(e,r){e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?u.push(r):l.push({qid:r,doc:v}))}),i._saveOriginal(p,v),i._docs.remove(p)}return r.each(l,function(e){var r=i.queries[e.qid];r&&(r.distances&&r.distances.remove(e.doc._id),d._removeFromResults(r,e.doc))}),r.each(u,function(e){var r=i.queries[e];r&&i._recomputeResults(r)}),i._observeQueue.drain(),a=c.length,o&&e.defer(function(){o(null,a)}),a},d.prototype.update=function(t,o,i,a){var s=this;!a&&i instanceof Function&&(a=i,i=null),i||(i={});var c=new f.Matcher(t),u={};r.each(s.queries,function(e,r){!e.cursor.skip&&!e.cursor.limit||s.paused||(u[r]=n.clone(e.results))});var l={},h=0;s._eachPossiblyMatchingDoc(t,function(e,r){var t=c.documentMatches(e);return t.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,o,l,t.arrayIndices),++h,!i.multi)?!1:!0}),r.each(l,function(e,r){var t=s.queries[r];t&&s._recomputeResults(t,u[r])}),s._observeQueue.drain();var p;if(0===h&&i.upsert){var v=d._removeDollarOperators(t);d._modify(v,o,{isInsert:!0}),!v._id&&i.insertedId&&(v._id=i.insertedId),p=s.insert(v),h=1}var _;return i._returnObject?(_={numberAffected:h},void 0!==p&&(_.insertedId=p)):_=h,a&&e.defer(function(){a(null,_)}),_},d.prototype.upsert=function(e,t,n,o){var i=this;return o||"function"!=typeof n||(o=n,n={}),i.update(e,t,r.extend({},n,{upsert:!0,_returnObject:!0}),o)},d.prototype._modifyAndNotify=function(e,r,t,o){var i=this,a={};for(var s in i.queries){var c=i.queries[s];a[s]=c.ordered?c.matcher.documentMatches(e).result:c.results.has(e._id)}var u=n.clone(e);d._modify(e,r,{arrayIndices:o});for(s in i.queries){c=i.queries[s];var f=a[s],l=c.matcher.documentMatches(e),h=l.result;h&&c.distances&&void 0!==l.distance&&c.distances.set(e._id,l.distance),c.cursor.skip||c.cursor.limit?(f||h)&&(t[s]=!0):f&&!h?d._removeFromResults(c,e):!f&&h?d._insertInResults(c,e):f&&h&&d._updateInResults(c,e,u)}},d._insertInResults=function(e,r){var t=n.clone(r);if(delete t._id,e.ordered){if(e.sorter){var o=d._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),i=e.results[o+1];i=i?i._id:null,e.addedBefore(r._id,e.projectionFn(t),i)}else e.addedBefore(r._id,e.projectionFn(t),null),e.results.push(r);e.added(r._id,e.projectionFn(t))}else e.added(r._id,e.projectionFn(t)),e.results.set(r._id,r)},d._removeFromResults=function(e,r){if(e.ordered){var t=d._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},d._updateInResults=function(e,t,o){if(!n.equals(t._id,o._id))throw new Error("Can't change a doc's _id while updating");var i=e.projectionFn,a=d._makeChangedFields(i(t),i(o));if(!e.ordered)return void(r.isEmpty(a)||(e.changed(t._id,a),e.results.set(t._id,t)));var s=d._findInOrderedResults(e,t);if(r.isEmpty(a)||e.changed(t._id,a),e.sorter){e.results.splice(s,1);var c=d._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,t);if(s!==c){var u=e.results[c+1];u=u?u._id:null,e.movedBefore&&e.movedBefore(t._id,u)}}},d.prototype._recomputeResults=function(e,r){var t=this;t.paused||r||(r=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),t.paused||d._diffQueryChanges(e.ordered,r,e.results,e,{projectionFn:e.projectionFn})},d._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},d._binarySearch=function(e,r,t){for(var n=0,o=r.length;o>0;){var i=Math.floor(o/2);e(t,r[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},d._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=d._binarySearch(e,r,t);return r.splice(n,0,t),n},d.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new d._IdMap},d.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var r=e._savedOriginals;return e._savedOriginals=null,r},d.prototype._saveOriginal=function(e,r){var t=this;t._savedOriginals&&(t._savedOriginals.has(e)||t._savedOriginals.set(e,n.clone(r)))},d.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var r=this.queries[e];r.resultsSnapshot=n.clone(r.results)}}},d.prototype.resumeObservers=function(){var e=this;if(this.paused){this.paused=!1;for(var r in this.queries){var t=e.queries[r];d._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t,{projectionFn:t.projectionFn}),t.resultsSnapshot=null}e._observeQueue.drain()}},d._idStringify=function(e){if(e instanceof d._ObjectID)return e.valueOf();if("string"==typeof e)return""===e?e:"-"===e.substr(0,1)||"~"===e.substr(0,1)||d._looksLikeObjectID(e)||"{"===e.substr(0,1)?"-"+e:e;if(void 0===e)return"-";if("object"==typeof e&&null!==e)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+t.stringify(e)},d._idParse=function(e){return""===e?e:"-"===e?void 0:"-"===e.substr(0,1)?e.substr(1):"~"===e.substr(0,1)?t.parse(e.substr(1)):d._looksLikeObjectID(e)?new d._ObjectID(e):e},d._makeChangedFields=function(e,r){var t={};return d._diffObjects(r,e,{leftOnly:function(e,r){t[e]=void 0},rightOnly:function(e,r){t[e]=r},both:function(e,r,o){n.equals(r,o)||(t[e]=o)}}),t}}).call(this),function(){d.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var t=function(t){if(!r.has(t,"_id"))throw new Error("can only transform documents with _id");var o=t._id,i=a.nonreactive(function(){return e(t)});if(!v(i))throw new Error("transform must return object");if(r.has(i,"_id")){if(!n.equals(i._id,o))throw new Error("transformed document can't have different _id")}else i._id=o;return i};return t.__wrappedTransform__=!0,t}}.call(this),function(){p=function(e){return r.isArray(e)&&!n.isBinary(e)},v=d._isPlainObject=function(e){return e&&3===d._f._type(e)},_=function(e){return p(e)||v(e)},m=function(e,n){if(!v(e))return!1;var o=void 0;return r.each(e,function(r,i){var a="$"===i.substr(0,1);if(void 0===o)o=a;else if(o!==a){if(!n)throw new Error("Inconsistent operator: "+t.stringify(e));o=!1}}),!!o},y=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){f.Matcher=function(e){var r=this;r._paths={},r._hasGeoQuery=!1,r._hasWhere=!1,r._isSimple=!0,r._matchingDocument=void 0,r._selector=null,r._docMatcher=r._compileSelector(e)},r.extend(f.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(r){var t=this;if(r instanceof Function)return t._isSimple=!1,t._selector=r,t._recordPathUsed(""),function(e){return{result:!!r.call(e)}};if(d._selectorIsId(r))return t._selector={_id:r},t._recordPathUsed("_id"),function(e){return{result:n.equals(e._id,r)}};if(!r||"_id"in r&&!r._id)return t._isSimple=!1,C;if("boolean"==typeof r||p(r)||n.isBinary(r))throw new Error("Invalid selector: "+r);return t._selector=n.clone(r),e(r,t,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return r.keys(this._paths)}});var e=function(e,n,o){o=o||{};var i=[];return r.each(e,function(e,a){if("$"===a.substr(0,1)){if(!r.has(s,a))throw new Error("Unrecognized logical operator: "+a);n._isSimple=!1,i.push(s[a](e,n,o.inElemMatch))}else{o.inElemMatch||n._recordPathUsed(a);var c=$(a),u=t(e,n,o.isRoot);i.push(function(e){var r=c(e);return u(r)})}}),A(i)},t=function(e,r,t){return e instanceof RegExp?(r._isSimple=!1,o(g(e))):m(e)?i(e,r,t):o(w(e))},o=function(e,t){return t=t||{},function(n){var o=n;t.dontExpandLeafArrays||(o=I(n,t.dontIncludeLeafArrays));var i={};return i.result=r.any(o,function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t}),i}};g=function(e){return function(t){return t instanceof RegExp?r.isEqual(t,e):"string"!=typeof t?!1:(e.lastIndex=0,e.test(t))}},w=function(e){if(m(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return d._f._equal(e,r)}};var i=function(e,t,n){var i=[];return r.each(e,function(a,s){var c=r.contains(["$lt","$lte","$gt","$gte"],s)&&r.isNumber(a),u="$ne"===s&&!r.isObject(a),d=r.contains(["$in","$nin"],s)&&r.isArray(a)&&!r.any(a,r.isObject);if("$eq"===s||c||d||u||(t._isSimple=!1),r.has(h,s))i.push(h[s](a,e,t,n));else{if(!r.has(b,s))throw new Error("Unrecognized operator: "+s);var f=b[s];i.push(o(f.compileElementSelector(a,e,t),f))}}),M(i)},a=function(t,n,o){if(!p(t)||r.isEmpty(t))throw Error("$and/$or/$nor must be nonempty array");return r.map(t,function(r){if(!v(r))throw Error("$or/$and/$nor entries need to be full objects");return e(r,n,{inElemMatch:o})})},s={$and:function(e,r,t){var n=a(e,r,t);return A(n)},$or:function(e,t,n){var o=a(e,t,n);return 1===o.length?o[0]:function(e){var t=r.any(o,function(r){return r(e).result});return{result:t}}},$nor:function(e,t,n){var o=a(e,t,n);return function(e){var t=r.all(o,function(r){return!r(e).result});return{result:t}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},c=function(e){return function(r){var t=e(r);return{result:!t.result}}},h={$not:function(e,r,n){return c(t(e,n))},$ne:function(e){return c(o(w(e)))},$nin:function(e){return c(o(b.$in.compileElementSelector(e)))},$exists:function(e){var r=o(function(e){return void 0!==e});return e?r:c(r)},$options:function(e,t){if(!r.has(t,"$regex"))throw Error("$options needs a $regex");return k},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return k},$all:function(e,n,o){if(!p(e))throw Error("$all requires array");if(r.isEmpty(e))return C;var i=[];return r.each(e,function(e){if(m(e))throw Error("no $ expressions in $all");i.push(t(e,o))}),M(i)},$near:function(e,t,n,o){if(!o)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var i,a,s;if(v(e)&&r.has(e,"$geometry"))i=e.$maxDistance,a=e.$geometry,s=function(e){return e&&e.type?"Point"===e.type?u.pointDistance(a,e):u.geometryWithinRadius(e,a,i)?0:i+1:null};else{if(i=t.$maxDistance,!p(e)&&!v(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=O(e),s=function(e){return p(e)||v(e)?E(a,e):null}}return function(e){e=I(e);var t={result:!1};return r.each(e,function(e){var r=s(e.value);null===r||r>i||void 0!==t.distance&&t.distance<=r||(t.result=!0,t.distance=r,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices)}),t}}},E=function(e,t){e=O(e),t=O(t);var n=e[0]-t[0],o=e[1]-t[1];return r.isNaN(n)||r.isNaN(o)?null:Math.sqrt(n*n+o*o)},O=function(e){return r.map(e,r.identity)},j=function(e){return{compileElementSelector:function(r){if(p(r))return function(){return!1};void 0===r&&(r=null);var t=d._f._type(r);return function(n){return void 0===n&&(n=null),d._f._type(n)!==t?!1:e(d._f._cmp(n,r))}}}};b={$lt:j(function(e){return 0>e}),$gt:j(function(e){return e>0}),$lte:j(function(e){return 0>=e}),$gte:j(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!p(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!p(e))throw Error("$in needs an array");var t=[];return r.each(e,function(e){if(e instanceof RegExp)t.push(g(e));else{if(m(e))throw Error("cannot nest $ under $in");t.push(w(e))}}),function(e){return void 0===e&&(e=null),r.any(t,function(r){return r(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return p(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("number"!=typeof e)throw Error("$type needs a number");return function(r){return void 0!==r&&d._f._type(r)===e}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return g(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(r,n,o){if(!v(r))throw Error("$elemMatch need an object");var i,a;return m(r,!0)?(i=t(r,o),a=!1):(i=e(r,o,{inElemMatch:!0}),a=!0),function(e){if(!p(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],n;if(a){if(!v(t)&&!p(t))return!1;n=t}else n=[{value:t,dontIterate:!0}];if(i(n).result)return r}return!1}}}},$=function(e,t){t=t||{};var n=e.split("."),o=n.length?n[0]:"",i=y(o),a=n.length>=2&&y(n[1]),s;n.length>1&&(s=$(n.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,n){if(n||(n=[]),p(e)){if(!(i&&o<e.length))return[];n=n.concat(+o,"x")}var u=e[o];if(!s)return[c({value:u,dontIterate:p(e)&&p(u),arrayIndices:n})];if(!_(u))return p(e)?[]:[c({value:void 0,arrayIndices:n})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(s(u,n)),!p(u)||a&&t.forSort||r.each(u,function(e,r){v(e)&&f(s(e,n.concat(r)))}),d}},l.makeLookupFunction=$,I=function(e,t){var n=[];return r.each(e,function(e){var o=p(e.value);t&&o&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),o&&!e.dontIterate&&r.each(e.value,function(r,t){n.push({value:r,arrayIndices:(e.arrayIndices||[]).concat(t)})})}),n};var C=function(e){return{result:!1}},k=function(e){return{result:!0}},S=function(e){return 0===e.length?k:1===e.length?e[0]:function(t){var n={};return n.result=r.all(e,function(e){var r=e(t);return r.result&&void 0!==r.distance&&void 0===n.distance&&(n.distance=r.distance),r.result&&r.arrayIndices&&(n.arrayIndices=r.arrayIndices),r.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},A=S,M=S;d._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:p(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:n.isBinary(e)?5:e instanceof d._ObjectID?7:3},_equal:function(e,r){return n.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=d._f._type(e),n=d._f._type(r),o=d._f._typeorder(t),i=d._f._typeorder(n);if(o!==i)return i>o?-1:1;if(t!==n)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=n=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=n=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===n)return r>e?-1:e===r?0:1;if(3===t){var a=function(e){var r=[];for(var t in e)r.push(t),r.push(e[t]);return r};return d._f._cmp(a(e),a(r))}if(4===t)for(var s=0;;s++){if(s===e.length)return s===r.length?0:-1;if(s===r.length)return 1;var c=d._f._cmp(e[s],r[s]);if(0!==c)return c}if(5===t){if(e.length!==r.length)return e.length-r.length;for(s=0;s<e.length;s++){if(e[s]<r[s])return-1;if(e[s]>r[s])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},d._removeDollarOperators=function(e){var r={};for(var t in e)"$"!==t.substr(0,1)&&(r[t]=e[t]);return r}}.call(this),function(){f.Sorter=function(n,o){var i=this;o=o||{},i._sortSpecParts=[];var a=function(e,r){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);i._sortSpecParts.push({path:e,lookup:$(e,{forSort:!0}),ascending:r})};if(n instanceof Array)for(var s=0;s<n.length;s++)"string"==typeof n[s]?a(n[s],!0):a(n[s][0],"desc"!==n[s][1]);else{if("object"!=typeof n)throw Error("Bad sort specification: "+t.stringify(n));r.each(n,function(e,r){a(r,e>=0)})}if(i.affectedByModifier){var c={};r.each(i._sortSpecParts,function(e){c[e.path]=1}),i._selectorForAffectedByModifier=new f.Matcher(c)}i._keyComparator=e(r.map(i._sortSpecParts,function(e,r){return i._keyFieldComparator(r)})),i._keyFilter=null,o.matcher&&i._useWithMatcher(o.matcher)},r.extend(f.Sorter.prototype,{getComparator:function(r){var t=this;if(!r||!r.distances)return t._getBaseComparator();var n=r.distances;return e([t._getBaseComparator(),function(e,r){if(!n.has(e._id))throw Error("Missing distance for "+e._id);if(!n.has(r._id))throw Error("Missing distance for "+r._id);return n.get(e._id)-n.get(r._id)}])},_getPaths:function(){var e=this;return r.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var r=this,t=null;if(r._generateKeysFromDoc(e,function(e){return r._keyCompatibleWithSelector(e)?null===t?void(t=e):void(r._compareKeys(e,t)<0&&(t=e)):void 0}),null===t)throw Error("sort selector found no keys in doc?");return t},_keyCompatibleWithSelector:function(e){var r=this;return!r._keyFilter||r._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(0===n._sortSpecParts.length)throw new Error("can't generate keys without a spec");var o=[],i=function(e){return e.join(",")+","},a=null;if(r.each(n._sortSpecParts,function(t,n){var s=I(t.lookup(e),!0);s.length||(s=[{value:null}]);var c=!1;if(o[n]={},r.each(s,function(e){if(!e.arrayIndices){if(s.length>1)throw Error("multiple branches but no array used?");return void(o[n][""]=e.value)}c=!0;var t=i(e.arrayIndices);if(r.has(o[n],t))throw Error("duplicate path: "+t);if(o[n][t]=e.value,a&&!r.has(a,t))throw Error("cannot index parallel arrays")}),a){if(!r.has(o[n],"")&&r.size(a)!==r.size(o[n]))throw Error("cannot index parallel arrays!")}else c&&(a={},r.each(o[n],function(e,r){a[r]=!0}))}),!a){var s=r.map(o,function(e){if(!r.has(e,""))throw Error("no value in sole key case?");return e[""]});return void t(s)}r.each(a,function(e,n){var i=r.map(o,function(e){if(r.has(e,""))return e[""];if(!r.has(e,n))throw Error("missing path?");return e[n]});t(i)})},_compareKeys:function(e,r){var t=this;if(e.length!==t._sortSpecParts.length||r.length!==t._sortSpecParts.length)throw Error("Key has wrong length");return t._keyComparator(e,r)},_keyFieldComparator:function(e){var r=this,t=!r._sortSpecParts[e].ascending;return function(r,n){var o=d._f._cmp(r[e],n[e]);return t&&(o=-o),o}},_getBaseComparator:function(){var e=this;return e._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),o=e._getMinKeyFromDoc(t);return e._compareKeys(n,o)}:function(e,r){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(!r.isEmpty(t._sortSpecParts)){var n=e._selector;if(!(n instanceof Function)){var o={};r.each(t._sortSpecParts,function(e,r){o[e.path]=[]}),r.each(n,function(e,t){var n=o[t];if(n){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void n.push(g(e))}return m(e)?void r.each(e,function(t,o){r.contains(["$lt","$lte","$gt","$gte"],o)&&n.push(b[o].compileElementSelector(t)),"$regex"!==o||e.$options||n.push(b.$regex.compileElementSelector(t,e))}):void n.push(w(e))}}),r.isEmpty(o[t._sortSpecParts[0].path])||(t._keyFilter=function(e){return r.all(t._sortSpecParts,function(t,n){return r.all(o[t.path],function(r){return r(e[n])})})})}}}});var e=function(e){return function(r,t){for(var n=0;n<e.length;++n){var o=e[n](r,t);if(0!==o)return o}return 0}}}.call(this),function(){d._compileProjection=function(e){d._checkSupportedProjection(e);var t=r.isUndefined(e._id)?!0:e._id,o=E(e),i=function(e,t){if(r.isArray(e))return r.map(e,function(e){return i(e,t)});var a=o.including?{}:n.clone(e);return r.each(t,function(t,s){r.has(e,s)&&(r.isObject(t)?r.isObject(e[s])&&(a[s]=i(e[s],t)):o.including?a[s]=n.clone(e[s]):delete a[s])}),a};return function(e){var n=i(e,o.tree);return t&&r.has(e,"_id")&&(n._id=e._id),!t&&r.has(n,"_id")&&delete n._id,n}},E=function(e){var t=r.keys(e).sort();t.length>0&&(1!==t.length||"_id"!==t[0])&&(t=r.reject(t,function(e){return"_id"===e}));var n=null;r.each(t,function(r){var t=!!e[r];if(null===n&&(n=t),n!==t)throw h("You cannot currently mix including and excluding fields.")});var o=O(t,function(e){return n},function(e,r,t){var n=t,o=r;throw h("both "+n+" and "+o+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},O=function(e,t,n,o){return o=o||{},r.each(e,function(e){var i=o,a=e.split("."),s=r.all(a.slice(0,-1),function(t,o){if(r.has(i,t)){if(!r.isObject(i[t])&&(i[t]=n(i[t],a.slice(0,o+1).join("."),e),!r.isObject(i[t])))return!1}else i[t]={};return i=i[t],!0});if(s){var c=r.last(a);i[c]=r.has(i,c)?n(i[c],e,e):t(e)}}),o},d._checkSupportedProjection=function(e){if(!r.isObject(e)||r.isArray(e))throw h("fields option must be an object");r.each(e,function(e,t){if(r.contains(t.split("."),"$"))throw h("Minimongo doesn't support $ operator in projections yet.");if(-1===r.indexOf([1,0,!0,!1],e))throw h("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){d._modify=function(t,a,s){if(s=s||{},!v(a))throw h("Modifier must be an object");var c=m(a),u;if(c)u=n.clone(t),r.each(a,function(t,n){var a=i[n];if(s.isInsert&&"$setOnInsert"===n&&(a=i.$set),!a)throw h("Invalid modifier specified "+n);r.each(t,function(t,i){if(""===i)throw h("An empty update path is not valid.");if("_id"===i)throw h("Mod on _id not allowed");var c=i.split(".");if(!r.all(c,r.identity))throw h("The update path '"+i+"' contains an empty field name, which is not allowed.");var d=r.has(o,n),f="$rename"===n,l=e(u,c,{noCreate:o[n],forbidArray:"$rename"===n,arrayIndices:s.arrayIndices}),p=c.pop();a(l,p,t,i,u)})});else{if(a._id&&!n.equals(t._id,a._id))throw h("Cannot change the _id of a document");for(var d in a)if(/\./.test(d))throw h("When replacing document, field name may not contain '.'");u=a}r.each(r.keys(t),function(e){"_id"!==e&&delete t[e]}),r.each(u,function(e,r){t[r]=e})};var e=function(e,r,n){n=n||{};for(var o=!1,i=0;i<r.length;i++){var a=i===r.length-1,s=r[i],c=_(e);if(!c){if(n.noCreate)return void 0;var u=h("cannot use the part '"+s+"' to traverse "+e);throw u.setPropertyError=!0,u}if(e instanceof Array){if(n.forbidArray)return null;if("$"===s){if(o)throw h("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw h("The positional operator did not find the match needed from the query");s=n.arrayIndices[0],o=!0}else{if(!y(s)){if(n.noCreate)return void 0;throw h("can't append to array using string field name ["+s+"]")}s=parseInt(s)}if(a&&(r[i]=s),n.noCreate&&s>=e.length)return void 0;for(;e.length<s;)e.push(null);if(!a)if(e.length===s)e.push({});else if("object"!=typeof e[s])throw h("can't modify field '"+r[i+1]+"' of list value "+t.stringify(e[s]))}else{if(s.length&&"$"===s.substr(0,1))throw h("can't set field named "+s);if(!(s in e)){if(n.noCreate)return void 0;a||(e[s]={})}}if(a)return e;e=e[s]}},o={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},i={$inc:function(e,r,t){if("number"!=typeof t)throw h("Modifier $inc allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw h("Cannot apply $inc modifier to non-number");e[r]+=t}else e[r]=t},$set:function(e,t,o){if(!r.isObject(e)){var i=h("Cannot set property on non-object field");throw i.setPropertyError=!0,i}if(null===e){var i=h("Cannot set property on null");throw i.setPropertyError=!0,i}e[t]=n.clone(o)},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw h("Cannot apply $push modifier to non-array");if(!t||!t.$each)return void e[r].push(n.clone(t));var o=t.$each;if(!(o instanceof Array))throw h("$each must be an array");var i=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw h("$slice must be a numeric value");if(t.$slice>0)throw h("$slice in $push must be zero or negative");i=t.$slice}var a=void 0;if(t.$sort){if(void 0===i)throw h("$sort requires $slice to be present");a=new f.Sorter(t.$sort).getComparator();for(var s=0;s<o.length;s++)if(3!==d._f._type(o[s]))throw h("$push like modifiers using $sort require all elements to be objects")}for(var c=0;c<o.length;c++)e[r].push(n.clone(o[c]));a&&e[r].sort(a),void 0!==i&&(e[r]=0===i?[]:e[r].slice(i))},$pushAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw h("Modifier $pushAll/pullAll allowed for arrays only");var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw h("Cannot apply $pushAll modifier to non-array");for(var o=0;o<t.length;o++)n.push(t[o])}},$addToSet:function(e,t,o){var i=!1;if("object"==typeof o)for(var a in o){
"$each"===a&&(i=!0);break}var s=i?o.$each:[o],c=e[t];if(void 0===c)e[t]=s;else{if(!(c instanceof Array))throw h("Cannot apply $addToSet modifier to non-array");r.each(s,function(e){for(var r=0;r<c.length;r++)if(d._f._equal(e,c[r]))return;c.push(n.clone(e))})}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pop modifier to non-array");"number"==typeof t&&0>t?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pull/pullAll modifier to non-array");var o=[];if("object"!=typeof t||t instanceof Array)for(var i=0;i<n.length;i++)d._f._equal(n[i],t)||o.push(n[i]);else for(var a=new f.Matcher(t),i=0;i<n.length;i++)a.documentMatches(n[i]).result||o.push(n[i]);e[r]=o}}},$pullAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw h("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<t.length;s++)if(d._f._equal(n[i],t[s])){a=!0;break}a||o.push(n[i])}e[r]=o}}},$rename:function(r,t,n,o,i){if(o===n)throw h("$rename source must differ from target");if(null===r)throw h("$rename source field invalid");if("string"!=typeof n)throw h("$rename target must be a string");if(void 0!==r){var a=r[t];delete r[t];var s=n.split("."),c=e(i,s,{forbidArray:!0});if(null===c)throw h("$rename target field invalid");var u=s.pop();c[u]=a}},$bit:function(e,r,t){throw h("$bit is not supported")}}}.call(this),function(){d._diffQueryChanges=function(e,r,t,n,o){e?d._diffQueryOrderedChanges(r,t,n,o):d._diffQueryUnorderedChanges(r,t,n,o)},d._diffQueryUnorderedChanges=function(e,t,o,i){i=i||{};var a=i.projectionFn||n.clone;if(o.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");t.forEach(function(t,i){var s=e.get(i);if(s){if(o.changed&&!n.equals(s,t)){var c=a(t),u=a(s),f=d._makeChangedFields(c,u);r.isEmpty(f)||o.changed(i,f)}}else if(o.added){var l=a(t);delete l._id,o.added(t._id,l)}}),o.removed&&e.forEach(function(e,r){t.has(r)||o.removed(r)})},d._diffQueryOrderedChanges=function(t,o,i,a){a=a||{};var s=a.projectionFn||n.clone,c={};r.each(o,function(r){c[r._id]&&e._debug("Duplicate _id in new_results"),c[r._id]=!0});var u={};r.each(t,function(r,t){r._id in u&&e._debug("Duplicate _id in old_results"),u[r._id]=t});for(var f=[],l=0,h=o.length,p=new Array(h),v=new Array(h),_=function(e){return u[o[e]._id]},m=0;h>m;m++)if(void 0!==u[o[m]._id]){for(var y=l;y>0&&!(_(p[y-1])<_(m));)y--;v[m]=0===y?-1:p[y-1],p[y]=m,y+1>l&&(l=y+1)}for(var g=0===l?-1:p[l-1];g>=0;)f.push(g),g=v[g];f.reverse(),f.push(o.length),r.each(t,function(e){c[e._id]||i.removed&&i.removed(e._id)});var w=0;r.each(f,function(e){for(var n=o[e]?o[e]._id:null,a,c,f,l,h,p=w;e>p;p++)c=o[p],r.has(u,c._id)?(a=t[u[c._id]],l=s(c),h=s(a),f=d._makeChangedFields(l,h),r.isEmpty(f)||i.changed&&i.changed(c._id,f),i.movedBefore&&i.movedBefore(c._id,n)):(f=s(c),delete f._id,i.addedBefore&&i.addedBefore(c._id,f,n),i.added&&i.added(c._id,f));n&&(c=o[e],a=t[u[c._id]],l=s(c),h=s(a),f=d._makeChangedFields(l,h),r.isEmpty(f)||i.changed&&i.changed(c._id,f)),w=e+1})},d._diffObjects=function(e,t,n){r.each(e,function(e,o){r.has(t,o)?n.both&&n.both(o,e,t[o]):n.leftOnly&&n.leftOnly(o,e)}),n.rightOnly&&r.each(t,function(t,o){r.has(e,o)||n.rightOnly(o,t)})}}.call(this),function(){d._IdMap=function(){var e=this;o.call(e,d._idStringify,d._idParse)},e._inherits(d._IdMap,o)}.call(this),function(){d._CachingChangeObserver=function(e){var t=this;e=e||{};var o=e.callbacks&&d._observeChangesCallbacksAreOrdered(e.callbacks);if(r.has(e,"ordered")){if(t.ordered=e.ordered,e.callbacks&&e.ordered!==o)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");t.ordered=o}var a=e.callbacks||{};t.ordered?(t.docs=new i(d._idStringify),t.applyChange={addedBefore:function(e,r,o){var i=n.clone(r);i._id=e,a.addedBefore&&a.addedBefore.call(t,e,r,o),a.added&&a.added.call(t,e,r),t.docs.putBefore(e,i,o||null)},movedBefore:function(e,r){var n=t.docs.get(e);a.movedBefore&&a.movedBefore.call(t,e,r),t.docs.moveBefore(e,r||null)}}):(t.docs=new d._IdMap,t.applyChange={added:function(e,r){var o=n.clone(r);a.added&&a.added.call(t,e,r),o._id=e,t.docs.set(e,o)}}),t.applyChange.changed=function(e,r){var o=t.docs.get(e);if(!o)throw new Error("Unknown id for changed: "+e);a.changed&&a.changed.call(t,e,n.clone(r)),d._applyChanges(o,r)},t.applyChange.removed=function(e){a.removed&&a.removed.call(t,e),t.docs.remove(e)}},d._observeFromObserveChanges=function(e,t){var o=e.getTransform()||function(e){return e},i=!!t._suppress_initial,a;if(d._observeCallbacksAreOrdered(t)){var s=!t._no_indices;a={addedBefore:function(e,n,a){var c=this;if(!i&&(t.addedAt||t.added)){var u=o(r.extend(n,{_id:e}));if(t.addedAt){var d=s?a?c.docs.indexOf(a):c.docs.size():-1;t.addedAt(u,d,a)}else t.added(u)}},changed:function(e,r){var i=this;if(t.changedAt||t.changed){var a=n.clone(i.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=o(n.clone(a));if(d._applyChanges(a,r),a=o(a),t.changedAt){var u=s?i.docs.indexOf(e):-1;t.changedAt(a,c,u)}else t.changed(a,c)}},movedBefore:function(e,r){var i=this;if(t.movedTo){var a=s?i.docs.indexOf(e):-1,c=s?r?i.docs.indexOf(r):i.docs.size():-1;c>a&&--c,t.movedTo(o(n.clone(i.docs.get(e))),a,c,r||null)}},removed:function(e){var r=this;if(t.removedAt||t.removed){var n=o(r.docs.get(e));if(t.removedAt){var i=s?r.docs.indexOf(e):-1;t.removedAt(n,i)}else t.removed(n)}}}}else a={added:function(e,n){if(!i&&t.added){var a=r.extend(n,{_id:e});t.added(o(a))}},changed:function(e,r){var i=this;if(t.changed){var a=i.docs.get(e),s=n.clone(a);d._applyChanges(s,r),t.changed(o(s),o(n.clone(a)))}},removed:function(e){var r=this;t.removed&&t.removed(o(r.docs.get(e)))}};var c=new d._CachingChangeObserver({callbacks:a}),u=e.observeChanges(c.applyChange);return i=!1,u}}.call(this),function(){d._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},d._ObjectID=function(e){var r=this;if(e){if(e=e.toLowerCase(),!d._looksLikeObjectID(e))throw new Error("Invalid hexadecimal string for creating an ObjectID");r._str=e}else r._str=c.hexString(24)},d._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},d._ObjectID.prototype.equals=function(e){var r=this;return e instanceof d._ObjectID&&r.valueOf()===e.valueOf()},d._ObjectID.prototype.clone=function(){var e=this;return new d._ObjectID(e._str)},d._ObjectID.prototype.typeName=function(){return"oid"},d._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},d._ObjectID.prototype.valueOf=d._ObjectID.prototype.toJSONValue=d._ObjectID.prototype.toHexString=function(){return this._str},d._selectorIsId=function(e){return"string"==typeof e||"number"==typeof e||e instanceof d._ObjectID},d._selectorIsIdPerhapsAsObject=function(e){return d._selectorIsId(e)||e&&"object"==typeof e&&e._id&&d._selectorIsId(e._id)&&1===r.size(e)},d._idsMatchedBySelector=function(e){if(d._selectorIsId(e))return[e];if(!e)return null;if(r.has(e,"_id"))return d._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&r.isArray(e._id.$in)&&!r.isEmpty(e._id.$in)&&r.all(e._id.$in,d._selectorIsId)?e._id.$in:null;if(e.$and&&r.isArray(e.$and))for(var t=0;t<e.$and.length;++t){var n=d._idsMatchedBySelector(e.$and[t]);if(n)return n}return null},n.addType("oid",function(e){return new d._ObjectID(e)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:d,Minimongo:f,MinimongoTest:l}}();

!function(){var e=Package.meteor.Meteor,t=Package.check.check,n=Package.check.Match,r=Package.random.Random,o=Package.ejson.EJSON,i=Package.json.JSON,a=Package.underscore._,s=Package.tracker.Tracker,u=Package.tracker.Deps,c=Package.logging.Log,l=Package.retry.Retry,d=Package.minimongo.LocalCollection,f=Package.minimongo.Minimongo,_,p,h,v,m,g,b,y,w,k,S,C,T;(function(){_={},p={}}).call(this),function(){h=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var a=function(e){var t=this;t._events=e||[],t._listeners={}};a.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},a.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},a.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+i.stringify(e)+" not listed "+i.stringify(t._events)+" in "+t)},a.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;e>n;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var u="_jp";n.polluteGlobalNamespace=function(){u in t||(t[u]={})},n.closeFrame=function(e,t){return"c"+i.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var a=i[0].toLowerCase(),s=r.substring(a.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(s);if(u)var c=u[0]}if(!a||!c)throw new Error("relativeTo must be an absolute url");o={protocol:a,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var l=t.split("/");return("http:"===l[0]&&/:80$/.test(l[2])||"https:"===l[0]&&/:443$/.test(l[2]))&&(l[2]=l[2].replace(/:(80|443)$/,"")),t=l.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","\ufeff":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,f,_=i&&i.stringify||function(e){return c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return l[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=_(e);return d.lastIndex=0,d.test(t)?(f||(f=p(d)),t.replace(d,function(e){return f[e]})):t};var h=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<h.length;t++){var n=h[t];e[n]=T[n]&&T[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=h);for(var i=0;i<t.length;i++){var a=t[i];r[a]=e[a]}var s=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var v="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(v in t)){var r={};t[v]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[v](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var m={},g=!1,b=function(){for(var e in m)m[e](),delete m[e]},y=function(){g||(g=!0,b())};n.attachEvent("unload",y),n.unload_add=function(e){var t=n.random_string(8);return m[t]=e,g&&n.delay(b),t},n.unload_del=function(e){e in m&&delete m[e]},n.createIframe=function(t,r){var o=e.createElement("iframe"),i,a,s=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(s(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(a))},c=function(e){o&&(u(),r(e))},l=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(n){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){c("timeout")},15e3),a=n.unload_add(u),{post:l,cleanup:u,loaded:s}},n.createHtmlfile=function(e,r){var o=new ActiveXObject("htmlfile"),i,a,s,c=function(){clearTimeout(i)},l=function(){o&&(c(),n.unload_del(a),s.parentNode.removeChild(s),s=o=null,CollectGarbage())},d=function(e){o&&(l(),r(e))},f=function(e,t){try{s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}catch(n){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";</script></html>'),o.close(),o.parentWindow[u]=t[u];var _=o.createElement("div");return o.body.appendChild(_),s=o.createElement("iframe"),_.appendChild(s),s.src=e,i=setTimeout(function(){d("timeout")},15e3),a=n.unload_add(l),{post:f,cleanup:l,loaded:c}};var w=function(){};w.prototype=new a(["chunk","finish"]),w.prototype._start=function(e,r,o,i){var a=this;try{a.xhr=new XMLHttpRequest}catch(s){}if(!a.xhr)try{a.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add(function(){a._cleanup(!0)});try{a.xhr.open(e,r,!0)}catch(u){return a.emit("finish",0,""),void a._cleanup()}if(i&&i.no_credentials||(a.xhr.withCredentials="true"),i&&i.headers)for(var c in i.headers)a.xhr.setRequestHeader(c,i.headers[c]);a.xhr.onreadystatechange=function(){if(a.xhr){var e=a.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&a.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),a.emit("finish",t,e.responseText),a._cleanup(!1)}}},a.xhr.send(o)},w.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var k=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};k.prototype=new w;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new w;var C=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};C.prototype=new a(["chunk","finish"]),C.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var a=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(s){a()}},C.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},C.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:B.enabled()?3:4};var T=function(e,t,r){if(!(this instanceof T))return new T(e,t,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,i&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=T.CONNECTING,o._ir=q(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};T.prototype=new r,T.version="0.3.4",T.CONNECTING=0,T.OPEN=1,T.CLOSING=2,T.CLOSED=3,T.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},T.prototype._dispatchOpen=function(){var e=this;e.readyState===T.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=T.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},T.prototype._dispatchMessage=function(e){var t=this;t.readyState===T.OPEN&&t.dispatchEvent(new o("message",{data:e}))},T.prototype._dispatchHeartbeat=function(e){var t=this;t.readyState===T.OPEN&&t.dispatchEvent(new o("heartbeat",{}))},T.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==T.CONNECTING&&i.readyState!==T.OPEN&&i.readyState!==T.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var a=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===T.CONNECTING&&!r){if(i._try_next_protocol(a))return;a=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:a})}i.readyState=T.CLOSED,n.delay(function(){i.dispatchEvent(a)})},T.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=i.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=i.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=i.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},T.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(T[o]&&T[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(T[o]&&T[o].enabled(r._options)){var i=T[o].roundTrips||1,a=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(a,function(){r.readyState===T.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),u=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new T[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},T.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==T.CONNECTING&&r.readyState!==T.OPEN?!1:(r.readyState=T.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},T.prototype.send=function(e){var t=this;if(t.readyState===T.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===T.OPEN&&t._transport.doSend(n.quote(""+e)),!0},T.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var a=n.probeProtocols();i._protocols=n.detectProtocols(a,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var E=T.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var a=t.WebSocket||t.MozWebSocket;o.ws=new a(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};E.prototype.doSend=function(e){this.ws.send("["+e+"]")},E.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},E.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},E.roundTrips=2;var O=function(){};O.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},O.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},O.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},O.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},O.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var x=function(t,r,o){var i=this;if(!("_send_form"in i)){var a=i._send_form=e.createElement("form"),s=i._send_area=e.createElement("textarea");s.name="d",a.style.display="none",a.style.position="absolute",a.method="POST",a.enctype="application/x-www-form-urlencoded",a.acceptCharset="UTF-8",a.appendChild(s),e.body.appendChild(a)}var a=i._send_form,s=i._send_area,u="a"+n.random_string(8);a.target=u,a.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(l){c=e.createElement("iframe"),c.name=u}c.id=u,a.appendChild(c),c.style.display="none";try{s.value=r}catch(d){n.log("Your browser is seriously broken. Go home! "+d.message)}a.submit();var f=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),s.value="",o(!0))};return c.onerror=c.onload=f,c.onreadystatechange=function(e){"complete"==c.readyState&&f()},f},I=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e,t){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},M=function(t,r){var o,i=e.createElement("script"),a,s=function(e){a&&(a.parentNode.removeChild(a),a=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(e){c||(c=setTimeout(function(){u||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(e){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(e){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(t){}}i&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))a=e.createElement("script"),a.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=a.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(l){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(i,d.firstChild),a&&d.insertBefore(a,d.firstChild),s},D=T["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(x),r._schedule_recv()};D.prototype=new O,D.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=R(e.trans_url+"/jsonp",M,t)},D.enabled=function(){return!0},D.need_body=!0,D.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var R=function(e,r,o){var i="a"+n.random_string(6),a=e+"?c="+escape(u+"."+i),s=0,c=function(e){switch(s){case 0:delete t[u][i],o(e);break;case 1:o(e),s=2;break;case 2:delete t[u][i]}},l=r(a,c);t[u][i]=l;var d=function(){t[u][i]&&(s=1,t[u][i](n.closeFrame(1e3,"JSONP user aborted read")))};return d},P=function(){};P.prototype=new O,P.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(I(o)),i.poll=new Z(e,r,t+n,o)},P.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var N=T["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",oe,n.XHRCorsObject)};N.prototype=new P,N.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},N.roundTrips=2,N.need_body=!0;var j=T["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",oe,n.XDRObject)};j.prototype=new P,j.enabled=function(){return!!t.XDomainRequest},j.roundTrips=2;var U=T["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XHRCorsObject)};U.prototype=new P,U.enabled=N.enabled,U.roundTrips=2;var A=T["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XDRObject)};A.prototype=new P,A.enabled=j.enabled,A.roundTrips=2;var B=function(){};B.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},B.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},B.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",i.stringify([T.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},B.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},B.prototype.doSend=function(e){this.postMessage("m",e)},B.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var H,L=function(e,r){parent!==t?parent.postMessage(H+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},F=function(){};F.prototype._didClose=function(e,t){L("t",n.closeFrame(e,t))},F.prototype._didMessage=function(e){L("t",e)},F.prototype._doSend=function(e){this._transport.doSend(e)},F.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,T.bootstrap_iframe=function(){var r;H=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),a=e.data.slice(8,9),s=e.data.slice(9);if(o===H)switch(a){case"s":var u=i.parse(s),c=u[0],l=u[1],d=u[2],f=u[3];if(c!==T.version&&n.log('Incompatibile SockJS! Main site uses: "'+c+'", the iframe: "'+T.version+'".'),!n.flatUrl(d)||!n.flatUrl(f))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(f))return void n.log("Can't connect to different domain from within an iframe. ("+i.stringify([t.location.href,d,f])+")");r=new F,r._transport=new F[l](r,d,f);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),L("s")};var X=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};X.prototype=new a(["finish"]),X.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),a=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){a.ontimeout()});a.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,a=i.parse(t);"object"!=typeof a&&(a={}),r.emit("finish",a,n)}else r.emit("finish")},a.ontimeout=function(){a.close(),r.emit("finish")}};var V=function(t){var r=this,o=function(){var e=new B;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=i.parse(t.substr(1)),o=n[0],a=n[1];r.emit("finish",o,a)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};V.prototype=new a(["finish"]);var W=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};W.prototype=new a(["finish"]);var q=function(e){if(n.isSameOriginUrl(e))return new X(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new X(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new X(e,n.XDRObject):new W;case 3:return new V(e);default:return new W}},G=F["w-iframe-info-receiver"]=function(e,t,r){var o=new X(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+i.stringify([t,n])),e._didClose()}};G.prototype.doCleanup=function(){};var J=T["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};J.prototype=new B,J.enabled=function(){return"EventSource"in t&&B.enabled()},J.need_body=!0,J.roundTrips=3;var Q=F["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",ee,n.XHRLocalObject)};Q.prototype=new P;var z=T["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};z.prototype=new B,z.enabled=function(){return t.XMLHttpRequest&&B.enabled()},z.need_body=!0,z.roundTrips=3;var $=F["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XHRLocalObject)};$.prototype=new P;var Y=T["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Y.prototype=new B,Y.enabled=function(){return B.enabled()},Y.need_body=!0,Y.roundTrips=3;var K=F["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",re,n.XHRLocalObject)};K.prototype=new P;var Z=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var ee=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var a=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:a}))})}};ee.prototype=new r,ee.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var te,ne=function(){if(void 0===te)if("ActiveXObject"in t)try{te=!!new ActiveXObject("htmlfile")}catch(e){}else te=!1;return te},re=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(u+"."+r.id);var i=ne()?n.createHtmlfile:n.createIframe,a;t[u][r.id]={start:function(){a.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){a.cleanup(),r.iframe_close=a=null,delete t[u][r.id],r.dispatchEvent(new o("close",{reason:n}))},a=i(e,function(e){r.iframe_close({},"permanent")})};re.prototype=new r,re.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var oe=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),a=i.indexOf("\n");if(-1===a)break;r+=a+1;var s=i.slice(0,a);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return oe.prototype=new r,oe.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},T.getUtils=function(){return n},T.getIframeTransport=function(){return B},T}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return h})}.call(this),function(){p.ClientStream=function(e,t){var n=this;n.options=a.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",a.bind(n._online,n),!1),n._launchConnection()},a.extend(p.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),a.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),a.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new _.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(a.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);

return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=a.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new h(v(t.rawUrl),void 0,n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&a.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",a.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new _.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},o=function(o,i,a){i||(i="http");var s=o.match(/^ddp(i?)\+sockjs:\/\//),u=o.match(/^http(s?):\/\//),c;if(s){var l=o.substr(s[0].length);c="i"===s[1]?i:i+"s";var d=l.indexOf("/"),f=-1===d?l:l.substr(0,d),_=-1===d?"":l.substr(d);return f=f.replace(/\*/g,function(){return Math.floor(10*r.fraction())}),c+"://"+f+_}if(u){c=u[1]?i+"s":i;var p=o.substr(u[0].length);o=c+"://"+p}return-1!==o.indexOf("://")||t(o,"/")||(o=i+"://"+o),o=e._relativeToSiteRootUrl(o),n(o,"/")?o+a:o+"/"+a};v=function(e){return o(e,"http","sockjs")},m=function(e){var t=o(e,"ws","websocket");return t},p.toSockjsUrl=v,a.extend(p.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof s&&new s.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new l,t.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?void((e._force||e.url)&&t._lostConnection(new _.ForcedReconnectError)):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,void t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,a.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),_.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),_.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){g=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},a.extend(g.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setTimeout(a.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(a.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearTimeout(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._heartbeatIntervalHandle=null,e._sendPing(),e._startHeartbeatTimeoutTimer()},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},pingReceived:function(){var e=this;e._heartbeatIntervalHandle&&(e._clearHeartbeatIntervalTimer(),e._startHeartbeatIntervalTimer())},pongReceived:function(){var e=this;e._heartbeatTimeoutHandle&&(e._clearHeartbeatTimeoutTimer(),e._startHeartbeatIntervalTimer())}})}.call(this),function(){b=["1","pre2","pre1"],p.SUPPORTED_DDP_VERSIONS=b,y=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},a.extend(y.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}}),w=function(t){try{var n=i.parse(t)}catch(r){return e._debug("Discarding message with invalid JSON",t),null}return null===n||"object"!=typeof n?(e._debug("Discarding non-object DDP message",t),null):(a.has(n,"cleared")&&(a.has(n,"fields")||(n.fields={}),a.each(n.cleared,function(e){n.fields[e]=void 0}),delete n.cleared),a.each(["fields","params","result"],function(e){a.has(n,e)&&(n[e]=o._adjustTypesFromJSONValue(n[e]))}),n)},k=function(e){var t=o.clone(e);if(a.has(e,"fields")){var n=[];a.each(e.fields,function(e,r){void 0===e&&(n.push(r),delete t.fields[r])}),a.isEmpty(n)||(t.cleared=n),a.isEmpty(t.fields)&&delete t.fields}if(a.each(["fields","params","result"],function(e){a.has(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return i.stringify(t)},_._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){function e(){return r.hexString(20)}S=function(t){var n=this;this.seed=[].concat(t.seed||e()),this.sequences={}},S.get=function(e,t){if(t||(t="default"),!e)return r;var n=e.randomStream;return n||(e.randomStream=n=new S({seed:e.randomSeed})),n._sequence(t)},_.randomStream=function(e){var t=_._CurrentInvocation.get();return S.get(t,e)},C=function(e,t){var n=S.get(e,"/rpc/"+t);return n.hexString(20)},a.extend(S.prototype,{_sequence:function(e){var t=this,n=t.sequences[e]||null;if(null===n){for(var o=t.seed.concat(e),i=0;i<o.length;i++)a.isFunction(o[i])&&(o[i]=o[i]());t.sequences[e]=n=r.createWithSeeds.apply(null,o)}return n}})}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),u=Npm.require(t.join("fibers","future"));var c=function(t,n){var r=this;n=a.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:35e3,heartbeatTimeout:15e3,reloadWithOutstanding:!1,supportedDDPVersions:b,retry:!0,respondToPings:!0},n),r.onReconnect=null,r._stream="object"==typeof t?t:new p.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r._subscriptions={},r._userId=null,r._userIdDeps=new s.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(t){try{var o=w(t)}catch(i){return void e._debug("Exception while parsing DDP",i)}if(null===o||!o.msg)return void(o&&o.server_id||e._debug("discarding invalid livedata message",o));if("connected"===o.msg)r._version=r._versionSuggestion,r._livedata_connected(o),n.onConnected();else if("failed"==o.msg)if(a.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var s="DDP version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:s}),n.onDDPVersionNegotiationFailure(s)}else"ping"===o.msg?(n.respondToPings&&r._send({msg:"pong",id:o.id}),r._heartbeat&&r._heartbeat.pingReceived()):"pong"===o.msg?r._heartbeat&&r._heartbeat.pongReceived():a.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o)},i=function(){var e={msg:"connect"};r._lastSessionId&&(e.session=r._lastSessionId),e.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=e.version,e.support=r._supportedDDPVersions,r._send(e),!a.isEmpty(r._outstandingMethodBlocks)&&a.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),a.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),a.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},u=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(o,e._debug)),r._stream.on("reset",e.bindEnvironment(i,e._debug)),r._stream.on("disconnect",e.bindEnvironment(u,e._debug))):(r._stream.on("message",o),r._stream.on("reset",i),r._stream.on("disconnect",u))},l=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};a.extend(l.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),a.extend(c.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};a.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),a.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),i={};if(n.length){var u=n[n.length-1];a.isFunction(u)?i.onReady=n.pop():u&&a.any([u.onReady,u.onError,u.onStop],a.isFunction)&&(i=n.pop())}var c=a.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&o.equals(t.params,n)}),l;c?(l=c.id,c.inactive=!1,i.onReady&&(c.ready||(c.readyCallback=i.onReady)),i.onError&&(c.errorCallback=i.onError),i.onStop&&(c.stopCallback=i.onStop)):(l=r.id(),t._subscriptions[l]={id:l,name:e,params:o.clone(n),inactive:!1,ready:!1,readyDeps:new s.Dependency,readyCallback:i.onReady,errorCallback:i.onError,stopCallback:i.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:l}),this.remove(),i.onStop&&i.onStop()}},t._send({msg:"sub",id:l,name:e,params:n}));var d={stop:function(){a.has(t._subscriptions,l)&&t._subscriptions[l].stop()},ready:function(){if(!a.has(t._subscriptions,l))return!1;var e=t._subscriptions[l];return e.readyDeps.depend(),e.ready},subscriptionId:l};return s.active&&s.onInvalidate(function(e){a.has(t._subscriptions,l)&&(t._subscriptions[l].inactive=!0),s.afterFlush(function(){a.has(t._subscriptions,l)&&t._subscriptions[l].inactive&&d.stop()})}),d},_subscribeAndWait:function(e,t,n){var r=this,o=new u,i=!1,a;return t=t||[],t.push({onReady:function(){i=!0,o["return"]()},onError:function(e){i?n&&n.onLateError&&n.onLateError(e):o["throw"](e)}}),a=r.subscribe.apply(r,[e].concat(t)),o.wait(),a},methods:function(e){var t=this;a.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,r,i){var s=this;i||"function"!=typeof r||(i=r,r={}),r=r||{},i&&(i=e.bindEnvironment(i,"delivering result of invoking '"+t+"'")),n=o.clone(n);var c=function(){var e;return function(){return void 0===e&&(e=""+s._nextMethodId++),e}}(),d=_._CurrentInvocation.get(),f=d&&d.isSimulation,p=null,h=function(){return null===p&&(p=C(d,t)),p},v=s._methodHandlers[t];if(v){var m=function(e){s.setUserId(e)},g=new y({isSimulation:!0,userId:s.userId(),setUserId:m,randomSeed:function(){return h()}});f||s._saveOriginals();try{var b=_._CurrentInvocation.withValue(g,function(){return e.isServer?e._noYieldsAllowed(function(){return v.apply(g,o.clone(n))}):v.apply(g,o.clone(n))})}catch(w){var k=w}f||s._retrieveAndStoreOriginals(c())}if(f){if(i)return void i(k,b);if(k)throw k;return b}if(k&&!k.expected&&e._debug("Exception while simulating the effect of invoking '"+t+"'",k,k.stack),!i)if(e.isClient)i=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var S=new u;i=S.resolver()}var T={msg:"method",method:t,params:n,id:c()};null!==p&&(T.randomSeed=p);var E=new l({methodId:c(),callback:i,connection:s,onResultReceived:r.onResultReceived,wait:!!r.wait,message:T});return r.wait?s._outstandingMethodBlocks.push({wait:!0,methods:[E]}):((a.isEmpty(s._outstandingMethodBlocks)||a.last(s._outstandingMethodBlocks).wait)&&s._outstandingMethodBlocks.push({wait:!1,methods:[]}),a.last(s._outstandingMethodBlocks).methods.push(E)),1===s._outstandingMethodBlocks.length&&E.sendMessage(),S?S.wait():r.returnStubValue?b:void 0},_saveOriginals:function(){var e=this;a.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];a.each(t._stores,function(r,o){var i=r.retrieveOriginals();i&&i.forEach(function(r,i){n.push({collection:o,id:i}),a.has(t._serverDocuments,o)||(t._serverDocuments[o]=new d._IdMap);var s=t._serverDocuments[o].setDefault(i,{});s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=r,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[e]=!0)})}),a.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;a.each(a.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(k(e))},_lostConnection:function(e){var t=this;t._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!a.isEmpty(e._subsBeingRevived)||!a.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return a.any(a.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new g({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new _.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},a.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&a.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(a.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(a.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],a.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),a.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;a.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!a.isEmpty(n))&&(a.each(t._stores,function(e,r){e.beginUpdate(a.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,a.each(n,function(e,n){var r=t._stores[n];r?a.each(e,function(e){r.update(e)}):(a.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),a.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],a.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;a.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!a.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=d._idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){if(void 0!==o.document)throw new Error("Server sent add for existing id: "+e.id);o.document=e.fields||{},o.document._id=r}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);d._applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;a.each(e.methods,function(e){a.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+i.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+i.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],a.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:d._idStringify(r.id),replace:o.document}),a.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(a.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;a.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];t&&(t.ready||(t.readyCallback&&t.readyCallback(),t.ready=!0,t.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};a.each(t._serverDocuments,function(e){e.forEach(function(e){var n=a.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),a.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback,o=n._subscriptions[t.id].stopCallback;n._subscriptions[t.id].remove();var i=function(t){return t&&t.error&&new e.Error(t.error.error,t.error.reason,t.error.details)};r&&t.error&&r(i(t)),o&&o(i(t))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(a.isEmpty(n._outstandingMethodBlocks))return void e._debug("Received method result but no methods outstanding");for(var r=n._outstandingMethodBlocks[0].methods,o,i=0;i<r.length&&(o=r[i],o.methodId!==t.id);i++);return o?(r.splice(i,1),void(a.has(t,"error")?o.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):o.receiveResult(void 0,t.result))):void e._debug("Can't match method response to original method call",t)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!a.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!a.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+i.stringify(t));a.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;a.isEmpty(e._outstandingMethodBlocks)||a.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!a.isEmpty(t)){if(a.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();a.last(e._outstandingMethodBlocks).wait||t[0].wait||(a.each(t[0].methods,function(t){a.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),a.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return a.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),p.Connection=c,_.connect=function(e,t){var n=new c(e,t);return T.push(n),n},T=[],_._allSubscriptionsReady=function(){return a.all(T,function(e){return a.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(e){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new l,r=function(t){if(e._debug(t),Package.reload){var r=Package.reload.Reload._migrationData("livedata")||{},o=r.DDPVersionNegotiationFailures||0;++o,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:o}]}),n.retryLater(o,function(){Package.reload.Reload._reload()})}};e.connection=_.connect(t,{onDDPVersionNegotiationFailure:r}),a.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=a.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=_.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.ddp={DDP:_,LivedataTest:p}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,a;(function(){a=function(e){var a=this;if(e=e||{},a.nextCallbackId=0,a.callbacks={},e.exceptionHandler)a.exceptionHandler=e.exceptionHandler;else if(e.debugPrintExceptions){if(!n.isString(e.debugPrintExceptions))throw new Error("Hook option debugPrintExceptions should be a string");a.exceptionHandler=e.debugPrintExceptions}},n.extend(a.prototype,{register:function(n){var a=this;n=e.bindEnvironment(n,a.exceptionHandler||function(e){throw e});var t=a.nextCallbackId++;return a.callbacks[t]=n,{stop:function(){delete a.callbacks[t]}}},each:function(a){var t=this;e._nodeCodeMustBeInFiber();for(var c=n.keys(t.callbacks),o=0;o<c.length;++o){var i=c[o];if(n.has(t.callbacks,i)){var r=t.callbacks[i];if(!a(r))break}}}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["callback-hook"]={Hook:a}}();

!function(){var e=Package.meteor.Meteor,t,n;(function(){!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,u=s?ie.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||ie.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=ie.extend(u[l],t):u[l].data=ie.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Te?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Te?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function v(e){je.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&je.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ft.length;i--;)if(t=ft[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ae(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=Ae(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=ut.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=nt(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=rt(e,t,o),(0>i||null==i)&&(i=e.style[t]),tt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=void 0}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&Ae(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ie.css(e,"display"),c="none"===l?ie._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||ie.style(e,r)}else l=void 0;if(ie.isEmptyObject(f))"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in f)ie.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=yt.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++)if(r=yt[o].call(l,e,c,l.opts))return r;return ie.map(c,M,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,ie.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Vt.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,Q=J.concat,G=J.push,K=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:J.sort,splice:J.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return Q.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var le=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=be.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===W&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?ee(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&T.find.TAG("*",l),x=W+=null==y?1:Math.random()||.1,w=b.length;for(l&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(u));v=g(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,A=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],Q=Y.pop,G=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Ne){K={apply:Y.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ve.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(q.compareDocumentPosition),B=t||ve.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ue,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));

for(a in T.filter)!(i=he[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?ie.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=Y.call(arguments),r=n.length,i=1!==r||e&&ie.isFunction(e.promise)?r:0,o=1===i?e:ie.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?Y.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=new Array(r),u=new Array(r),l=new Array(r);r>t;t++)n[t]&&ie.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ie.ready()}}()}return we.promise(t)};var Te="undefined",Ce;for(Ce in ie(ne))break;ne.ownLast="0"!==Ce,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?u(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},De=ie.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ie(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},je=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Te||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=ie.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],l=t.length;l--;)if(s=Me.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[l],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),l=ie.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!ie.isWindow(r)){for(u=l.delegateType||p,_e.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||he)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(ie._data(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(u)>=0:ie.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Te&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Pe=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=m(he),Ge=Qe.appendChild(he.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,u=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Be.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(We.exec(o)||["",""])[1].toLowerCase(),c=Ye[u]||Ye._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Pe.test(o)&&p.push(t.createTextNode(Pe.exec(o)[0])),!ne.tbody)for(o="table"!==u||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,u=ie.cache,l=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Te?n.removeAttribute(s):n[s]=null,J.push(i))}}}),ie.fn.extend({text:function(e){return De(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if(!("string"!=typeof e||Ie.test(e)||!ne.htmlSerialize&&Be.test(e)||!ne.leadingWhitespace&&Pe.test(e)||Ye[(We.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Re,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=ie.isFunction(f);if(p||l>1&&"string"==typeof f&&!ne.checkClone&&Xe.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),u=0;i>u;u++)r=o[u],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Je,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et=/^margin/,tt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),nt,rt,it=/^(top|right|bottom|left)$/;e.getComputedStyle?(nt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),
tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(nt=function(e){return e.currentStyle},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,ut=new RegExp("^("+ke+")(.*)$","i"),lt=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),u=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(u,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=lt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=rt(e,t,r)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&nt(e);return D(e,n,r?j(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},rt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(ie.cssHooks[e+t].set=D)}),ie.fn.extend({css:function(e,t){return De(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=nt(e),i=t.length;i>a;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(B,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=B(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&vt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return De(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return De(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(Xt){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Bt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:P($t),ajaxTransport:P(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=ie.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(r=Wt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),R($t,d,t,w),2===b)return w;u=ie.event&&d.global,u&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Lt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+jt++):o+(Lt.test(o)?"&":"?")+"_="+jt++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+It+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=R(zt,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Ut=/%20/g,Vt=/\[\]$/,Jt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Ut,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Qt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Jt,"\r\n")}}):{name:t.name,value:n.replace(Jt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Gt=0,Kt={},Zt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kt)Kt[e](void 0,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Gt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Kt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+jt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=ie.css(e,"position"),d=ie(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Te&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return De(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){return n?(n=rt(e,t),tt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");

return De(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var on=e.jQuery,an=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=an),t&&e.jQuery===ie&&(e.jQuery=on),ie},typeof t===Te&&(e.jQuery=e.$=ie),ie})}).call(this),function(){t=n=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:t,jQuery:n}}();

!function(){var e=Package.meteor.Meteor,a=Package.tracker.Tracker,c=Package.tracker.Deps,a,c;"undefined"==typeof Package&&(Package={}),Package.deps={Tracker:a,Deps:c}}();

!function(){var t=Package.meteor.Meteor,e=Package.tracker.Tracker,r=Package.tracker.Deps,i,n,a;(function(){i={},n=function(t){return t},a=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,r){for(var i in r)t.call(r,i)&&(e[i]=r[i]);return e};i.Visitor=function(t){e(this,t)},i.Visitor.def=function(t){e(this.prototype,t)},i.Visitor.extend=function(t){var r=this,n=function a(){i.Visitor.apply(this,arguments)};return n.prototype=new r,n.extend=r.extend,n.def=r.def,t&&e(n.prototype,t),n},i.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case i.Tag.htmljsType:return this.visitTag.apply(this,arguments);case i.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case i.Comment.htmljsType:return this.visitComment.apply(this,arguments);case i.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return i.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),i.TransformingVisitor=i.Visitor.extend(),i.TransformingVisitor.def({visitNull:n,visitPrimitive:n,visitArray:function(t){for(var e=a.call(arguments),r=t,i=0;i<t.length;i++){var n=t[i];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(r===t&&(r=t.slice()),r[i]=o)}return r},visitComment:n,visitCharRef:n,visitRaw:n,visitObject:n,visitFunction:n,visitTag:function(t){var e=t.children,r=a.call(arguments);r[0]=e;var n=this.visitChildren.apply(this,r),o=t.attrs;r[0]=o;var s=this.visitAttributes.apply(this,r);if(s===o&&n===e)return t;var u=i.getTag(t.tagName).apply(null,n);return u.attrs=s,u},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(i.isArray(t)){for(var r=a.call(arguments),n=t,o=0;o<t.length;o++){var s=t[o];r[0]=s;var u=this.visitAttributes.apply(this,r);u!==s&&(n===t&&(n=t.slice()),n[o]=u)}return n}if(t&&i.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var l=t,f=l;if(l){var c=[null,null];c.push.apply(c,arguments);for(var h in l){var p=l[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===l&&(f=e({},l)),f[h]=m)}}return f},visitAttribute:function(t,e,r){var i=a.call(arguments,2);return i[0]=e,this.visit.apply(this,i)}}),i.ToTextVisitor=i.Visitor.extend(),i.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===i.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===i.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===i.TEXTMODE.RCDATA||this.textMode===i.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return i.toHTML(t)}}),i.ToHTMLVisitor=i.Visitor.extend(),i.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){return"<!--"+t.sanitizedValue+"-->"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],r=t.tagName,n=t.children,a=t.attrs;if(a){a=i.flattenAttributes(a);for(var o in a)if("value"===o&&"textarea"===r)n=[a[o],n];else{var s=this.toText(a[o],i.TEXTMODE.ATTRIBUTE);e.push(" "+o+'="'+s+'"')}}var u="<"+r+e.join("")+">",l=[],f;if("textarea"===r){for(var c=0;c<n.length;c++)l.push(this.toText(n[c],i.TEXTMODE.RCDATA));f=l.join(""),"\n"===f.slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<n.length;c++)l.push(this.visit(n[c]));f=l.join("")}var h=u+f;return(n.length||!i.isVoidElement(r))&&(h+="</"+r+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return i.toText(t,e)}})}.call(this),function(){i.Tag=function(){},i.Tag.prototype.tagName="",i.Tag.prototype.attrs=null,i.Tag.prototype.children=Object.freeze?Object.freeze([]):[],i.Tag.prototype.htmljsType=i.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof i.Tag?this:new e,r=0,n=arguments.length&&arguments[0];if(n&&"object"==typeof n)if(i.isConstructedObject(n)){if(n instanceof i.Attrs){var o=n.value;1===o.length?t.attrs=o[0]:o.length>1&&(t.attrs=o),r++}}else t.attrs=n,r++;return r<arguments.length&&(t.children=a.call(arguments,r)),t};return e.prototype=new i.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=i.Attrs=function(){var t=this instanceof e?this:new e;return t.value=a.call(arguments),t};i.getTag=function(e){var r=i.getSymbolName(e);if(r===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return i[r]||(i[r]=t(e)),i[r]},i.ensureTag=function(t){i.getTag(t)},i.isTagEnsured=function(t){return i.isKnownElement(t)},i.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},i.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),i.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),i.knownElementNames=i.knownElementNames.concat(i.knownSVGElementNames),i.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var r={yes:!0},n=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=r;return e},o=n(i.voidElementNames),s=n(i.knownElementNames),u=n(i.knownSVGElementNames);i.isKnownElement=function(t){return s[t]===r},i.isKnownSVGElement=function(t){return u[t]===r},i.isVoidElement=function(t){return o[t]===r};for(var l=0;l<i.knownElementNames.length;l++)i.ensureTag(i.knownElementNames[l]);var f=i.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=i.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=i.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],i.isArray=function(t){return t instanceof Array},i.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&!Object.prototype.hasOwnProperty.call(t,"constructor")},i.isNully=function(t){if(null==t)return!0;if(i.isArray(t)){for(var e=0;e<t.length;e++)if(!i.isNully(t[e]))return!1;return!0}return!1},i.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},i.flattenAttributes=function(t){if(!t)return t;var e=i.isArray(t);if(e&&0===t.length)return null;for(var r={},n=0,a=e?t.length:1;a>n;n++){var o=e?t[n]:t;if("object"!=typeof o||i.isConstructedObject(o))throw new Error("Expected plain JS object as attrs, found: "+o);for(var s in o){if(!i.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var u=o[s];i.isNully(u)||(r[s]=u)}}return r},i.toHTML=function(t){return(new i.ToHTMLVisitor).visit(t)},i.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},i.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==i.TEXTMODE.STRING&&e!==i.TEXTMODE.RCDATA&&e!==i.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var r=new i.ToTextVisitor({textMode:e});return r.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.htmljs={HTML:i}}();

!function(){var e=Package.meteor.Meteor,n=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.minimongo.LocalCollection,i=Package.minimongo.Minimongo,t=Package.underscore._,a=Package.random.Random,c,f,u,d;(function(){var e=function(){c._suppressWarnings?c._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),c._loggedWarnings++)},o=r._idStringify,i=r._idParse;c={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,o){var r=null,i=null,a=[],c=n.autorun(function(){var c=e();n.nonreactive(function(){var e;if(i&&(a=t.map(r.fetch(),function(e){return{_id:e._id,item:e}}),i.stop(),i=null),c)if(c instanceof Array)e=u(a,c,o);else{if(!l(c))throw s();var n=d(a,c,o);e=n[0],i=n[1]}else e=f(a,o);v(a,e,o),r=c,a=e})});return{stop:function(){c.stop(),i&&i.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(l(e))return e.fetch();throw s()}return[]}};var s=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},l=function(e){return e&&t.isObject(e)&&t.isFunction(e.observe)&&t.isFunction(e.fetch)},v=function(e,n,r){var a=Package.minimongo.LocalCollection._diffQueryOrderedChanges,c=[],f=[],u={},d={},s={},l=e.length;t.each(n,function(e,n){f.push({_id:e._id}),d[o(e._id)]=n}),t.each(e,function(e,n){c.push({_id:e._id}),u[o(e._id)]=n,s[o(e._id)]=n}),a(c,f,{addedBefore:function(e,i,a){var c=a?s[o(a)]:l;a&&t.each(s,function(e,n){e>=c&&s[n]++}),l++,s[o(e)]=c,r.addedAt(e,n[d[o(e)]].item,c,a)},movedBefore:function(e,i){if(e!==i){var a=s[o(e)],c=i?s[o(i)]:l;c>a&&c--,t.each(s,function(e,n){e>a&&c>e?s[n]--:e>=c&&a>e&&s[n]++}),s[o(e)]=c,r.movedTo(e,n[d[o(e)]].item,a,c,i)}},removed:function(n){var i=s[o(n)];t.each(s,function(e,n){e>=i&&s[n]--}),delete s[o(n)],l--,r.removedAt(n,e[u[o(n)]].item,i)}}),t.each(d,function(o,a){var c=i(a);if(t.has(u,a)){var f=n[o].item,d=e[u[a]].item;("object"==typeof f||f!==d)&&r.changedAt(c,f,d,o)}})};f=function(e,n){return[]},u=function(n,r,i){var c={},f=t.map(r,function(n,i){var t;if("string"==typeof n)t="-"+n;else if("number"==typeof n||"boolean"==typeof n||void 0===n)t=n;else{if("object"!=typeof n)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof n);t=n&&n._id||i}var f=o(t);return c[f]?("object"==typeof n&&"_id"in n&&e("duplicate id "+t+" in",r),t=a.id()):c[f]=!0,{_id:t,item:n}});return f},d=function(e,n,o){var r=!0,i=[],t=n.observe({addedAt:function(e,n,t){if(r){if(null!==t)throw new Error("Expected initial data from observe in order");i.push({_id:e._id,item:e})}else o.addedAt(e._id,e,n,t)},changedAt:function(e,n,r){o.changedAt(e._id,e,n,r)},removedAt:function(e,n){o.removedAt(e._id,e,n)},movedTo:function(e,n,r,i){o.movedTo(e._id,e,n,r,i)}});return r=!1,[i,t]}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,r;(function(){r=function(e,n){return this instanceof r?(this.curValue=e,this.equalsFunc=n,void(this.dep=new t.Dependency)):new r(e,n)},r._isEqual=function(e,t){var n=e,r=t;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},r.prototype.get=function(){return t.active&&this.dep.depend(),this.curValue},r.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||r._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},r.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},r.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-var"]={ReactiveVar:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,n=Package.jquery.jQuery,r=Package.tracker.Tracker,a=Package.tracker.Deps,i=Package.underscore._,o=Package.htmljs.HTML,s=Package["observe-sequence"].ObserveSequence,u=Package["reactive-var"].ReactiveVar,c,l,d,p,f,h;(function(){c={},c._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),c._warn=function(e){e="Warning: "+e,"undefined"!=typeof Log&&Log&&Log.warn?Log.warn(e):"undefined"!=typeof console&&console.log&&console.log(e)}}).call(this),function(){var e={};c._DOMBackend=e;var t="undefined"!=typeof n?n:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,a){t(e).on(n,r,a)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,a,i){var o=t(n),s=function(e){e=t.event.fix(e),e.currentTarget=e.target;var r=t(e.currentTarget);r.is(o.find(a))&&i.call(n,e)};i._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var r=function(){},a=function(e){this.next=this,this.prev=this,this.func=e};a.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},a.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},a.prototype.go=function(){var e=this.func;e&&e()},a.prototype.stop=a.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(n,i){var o=new a(i),s=e.Teardown._CB_PROP;return n[s]||(n[s]=new a,t(n).on(e.Teardown._JQUERY_EVENT_NAME,r)),o.linkBefore(n[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),a=0;a<r.length;a++)n.push(r[a]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=t[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),t[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}}.call(this),function(){var e=Object.freeze?Object.freeze([]):[];c._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var a=0;a<r.length;a++)this._memberIn(r[a]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=c._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),t._insert=function(e,n,r,a){var i=e;i instanceof t?i.attach(n,r,a):a?t._moveNodeWithHooks(i,n,r):t._insertNodeWithHooks(i,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,a){if((r||a)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var i=this.members;if(i.length){this.emptyRangePlaceholder=null;for(var o=0;o<i.length;o++)t._insert(i[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!a)for(var o=0;o<this.attachedCallbacks.length;o++){var u=this.attachedCallbacks[o];u.attached&&u.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var a=this.lastNode().nextSibling,i=this.parentElement;this.detach(!0),this.members=t,this.attach(i,a,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var a=0;a<r.length;a++)t._remove(r[a]);else{var i=this.emptyRangePlaceholder;this.parentElement.removeChild(i),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var a=0;a<this.attachedCallbacks.length;a++){var o=this.attachedCallbacks[a];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var a=this.members;if(!(n>=0&&n<=a.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===a.length)this.setMembers([e]);else{var i;if(n===a.length)i=this.lastNode().nextSibling;else{var o=a[n];i=o instanceof t?o.firstNode():o}a.splice(n,0,e),t._insert(e,this.parentElement,i,r)}else a.splice(n,0,e)},t.prototype.removeMember=function(n,r){var a=this.members;if(!(n>=0&&n<a.length))throw new Error("Bad index in range.removeMember: "+n);if(r)a.splice(n,1);else{var i=a[n];this._memberOut(i),1===a.length?this.setMembers(e):(a.splice(n,1),this.attached&&t._remove(i))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&c._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(c._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!c._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=c._DOMBackend.findBySelector(e,n),a=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(a);else{for(var i=[],o=0;o<r.length;o++){var s=r[o];a(s)&&i.push(s)}r=i}return r},c._elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)}}.call(this),function(){var e=c._EventSupport={},t=c._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},a=1,o=function(e,o,s,u,c){this.elem=e,this.type=o,this.selector=s,this.handler=u,this.recipient=c,this.id=a++,this.mode=r.TBD,this.delegatedHandler=function(e){return function(t){return e.selector||t.currentTarget===t.target?e.handler.apply(e.recipient,arguments):void 0}}(this);var l=e.addEventListener&&!i.has(n,t.Events.parseEventType(o));l?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=o,o.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},o.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,a,i){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,function(e){s.push(e)});for(var u=[],c=0,l=s.length;l>c;c++){var d=s[c],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||(f=p[d]={},f.handlers=[]);var h=f.handlers,m=new o(e,d,n,r,a);if(u.push(m),m.bind(),h.push(m),i)for(var w=i(a);w;w=i(w))for(var v=0,_=h.length;_>v;v++){var g=h[v];g.recipient===w&&(g.unbind(),g.bind(),h.splice(v,1),h.push(g),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<u.length;n++){var r=u[n],a=t[r.type];if(a)for(var i=a.handlers,o=i.length-1;o>=0;o--)i[o]===r&&(r.unbind(),i.splice(o,1))}u.length=0}}}}}.call(this),function(){var n=!1;c._allowJavascriptUrls=function(){n=!0},c._javascriptUrlsAllowed=function(){return n},p=function(e,t){this.name=e,this.value=t},c._AttributeHandler=p,p.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},p.extend=function(e){var t=this,n=function r(){p.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&i.extend(n.prototype,e),n};var r=p.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},a=n?this.parseValue(n):{},o=this.getCurrentValue(e),s=o?this.parseValue(o):{};i.each(i.keys(r),function(e){e in a||delete s[e]}),i.each(i.keys(a),function(e){s[e]=a[e]}),this.setValue(e,i.values(s).join(" "))}}),a=r.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return i.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),o=a.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),s=r.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var n={},r=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,a=r.exec(e);a;)n[" "+a[1]]=a[0].trim?a[0].trim():t.trim(a[0]),a=r.exec(e);return n}}),u=p.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),l=p.extend({update:function(e,t,n){n!==e.value&&(e.value=n)}}),d=p.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),m=function(e){return"ownerSVGElement"in e},w=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return i.contains(r,t)};if(e.isClient)var v=document.createElement("A");var _=function(t){if(e.isClient)return v.href=t,(v.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},g=p.prototype.update,y=p.extend({update:function(e,t,n){var r=this,a=arguments;if(c._javascriptUrlsAllowed())g.apply(r,a);else{var i="javascript:"===_(n);i?(c._warn("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),g.apply(r,[e,t,null])):g.apply(r,a)}}});f=function(e,t,n){return"class"===t?m(e)?new o(t,n):new a(t,n):"style"===t?new s(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new u(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new d(t.substring(6),n):w(e.tagName,t)?new y(t,n):new p(t,n):new l(t,n)},h=function(e){this.elem=e,this.handlers={}},h.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!i.has(e,r)){var a=n[r],o=a.value;a.value=null,a.update(t,o,null),delete n[r]}for(var r in e){var a=null,o,s=e[r];i.has(n,r)?(a=n[r],o=a.value):null!==s&&(a=f(t,r,s),n[r]=a,o=null),o!==s&&(a.value=s,a.update(t,o,s),null===s&&delete n[r])}}}.call(this),function(){c._materializeDOM=function(t,n,r){var a=[];for(e(t,n,r,a);a.length;){var i=a.pop();"function"==typeof i?i():e(i[0],i[1],i[2],a)}return n};var e=function(e,n,r,a){if(null!=e){switch(typeof e){case"string":case"boolean":case"number":return void n.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case o.Tag.htmljsType:return void n.push(t(e,r,a));case o.CharRef.htmljsType:return void n.push(document.createTextNode(e.str));case o.Comment.htmljsType:return void n.push(document.createComment(e.sanitizedValue));case o.Raw.htmljsType:for(var i=c._DOMBackend.parseHTML(e.value),s=0;s<i.length;s++)n.push(i[s]);return}else{if(o.isArray(e)){for(var s=e.length-1;s>=0;s--)a.push([e[s],n,r]);return}if(e instanceof c.Template&&(e=e.constructView()),e instanceof c.View)return void c._materializeView(e,r,a,n)}}throw new Error("Unexpected object in htmljs: "+e)}},t=function(e,t,a){var s=e.tagName,u;u=(o.isKnownSVGElement(s)||n(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s);var l=e.attrs,d=e.children;if("textarea"===s&&e.children.length&&!(l&&"value"in l)){if("function"==typeof l||o.isArray(l))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");l=i.extend({},l||null),l.value=c._expand(d,t),d=[]}if(l){var p=new h(u),f=function(){var e=c._expandAttributes(l,t),n=o.flattenAttributes(e),r={};for(var a in n)r[a]=c._toText(n[a],t,o.TEXTMODE.STRING);p.update(r)},m;m=t?t.autorun(f,void 0,"updater"):r.nonreactive(function(){return r.autorun(function(){r._withCurrentView(t,f)})}),c._DOMBackend.Teardown.onElementTeardown(u,function v(){m.stop()})}if(d.length){var w=[];a.push(function(){for(var e=0;e<w.length;e++){var t=w[e];t instanceof c._DOMRange?t.attach(u):u.appendChild(t)}}),a.push([d,w,t])}return u},n=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;c._throwNextException=!1,c._reportException=function(n,r){if(c._throwNextException)throw c._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message)},c._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(n){c._reportException(n,"Exception in "+t+":")}}}}.call(this),function(){c.View=function(e,t){return this instanceof c.View?("function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,void(this.renderCount=0)):new c.View(e,t)},c.View.prototype._render=function(){return null},c.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},c.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},c.View.prototype.onViewReady=function(e){var t=this,n=function(){r.afterFlush(function(){t.isDestroyed||c._withCurrentView(t,function(){e.call(t)})})};t._onViewRendered(function a(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))})},c.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},c.View.prototype.autorun=function(e,t,n){var a=this;if(!a.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(r.active)throw new Error("Can't call View#autorun from a Tracker Computation; try calling it from the created or rendered callback");var i={};return i.templateInstanceFunc=c.Template._currentTemplateInstanceFunc,i.f=function o(n){return c._withCurrentView(t||a,function(){return c.Template._withTemplateInstanceFunc(i.templateInstanceFunc,function(){return e.call(a,n)})})},i.f.displayName=(a.name||"anonymous")+":"+(n||"anonymous"),i.c=r.autorun(i.f),a.onViewDestroyed(function(){i.c.stop()}),i.c},c.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!e.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(e._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(e.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},c.View.prototype.subscribe=function(t,n){var r=this;n={}||n,r._errorIfShouldntCallSubscribe();var a;return a=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),r.onViewDestroyed(function(){a.stop()}),a},c.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},c.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},c._fireCallbacks=function(e,t){c._withCurrentView(e,function(){r.nonreactive(function n(){for(var n=e._callbacks[t],r=0,a=n&&n.length;a>r;r++)n[r].call(e)})})},c._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),c._fireCallbacks(e,"created")};var t=function(e,t){var n=new c._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,c._fireCallbacks(e,"rendered");var r=null;return n.onAttached(function a(t,n){e._isAttached=!0,r=c._DOMBackend.Teardown.onElementTeardown(n,function a(){c._destroyView(e,!0)})}),e.onViewDestroyed(function(){r&&r.stop(),r=null}),n};c._materializeView=function(e,n,a,i){c._createView(e,n);var o,s;return r.nonreactive(function(){e.autorun(function u(t){e.renderCount++,e._isInRender=!0;var n=e._render();e._isInRender=!1,t.firstRun||r.nonreactive(function a(){var t=c._materializeDOM(n,[],e);c._isContentEqual(s,n)||(o.setMembers(t),c._fireCallbacks(e,"rendered"))}),s=n,r.onInvalidate(function(){o&&o.destroyMembers()})},void 0,"materialize");var n;a?(n=[],a.push(function(){o=t(e,n),n=null,i.push(o)}),a.push([s,n,e])):(n=c._materializeDOM(s,[],e),o=t(e,n),n=null)}),a?null:o},c._expandView=function(e,t){c._createView(e,t,!0),e._isInRender=!0;var n=c._withCurrentView(e,function(){return e._render()});e._isInRender=!1;var a=c._expand(n,e);return r.active?r.onInvalidate(function(){c._destroyView(e)}):c._destroyView(e),a},c._HTMLJSExpander=o.TransformingVisitor.extend(),c._HTMLJSExpander.def({visitObject:function(e){return e instanceof c.Template&&(e=e.constructView()),e instanceof c.View?c._expandView(e,this.parentView):o.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=c._withCurrentView(this.parentView,e)),o.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=c._withCurrentView(this.parentView,t)),o.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var n=function(){var e=c.currentView;return e&&e._isInRender?e:null};c._expand=function(e,t){return t=t||n(),new c._HTMLJSExpander({parentView:t}).visit(e)},c._expandAttributes=function(e,t){return t=t||n(),new c._HTMLJSExpander({parentView:t}).visitAttributes(e)},c._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,c._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},c._destroyNode=function(e){1===e.nodeType&&c._DOMBackend.Teardown.tearDownElement(e)},c._isContentEqual=function(e,t){return e instanceof o.Raw?t instanceof o.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},c.currentView=null,c._withCurrentView=function(e,t){var n=c.currentView;try{return c.currentView=e,t()}finally{c.currentView=n}};var a=function(e){if(null===e)throw new Error("Can't render null");if("undefined"==typeof e)throw new Error("Can't render undefined");if(!(e instanceof c.View||e instanceof c.Template||"function"==typeof e))try{(new o.Visitor).visit(e)}catch(t){throw new Error("Expected Template or View")}},s=function(e){if(a(e),e instanceof c.Template)return e.constructView();if(e instanceof c.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),c.View("render",t)},u=function(e){return a(e),"function"!=typeof e?function(){return e}:e};c.render=function(e,t,r,a){if(t||c._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof c.View&&(a=r,r=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");a=a||n();var i=s(e);return c._materializeView(i,a),t&&i._domrange.attach(t,r),i},c.insert=function(e,t,n){if(c._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof c._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},c.renderWithData=function(e,t,n,r,a){return c.render(c._TemplateWith(t,u(e)),n,r,a)},c.remove=function(e){if(!(e&&e._domrange instanceof c._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},c.toHTML=function(e,t){return t=t||n(),o.toHTML(c._expandView(s(e),t))},c.toHTMLWithData=function(e,t,r){return r=r||n(),o.toHTML(c._expandView(c._TemplateWith(t,u(e)),r))},c._toText=function(e,t,r){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof c.View||(r=t,t=null),t=t||n(),!r)throw new Error("textMode required");if(r!==o.TEXTMODE.STRING&&r!==o.TEXTMODE.RCDATA&&r!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return o.toText(c._expand(e,t),r)},c.getData=function(e){var t;if(e)if(e instanceof c.View){var n=e;t="with"===n.name?n:c.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=c.getView(e,"with")}else t=c.getView("with");return t?t.dataVar.get():null},c.getElementData=function(e){if(c._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return c.getData(e)},c.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof c.View)return c._getParentView(e,n);if("number"==typeof e.nodeType)return c._getElementView(e,n);throw new Error("Expected DOM element or View")}return c._getCurrentView(n)},c._getCurrentView=function(e){var t=c.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},c._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},c._getElementView=function(e,t){for(var n=c._DOMRange.forElement(e),r=null;n&&!r;)r=n.view||null,r||(n=n.parentRange?n.parentRange:c._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},c._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function a(o,s){i.each(t,function(t,a){var u=a.split(/,\s+/);i.each(u,function(a){var i=a.split(/\s+/);if(0!==i.length){var u=i.shift(),l=i.join(" ");r.push(c._EventSupport.listen(s,u,l,function(r){if(!o.containsElement(r.currentTarget))return null;var a=n||this,i=arguments;return c._withCurrentView(e,function(){return t.apply(a,i)})},o,function(e){return e.parentRange}))}})})}),e.onViewDestroyed(function(){i.each(r,function(e){e.stop()}),r.length=0})}}.call(this),function(){c._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},c.With=function(e,t){var n=c.View("with",t);return n.dataVar=new u,n.onViewCreated(function(){"function"==typeof e?n.autorun(function(){n.dataVar.set(e())},n.parentView,"setData"):n.dataVar.set(e)}),n},c.If=function(e,t,n,r){var a=new u,i=c.View(r?"unless":"if",function(){return a.get()?t():n?n():null});return i.__conditionVar=a,i.onViewCreated(function(){this.autorun(function(){var t=c._calculateCondition(e());a.set(r?!t:t)},this.parentView,"condition")}),i},c.Unless=function(e,t,n){return c.If(e,t,n,!0)},c.Each=function(e,t,n){var a=c.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new r.Dependency,this.expandedValueDep.depend()),e});return a.initialSubviews=[],a.numItems=0,a.inElseMode=!1,a.stopHandle=null,a.contentFunc=t,a.elseFunc=n,a.argVar=new u,a.onViewCreated(function(){a.autorun(function(){a.argVar.set(e())},a.parentView,"collection"),a.stopHandle=s.observe(function(){return a.argVar.get()},{addedAt:function(e,t,n){r.nonreactive(function(){var e=c.With(t,a.contentFunc);if(a.numItems++,a.expandedValueDep)a.expandedValueDep.changed();else if(a._domrange){a.inElseMode&&(a._domrange.removeMember(0),a.inElseMode=!1);var r=c._materializeView(e,a);a._domrange.addMember(r,n)}else a.initialSubviews.splice(n,0,e)})},removedAt:function(e,t,n){r.nonreactive(function(){a.numItems--,a.expandedValueDep?a.expandedValueDep.changed():a._domrange?(a._domrange.removeMember(n),a.elseFunc&&0===a.numItems&&(a.inElseMode=!0,a._domrange.addMember(c._materializeView(c.View("each_else",a.elseFunc),a),0))):a.initialSubviews.splice(n,1)})},changedAt:function(e,t,n,i){r.nonreactive(function(){if(a.expandedValueDep)a.expandedValueDep.changed();else{var e;e=a._domrange?a._domrange.getMember(i).view:a.initialSubviews[i],e.dataVar.set(t)}})},movedTo:function(e,t,n,i){r.nonreactive(function(){if(a.expandedValueDep)a.expandedValueDep.changed();else if(a._domrange)a._domrange.moveMember(n,i);else{var e=a.initialSubviews,t=e[n];e.splice(n,1),e.splice(i,0,t)}})}}),a.elseFunc&&0===a.numItems&&(a.inElseMode=!0,a.initialSubviews[0]=c.View("each_else",a.elseFunc))}),a.onViewDestroyed(function(){a.stopHandle&&a.stopHandle.stop()}),a},c._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var a=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?c._withCurrentView(e,r):r()},i=function(){var e=t.call(this);return e instanceof c.Template&&(e=e.constructView()),e instanceof c.View&&(e._hasGeneratedParent=!0),e};return n=c.With(a,i),n.__isTemplateWith=!0,n},c._InOuterTemplateScope=function(e,t){var n=c.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=r}),n},c.InOuterTemplateScope=c._InOuterTemplateScope}.call(this),function(){c._globalHelpers={},c.registerHelper=function(e,t){c._globalHelpers[e]=t};var e=function(e,t){return"function"!=typeof e?e:i.bind(e,t)},t=function(e){return"function"==typeof e?function(){var t=c.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};c._OLDSTYLE_HELPER={};var n=c._getTemplateHelper=function(e,t){var n=!1;if(e.__helpers.has(t)){var r=e.__helpers.get(t);if(r!==c._OLDSTYLE_HELPER)return r;n=!0}return t in e?(n||(e.__helpers.set(t,c._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||c._warn("Assigning helper with `"+e.viewName+"."+t+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),e[t]):null},r=function(e,t){return"function"!=typeof e?e:function(){var n=this,r=arguments;return c.Template._withTemplateInstanceFunc(t,function(){return c._wrapCatchingExceptions(e,"template helper").apply(n,r)})}};c.View.prototype.lookup=function(e,a){var o=this.template,s=a&&a.template,u,l;if(this.templateInstance&&(l=i.bind(this.templateInstance,this)),/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return c._parentData(e.length-1,!0)}return o&&null!=(u=n(o,e))?r(t(u),l):s&&e in c.Template&&c.Template[e]instanceof c.Template?c.Template[e]:null!=c._globalHelpers[e]?r(t(c._globalHelpers[e]),l):function(){var t=arguments.length>0,n=c.getData();if(s&&(!n||!n[e]))throw new Error("No such template: "+e);if(t&&(!n||!n[e]))throw new Error("No such function: "+e);if(!n)return null;var r=n[e];if("function"!=typeof r){if(t)throw new Error("Can't call non-function: "+r);return r}return r.apply(n,arguments)};return null},c._parentData=function(e,t){null==e&&(e=1);for(var n=c.getView("with"),r=0;e>r&&n;r++)n=c.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},c.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){c.Template=function(e,n){if(!(this instanceof c.Template))return new c.Template(e,n);if("function"==typeof e&&(n=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=n,this.__helpers=new t,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var e=c.Template,t=function(){};t.prototype.get=function(e){return this[" "+e]},t.prototype.set=function(e,t){this[" "+e]=t},t.prototype.has=function(e){return" "+e in this},c.isTemplate=function(e){return e instanceof c.Template},e.prototype.onCreated=function(e){this._callbacks.created.push(e)},e.prototype.onRendered=function(e){
this._callbacks.rendered.push(e)},e.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},e.prototype._getCallbacks=function(e){var t=this,n=t[e]?[t[e]]:[];return n=n.concat(t._callbacks[e])};var n=function(t,n){e._withTemplateInstanceFunc(function(){return n},function(){for(var e=0,r=t.length;r>e;e++)t[e].call(n)})};e.prototype.constructView=function(t,r){var a=this,o=c.View(a.viewName,a.renderFunction);o.template=a,o.templateContentBlock=t?new e("(contentBlock)",t):null,o.templateElseBlock=r?new e("(elseBlock)",r):null,(a.__eventMaps||"object"==typeof a.events)&&o._onViewRendered(function(){1===o.renderCount&&(a.__eventMaps.length||"object"!=typeof a.events||e.prototype.events.call(a,a.events),i.each(a.__eventMaps,function(e){c._addEventMap(o,e,o)}))}),o._templateInstance=new c.TemplateInstance(o),o.templateInstance=function(){var e=o._templateInstance;return e.data=c.getData(o),o._domrange&&!o.isDestroyed?(e.firstNode=o._domrange.firstNode(),e.lastNode=o._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var s=a._getCallbacks("created");o.onViewCreated(function(){n(s,o.templateInstance())});var u=a._getCallbacks("rendered");o.onViewReady(function(){n(u,o.templateInstance())});var l=a._getCallbacks("destroyed");return o.onViewDestroyed(function(){n(l,o.templateInstance())}),o},c.TemplateInstance=function(e){if(!(this instanceof c.TemplateInstance))return new c.TemplateInstance(e);if(!(e instanceof c.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new r.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},c.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},c.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},c.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},c.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},c.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=i.toArray(arguments),r={};if(n.length){var a=i.last(n);i.isFunction(a)?r.onReady=n.pop():a&&i.any([a.onReady,a.onError,a.onStop],i.isFunction)&&(r=n.pop())}var o,s=r.onStop;return r.onStop=function(n){delete t[o.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),s&&s(n)},n.push(r),o=e.view.subscribe.call(e.view,n),i.has(t,o.subscriptionId)||(t[o.subscriptionId]=o,e._allSubsReady&&e._allSubsReadyDep.changed()),o},c.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=i.all(this._subscriptionHandles,function(e){return e.ready()}),this._allSubsReady},e.prototype.helpers=function(e){for(var t in e)this.__helpers.set(t,e[t])},e._currentTemplateInstanceFunc=null,e._withTemplateInstanceFunc=function(t,n){if("function"!=typeof n)throw new Error("Expected function, got: "+n);var r=e._currentTemplateInstanceFunc;try{return e._currentTemplateInstanceFunc=t,n()}finally{e._currentTemplateInstanceFunc=r}},e.prototype.events=function(t){var n=this,r={};for(var a in t)r[a]=function(t,n){return function(t){var r=this,a=c.getData(t.currentTarget);null==a&&(a={});var o=Array.prototype.slice.call(arguments),s=i.bind(r.templateInstance,r);return o.splice(1,0,s()),e._withTemplateInstanceFunc(s,function(){return n.apply(a,o)})}}(a,t[a]);n.__eventMaps.push(r)},e.instance=function(){return e._currentTemplateInstanceFunc&&e._currentTemplateInstanceFunc()},e.currentData=c.getData,e.parentData=c._parentData,e.registerHelper=c.registerHelper}.call(this),function(){l=c,c.ReactiveVar=u,l._templateInstance=c.Template.instance,d={},d.registerHelper=c.registerHelper,d._escape=c._escape,d.SafeString=function(e){this.string=e},d.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.blaze={Blaze:c,UI:l,Handlebars:d}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,a=Package.blaze.Blaze,t=Package.blaze.UI,o=Package.blaze.Handlebars,d=Package.htmljs.HTML,c;(function(){c=a.Template;var e="__proto__ name".split(" ");c.__checkName=function(a){if(a in c||n.contains(e,a)){if(c[a]instanceof c&&"body"!==a)throw new Error("There are multiple templates named '"+a+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+a)}},c.__define__=function(e,n){c.__checkName(e),c[e]=new c("Template."+e,n),c[e]._NOWARN_OLDSTYLE_HELPERS=!0},c.body=new c("body",function(){var e=this;return n.map(c.body.contentRenderFuncs,function(n){return n.apply(e)})}),c.body.contentRenderFuncs=[],c.body.view=null,c.body.addContent=function(e){c.body.contentRenderFuncs.push(e)},c.body.renderToDocument=function(){if(!c.body.view){var e=a.render(c.body,document.body);c.body.view=e}},t.body=c.body,c.__body__=c.body,c.__body__.__contentParts=c.body.contentViews,c.__body__.__instantiate=c.body.renderToDocument}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:c}}();

!function(){var a=Package.meteor.Meteor,e=Package.ddp.DDP,n=Package["callback-hook"].Hook,t=Package.templating.Template,i=Package.underscore._,o=Package.blaze.Blaze,c=Package.blaze.UI,d=Package.blaze.Handlebars,r=Package.htmljs.HTML,u;(function(){u={}}).call(this),function(){u._initialSubscriptionsStarted=!1,u._onReadyHook=new n({debugPrintExceptions:"Spiderable.addReadyCondition callback"}),u.addReadyCondition=function(a){return u._onReadyHook.register(a)},u.addReadyCondition(function(){return u._initialSubscriptionsStarted});var t=function(){u._initialSubscriptionsStarted=!0},i=function(){a._setImmediate(function(){t()})};a.startup(function(){i()}),u.addReadyCondition(function(){return Tracker.flush(),e._allSubscriptionsReady()}),u.isReady=function(){var a=!0;return u._onReadyHook.each(function(e){return e()?!0:(a=!1,!1)}),a}}.call(this),"undefined"==typeof Package&&(Package={}),Package.spiderable={Spiderable:u}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.handlebars={}}();

!function(){var a=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["standard-app-packages"]={}}();

!function(){var t=Package.meteor.Meteor,e,n,s,r;(function(){n={exports:!0},s=!0}).call(this),function(){(function(t){function e(t,e){return function(n){return d(t.call(this,n),e)}}function i(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function a(){}function o(t){Y(t),h(this,t)}function u(t){var e=p(t),n=e.year||0,s=e.month||0,r=e.week||0,i=e.day||0,a=e.hour||0,o=e.minute||0,u=e.second||0,h=e.millisecond||0;this._input=t,this._milliseconds=+h+1e3*u+6e4*o+36e5*a,this._days=+i+7*r,this._months=+s+12*n,this._data={},this._bubble()}function h(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function f(t){return 0>t?Math.ceil(t):Math.floor(t)}function d(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function c(t,e,n,s){var r=e._milliseconds,i=e._days,a=e._months,o,u;r&&t._d.setTime(+t._d+r*n),(i||a)&&(o=t.minute(),u=t.hour()),i&&t.date(t.date()+i*n),a&&t.month(t.month()+a*n),r&&!s&&rt.updateOffset(t),(i||a)&&(t.minute(o),t.hour(u))}function l(t){return"[object Array]"===Object.prototype.toString.call(t)}function _(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function m(t,e,n){var s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),i=0,a;for(a=0;s>a;a++)(n&&t[a]!==e[a]||!n&&w(t[a])!==w(e[a]))&&i++;return i+r}function y(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=Ht[t]||It[e]||e}return t}function p(t){var e={},n,s,r;for(s in t)t.hasOwnProperty(s)&&(n=y(s),n&&(e[n]=t[s]));return e}function g(e){var n,s;if(0===e.indexOf("week"))n=7,s="day";else{if(0!==e.indexOf("month"))return;n=12,s="month"}rt[e]=function(r,i){var a,o,u=rt.fn._lang[e],h=[];if("number"==typeof r&&(i=r,r=t),o=function(t){var e=rt().utc().set(s,t);return u.call(rt.fn._lang,e,r||"")},null!=i)return o(i);for(a=0;n>a;a++)h.push(o(a));return h}}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function M(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function v(t){return D(t)?366:365}function D(t){return t%4===0&&t%100!==0||t%400===0}function Y(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[ht]<0||t._a[ht]>11?ht:t._a[ft]<1||t._a[ft]>M(t._a[ut],t._a[ht])?ft:t._a[dt]<0||t._a[dt]>23?dt:t._a[ct]<0||t._a[ct]>59?ct:t._a[lt]<0||t._a[lt]>59?lt:t._a[_t]<0||t._a[_t]>999?_t:-1,t._pf._overflowDayOfYear&&(ut>e||e>ft)&&(e=ft),t._pf.overflow=e)}function k(t){t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function S(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function b(t){return t?t.toLowerCase().replace("_","-"):t}function T(t,e){return e.abbr=t,mt[t]||(mt[t]=new a),mt[t].set(e),mt[t]}function z(t){delete mt[t]}function O(t){var e=0,n,s,r,i,a=function(t){if(!mt[t]&&yt)try{require("./lang/"+t)}catch(e){}return mt[t]};if(!t)return rt.fn._lang;if(!l(t)){if(s=a(t))return s;t=[t]}for(;e<t.length;){for(i=b(t[e]).split("-"),n=i.length,r=b(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=a(i.slice(0,n).join("-")))return s;if(r&&r.length>=n&&m(i,r,!0)>=n-1)break;n--}e++}return rt.fn._lang}function G(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function W(t){var e=t.match(Mt),n,s;for(n=0,s=e.length;s>n;n++)e[n]=Et[e[n]]?Et[e[n]]:G(e[n]);return function(r){var i="";for(n=0;s>n;n++)i+=e[n]instanceof Function?e[n].call(r,t):e[n];return i}}function C(t,e){return t.isValid()?(e=F(e,t.lang()),Rt[e]||(Rt[e]=W(e)),Rt[e](t)):t.lang().invalidDate()}function F(t,e){function n(t){return e.longDateFormat(t)||t}var s=5;for(vt.lastIndex=0;s>=0&&vt.test(t);)t=t.replace(vt,n),vt.lastIndex=0,s-=1;return t}function L(t,e){var n;switch(t){case"DDDD":return kt;case"YYYY":case"GGGG":case"gggg":return St;case"YYYYY":case"GGGGG":case"ggggg":return bt;case"S":case"SS":case"SSS":case"DDD":return Yt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return zt;case"a":case"A":return O(e._l)._meridiemParse;case"X":return Wt;case"Z":case"ZZ":return Ot;case"T":return Gt;case"SSSS":return Tt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return Dt;default:return n=new RegExp(Z(R(t.replace("\\","")),"i"))}}function P(t){var e=(Ot.exec(t)||[])[0],n=(e+"").match(Ut)||["-",0,0],s=+(60*n[1])+w(n[2]);return"+"===n[0]?-s:s}function U(t,e,n){var s,r=n._a;switch(t){case"M":case"MM":null!=e&&(r[ht]=w(e)-1);break;case"MMM":case"MMMM":s=O(n._l).monthsParse(e),null!=s?r[ht]=s:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[ft]=w(e));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=w(e));break;case"YY":r[ut]=w(e)+(w(e)>68?1900:2e3);break;case"YYYY":case"YYYYY":r[ut]=w(e);break;case"a":case"A":n._isPm=O(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[dt]=w(e);break;case"m":case"mm":r[ct]=w(e);break;case"s":case"ss":r[lt]=w(e);break;case"S":case"SS":case"SSS":case"SSSS":r[_t]=w(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=P(e);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":t=t.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=e)}}function A(t){var e,n,s=[],r,i,a,o,u,h,f,d;if(!t._d){for(r=H(t),t._w&&null==t._a[ft]&&null==t._a[ht]&&(a=function(e){return e?e.length<3?parseInt(e,10)>68?"19"+e:"20"+e:e:null==t._a[ut]?rt().weekYear():t._a[ut]},o=t._w,null!=o.GG||null!=o.W||null!=o.E?u=K(a(o.GG),o.W||1,o.E,4,1):(h=O(t._l),f=null!=o.d?j(o.d,h):null!=o.e?parseInt(o.e,10)+h._week.dow:0,d=parseInt(o.w,10)||1,null!=o.d&&f<h._week.dow&&d++,u=K(a(o.gg),d,f,h._week.doy,h._week.dow)),t._a[ut]=u.year,t._dayOfYear=u.dayOfYear),t._dayOfYear&&(i=null==t._a[ut]?r[ut]:t._a[ut],t._dayOfYear>v(i)&&(t._pf._overflowDayOfYear=!0),n=J(i,0,t._dayOfYear),t._a[ht]=n.getUTCMonth(),t._a[ft]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];s[dt]+=w((t._tzm||0)/60),s[ct]+=w((t._tzm||0)%60),t._d=(t._useUTC?J:V).apply(null,s)}}function x(t){var e;t._d||(e=p(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],A(t))}function H(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function I(t){t._a=[],t._pf.empty=!0;var e=O(t._l),n=""+t._i,s,r,i,a,o,u=n.length,h=0;for(i=F(t._f,e).match(Mt)||[],s=0;s<i.length;s++)a=i[s],r=(L(a,t).exec(n)||[])[0],r&&(o=n.substr(0,n.indexOf(r)),o.length>0&&t._pf.unusedInput.push(o),n=n.slice(n.indexOf(r)+r.length),h+=r.length),Et[a]?(r?t._pf.empty=!1:t._pf.unusedTokens.push(a),U(a,r,t)):t._strict&&!r&&t._pf.unusedTokens.push(a);t._pf.charsLeftOver=u-h,n.length>0&&t._pf.unusedInput.push(n),t._isPm&&t._a[dt]<12&&(t._a[dt]+=12),t._isPm===!1&&12===t._a[dt]&&(t._a[dt]=0),A(t),Y(t)}function R(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,s,r){return e||n||s||r})}function Z(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function N(t){var e,n,s,r,i;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(r=0;r<t._f.length;r++)i=0,e=h({},t),k(e),e._f=t._f[r],I(e),S(e)&&(i+=e._pf.charsLeftOver,i+=10*e._pf.unusedTokens.length,e._pf.score=i,(null==s||s>i)&&(s=i,n=e));h(t,n||e)}function E(t){var e,n=t._i,s=Ct.exec(n);if(s){for(t._pf.iso=!0,e=4;e>0;e--)if(s[e]){t._f=Lt[e-1]+(s[6]||" ");break}for(e=0;4>e;e++)if(Pt[e][1].exec(n)){t._f+=Pt[e][0];break}Ot.exec(n)&&(t._f+="Z"),I(t)}else t._d=new Date(n)}function $(e){var n=e._i,s=pt.exec(n);n===t?e._d=new Date:s?e._d=new Date(+s[1]):"string"==typeof n?E(e):l(n)?(e._a=n.slice(0),A(e)):_(n)?e._d=new Date(+n):"object"==typeof n?x(e):e._d=new Date(n)}function V(t,e,n,s,r,i,a){var o=new Date(t,e,n,s,r,i,a);return 1970>t&&o.setFullYear(t),o}function J(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function j(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function q(t,e,n,s,r){return r.relativeTime(e||1,!!n,t,s)}function X(t,e,n){var s=at(Math.abs(t)/1e3),r=at(s/60),i=at(r/60),a=at(i/24),o=at(a/365),u=45>s&&["s",s]||1===r&&["m"]||45>r&&["mm",r]||1===i&&["h"]||22>i&&["hh",i]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",at(a/30)]||1===o&&["y"]||["yy",o];return u[2]=e,u[3]=t>0,u[4]=n,q.apply({},u)}function B(t,e,n){var s=n-e,r=n-t.day(),i;return r>s&&(r-=7),s-7>r&&(r+=7),i=rt(t).add("d",r),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function K(t,e,n,s,r){var i=new Date(Date.UTC(t,0)).getUTCDay(),a,o;return n=null!=n?n:r,a=r-i+(i>s?7:0),o=7*(e-1)+(n-r)+a+1,{year:o>0?t:t-1,dayOfYear:o>0?o:v(t-1)+o}}function Q(t){var e=t._i,n=t._f;return"undefined"==typeof t._pf&&k(t),null===e?rt.invalid({nullInput:!0}):("string"==typeof e&&(t._i=e=O().preparse(e)),rt.isMoment(e)?(t=h({},e),t._d=new Date(+e._d)):n?l(n)?N(t):I(t):$(t),new o(t))}function tt(t,e){rt.fn[t]=rt.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),rt.updateOffset(this),this):this._d["get"+n+e]()}}function et(t){rt.duration.fn[t]=function(){return this._data[t]}}function nt(t,e){rt.duration.fn["as"+t]=function(){return+this/e}}function st(t){var e=!1,n=rt;"undefined"==typeof s&&(this.moment=t?function(){return!e&&console&&console.warn&&(e=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)}:rt)}for(var rt,it="2.4.0",at=Math.round,ot,ut=0,ht=1,ft=2,dt=3,ct=4,lt=5,_t=6,mt={},yt="undefined"!=typeof n&&n.exports,pt=/^\/?Date\((\-?\d+)/i,gt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,wt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Mt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,vt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Dt=/\d\d?/,Yt=/\d{1,3}/,kt=/\d{3}/,St=/\d{1,4}/,bt=/[+\-]?\d{1,6}/,Tt=/\d+/,zt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ot=/Z|[\+\-]\d\d:?\d\d/i,Gt=/T/i,Wt=/[\+\-]?\d+(\.\d{1,3})?/,Ct=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,Ft="YYYY-MM-DDTHH:mm:ssZ",Lt=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Pt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ut=/([\+\-]|\d\d)/gi,At="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),xt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Ht={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},It={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Rt={},Zt="DDD w W M D d".split(" "),Nt="M D H h m s w W".split(" "),Et={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return d(this.year()%100,2)},YYYY:function(){return d(this.year(),4)},YYYYY:function(){return d(this.year(),5)},gg:function(){return d(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return d(this.weekYear(),5)},GG:function(){return d(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return d(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return w(this.milliseconds()/100)},SS:function(){return d(w(this.milliseconds()/10),2)},SSS:function(){return d(this.milliseconds(),3)},SSSS:function(){return d(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+d(w(t/60),2)+":"+d(w(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+d(w(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},$t=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Zt.length;)ot=Zt.pop(),Et[ot+"o"]=i(Et[ot],ot);for(;Nt.length;)ot=Nt.pop(),Et[ot+ot]=e(Et[ot],2);for(Et.DDDD=e(Et.DDD,3),h(a.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,s;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=rt.utc([2e3,e]),s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(s.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=rt([2e3,1]).day(e),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,s){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,s):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return B(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),rt=function(e,n,s,r){return"boolean"==typeof s&&(r=s,s=t),Q({_i:e,_f:n,_l:s,_strict:r,_isUTC:!1})},rt.utc=function(e,n,s,r){var i;return"boolean"==typeof s&&(r=s,s=t),i=Q({_useUTC:!0,_isUTC:!0,_l:s,_i:e,_f:n,_strict:r}).utc()},rt.unix=function(t){return rt(1e3*t)},rt.duration=function(t,e){var n=rt.isDuration(t),s="number"==typeof t,r=n?t._input:s?{}:t,i=null,a,o,h,f,d;return s?e?r[e]=t:r.milliseconds=t:(i=gt.exec(t))?(a="-"===i[1]?-1:1,r={y:0,d:w(i[ft])*a,h:w(i[dt])*a,m:w(i[ct])*a,s:w(i[lt])*a,ms:w(i[_t])*a}):(i=wt.exec(t))&&(a="-"===i[1]?-1:1,h=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*a},r={y:h(i[2]),M:h(i[3]),d:h(i[4]),h:h(i[5]),m:h(i[6]),s:h(i[7]),w:h(i[8])}),o=new u(r),n&&t.hasOwnProperty("_lang")&&(o._lang=t._lang),o},rt.version=it,rt.defaultFormat=Ft,rt.updateOffset=function(){},rt.lang=function(t,e){var n;return t?(e?T(b(t),e):null===e?(z(t),t="en"):mt[t]||O(t),n=rt.duration.fn._lang=rt.fn._lang=O(t),n._abbr):rt.fn._lang._abbr},rt.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),O(t)},rt.isMoment=function(t){return t instanceof o},rt.isDuration=function(t){return t instanceof u},ot=$t.length-1;ot>=0;--ot)g($t[ot]);for(rt.normalizeUnits=function(t){return y(t)},rt.invalid=function(t){var e=rt.utc(0/0);return null!=t?h(e._pf,t):e._pf.userInvalidated=!0,e},rt.parseZone=function(t){return rt(t).parseZone()},h(rt.fn=o.prototype,{clone:function(){return rt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return C(rt(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return S(this)},isDSTShifted:function(){return this._a?this.isValid()&&m(this._a,(this._isUTC?rt.utc(this._a):rt(this._a)).toArray())>0:!1},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=C(this,t||rt.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?rt.duration(+e,t):rt.duration(t,e),c(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?rt.duration(+e,t):rt.duration(t,e),c(this,n,-1),this},diff:function(t,e,n){var s=this._isUTC?rt(t).zone(this._offset||0):rt(t).local(),r=6e4*(this.zone()-s.zone()),i,a;return e=y(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+s.daysInMonth()),a=12*(this.year()-s.year())+(this.month()-s.month()),a+=(this-rt(this).startOf("month")-(s-rt(s).startOf("month")))/i,a-=6e4*(this.zone()-rt(this).startOf("month").zone()-(s.zone()-rt(s).startOf("month").zone()))/i,"year"===e&&(a/=12)):(i=this-s,a="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-r)/864e5:"week"===e?(i-r)/6048e5:i),n?a:f(a)},from:function(t,e){return rt.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(rt(),t)},calendar:function(){var t=this.diff(rt().zone(this.zone()).startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){return D(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=j(t,this.lang()),this.add({d:t-e})):e},month:function(t){var e=this._isUTC?"UTC":"",n;return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(n=this.date(),this.date(1),this._d["set"+e+"Month"](t),this.date(Math.min(n,this.daysInMonth())),rt.updateOffset(this),this):this._d["get"+e+"Month"]()},startOf:function(t){switch(t=y(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=y(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+rt(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+rt(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+rt(t).startOf(e)},min:function(t){return t=rt.apply(null,arguments),this>t?this:t},max:function(t){return t=rt.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=P(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&c(this,rt.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?rt(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return M(this.year(),this.month())},dayOfYear:function(t){var e=at((rt(this).startOf("day")-rt(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=B(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=B(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=B(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return t=y(t),this[t]()},set:function(t,e){return t=y(t),"function"==typeof this[t]&&this[t](e),this},lang:function(e){return e===t?this._lang:(this._lang=O(e),this)}}),ot=0;ot<At.length;ot++)tt(At[ot].toLowerCase().replace(/s$/,""),At[ot]);tt("year","FullYear"),rt.fn.days=rt.fn.day,rt.fn.months=rt.fn.month,rt.fn.weeks=rt.fn.week,rt.fn.isoWeeks=rt.fn.isoWeek,rt.fn.toJSON=rt.fn.toISOString,h(rt.duration.fn=u.prototype,{_bubble:function(){var t=this._milliseconds,e=this._days,n=this._months,s=this._data,r,i,a,o;s.milliseconds=t%1e3,r=f(t/1e3),s.seconds=r%60,i=f(r/60),s.minutes=i%60,a=f(i/60),s.hours=a%24,e+=f(a/24),s.days=e%30,n+=f(e/30),s.months=n%12,o=f(n/12),s.years=o},weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)},humanize:function(t){var e=+this,n=X(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=rt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=rt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=y(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=y(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:rt.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),s=Math.abs(this.hours()),r=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(s||r||i?"T":"")+(s?s+"H":"")+(r?r+"M":"")+(i?i+"S":""):"P0D"}});for(ot in xt)xt.hasOwnProperty(ot)&&(nt(ot,xt[ot]),et(ot.toLowerCase()));nt("Weeks",6048e5),rt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},rt.lang("en",{ordinal:function(t){var e=t%10,n=1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),yt?(n.exports=rt,st(!0)):"function"==typeof r&&r.amd?r("moment",function(e,n,s){return s.config().noGlobal!==!0&&st(s.config().noGlobal===t),rt}):st()}).call(this)}.call(this),function(){e=n.exports,n=void 0,r=function(t,n,s){s(e)},r.amd=!0}.call(this),function(){(function(){function t(t){function n(t){t+="";var e=t.split(":"),n=~t.indexOf("-")?-1:1,s=Math.abs(+e[0]),r=parseInt(e[1],10)||0,i=parseInt(e[2],10)||0;return n*(60*s+r+i/60)}function s(t,e,s,r,i,a,o,u,h,f){this.name=t,this.startYear=+e,this.endYear=+s,this.month=+r,this.day=+i,this.dayRule=+a,this.time=n(o),this.timeRule=+u,this.offset=n(h),this.letters=f||""}function r(t,e){this.rule=e,this.start=e.start(t)}function i(t,e){return t.isLast?-1:e.isLast?1:e.start-t.start}function a(t){this.name=t,this.rules=[]}function o(e,s,r,i,a,o){var u,h="string"==typeof a?a.split("_"):[9999];for(this.name=e,this.offset=n(s),this.ruleSet=r,this.letters=i,u=0;u<h.length;u++)h[u]=+h[u];this.until=t.utc(h).subtract("m",n(o))}function u(t,e){return t.until-e.until}function h(t){this.name=c(t),this.displayName=t,this.zones=[]}function f(t){var e,n,s;for(e in t)for(s=t[e],n=0;n<s.length;n++)d(e+"	"+s[n])}function d(t){if(D[t])return D[t];var e=t.split(/\s/),n=c(e[0]),r=new s(n,e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]);return D[t]=r,y(n).add(r),r}function c(t){return(t||"").toLowerCase().replace(/\//g,"_")}function l(t){var e,n,s;for(e in t)for(s=t[e],n=0;n<s.length;n++)m(e+"	"+s[n])}function _(t){var e;for(e in t)b[c(e)]=c(t[e])}function m(t){if(k[t])return k[t];var e=t.split(/\s/),n=c(e[0]),s=new o(n,e[1],y(e[2]),e[3],e[4],e[5]);return k[t]=s,p(e[0]).add(s),s}function y(t){return t=c(t),Y[t]||(Y[t]=new a(t)),Y[t]}function p(t){var e=c(t);return b[e]&&(e=b[e]),S[e]||(S[e]=new h(t)),S[e]}function g(t){t&&(t.zones&&l(t.zones),t.rules&&f(t.rules),t.links&&_(t.links))}var w=t.fn.zoneName,M=t.fn.zoneAbbr,v,D={},Y={},k={},S={},b={},T=0,z=1,O=2,G=7,W=8;return s.prototype={contains:function(t){return t>=this.startYear&&t<=this.endYear},start:function(e){return e=Math.min(Math.max(e,this.startYear),this.endYear),t.utc([e,this.month,this.date(e),0,this.time])},date:function(t){return this.dayRule===G?this.day:this.dayRule===W?this.lastWeekday(t):this.weekdayAfter(t)},weekdayAfter:function(e){for(var n=this.day,s=t([e,this.month,1]).day(),r=this.dayRule+1-s;n>r;)r+=7;return r},lastWeekday:function(e){var n=this.day,s=n%7,r=t([e,this.month+1,1]).day(),i=t([e,this.month,1]).daysInMonth(),a=i+(s-(r-1))-7*~~(n/7);return s>=r&&(a-=7),a}},r.prototype={equals:function(t){return t&&t.rule===this.rule?Math.abs(t.start-this.start)<864e5:!1}},a.prototype={add:function(t){this.rules.push(t)},ruleYears:function(t,e){var n,s,a=t.year(),o,u,h=[];for(n=0;n<this.rules.length;n++)o=this.rules[n],o.contains(a)?h.push(new r(a,o)):o.contains(a+1)&&h.push(new r(a+1,o));return h.push(new r(a-1,this.lastYearRule(a-1))),e&&(u=new r(a-1,e.lastRule()),u.start=e.until.clone().utc(),u.isLast=e.ruleSet!==this,h.push(u)),h.sort(i),h},rule:function(t,e,n){var s=this.ruleYears(t,n),r=0,i,a,o,u,h;for(n&&(a=n.offset+n.lastRule().offset,o=9e4*Math.abs(a)),h=s.length-1;h>-1;h--)u=i,i=s[h],i.equals(u)||(n&&!i.isLast&&Math.abs(i.start-n.until)<=o&&(r+=a-e),i.rule.timeRule===O&&(r=e),i.rule.timeRule!==z&&i.start.add("m",-r),r=i.rule.offset+e);for(h=0;h<s.length;h++)if(i=s[h],t>=i.start&&!i.isLast)return i.rule;return v},lastYearRule:function(t){var e,n,s,r=v,i=-1e30;for(e=0;e<this.rules.length;e++)n=this.rules[e],t>=n.startYear&&(s=n.start(t),s>i&&(i=s,r=n));return r}},o.prototype={rule:function(t,e){return this.ruleSet.rule(t,this.offset,e)},lastRule:function(){return this._lastRule||(this._lastRule=this.rule(this.until)),this._lastRule},format:function(t){return this.letters.replace("%s",t.letters)}},h.prototype={zoneAndRule:function(t){var e,n,s;for(t=t.clone().utc(),e=0;e<this.zones.length&&(n=this.zones[e],!(t<n.until));e++)s=n;return[n,n.rule(t,s)]},add:function(t){this.zones.push(t),this.zones.sort(u)},format:function(t){var e=this.zoneAndRule(t);return e[0].format(e[1])},offset:function(t){var e=this.zoneAndRule(t);return-(e[0].offset+e[1].offset)}},t.updateOffset=function(t){var e;t._z&&(e=t._z.offset(t),Math.abs(e)<16&&(e/=60),t.zone(e))},t.fn.tz=function(e){return e?(this._z=p(e),this._z&&t.updateOffset(this),this):this._z?this._z.displayName:void 0},t.fn.zoneName=function(){return this._z?this._z.format(this):w.call(this)},t.fn.zoneAbbr=function(){return this._z?this._z.format(this):M.call(this)},t.tz=function(){var e=[],n,s=arguments.length-1;for(n=0;s>n;n++)e[n]=arguments[n];var r=t.apply(null,e),i=r.zone();return r.tz(arguments[s]),r.add("minutes",r.zone()-i)},t.tz.add=g,t.tz.addRule=d,t.tz.addZone=m,t.tz.version=e,v=d("- 0 9999 0 0 0 0 0 0"),t}var e="0.0.1";"function"==typeof r&&r.amd?r("moment-timezone",["moment"],t):"undefined"!=typeof window&&window.moment?t(window.moment):"undefined"!=typeof n&&(n.exports=t(require("moment")))}).apply(this)}.call(this),function(){e.tz.add({zones:{"America/Los_Angeles":["-7:52:58 - LMT 1883_10_18_12_7_2 -7:52:58","-8 US P%sT 1946 -8","-8 CA P%sT 1967 -8","-8 US P%sT"]},rules:{US:["1918 1919 2 0 8 2 0 1 D","1918 1919 9 0 8 2 0 0 S","1942 1942 1 9 7 2 0 1 W","1945 1945 7 14 7 23 1 1 P","1945 1945 8 30 7 2 0 0 S","1967 2006 9 0 8 2 0 0 S","1967 1973 3 0 8 2 0 1 D","1974 1974 0 6 7 2 0 1 D","1975 1975 1 23 7 2 0 1 D","1976 1986 3 0 8 2 0 1 D","1987 2006 3 1 0 2 0 1 D","2007 9999 2 8 0 2 0 1 D","2007 9999 10 1 0 2 0 0 S"],CA:["1948 1948 2 14 7 2 0 1 D","1949 1949 0 1 7 2 0 0 S","1950 1966 3 0 8 2 0 1 D","1950 1961 8 0 8 2 0 0 S","1962 1966 9 0 8 2 0 0 S"]},links:{}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["my-moment"]={moment:e}}();

!function(){var e=Package.meteor.Meteor,t=Package.random.Random;(function(){var o="_localstorage_test_"+t.id(),a;try{window.localStorage&&(window.localStorage.setItem(o,o),a=window.localStorage.getItem(o),window.localStorage.removeItem(o))}catch(n){}o===a&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}();

!function(){var e=Package.meteor.Meteor,n=Package.random.Random,o=Package.ejson.EJSON,t=Package.json.JSON,r=Package.underscore._,i=Package.minimongo.LocalCollection,c=Package.minimongo.Minimongo,l=Package.logging.Log,a=Package.ddp.DDP,s=Package.tracker.Tracker,d=Package.tracker.Deps,u=Package.check.check,f=Package.check.Match,_,p;(function(){p=function(){var e=this;e.noConnCollections={}};var e=function(e,n){return e in n||(n[e]=new i(e)),n[e]};r.extend(p.prototype,{open:function(n,o){var t=this;return n?o?(o._mongo_livedata_collections||(o._mongo_livedata_collections={}),e(n,o._mongo_livedata_collections)):e(n,t.noConnCollections):new i}}),p=new p}).call(this),function(){_={},_.Collection=function(o,t){var c=this;if(!(c instanceof _.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(o||null===o||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(t&&t.methods&&(t={connection:t}),t&&t.manager&&!t.connection&&(t.connection=t.manager),t=r.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},t),t.idGeneration){case"MONGO":c._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):n;return new _.ObjectID(e.hexString(24))};break;case"STRING":default:c._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):n;return e.id()}}if(c._transform=i.wrapTransform(t.transform),c._connection=o&&null!==t.connection?t.connection?t.connection:e.isClient?e.connection:e.server:null,t._driver||(t._driver=o&&c._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():p),c._collection=t._driver.open(o,c._connection),c._name=o,c._driver=t._driver,c._connection&&c._connection.registerStore){var l=c._connection.registerStore(o,{beginUpdate:function(e,n){(e>1||n)&&c._collection.pauseObservers(),n&&c._collection.remove({})},update:function(e){var n=i._idParse(e.id),o=c._collection.findOne(n);if("replace"===e.msg){var t=e.replace;return void(t?o?c._collection.update(n,t):c._collection.insert(t):o&&c._collection.remove(n))}if("added"===e.msg){if(o)throw new Error("Expected not to find a document already present for an add");c._collection.insert(r.extend({_id:n},e.fields))}else if("removed"===e.msg){if(!o)throw new Error("Expected to find a document already present for removed");c._collection.remove(n)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!o)throw new Error("Expected to find a document to change");if(!r.isEmpty(e.fields)){var l={};r.each(e.fields,function(e,n){void 0===e?(l.$unset||(l.$unset={}),l.$unset[n]=1):(l.$set||(l.$set={}),l.$set[n]=e)}),c._collection.update(n,l)}}},endUpdate:function(){c._collection.resumeObservers()},saveOriginals:function(){c._collection.saveOriginals()},retrieveOriginals:function(){return c._collection.retrieveOriginals()}});if(!l)throw new Error("There is already a collection named '"+o+"'")}c._defineMutationMethods(),Package.autopublish&&!t._preventAutopublish&&c._connection&&c._connection.publish&&c._connection.publish(null,function(){return c.find()},{is_auto:!0})},r.extend(_.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var n=this;return e.length<2?{transform:n._transform}:(u(e[1],f.Optional(f.ObjectIncluding({fields:f.Optional(f.OneOf(Object,void 0)),sort:f.Optional(f.OneOf(Object,Array,void 0)),limit:f.Optional(f.OneOf(Number,void 0)),skip:f.Optional(f.OneOf(Number,void 0))}))),r.extend({transform:n._transform},e[1]))},find:function(){var e=this,n=r.toArray(arguments);return e._collection.find(e._getFindSelector(n),e._getFindOptions(n))},findOne:function(){var e=this,n=r.toArray(arguments);return e._collection.findOne(e._getFindSelector(n),e._getFindOptions(n))}}),_.Collection._publishCursor=function(e,n,o){var t=e.observeChanges({added:function(e,t){n.added(o,e,t)},changed:function(e,t){n.changed(o,e,t)},removed:function(e){n.removed(o,e)}});n.onStop(function(){t.stop()})},_.Collection._rewriteSelector=function(e){if(i._selectorIsId(e)&&(e={_id:e}),!e||"_id"in e&&!e._id)return{_id:n.id()};var o={};return r.each(e,function(e,n){e instanceof RegExp?o[n]=t(e):e&&e.$regex instanceof RegExp?(o[n]=t(e.$regex),void 0!==e.$options&&(o[n].$options=e.$options)):o[n]=r.contains(["$or","$and","$nor"],n)?r.map(e,function(e){return _.Collection._rewriteSelector(e)}):e}),o};var t=function(e){u(e,RegExp);var n={$regex:e.source},o="";return e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),o&&(n.$options=o),n},c=function(n,o){if(!i._selectorIsIdPerhapsAsObject(n))throw new e.Error(403,"Not permitted. Untrusted code may only "+o+" documents by ID.")};r.each(["insert","update","remove"],function(n){_.Collection.prototype[n]=function(){var o=this,t=r.toArray(arguments),i,l,s;if(t.length&&(void 0===t[t.length-1]||t[t.length-1]instanceof Function)&&(i=t.pop()),"insert"===n){if(!t.length)throw new Error("insert requires an argument");if(t[0]=r.extend({},t[0]),"_id"in t[0]){if(l=t[0]._id,!l||!("string"==typeof l||l instanceof _.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var d=!0;if(o._connection&&o._connection!==e.server){var u=a._CurrentInvocation.get();u||(d=!1)}d&&(l=t[0]._id=o._makeNewID())}}else if(t[0]=_.Collection._rewriteSelector(t[0]),"update"===n){var f=t[2]=r.clone(t[2])||{};if(f&&"function"!=typeof f&&f.upsert)if(f.insertedId){if(!("string"==typeof f.insertedId||f.insertedId instanceof _.ObjectID))throw new Error("insertedId must be string or ObjectID")}else t[0]._id||(f.insertedId=o._makeNewID())}var p=function(e){return"insert"===n?(!l&&e&&(l=e),l):e},v;if(i&&(v=function(e,n){i(e,!e&&p(n))}),o._connection&&o._connection!==e.server){var u=a._CurrentInvocation.get(),h=u&&u.isSimulation;!e.isClient||v||h||(v=function(o){o&&e._debug(n+" failed: "+(o.reason||o.stack))}),h||"insert"===n||c(t[0],n),s=p(o._connection.apply(o._prefix+n,t,{returnStubValue:!0},v))}else{t.push(v);try{var m=o._collection[n].apply(o._collection,t);s=p(m)}catch(w){if(i)return i(w),null;throw w}}return s}}),_.Collection.prototype.upsert=function(e,n,o,t){var i=this;return t||"function"!=typeof o||(t=o,o={}),i.update(e,n,r.extend({},o,{_returnObject:!0,upsert:!0}),t)},_.Collection.prototype._ensureIndex=function(e,n){var o=this;if(!o._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");o._collection._ensureIndex(e,n)},_.Collection.prototype._dropIndex=function(e){var n=this;if(!n._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");n._collection._dropIndex(e)},_.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},_.Collection.prototype._createCappedCollection=function(e,n){var o=this;if(!o._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");o._collection._createCappedCollection(e,n)},_.Collection.prototype.rawCollection=function(){var e=this;if(!e._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return e._collection.rawCollection()},_.Collection.prototype.rawDatabase=function(){var e=this;if(!e._driver.mongo||!e._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return e._driver.mongo.db},_.ObjectID=i._ObjectID,_.Cursor=i.Cursor,_.Collection.Cursor=_.Cursor,_.Collection.ObjectID=_.ObjectID,function(){var e=function(e,n){var o=["insert","update","remove","fetch","transform"];r.each(r.keys(n),function(n){if(!r.contains(o,n))throw new Error(e+": Invalid key: "+n)});var t=this;if(t._restricted=!0,r.each(["insert","update","remove"],function(o){if(n[o]){if(!(n[o]instanceof Function))throw new Error(e+": Value for `"+o+"` must be a function");n[o].transform=void 0===n.transform?t._transform:i.wrapTransform(n.transform),t._validators[o][e].push(n[o])}}),n.update||n.remove||n.fetch){if(n.fetch&&!(n.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");t._updateFetch(n.fetch)}};_.Collection.prototype.allow=function(n){e.call(this,"allow",n)},_.Collection.prototype.deny=function(n){e.call(this,"deny",n)}}(),_.Collection.prototype._defineMutationMethods=function(){var n=this;if(n._restricted=!1,n._insecure=void 0,n._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},n._name&&(n._prefix="/"+n._name+"/",n._connection)){var o={};r.each(["insert","update","remove"],function(t){o[n._prefix+t]=function(){u(arguments,[f.Any]);var o=r.toArray(arguments);try{var i=null;if("insert"!==t||r.has(o[0],"_id")||(i=n._makeNewID()),this.isSimulation)return null!==i&&(o[0]._id=i),n._collection[t].apply(n._collection,o);if("insert"!==t&&c(o[0],t),n._restricted){if(0===n._validators[t].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+t+"'.");var l="_validated"+t.charAt(0).toUpperCase()+t.slice(1);return o.unshift(this.userId),"insert"===t&&o.push(i),n[l].apply(n,o)}if(n._isInsecure())return null!==i&&(o[0]._id=i),n._collection[t].apply(n._collection,o);throw new e.Error(403,"Access denied")}catch(a){throw"MongoError"===a.name||"MinimongoError"===a.name?new e.Error(409,a.toString()):a}}}),(e.isClient||n._connection===e.server)&&n._connection.methods(o)}},_.Collection.prototype._updateFetch=function(e){var n=this;n._validators.fetchAllFields||(e?n._validators.fetch=r.union(n._validators.fetch,e):(n._validators.fetchAllFields=!0,n._validators.fetch=null))},_.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var l=function(e,n,t){var r=n;return e.transform&&(r=o.clone(n),null!==t&&(r._id=t),r=e.transform(r)),r};_.Collection.prototype._validatedInsert=function(n,o,t){var i=this;if(r.any(i._validators.insert.deny,function(e){return e(n,l(e,o,t))}))throw new e.Error(403,"Access denied");if(r.all(i._validators.insert.allow,function(e){return!e(n,l(e,o,t))}))throw new e.Error(403,"Access denied");null!==t&&(o._id=t),i._collection.insert.call(i._collection,o)};var s=function(e,n){return e.transform?e.transform(n):n};_.Collection.prototype._validatedUpdate=function(n,o,t,c){var l=this;if(u(t,Object),c=r.clone(c)||{},!i._selectorIsIdPerhapsAsObject(o))throw new Error("validated update should be of a single ID");if(c.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var a="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",f=[];if(r.isEmpty(t))throw new e.Error(403,a);r.each(t,function(n,o){if("$"!==o.charAt(0))throw new e.Error(403,a);if(!r.has(d,o))throw new e.Error(403,"Access denied. Operator "+o+" not allowed in a restricted collection.");r.each(r.keys(n),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),r.contains(f,e)||f.push(e)})});var _={transform:null};l._validators.fetchAllFields||(_.fields={},r.each(l._validators.fetch,function(e){_.fields[e]=1}));var p=l._collection.findOne(o,_);if(!p)return 0;if(r.any(l._validators.update.deny,function(e){var o=s(e,p);return e(n,o,f,t)}))throw new e.Error(403,"Access denied");if(r.all(l._validators.update.allow,function(e){var o=s(e,p);return!e(n,o,f,t)}))throw new e.Error(403,"Access denied");return c._forbidReplace=!0,l._collection.update.call(l._collection,o,t,c)};var d={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};_.Collection.prototype._validatedRemove=function(n,o){var t=this,i={transform:null};t._validators.fetchAllFields||(i.fields={},r.each(t._validators.fetch,function(e){i.fields[e]=1}));var c=t._collection.findOne(o,i);if(!c)return 0;if(r.any(t._validators.remove.deny,function(e){return e(n,s(e,c))}))throw new e.Error(403,"Access denied");if(r.all(t._validators.remove.allow,function(e){return!e(n,s(e,c))}))throw new e.Error(403,"Access denied");return t._collection.remove.call(t._collection,o)},e.Collection=_.Collection}.call(this),"undefined"==typeof Package&&(Package={}),Package.mongo={Mongo:_}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,o=Package.tracker.Tracker,t=Package.tracker.Deps,i=Package.random.Random,r=Package["callback-hook"].Hook,a=Package.ddp.DDP,c=Package.mongo.Mongo,l,u,s,g,f,d,m,p,_,k,h,v,w,E,y,C;(function(){l={},l._options={};var o=90,t=3600;s=6e5,g=1e4,l.config=function(o){if(e.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||e._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),n.has(o,"oauthSecretKey")){if(e.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(o.oauthSecretKey),o=n.omit(o,"oauthSecretKey")}var t=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays"];n.each(n.keys(o),function(e){if(!n.contains(t,e))throw new Error("Accounts.config: Invalid key: "+e)}),n.each(t,function(e){if(e in o){if(e in l._options)throw new Error("Can't set `"+e+"` more than once");l._options[e]=o[e]}}),e.isServer&&maybeStopExpireTokensInterval()},e.isClient&&(l.connection=e.connection,"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL&&(l.connection=a.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL))),e.users=new c.Collection("users",{_preventAutopublish:!0,connection:e.isClient?l.connection:e.connection}),e.startup(function(){var e=Package["service-configuration"].ServiceConfiguration;l.loginServiceConfiguration=e.configurations,l.ConfigError=e.ConfigError}),l.LoginCancelledError=function(e){this.message=e},l.LoginCancelledError.numericError=145546287,l.LoginCancelledError.prototype=new Error,l.LoginCancelledError.prototype.name="Accounts.LoginCancelledError",f=function(){return 24*(l._options.loginExpirationInDays||o)*60*60*1e3},l._tokenExpiration=function(e){return new Date(new Date(e).getTime()+f())},l._tokenExpiresSoon=function(e){var n=.1*f(),o=1e3*t;return n>o&&(n=o),new Date>new Date(e)-n},d=new r({debugPrintExceptions:"onLogin callback"}),m=new r({debugPrintExceptions:"onLoginFailure callback"}),l.onLogin=function(e){return d.register(e)},l.onLoginFailure=function(e){return m.register(e)}}).call(this),function(){p=!0;var o=["reset-password","verify-email","enroll-account"],t=function(e,t){n.each(o,function(n){var o;_=new RegExp("^\\#\\/"+n+"\\/(.*)$"),k=e.match(_),k&&(o=k[1],"reset-password"===n?l._resetPasswordToken=o:"verify-email"===n?l._verifyEmailToken=o:"enroll-account"===n&&(l._enrollAccountToken=o),t(o,n))})},i={},r=function(){l._enableAutoLogin()};t(window.location.hash,function(n,o){p=!1,window.location.hash="",e.startup(function(){i[o]&&i[o](n,r)})}),u={attemptToMatchHash:t},l.onResetPasswordLink=function(n){i["reset-password"]&&e._debug("Accounts.onResetPasswordLink was called more than once. Only one callback added will be executed."),i["reset-password"]=n},l.onEmailVerificationLink=function(n){i["verify-email"]&&e._debug("Accounts.onEmailVerificationLink was called more than once. Only one callback added will be executed."),i["verify-email"]=n},l.onEnrollmentLink=function(n){i["enroll-account"]&&e._debug("Accounts.onEnrollmentLink was called more than once. Only one callback added will be executed."),i["enroll-account"]=n}}.call(this),function(){e.userId=function(){return l.connection.userId()};var t=!1,i=new o.Dependency;l._setLoggingIn=function(e){t!==e&&(t=e,i.changed())},e.loggingIn=function(){return i.depend(),t},e.user=function(){var n=e.userId();return n?e.users.findOne(n):null},l.callLoginMethod=function(e){e=n.extend({methodName:"login",methodArguments:[{}],_suppressLoggingIn:!1},e),n.each(["validateResult","userCallback"],function(n){e[n]||(e[n]=function(){})});var o=n.once(function(n){n?m.each(function(e){e()}):d.each(function(e){e()}),e.userCallback.apply(this,arguments)}),t=!1,i=function(e,n){l.connection.onReconnect=!e&&n&&n.token?function(){t=!0;var e=y();e&&(n={token:e,tokenExpires:C()}),n.tokenExpires||(n.tokenExpires=l._tokenExpiration(new Date)),l._tokenExpiresSoon(n.tokenExpires)?h():l.callLoginMethod({methodArguments:[{resume:n.token}],_suppressLoggingIn:!0,userCallback:function(e){var t=y();e&&t&&t===n.token&&h(),o(e)}})}:null},r=function(n,i){if(!t){if(l._setLoggingIn(!1),n||!i)return n=n||new Error("No result from call to "+e.methodName),void o(n);try{e.validateResult(i)}catch(r){return void o(r)}v(i.id,i.token,i.tokenExpires),o()}};e._suppressLoggingIn||l._setLoggingIn(!0),l.connection.apply(e.methodName,e.methodArguments,{wait:!0,onResultReceived:i},r)},h=function(){E(),l.connection.setUserId(null),l.connection.onReconnect=null},v=function(e,n,o){w(e,n,o),l.connection.setUserId(e)},e.logout=function(e){l.connection.apply("logout",[],{wait:!0},function(n,o){n?e&&e(n):(h(),e&&e())})},e.logoutOtherClients=function(n){l.connection.apply("getNewToken",[],{wait:!0},function(n,o){n||w(e.userId(),o.token,o.tokenExpires)}),l.connection.apply("removeOtherTokens",[],{wait:!0},function(e){n&&n(e)})};var r=l.connection.subscribe("meteor.loginServiceConfiguration");l.loginServicesConfigured=function(){return r.ready()};var a=[],c=null;l.onPageLoadLogin=function(e){c?e(c):a.push(e)},l._pageLoadLogin=function(o){return c?void e._debug("Ignoring unexpected duplicate page load login attempt info"):(n.each(a,function(e){e(o)}),a=[],void(c=o))},Package.blaze&&(Package.blaze.Blaze.Template.registerHelper("currentUser",function(){return e.user()}),Package.blaze.Blaze.Template.registerHelper("loggingIn",function(){return e.loggingIn()}))}.call(this),function(){var n;e.loginWithToken=function(e,n){l.callLoginMethod({methodArguments:[{resume:e}],userCallback:n})},l._enableAutoLogin=function(){p=!0,g()};var o="Meteor.loginToken",t="Meteor.loginTokenExpires",r="Meteor.userId";l._isolateLoginTokenForTest=function(){o+=i.id(),r+=i.id()},w=function(i,a,c){e._localStorage.setItem(r,i),e._localStorage.setItem(o,a),c||(c=l._tokenExpiration(new Date)),e._localStorage.setItem(t,c),n=a},E=function(){e._localStorage.removeItem(r),e._localStorage.removeItem(o),e._localStorage.removeItem(t),n=null},y=l._storedLoginToken=function(){return e._localStorage.getItem(o)},C=function(){return e._localStorage.getItem(t)};var a=function(){return e._localStorage.getItem(r)},c=function(){var n=e._localStorage.getItem(t);n&&l._tokenExpiresSoon(new Date(n))&&E()};if(p){c();var u=y();if(u){var s=a();s&&l.connection.setUserId(s),e.loginWithToken(u,function(n){n&&(e._debug("Error logging in with token: "+n),h()),l._pageLoadLogin({type:"resume",allowed:!n,error:n,methodName:"login",methodArguments:[{resume:u}]})})}}n=u;var g=function(){if(p){var o=y();n!=o&&(o?e.loginWithToken(o,function(e){e&&h()}):e.logout()),n=o}};setInterval(g,3e3)}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-base"]={Accounts:l,AccountsTest:u}}();

!function(){var o=Package.meteor.Meteor,n=Package["accounts-base"].Accounts,e=Package.mongo.Mongo,i;(function(){"undefined"==typeof i&&(i={}),i.configurations=new e.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:o.isClient?n.connection:o.connection}),i.ConfigError=function(e){this.message=o.isClient&&!n.loginServicesConfigured()?"Login service configuration not yet loaded":e?"Service "+e+" not configured":"Service not configured"},i.ConfigError.prototype=new Error,i.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),Package["service-configuration"]={ServiceConfiguration:i}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,a=Package.tracker.Tracker,i=Package.tracker.Deps,n=Package.ejson.EJSON,r;(function(){var e=function(e){return void 0===e?"undefined":n.stringify(e)},i=function(e){return void 0===e||"undefined"===e?void 0:n.parse(e)};r=function(e){if(e)if("string"==typeof e)r._registerDictForMigrate(e,this),this.keys=r._loadMigratedDict(e)||{};else{if("object"!=typeof e)throw new Error("Invalid ReactiveDict argument: "+e);this.keys=e}else this.keys={};this.keyDeps={},this.keyValueDeps={}},t.extend(r.prototype,{set:function(a,i){var n=this;if("object"==typeof a&&void 0===i)return void n._setObject(a);var r=a;i=e(i);var s="undefined";if(t.has(n.keys,r)&&(s=n.keys[r]),i!==s){n.keys[r]=i;var c=function(e){e&&e.changed()};c(n.keyDeps[r]),n.keyValueDeps[r]&&(c(n.keyValueDeps[r][s]),c(n.keyValueDeps[r][i]))}},setDefault:function(e,t){var a=this;void 0===a.keys[e]&&a.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),i(t.keys[e])},equals:function(r,s){var c=this,o=null;if("undefined"!=typeof Mongo&&(o=Mongo.ObjectID),!("string"==typeof s||"number"==typeof s||"boolean"==typeof s||"undefined"==typeof s||s instanceof Date||o&&s instanceof o||null===s))throw new Error("ReactiveDict.equals: value must be scalar");var u=e(s);if(a.active){c._ensureKey(r),t.has(c.keyValueDeps[r],u)||(c.keyValueDeps[r][u]=new a.Dependency);var d=c.keyValueDeps[r][u].depend();d&&a.onInvalidate(function(){c.keyValueDeps[r][u].hasDependents()||delete c.keyValueDeps[r][u]})}var f=void 0;return t.has(c.keys,r)&&(f=i(c.keys[r])),n.equals(f,s)},_setObject:function(e){var a=this;t.each(e,function(e,t){a.set(t,e)})},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new a.Dependency,t.keyValueDeps[e]={})},_getMigrationData:function(){return this.keys}})}).call(this),function(){if(r._migratedDictData={},r._dictsToMigrate={},r._loadMigratedDict=function(e){return t.has(r._migratedDictData,e)?r._migratedDictData[e]:null},r._registerDictForMigrate=function(e,a){if(t.has(r._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);r._dictsToMigrate[e]=a},e.isClient&&Package.reload){var a=Package.reload.Reload._migrationData("reactive-dict");a&&a.dicts&&(r._migratedDictData=a.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var e=r._dictsToMigrate,t={};for(var a in e)t[a]=e[a]._getMigrationData();return[!0,{dicts:t}]})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:r}}();

!function(){var e=Package.meteor.Meteor,a=Package.underscore._,c=Package["reactive-dict"].ReactiveDict,n=Package.ejson.EJSON,i;(function(){i=new c("session")}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:i}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["npm-bcrypt"]={}}();

!function(){var r=Package.meteor.Meteor,n;(function(){n=function(){function r(r){function n(r,n){var t=(65535&r)+(65535&n),e=(r>>16)+(n>>16)+(t>>16);return e<<16|65535&t}function t(r,n){return r>>>n|r<<32-n}function e(r,n){return r>>>n}function o(r,n,t){return r&n^~r&t}function a(r,n,t){return r&n^r&t^n&t}function u(r){return t(r,2)^t(r,13)^t(r,22)}function f(r){return t(r,6)^t(r,11)^t(r,25)}function c(r){return t(r,7)^t(r,18)^e(r,3)}function i(r){return t(r,17)^t(r,19)^e(r,10)}function h(r,t){var e=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),h=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),g=new Array(64),C,d,v,A,l,m,S,y,k,P,w,s;r[t>>5]|=128<<24-t%32,r[(t+64>>9<<4)+15]=t;for(var k=0;k<r.length;k+=16){C=h[0],d=h[1],v=h[2],A=h[3],l=h[4],m=h[5],S=h[6],y=h[7];for(var P=0;64>P;P++)g[P]=16>P?r[P+k]:n(n(n(i(g[P-2]),g[P-7]),c(g[P-15])),g[P-16]),w=n(n(n(n(y,f(l)),o(l,m,S)),e[P]),g[P]),s=n(u(C),a(C,d,v)),y=S,S=m,m=l,l=n(A,w),A=v,v=d,d=C,C=n(w,s);h[0]=n(C,h[0]),h[1]=n(d,h[1]),h[2]=n(v,h[2]),h[3]=n(A,h[3]),h[4]=n(l,h[4]),h[5]=n(m,h[5]),h[6]=n(S,h[6]),h[7]=n(y,h[7])}return h}function g(r){for(var n=Array(),t=(1<<v)-1,e=0;e<r.length*v;e+=v)n[e>>5]|=(r.charCodeAt(e/v)&t)<<24-e%32;return n}function C(r){for(var n="",t=0;t<r.length;t++){var e=r.charCodeAt(t);128>e?n+=String.fromCharCode(e):e>127&&2048>e?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128))}return n}function d(r){for(var n=A?"0123456789ABCDEF":"0123456789abcdef",t="",e=0;e<4*r.length;e++)t+=n.charAt(r[e>>2]>>8*(3-e%4)+4&15)+n.charAt(r[e>>2]>>8*(3-e%4)&15);return t}var v=8,A=0;return r=C(r),d(h(g(r),r.length*v))}return r}()}).call(this),"undefined"==typeof Package&&(Package={}),Package.sha={SHA256:n}}();

!function(){var t=Package.meteor.Meteor,i=Package.random.Random,r=Package.check.check,o=Package.check.Match,s=Package.sha.SHA256,e=Package.underscore._,h,n;(function(){n=function(){function t(t,i,r){null!=t&&("number"==typeof t?this.fromNumber(t,i,r):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function i(){return new t(null)}function r(t,i,r,o,s,e){for(;--e>=0;){var h=i*this[t++]+r[o]+s;s=Math.floor(h/67108864),r[o++]=67108863&h}return s}function o(t,i,r,o,s,e){for(var h=32767&i,n=i>>15;--e>=0;){var u=32767&this[t],f=this[t++]>>15,a=n*u+f*h;u=h*u+((32767&a)<<15)+r[o]+(1073741823&s),s=(u>>>30)+(a>>>15)+n*f+(s>>>30),r[o++]=1073741823&u}return s}function s(t,i,r,o,s,e){for(var h=16383&i,n=i>>14;--e>=0;){var u=16383&this[t],f=this[t++]>>14,a=n*u+f*h;u=h*u+((16383&a)<<14)+r[o]+s,s=(u>>28)+(a>>14)+n*f,r[o++]=268435455&u}return s}function e(t){return ii.charAt(t)}function h(t,i){var r=ri[t.charCodeAt(i)];return null==r?-1:r}function n(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function u(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function f(t){var r=i();return r.fromInt(t),r}function a(i,r){var o;if(16==r)o=4;else if(8==r)o=3;else if(256==r)o=8;else if(2==r)o=1;else if(32==r)o=5;else{if(4!=r)return void this.fromRadix(i,r);o=2}this.t=0,this.s=0;for(var s=i.length,e=!1,n=0;--s>=0;){var u=8==o?255&i[s]:h(i,s);0>u?"-"==i.charAt(s)&&(e=!0):(e=!1,0==n?this[this.t++]=u:n+o>this.DB?(this[this.t-1]|=(u&(1<<this.DB-n)-1)<<n,this[this.t++]=u>>this.DB-n):this[this.t-1]|=u<<n,n+=o,n>=this.DB&&(n-=this.DB))}8==o&&0!=(128&i[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),e&&t.ZERO.subTo(this,this)}function p(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function c(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var r=(1<<i)-1,o,s=!1,h="",n=this.t,u=this.DB-n*this.DB%i;if(n-->0)for(u<this.DB&&(o=this[n]>>u)>0&&(s=!0,h=e(o));n>=0;)i>u?(o=(this[n]&(1<<u)-1)<<i-u,o|=this[--n]>>(u+=this.DB-i)):(o=this[n]>>(u-=i)&r,0>=u&&(u+=this.DB,--n)),o>0&&(s=!0),s&&(h+=e(o));return s?h:"0"}function m(){var r=i();return t.ZERO.subTo(this,r),r}function l(){return this.s<0?this.negate():this}function v(t){var i=this.s-t.s;if(0!=i)return i;var r=this.t;if(i=r-t.t,0!=i)return i;for(;--r>=0;)if(0!=(i=this[r]-t[r]))return i;return 0}function T(t){var i=1,r;return 0!=(r=t>>>16)&&(t=r,i+=16),0!=(r=t>>8)&&(t=r,i+=8),0!=(r=t>>4)&&(t=r,i+=4),0!=(r=t>>2)&&(t=r,i+=2),0!=(r=t>>1)&&(t=r,i+=1),i}function y(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)}function d(t,i){var r;for(r=this.t-1;r>=0;--r)i[r+t]=this[r];for(r=t-1;r>=0;--r)i[r]=0;i.t=this.t+t,i.s=this.s}function D(t,i){for(var r=t;r<this.t;++r)i[r-t]=this[r];i.t=Math.max(this.t-t,0),i.s=this.s}function g(t,i){var r=t%this.DB,o=this.DB-r,s=(1<<o)-1,e=Math.floor(t/this.DB),h=this.s<<r&this.DM,n;for(n=this.t-1;n>=0;--n)i[n+e+1]=this[n]>>o|h,h=(this[n]&s)<<r;for(n=e-1;n>=0;--n)i[n]=0;i[e]=h,i.t=this.t+e+1,i.s=this.s,i.clamp()}function B(t,i){i.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)return void(i.t=0);var o=t%this.DB,s=this.DB-o,e=(1<<o)-1;i[0]=this[r]>>o;for(var h=r+1;h<this.t;++h)i[h-r-1]|=(this[h]&e)<<s,i[h-r]=this[h]>>o;o>0&&(i[this.t-r-1]|=(this.s&e)<<s),i.t=this.t-r,i.clamp()}function b(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);s>r;)o+=this[r]-t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o-=t[r],i[r++]=o&this.DM,o>>=this.DB;o-=t.s}i.s=0>o?-1:0,-1>o?i[r++]=this.DV+o:o>0&&(i[r++]=o),i.t=r,i.clamp()}function S(i,r){var o=this.abs(),s=i.abs(),e=o.t;for(r.t=e+s.t;--e>=0;)r[e]=0;for(e=0;e<s.t;++e)r[e+o.t]=o.am(0,s[e],r,e,0,o.t);r.s=0,r.clamp(),this.s!=i.s&&t.ZERO.subTo(r,r)}function E(t){for(var i=this.abs(),r=t.t=2*i.t;--r>=0;)t[r]=0;for(r=0;r<i.t-1;++r){var o=i.am(r,i[r],t,2*r,0,1);(t[r+i.t]+=i.am(r+1,2*i[r],t,2*r+1,o,i.t-r-1))>=i.DV&&(t[r+i.t]-=i.DV,t[r+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(r,i[r],t,2*r,0,1)),t.s=0,t.clamp()}function w(r,o,s){var e=r.abs();if(!(e.t<=0)){var h=this.abs();if(h.t<e.t)return null!=o&&o.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=i());var n=i(),u=this.s,f=r.s,a=this.DB-T(e[e.t-1]);a>0?(e.lShiftTo(a,n),h.lShiftTo(a,s)):(e.copyTo(n),h.copyTo(s));var p=n.t,c=n[p-1];if(0!=c){var m=c*(1<<this.F1)+(p>1?n[p-2]>>this.F2:0),l=this.FV/m,v=(1<<this.F1)/m,y=1<<this.F2,d=s.t,D=d-p,g=null==o?i():o;for(n.dlShiftTo(D,g),s.compareTo(g)>=0&&(s[s.t++]=1,s.subTo(g,s)),t.ONE.dlShiftTo(p,g),g.subTo(n,n);n.t<p;)n[n.t++]=0;for(;--D>=0;){var B=s[--d]==c?this.DM:Math.floor(s[d]*l+(s[d-1]+y)*v);if((s[d]+=n.am(0,B,s,D,0,p))<B)for(n.dlShiftTo(D,g),s.subTo(g,s);s[d]<--B;)s.subTo(g,s)}null!=o&&(s.drShiftTo(p,o),u!=f&&t.ZERO.subTo(o,o)),s.t=p,s.clamp(),a>0&&s.rShiftTo(a,s),0>u&&t.ZERO.subTo(s,s)}}}function M(r){var o=i();return this.abs().divRemTo(r,null,o),this.s<0&&o.compareTo(t.ZERO)>0&&r.subTo(o,o),o}function A(t){this.m=t}function R(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function O(t){return t}function C(t){t.divRemTo(this.m,null,t)}function F(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function V(t,i){t.squareTo(i),this.reduce(i)}function N(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=i*(2-(15&t)*i)&15,i=i*(2-(255&t)*i)&255,i=i*(2-((65535&t)*i&65535))&65535,i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i}function k(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function q(r){var o=i();return r.abs().dlShiftTo(this.m.t,o),o.divRemTo(this.m,null,o),r.s<0&&o.compareTo(t.ZERO)>0&&this.m.subTo(o,o),o}function P(t){var r=i();return t.copyTo(r),this.reduce(r),r}function L(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var r=32767&t[i],o=r*this.mpl+((r*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=i+this.m.t,t[r]+=this.m.am(0,o,t,i,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function x(t,i){t.squareTo(i),this.reduce(i)}function I(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function Z(){return 0==(this.t>0?1&this[0]:this.s)}function z(r,o){if(r>4294967295||1>r)return t.ONE;var s=i(),e=i(),h=o.convert(this),n=T(r)-1;for(h.copyTo(s);--n>=0;)if(o.sqrTo(s,e),(r&1<<n)>0)o.mulTo(e,h,s);else{var u=s;s=e,e=u}return o.revert(s)}function U(t,i){var r;return r=256>t||i.isEven()?new A(i):new k(i),this.exp(t,r)}function j(){var t=i();return this.copyTo(t),t}function H(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function _(){return 0==this.t?this.s:this[0]<<24>>24}function G(){return 0==this.t?this.s:this[0]<<16>>16}function J(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function K(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Q(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var r=this.chunkSize(t),o=Math.pow(t,r),s=f(o),e=i(),h=i(),n="";for(this.divRemTo(s,e,h);e.signum()>0;)n=(o+h.intValue()).toString(t).substr(1)+n,e.divRemTo(s,e,h);return h.intValue().toString(t)+n}function W(i,r){this.fromInt(0),null==r&&(r=10);for(var o=this.chunkSize(r),s=Math.pow(r,o),e=!1,n=0,u=0,f=0;f<i.length;++f){var a=h(i,f);0>a?"-"==i.charAt(f)&&0==this.signum()&&(e=!0):(u=r*u+a,++n>=o&&(this.dMultiply(s),this.dAddOffset(u,0),n=0,u=0))}n>0&&(this.dMultiply(Math.pow(r,n)),this.dAddOffset(u,0)),e&&t.ZERO.subTo(this,this)}function X(i,r,o){if("number"==typeof r)if(2>i)this.fromInt(1);else for(this.fromNumber(i,o),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),et,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(t.ONE.shiftLeft(i-1),this);else{var s=new Array,e=7&i;s.length=(i>>3)+1,r.nextBytes(s),e>0?s[0]&=(1<<e)-1:s[0]=0,this.fromString(s,256)}}function Y(){var t=this.t,i=new Array;i[0]=this.s;var r=this.DB-t*this.DB%8,o,s=0;if(t-->0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)8>r?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=this[t]>>(r-=8)&255,0>=r&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function $(t){return 0==this.compareTo(t)}function tt(t){return this.compareTo(t)<0?this:t}function it(t){return this.compareTo(t)>0?this:t}function rt(t,i,r){var o,s,e=Math.min(t.t,this.t);for(o=0;e>o;++o)r[o]=i(this[o],t[o]);if(t.t<this.t){for(s=t.s&this.DM,o=e;o<this.t;++o)r[o]=i(this[o],s);r.t=this.t}else{for(s=this.s&this.DM,o=e;o<t.t;++o)r[o]=i(s,t[o]);r.t=t.t}r.s=i(this.s,t.s),r.clamp()}function ot(t,i){return t&i}function st(t){var r=i();return this.bitwiseTo(t,ot,r),r}function et(t,i){return t|i}function ht(t){var r=i();return this.bitwiseTo(t,et,r),r}function nt(t,i){return t^i}function ut(t){var r=i();return this.bitwiseTo(t,nt,r),r}function ft(t,i){return t&~i}function at(t){var r=i();return this.bitwiseTo(t,ft,r),r}function pt(){for(var t=i(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t}function ct(t){var r=i();return 0>t?this.rShiftTo(-t,r):this.lShiftTo(t,r),r}function mt(t){var r=i();return 0>t?this.lShiftTo(-t,r):this.rShiftTo(t,r),r}function lt(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function vt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+lt(this[t]);return this.s<0?this.t*this.DB:-1}function Tt(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function yt(){for(var t=0,i=this.s&this.DM,r=0;r<this.t;++r)t+=Tt(this[r]^i);return t}function dt(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)}function Dt(i,r){var o=t.ONE.shiftLeft(i);return this.bitwiseTo(o,r,o),o}function gt(t){return this.changeBit(t,et)}function Bt(t){return this.changeBit(t,ft)}function bt(t){return this.changeBit(t,nt)}function St(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);s>r;)o+=this[r]+t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o+=t[r],i[r++]=o&this.DM,o>>=this.DB;o+=t.s}i.s=0>o?-1:0,o>0?i[r++]=o:-1>o&&(i[r++]=this.DV+o),i.t=r,i.clamp()}function Et(t){var r=i();return this.addTo(t,r),r}function wt(t){var r=i();return this.subTo(t,r),r}function Mt(t){var r=i();return this.multiplyTo(t,r),r}function At(t){var r=i();return this.divRemTo(t,r,null),r}function Rt(t){var r=i();return this.divRemTo(t,null,r),r}function Ot(t){var r=i(),o=i();return this.divRemTo(t,r,o),new Array(r,o)}function Ct(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Ft(t,i){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}function Vt(){}function Nt(t){return t}function kt(t,i,r){t.multiplyTo(i,r)}function qt(t,i){t.squareTo(i)}function Pt(t){return this.exp(t,new Vt)}function Lt(t,i,r){var o=Math.min(this.t+t.t,i);for(r.s=0,r.t=o;o>0;)r[--o]=0;var s;for(s=r.t-this.t;s>o;++o)r[o+this.t]=this.am(0,t[o],r,o,0,this.t);for(s=Math.min(t.t,i);s>o;++o)this.am(0,t[o],r,o,0,i-o);r.clamp()}function xt(t,i,r){--i;var o=r.t=this.t+t.t-i;for(r.s=0;--o>=0;)r[o]=0;for(o=Math.max(i-this.t,0);o<t.t;++o)r[this.t+o-i]=this.am(i-o,t[o],r,0,0,this.t+o-i);r.clamp(),r.drShiftTo(1,r)}function It(r){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}function Zt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=i();return t.copyTo(r),this.reduce(r),r}function zt(t){return t}function Ut(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function jt(t,i){t.squareTo(i),this.reduce(i)}function Ht(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function _t(t,r){var o=t.bitLength(),s,e=f(1),h;if(0>=o)return e;s=18>o?1:48>o?3:144>o?4:768>o?5:6,h=8>o?new A(r):r.isEven()?new It(r):new k(r);var n=new Array,u=3,a=s-1,p=(1<<s)-1;if(n[1]=h.convert(this),s>1){var c=i();for(h.sqrTo(n[1],c);p>=u;)n[u]=i(),h.mulTo(c,n[u-2],n[u]),u+=2}var m=t.t-1,l,v=!0,y=i(),d;for(o=T(t[m])-1;m>=0;){for(o>=a?l=t[m]>>o-a&p:(l=(t[m]&(1<<o+1)-1)<<a-o,m>0&&(l|=t[m-1]>>this.DB+o-a)),u=s;0==(1&l);)l>>=1,--u;if((o-=u)<0&&(o+=this.DB,--m),v)n[l].copyTo(e),v=!1;else{for(;u>1;)h.sqrTo(e,y),h.sqrTo(y,e),u-=2;u>0?h.sqrTo(e,y):(d=e,e=y,y=d),h.mulTo(y,n[l],e)}for(;m>=0&&0==(t[m]&1<<o);)h.sqrTo(e,y),d=e,e=y,y=d,--o<0&&(o=this.DB-1,--m)}return h.revert(e)}function Gt(t){var i=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(i.compareTo(r)<0){var o=i;i=r,r=o}var s=i.getLowestSetBit(),e=r.getLowestSetBit();if(0>e)return i;for(e>s&&(e=s),e>0&&(i.rShiftTo(e,i),r.rShiftTo(e,r));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),i.compareTo(r)>=0?(i.subTo(r,i),i.rShiftTo(1,i)):(r.subTo(i,r),r.rShiftTo(1,r));return e>0&&r.lShiftTo(e,r),r}function Jt(t){if(0>=t)return 0;var i=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==i)r=this[0]%t;else for(var o=this.t-1;o>=0;--o)r=(i*r+this[o])%t;return r}function Kt(i){var r=i.isEven();if(this.isEven()&&r||0==i.signum())return t.ZERO;for(var o=i.clone(),s=this.clone(),e=f(1),h=f(0),n=f(0),u=f(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),r?(e.isEven()&&h.isEven()||(e.addTo(this,e),h.subTo(i,h)),e.rShiftTo(1,e)):h.isEven()||h.subTo(i,h),h.rShiftTo(1,h);for(;s.isEven();)s.rShiftTo(1,s),r?(n.isEven()&&u.isEven()||(n.addTo(this,n),u.subTo(i,u)),n.rShiftTo(1,n)):u.isEven()||u.subTo(i,u),u.rShiftTo(1,u);o.compareTo(s)>=0?(o.subTo(s,o),r&&e.subTo(n,e),h.subTo(u,h)):(s.subTo(o,s),r&&n.subTo(e,n),u.subTo(h,u))}return 0!=s.compareTo(t.ONE)?t.ZERO:u.compareTo(i)>=0?u.subtract(i):u.signum()<0?(u.addTo(i,u),u.signum()<0?u.add(i):u):u}function Qt(t){var i,r=this.abs();if(1==r.t&&r[0]<=ei[ei.length-1]){for(i=0;i<ei.length;++i)if(r[0]==ei[i])return!0;return!1}if(r.isEven())return!1;for(i=1;i<ei.length;){for(var o=ei[i],s=i+1;s<ei.length&&hi>o;)o*=ei[s++];for(o=r.modInt(o);s>i;)if(o%ei[i++]==0)return!1}return r.millerRabin(t)}function Wt(r){var o=this.subtract(t.ONE),s=o.getLowestSetBit();if(0>=s)return!1;var e=o.shiftRight(s);r=r+1>>1,r>ei.length&&(r=ei.length);for(var h=i(),n=0;r>n;++n){h.fromInt(ei[n]);var u=h.modPow(e,this);if(0!=u.compareTo(t.ONE)&&0!=u.compareTo(o)){for(var f=1;f++<s&&0!=u.compareTo(o);)if(u=u.modPowInt(2,this),0==u.compareTo(t.ONE))return!1;if(0!=u.compareTo(o))return!1}}return!0}var Xt,Yt=0xdeadbeefcafe,$t=15715070==(16777215&Yt);t.prototype.am=s,Xt=28,t.prototype.DB=Xt,t.prototype.DM=(1<<Xt)-1,t.prototype.DV=1<<Xt;var ti=52;t.prototype.FV=Math.pow(2,ti),t.prototype.F1=ti-Xt,t.prototype.F2=2*Xt-ti;var ii="0123456789abcdefghijklmnopqrstuvwxyz",ri=new Array,oi,si;for(oi="0".charCodeAt(0),si=0;9>=si;++si)ri[oi++]=si;for(oi="a".charCodeAt(0),si=10;36>si;++si)ri[oi++]=si;for(oi="A".charCodeAt(0),si=10;36>si;++si)ri[oi++]=si;A.prototype.convert=R,A.prototype.revert=O,A.prototype.reduce=C,A.prototype.mulTo=F,A.prototype.sqrTo=V,k.prototype.convert=q,k.prototype.revert=P,k.prototype.reduce=L,k.prototype.mulTo=I,k.prototype.sqrTo=x,t.prototype.copyTo=n,t.prototype.fromInt=u,t.prototype.fromString=a,t.prototype.clamp=p,t.prototype.dlShiftTo=d,t.prototype.drShiftTo=D,t.prototype.lShiftTo=g,t.prototype.rShiftTo=B,t.prototype.subTo=b,t.prototype.multiplyTo=S,t.prototype.squareTo=E,t.prototype.divRemTo=w,t.prototype.invDigit=N,t.prototype.isEven=Z,t.prototype.exp=z,t.prototype.toString=c,t.prototype.negate=m,t.prototype.abs=l,t.prototype.compareTo=v,t.prototype.bitLength=y,t.prototype.mod=M,t.prototype.modPowInt=U,t.ZERO=f(0),t.ONE=f(1),Vt.prototype.convert=Nt,Vt.prototype.revert=Nt,Vt.prototype.mulTo=kt,Vt.prototype.sqrTo=qt,It.prototype.convert=Zt,It.prototype.revert=zt,It.prototype.reduce=Ut,It.prototype.mulTo=Ht,It.prototype.sqrTo=jt;var ei=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],hi=(1<<26)/ei[ei.length-1];return t.prototype.chunkSize=J,t.prototype.toRadix=Q,t.prototype.fromRadix=W,t.prototype.fromNumber=X,t.prototype.bitwiseTo=rt,t.prototype.changeBit=Dt,t.prototype.addTo=St,t.prototype.dMultiply=Ct,t.prototype.dAddOffset=Ft,t.prototype.multiplyLowerTo=Lt,t.prototype.multiplyUpperTo=xt,t.prototype.modInt=Jt,t.prototype.millerRabin=Wt,t.prototype.clone=j,t.prototype.intValue=H,t.prototype.byteValue=_,t.prototype.shortValue=G,t.prototype.signum=K,t.prototype.toByteArray=Y,t.prototype.equals=$,t.prototype.min=tt,t.prototype.max=it,t.prototype.and=st,t.prototype.or=ht,t.prototype.xor=ut,t.prototype.andNot=at,t.prototype.not=pt,t.prototype.shiftLeft=ct,t.prototype.shiftRight=mt,t.prototype.getLowestSetBit=vt,t.prototype.bitCount=yt,t.prototype.testBit=dt,t.prototype.setBit=gt,t.prototype.clearBit=Bt,t.prototype.flipBit=bt,t.prototype.add=Et,t.prototype.subtract=wt,t.prototype.multiply=Mt,t.prototype.divide=At,t.prototype.remainder=Rt,t.prototype.divideAndRemainder=Ot,t.prototype.modPow=_t,t.prototype.modInverse=Kt,t.prototype.pow=Pt,t.prototype.gcd=Gt,t.prototype.isProbablePrime=Qt,t}()}).call(this),function(){h={},h.generateVerifier=function(t,o){var s=r(o),e=o&&o.salt||i.secret(),h,u=o&&o.hashedIdentityAndPassword;u||(h=o&&o.identity||i.secret(),u=s.hash(h+":"+t));var f=s.hash(e+u),a=new n(f,16),p=s.g.modPow(a,s.N);return{identity:h,salt:e,verifier:p.toString(16)}},h.matchVerifier={identity:String,salt:String,verifier:String};var t={hash:function(t){return s(t).toLowerCase()},N:new n("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new n("2")};t.k=new n(t.hash(t.N.toString(16)+t.g.toString(16)),16);var r=function(i){if(!i)return t;var r=e.extend({},t);return e.each(["N","g","k"],function(t){if(i[t])if("string"==typeof i[t])r[t]=new n(i[t],16);else{if(!(i[t]instanceof n))throw new Error("Invalid parameter: "+t);r[t]=i[t]}}),i.hash&&(r.hash=function(t){return i.hash(t).toLowerCase()}),!i.k&&(i.N||i.g||i.hash)&&(r.k=r.hash(r.N.toString(16)+r.g.toString(16))),r}}.call(this),"undefined"==typeof Package&&(Package={}),Package.srp={SRP:h}}();

!function(){var r=Package.meteor.Meteor,e=Package["accounts-base"].Accounts,o=Package.srp.SRP,s=Package.sha.SHA256,a=Package.check.check,t=Package.check.Match,n=Package.underscore._,d=Package.ddp.DDP;(function(){r.loginWithPassword=function(r,s,a){"string"==typeof r&&(r=-1===r.indexOf("@")?{username:r}:{email:r}),e.callLoginMethod({methodArguments:[{user:r,password:e._hashPassword(s)}],userCallback:function(e,t){e&&400===e.error&&"old password format"===e.reason?o({upgradeError:e,userSelector:r,plaintextPassword:s},a):e?a&&a(e):a&&a()}})},e._hashPassword=function(r){return{digest:s(r),algorithm:"sha-256"}};var o=function(o,a){var t;try{t=EJSON.parse(o.upgradeError.details)}catch(n){}t&&"srp"===t.format?e.callLoginMethod({methodArguments:[{user:o.userSelector,srp:s(t.identity+":"+o.plaintextPassword),password:e._hashPassword(o.plaintextPassword)}],userCallback:a}):a&&a(new r.Error(400,"Password is old. Please reset your password."))};e.createUser=function(o,s){if(o=n.clone(o),"string"!=typeof o.password)throw new Error("Must set options.password");return o.password?(o.password=e._hashPassword(o.password),void e.callLoginMethod({methodName:"createUser",methodArguments:[o],userCallback:s})):void s(new r.Error(400,"Password may not be empty"))},e.changePassword=function(s,t,n){return r.user()?(a(t,String),t?void e.connection.apply("changePassword",[s?e._hashPassword(s):null,e._hashPassword(t)],function(a,d){a||!d?a&&400===a.error&&"old password format"===a.reason?o({upgradeError:a,userSelector:{id:r.userId()},plaintextPassword:s},function(r){r?n&&n(r):e.changePassword(s,t,n)}):n&&n(a||new Error("No result from changePassword.")):n&&n()}):void n(new r.Error(400,"Password may not be empty"))):void(n&&n(new Error("Must be logged in to change password.")))},e.forgotPassword=function(r,o){if(!r.email)throw new Error("Must pass options.email");e.connection.call("forgotPassword",r,o)},e.resetPassword=function(o,s,t){return a(o,String),a(s,String),s?void e.callLoginMethod({methodName:"resetPassword",methodArguments:[o,e._hashPassword(s)],userCallback:t}):void t(new r.Error(400,"Password may not be empty"))},e.verifyEmail=function(r,o){if(!r)throw new Error("Need to pass token");e.callLoginMethod({methodName:"verifyEmail",methodArguments:[r],userCallback:o})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}();

!function(){var n=Package.meteor.Meteor,e=Package.tracker.Tracker,o=Package.tracker.Deps,i=Package["service-configuration"].ServiceConfiguration,t=Package["accounts-base"].Accounts,s=Package.underscore._,r=Package.templating.Template,a=Package.session.Session,l=Package.blaze.Blaze,u=Package.blaze.UI,c=Package.blaze.Handlebars,g=Package.htmljs.HTML,d,p,f,m,w,b,k,_;(function(){t.ui={},t.ui._options={requestPermissions:{},requestOfflineToken:{},forceApprovalPrompt:{}},t.ui.config=function(n){var e=["passwordSignupFields","requestPermissions","requestOfflineToken","forceApprovalPrompt"];if(s.each(s.keys(n),function(n){if(!s.contains(e,n))throw new Error("Accounts.ui.config: Invalid key: "+n)}),n.passwordSignupFields){if(!s.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY","EMAIL_ONLY"],n.passwordSignupFields))throw new Error("Accounts.ui.config: Invalid option for `passwordSignupFields`: "+n.passwordSignupFields);if(t.ui._options.passwordSignupFields)throw new Error("Accounts.ui.config: Can't set `passwordSignupFields` more than once");t.ui._options.passwordSignupFields=n.passwordSignupFields}n.requestPermissions&&s.each(n.requestPermissions,function(n,e){if(t.ui._options.requestPermissions[e])throw new Error("Accounts.ui.config: Can't set `requestPermissions` more than once for "+e);if(!(n instanceof Array))throw new Error("Accounts.ui.config: Value for `requestPermissions` must be an array");t.ui._options.requestPermissions[e]=n}),n.requestOfflineToken&&s.each(n.requestOfflineToken,function(n,e){if("google"!==e)throw new Error("Accounts.ui.config: `requestOfflineToken` only supported for Google login at the moment.");if(t.ui._options.requestOfflineToken[e])throw new Error("Accounts.ui.config: Can't set `requestOfflineToken` more than once for "+e);t.ui._options.requestOfflineToken[e]=n}),n.forceApprovalPrompt&&s.each(n.forceApprovalPrompt,function(n,e){if("google"!==e)throw new Error("Accounts.ui.config: `forceApprovalPrompt` only supported for Google login at the moment.");if(t.ui._options.forceApprovalPrompt[e])throw new Error("Accounts.ui.config: Can't set `forceApprovalPrompt` more than once for "+e);t.ui._options.forceApprovalPrompt[e]=n})},d=function(){return t.ui._options.passwordSignupFields||"EMAIL_ONLY"}}).call(this),function(){r.__checkName("loginButtons"),r.loginButtons=new r("Template.loginButtons",function(){var n=this;return g.DIV({id:"login-buttons","class":function(){return["login-buttons-dropdown-align-",Spacebars.mustache(n.lookup("align"))]}},"\n    ",l.If(function(){return Spacebars.call(n.lookup("currentUser"))},function(){return["\n      ",l.If(function(){return Spacebars.call(n.lookup("loggingIn"))},function(){return["\n        \n        ",l.If(function(){return Spacebars.call(n.lookup("dropdown"))},function(){return["\n          ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]},function(){return["\n          ",g.DIV({"class":"login-buttons-with-only-one-button"},"\n            ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n          "),"\n        "]}),"\n      "]},function(){return["\n        ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedIn")),"\n      "]}),"\n    "]},function(){return["\n      ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOut")),"\n    "]}),"\n  ")}),r.__checkName("_loginButtonsLoggedIn"),r._loginButtonsLoggedIn=new r("Template._loginButtonsLoggedIn",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("dropdown"))},function(){return["\n    ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedInDropdown")),"\n  "]},function(){return["\n    ",g.DIV({"class":"login-buttons-with-only-one-button"},"\n      ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedInSingleLogoutButton")),"\n    "),"\n  "]})}),r.__checkName("_loginButtonsLoggedOut"),r._loginButtonsLoggedOut=new r("Template._loginButtonsLoggedOut",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("services"))},function(){return[" \n    ",l.If(function(){return Spacebars.call(n.lookup("configurationLoaded"))},function(){return["\n      ",l.If(function(){return Spacebars.call(n.lookup("dropdown"))},function(){return[" \n        ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutDropdown")),"\n      "]},function(){return["\n        ",Spacebars.With(function(){return Spacebars.call(n.lookup("singleService"))},function(){return[" \n          ",g.DIV({"class":"login-buttons-with-only-one-button"},"\n            ",l.If(function(){return Spacebars.call(n.lookup("loggingIn"))},function(){return["\n              ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n            "]},function(){return["\n              ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n            "]}),"\n          "),"\n        "]}),"\n      "]}),"\n    "]}),"\n  "]},function(){return["\n    ",g.DIV({"class":"no-services"},"No login services configured"),"\n  "]})}),r.__checkName("_loginButtonsMessages"),r._loginButtonsMessages=new r("Template._loginButtonsMessages",function(){var n=this;return[l.If(function(){return Spacebars.call(n.lookup("errorMessage"))},function(){return["\n    ",g.DIV({"class":"message error-message"},l.View("lookup:errorMessage",function(){return Spacebars.mustache(n.lookup("errorMessage"))})),"\n  "]}),"\n  ",l.If(function(){return Spacebars.call(n.lookup("infoMessage"))},function(){return["\n    ",g.DIV({"class":"message info-message"},l.View("lookup:infoMessage",function(){return Spacebars.mustache(n.lookup("infoMessage"))})),"\n  "]})]}),r.__checkName("_loginButtonsLoggingIn"),r._loginButtonsLoggingIn=new r("Template._loginButtonsLoggingIn",function(){var n=this;return[Spacebars.include(n.lookupTemplate("_loginButtonsLoggingInPadding")),g.Raw('\n  <div class="loading">&nbsp;</div>\n  '),Spacebars.include(n.lookupTemplate("_loginButtonsLoggingInPadding"))]}),r.__checkName("_loginButtonsLoggingInPadding"),r._loginButtonsLoggingInPadding=new r("Template._loginButtonsLoggingInPadding",function(){var n=this;return l.Unless(function(){return Spacebars.call(n.lookup("dropdown"))},function(){return["\n    \n    ",g.DIV({"class":"login-buttons-padding"},"\n      ",g.DIV({"class":"login-button single-login-button",style:"visibility: hidden;",id:"login-buttons-logout"},g.CharRef({html:"&nbsp;",str:" "})),"\n    "),"\n  "]},function(){return["\n    \n    ",g.DIV({"class":"login-buttons-padding"}),"\n  "]})})}.call(this),function(){r.__checkName("_loginButtonsLoggedOutSingleLoginButton"),r._loginButtonsLoggedOutSingleLoginButton=new r("Template._loginButtonsLoggedOutSingleLoginButton",function(){var n=this;return g.DIV({"class":"login-text-and-button"},"\n    ",g.DIV({"class":function(){return["login-button single-login-button ",l.Unless(function(){return Spacebars.call(n.lookup("configured"))},function(){return"configure-button"})]},id:function(){return["login-buttons-",Spacebars.mustache(n.lookup("name"))]}},"\n      ",g.DIV({"class":"login-image",id:function(){return["login-buttons-image-",Spacebars.mustache(n.lookup("name"))]}}),"\n      ",l.If(function(){return Spacebars.call(n.lookup("configured"))},function(){return["\n        ",g.SPAN({"class":function(){return["text-besides-image sign-in-text-",Spacebars.mustache(n.lookup("name"))]}},"Sign in with ",l.View("lookup:capitalizedName",function(){return Spacebars.mustache(n.lookup("capitalizedName"))})),"\n      "]},function(){return["\n        ",g.SPAN({"class":function(){return["text-besides-image configure-text-",Spacebars.mustache(n.lookup("name"))]}},"Configure ",l.View("lookup:capitalizedName",function(){return Spacebars.mustache(n.lookup("capitalizedName"))})," Login"),"\n      "]}),"\n    "),"\n  ")}),r.__checkName("_loginButtonsLoggingInSingleLoginButton"),r._loginButtonsLoggingInSingleLoginButton=new r("Template._loginButtonsLoggingInSingleLoginButton",function(){var n=this;return g.DIV({"class":"login-text-and-button"},"\n    ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n  ")}),r.__checkName("_loginButtonsLoggedInSingleLogoutButton"),r._loginButtonsLoggedInSingleLogoutButton=new r("Template._loginButtonsLoggedInSingleLogoutButton",function(){var n=this;return g.DIV({"class":"login-text-and-button"},"\n    ",g.DIV({"class":"login-display-name"},"\n      ",l.View("lookup:displayName",function(){return Spacebars.mustache(n.lookup("displayName"))}),"\n    "),g.Raw('\n    <div class="login-button single-login-button" id="login-buttons-logout">Sign Out</div>\n  '))})}.call(this),function(){r.__checkName("_loginButtonsLoggedInDropdown"),r._loginButtonsLoggedInDropdown=new r("Template._loginButtonsLoggedInDropdown",function(){var n=this;return g.DIV({"class":"login-link-and-dropdown-list"},"\n    ",g.A({"class":"login-link-text",id:"login-name-link"},"\n      ",l.View("lookup:displayName",function(){return Spacebars.mustache(n.lookup("displayName"))})," ▾\n    "),"\n\n    ",l.If(function(){return Spacebars.call(n.lookup("dropdownVisible"))},function(){return["\n      ",g.DIV({id:"login-dropdown-list","class":"accounts-dialog"},"\n        ",g.A({"class":"login-close-text"},"Close"),"\n        ",g.DIV({"class":"login-close-text-clear"}),"\n\n        ",l.If(function(){return Spacebars.call(n.lookup("inMessageOnlyFlow"))},function(){return["\n          ",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n        "]},function(){return["\n          ",l.If(function(){return Spacebars.call(n.lookup("inChangePasswordFlow"))},function(){return["\n            ",Spacebars.include(n.lookupTemplate("_loginButtonsChangePassword")),"\n          "]},function(){return["\n            ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedInDropdownActions")),"\n          "]}),"\n        "]}),"\n      "),"\n    "]}),"\n  ")}),r.__checkName("_loginButtonsLoggedInDropdownActions"),r._loginButtonsLoggedInDropdownActions=new r("Template._loginButtonsLoggedInDropdownActions",function(){var n=this;return[l.If(function(){return Spacebars.call(n.lookup("allowChangingPassword"))},function(){return["\n    ",g.DIV({"class":"login-button",id:"login-buttons-open-change-password"},"\n      Change password\n    "),"\n  "]}),g.Raw('\n\n  <div class="login-button" id="login-buttons-logout">\n    Sign out\n  </div>\n\n  '),Spacebars.include(n.lookupTemplate("_loginButtonsMessages"))]}),r.__checkName("_loginButtonsLoggedOutDropdown"),r._loginButtonsLoggedOutDropdown=new r("Template._loginButtonsLoggedOutDropdown",function(){var n=this;return g.DIV({"class":function(){return["login-link-and-dropdown-list ",Spacebars.mustache(n.lookup("additionalClasses"))]}},"\n    ",l.If(function(){return Spacebars.call(n.lookup("dropdownVisible"))},function(){return["\n      \n      ",g.A({"class":"login-link-text",id:"login-sign-in-link"},"Sign in ▾"),"\n      ",g.DIV({id:"login-dropdown-list","class":"accounts-dialog"},"\n        ",g.A({"class":"login-close-text"},"Close"),"\n        ",l.If(function(){return Spacebars.call(n.lookup("loggingIn"))},function(){return["\n          ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]}),"\n        ",g.DIV({"class":"login-close-text-clear"}),"\n        ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutAllServices")),"\n      "),"\n    "]},function(){return["\n      ",l.If(function(){return Spacebars.call(n.lookup("loggingIn"))},function(){return["\n        \n        ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggingIn")),"\n      "]},function(){return["\n        ",g.A({"class":"login-link-text",id:"login-sign-in-link"},"Sign in ▾"),"\n      "]}),"\n    "]}),"\n  ")}),r.__checkName("_loginButtonsLoggedOutAllServices"),r._loginButtonsLoggedOutAllServices=new r("Template._loginButtonsLoggedOutAllServices",function(){var n=this;return[l.Each(function(){return Spacebars.call(n.lookup("services"))},function(){return["\n    ",l.If(function(){return Spacebars.call(n.lookup("isPasswordService"))},function(){return["\n      ",l.If(function(){return Spacebars.call(n.lookup("hasOtherServices"))},function(){return[" \n        ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutPasswordServiceSeparator")),"\n      "]}),"\n      ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutPasswordService")),"\n    "]},function(){return["\n      ",Spacebars.include(n.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n    "]}),"\n  "]}),"\n\n  ",l.Unless(function(){return Spacebars.call(n.lookup("hasPasswordService"))},function(){return["\n    ",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n  "]})]}),r.__checkName("_loginButtonsLoggedOutPasswordServiceSeparator"),r._loginButtonsLoggedOutPasswordServiceSeparator=new r("Template._loginButtonsLoggedOutPasswordServiceSeparator",function(){var n=this;return g.Raw('<div class="or">\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n    <span class="or-text">or</span>\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n  </div>')}),r.__checkName("_loginButtonsLoggedOutPasswordService"),r._loginButtonsLoggedOutPasswordService=new r("Template._loginButtonsLoggedOutPasswordService",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("inForgotPasswordFlow"))},function(){return["\n    ",Spacebars.include(n.lookupTemplate("_forgotPasswordForm")),"\n  "]},function(){return["\n    ",g.DIV({"class":"login-form login-password-form"},"\n      ",l.Each(function(){return Spacebars.call(n.lookup("fields"))},function(){return["\n        ",Spacebars.include(n.lookupTemplate("_loginButtonsFormField")),"\n      "]}),"\n\n      ",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n\n      ",g.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-password"},"\n        ",l.If(function(){return Spacebars.call(n.lookup("inSignupFlow"))},function(){return"\n          Create account\n        "},function(){return"\n          Sign in\n        "}),"\n      "),"\n\n      ",l.If(function(){return Spacebars.call(n.lookup("inLoginFlow"))},function(){return["\n        ",l.If(function(){return Spacebars.call(n.lookup("showCreateAccountLink"))},function(){return["\n          ",g.DIV({"class":"additional-link-container"},"\n            ",g.A({id:"signup-link","class":"additional-link"},"Create account"),"\n          "),"\n        "]}),"\n\n        ",l.If(function(){return Spacebars.call(n.lookup("showForgotPasswordLink"))},function(){return["\n          ",g.DIV({"class":"additional-link-container"},"\n            ",g.A({id:"forgot-password-link","class":"additional-link"},"Forgot password"),"\n          "),"\n        "]}),"\n      "]}),"\n\n      ",l.If(function(){return Spacebars.call(n.lookup("inSignupFlow"))},function(){return["\n        ",Spacebars.include(n.lookupTemplate("_loginButtonsBackToLoginLink")),"\n      "]}),"\n    "),"\n  "]})}),r.__checkName("_forgotPasswordForm"),r._forgotPasswordForm=new r("Template._forgotPasswordForm",function(){var n=this;return g.DIV({"class":"login-form"},g.Raw('\n    <div id="forgot-password-email-label-and-input"> \n      <label id="forgot-password-email-label" for="forgot-password-email">Email</label>\n      <input id="forgot-password-email" type="email">\n    </div>\n\n    '),Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),g.Raw('\n\n    <div class="login-button login-button-form-submit" id="login-buttons-forgot-password">\n      Reset password\n    </div>\n\n    '),Spacebars.include(n.lookupTemplate("_loginButtonsBackToLoginLink")),"\n  ")}),r.__checkName("_loginButtonsBackToLoginLink"),r._loginButtonsBackToLoginLink=new r("Template._loginButtonsBackToLoginLink",function(){var n=this;return g.Raw('<div class="additional-link-container">\n    <a id="back-to-login-link" class="additional-link">Sign in</a>\n  </div>')}),r.__checkName("_loginButtonsFormField"),r._loginButtonsFormField=new r("Template._loginButtonsFormField",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("visible"))},function(){return["\n    ",g.DIV({id:function(){return["login-",Spacebars.mustache(n.lookup("fieldName")),"-label-and-input"]}},"\n      ",g.LABEL({id:function(){return["login-",Spacebars.mustache(n.lookup("fieldName")),"-label"]},"for":function(){return["login-",Spacebars.mustache(n.lookup("fieldName"))]}},"\n        ",l.View("lookup:fieldLabel",function(){return Spacebars.mustache(n.lookup("fieldLabel"))}),"\n      "),"\n      ",g.INPUT({id:function(){return["login-",Spacebars.mustache(n.lookup("fieldName"))]},type:function(){return Spacebars.mustache(n.lookup("inputType"))}}),"\n    "),"\n  "]})}),r.__checkName("_loginButtonsChangePassword"),r._loginButtonsChangePassword=new r("Template._loginButtonsChangePassword",function(){var n=this;return[l.Each(function(){return Spacebars.call(n.lookup("fields"))},function(){return["\n    ",Spacebars.include(n.lookupTemplate("_loginButtonsFormField")),"\n  "]}),"\n\n  ",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),g.Raw('\n\n  <div class="login-button login-button-form-submit" id="login-buttons-do-change-password">\n    Change password\n  </div>')]})}.call(this),function(){r.body.addContent(function(){var n=this;return[Spacebars.include(n.lookupTemplate("_resetPasswordDialog")),"\n  ",Spacebars.include(n.lookupTemplate("_justResetPasswordDialog")),"\n  ",Spacebars.include(n.lookupTemplate("_enrollAccountDialog")),"\n  ",Spacebars.include(n.lookupTemplate("_justVerifiedEmailDialog")),"\n  ",Spacebars.include(n.lookupTemplate("_configureLoginServiceDialog")),"\n  ",Spacebars.include(n.lookupTemplate("_configureLoginOnDesktopDialog")),"\n\n  \n  ",Spacebars.include(n.lookupTemplate("_loginButtonsMessagesDialog"))]}),n.startup(r.body.renderToDocument),r.__checkName("_resetPasswordDialog"),r._resetPasswordDialog=new r("Template._resetPasswordDialog",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("inResetPasswordFlow"))},function(){return["\n    ",g.DIV({"class":"hide-background"}),"\n\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      ",g.LABEL({id:"reset-password-new-password-label","for":"reset-password-new-password"},"\n        New password\n      "),"\n\n      ",g.DIV({"class":"reset-password-new-password-wrapper"},"\n        ",g.INPUT({id:"reset-password-new-password",type:"password"}),"\n      "),"\n\n      ",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n\n      ",g.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-reset-password-button"},"\n        Set password\n      "),"\n\n      ",g.A({"class":"accounts-close",id:"login-buttons-cancel-reset-password"},g.CharRef({html:"&times;",str:"×"})),"\n    "),"\n  "]})}),r.__checkName("_justResetPasswordDialog"),r._justResetPasswordDialog=new r("Template._justResetPasswordDialog",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("visible"))},function(){return["\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      Password reset.\n      You are now logged in as ",l.View("lookup:displayName",function(){return Spacebars.mustache(n.lookup("displayName"))}),".\n      ",g.DIV({"class":"login-button",id:"just-verified-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})}),r.__checkName("_enrollAccountDialog"),r._enrollAccountDialog=new r("Template._enrollAccountDialog",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("inEnrollAccountFlow"))},function(){return["\n    ",g.DIV({"class":"hide-background"}),"\n\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      ",g.LABEL({id:"enroll-account-password-label","for":"enroll-account-password"},"\n        Choose a password\n      "),"\n\n      ",g.DIV({"class":"enroll-account-password-wrapper"},"\n        ",g.INPUT({id:"enroll-account-password",type:"password"}),"\n      "),"\n\n      ",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n\n      ",g.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-enroll-account-button"},"\n        Create account\n      "),"\n\n      ",g.A({"class":"accounts-close",id:"login-buttons-cancel-enroll-account"},g.CharRef({html:"&times;",str:"×"})),"\n    "),"\n  "]})}),r.__checkName("_justVerifiedEmailDialog"),r._justVerifiedEmailDialog=new r("Template._justVerifiedEmailDialog",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("visible"))},function(){return["\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      Email verified.\n      You are now logged in as ",l.View("lookup:displayName",function(){return Spacebars.mustache(n.lookup("displayName"))}),".\n      ",g.DIV({"class":"login-button",id:"just-verified-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})}),r.__checkName("_configureLoginServiceDialog"),r._configureLoginServiceDialog=new r("Template._configureLoginServiceDialog",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("visible"))},function(){return["\n    ",g.DIV({id:"configure-login-service-dialog","class":"accounts-dialog accounts-centered-dialog"},"\n      ",Spacebars.include(n.lookupTemplate("configurationSteps")),"\n\n      ",g.P("\n        Now, copy over some details.\n      "),"\n      ",g.P("\n        ",g.TABLE("\n          ",g.COLGROUP("\n            ",g.COL({span:"1","class":"configuration_labels"}),"\n            ",g.COL({span:"1","class":"configuration_inputs"}),"\n          "),"\n          ",l.Each(function(){return Spacebars.call(n.lookup("configurationFields"))},function(){return["\n            ",g.TR("\n              ",g.TD("\n                ",g.LABEL({"for":function(){return["configure-login-service-dialog-",Spacebars.mustache(n.lookup("property"))]}},l.View("lookup:label",function(){return Spacebars.mustache(n.lookup("label"))})),"\n              "),"\n              ",g.TD("\n                ",g.INPUT({id:function(){return["configure-login-service-dialog-",Spacebars.mustache(n.lookup("property"))]},type:"text"}),"\n              "),"\n            "),"\n          "]}),"\n        "),"\n      "),"\n      ",g.P({"class":"new-section"},"\n        Choose the login style:\n      "),"\n      ",g.P("\n        ",g.CharRef({html:"&emsp;",str:" "}),g.INPUT({id:"configure-login-service-dialog-popupBasedLogin",type:"radio",checked:"checked",name:"loginStyle",value:"popup"}),"\n        ",g.LABEL({"for":"configure-login-service-dialog-popupBasedLogin"},"Popup-based login (recommended for most applications)"),"\n\n        ",g.BR(),g.CharRef({html:"&emsp;",str:" "}),g.INPUT({id:"configure-login-service-dialog-redirectBasedLogin",type:"radio",name:"loginStyle",value:"redirect"}),"\n        ",g.LABEL({"for":"configure-login-service-dialog-redirectBasedLogin"},"\n          Redirect-based login (special cases explained\n          ",g.A({href:"https://github.com/meteor/meteor/wiki/OAuth-for-mobile-Meteor-clients#popup-versus-redirect-flow",target:"_blank"},"here"),")\n        "),"\n      "),"\n      ",g.DIV({"class":"new-section"},"\n        ",g.DIV({"class":"login-button configure-login-service-dismiss-button"},"\n          I'll do this later\n        "),"\n        ",g.A({"class":"accounts-close configure-login-service-dismiss-button"},g.CharRef({html:"&times;",str:"×"})),"\n\n        ",g.DIV({"class":function(){return["login-button login-button-configure ",l.If(function(){return Spacebars.call(n.lookup("saveDisabled"))},function(){return"login-button-disabled"})]},id:"configure-login-service-dialog-save-configuration"},"\n          Save Configuration\n        "),"\n      "),"\n    "),"\n  "]})}),r.__checkName("_loginButtonsMessagesDialog"),r._loginButtonsMessagesDialog=new r("Template._loginButtonsMessagesDialog",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("visible"))},function(){return["\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog",id:"login-buttons-message-dialog"},"\n      ",Spacebars.include(n.lookupTemplate("_loginButtonsMessages")),"\n      ",g.DIV({"class":"login-button",id:"messages-dialog-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})}),r.__checkName("_configureLoginOnDesktopDialog"),r._configureLoginOnDesktopDialog=new r("Template._configureLoginOnDesktopDialog",function(){var n=this;return l.If(function(){return Spacebars.call(n.lookup("visible"))},function(){return["\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog",id:"configure-on-desktop-dialog"},"\n      ",g.P("\n        Please configure login on a desktop browser.\n      "),"\n      ",g.DIV({"class":"login-button",id:"configure-on-desktop-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})})}.call(this),function(){var e=["dropdownVisible","inSignupFlow","inForgotPasswordFlow","inChangePasswordFlow","inMessageOnlyFlow","errorMessage","infoMessage","resetPasswordToken","enrollAccountToken","justVerifiedEmail","justResetPassword","configureLoginServiceDialogVisible","configureLoginServiceDialogServiceName","configureLoginServiceDialogSaveDisabled","configureOnDesktopVisible"],o=function(n){if(!s.contains(e,n))throw new Error("Invalid key in loginButtonsSession: "+n)},i="Meteor.loginButtons.";t._loginButtonsSession={set:function(n,e){if(o(n),s.contains(["errorMessage","infoMessage"],n))throw new Error("Don't set errorMessage or infoMessage directly. Instead, use errorMessage() or infoMessage().");this._set(n,e)},_set:function(n,e){a.set(i+n,e)},get:function(n){return o(n),a.get(i+n)},closeDropdown:function(){this.set("inSignupFlow",!1),this.set("inForgotPasswordFlow",!1),this.set("inChangePasswordFlow",!1),this.set("inMessageOnlyFlow",!1),this.set("dropdownVisible",!1),this.resetMessages()},infoMessage:function(n){this._set("errorMessage",null),this._set("infoMessage",n),this.ensureMessageVisible()},errorMessage:function(n){this._set("errorMessage",n),this._set("infoMessage",null),this.ensureMessageVisible()},isMessageDialogVisible:function(){return this.get("resetPasswordToken")||this.get("enrollAccountToken")||this.get("justVerifiedEmail")},ensureMessageVisible:function(){this.isMessageDialogVisible()||this.set("dropdownVisible",!0)},resetMessages:function(){this._set("errorMessage",null),this._set("infoMessage",null)},configureService:function(e){n.isCordova?this.set("configureOnDesktopVisible",!0):(this.set("configureLoginServiceDialogVisible",!0),this.set("configureLoginServiceDialogServiceName",e),this.set("configureLoginServiceDialogSaveDisabled",!0))}}}.call(this),function(){var e=t._loginButtonsSession;r.loginButtons.events({"click #login-buttons-logout":function(){n.logout(function(){e.closeDropdown()})}}),r.registerHelper("loginButtons",function(){throw new Error("Use {{> loginButtons}} instead of {{loginButtons}}")}),p=function(){var e=n.user();return e?e.profile&&e.profile.name?e.profile.name:e.username?e.username:e.emails&&e.emails[0]&&e.emails[0].address?e.emails[0].address:"":""},f=function(){var n=this,e=Package["accounts-oauth"]?t.oauth.serviceNames():[];return e.sort(),m()&&e.push("password"),s.map(e,function(n){return{name:n}})},m=function(){return!!Package["accounts-password"]},w=function(){return m()||f().length>1},b=function(n){return n.length>=3?!0:(e.errorMessage("Username must be at least 3 characters long"),!1)},k=function(n){return"USERNAME_AND_OPTIONAL_EMAIL"===d()&&""===n?!0:-1!==n.indexOf("@")?!0:(e.errorMessage("Invalid email"),!1)},_=function(n){return n.length>=6?!0:(e.errorMessage("Password must be at least 6 characters long"),!1)},r._loginButtonsLoggedOut.helpers({dropdown:w,services:f,singleService:function(){var n=f();if(1!==n.length)throw new Error("Shouldn't be rendering this template with more than one configured service");return n[0]},configurationLoaded:function(){return t.loginServicesConfigured()}}),r._loginButtonsLoggedIn.helpers({dropdown:w}),r._loginButtonsLoggedInSingleLogoutButton.helpers({displayName:p}),r._loginButtonsMessages.helpers({errorMessage:function(){return e.get("errorMessage")}}),r._loginButtonsMessages.helpers({infoMessage:function(){return e.get("infoMessage")}}),r._loginButtonsLoggingInPadding.helpers({dropdown:w})}.call(this),function(){var e=t._loginButtonsSession,o=function(n,o){o?o instanceof t.LoginCancelledError||(o instanceof i.ConfigError?e.configureService(n):e.errorMessage(o.reason||"Unknown error")):e.closeDropdown()};t.onPageLoadLogin(function(n){s.contains(s.pluck(f(),"name"),n.type)&&o(n.type,n.error)}),r._loginButtonsLoggedOutSingleLoginButton.events({"click .login-button":function(){var i=this.name;e.resetMessages();var s=n["loginWith"+("meteor-developer"===i?"MeteorDeveloperAccount":a(i))],r={};t.ui._options.requestPermissions[i]&&(r.requestPermissions=t.ui._options.requestPermissions[i]),t.ui._options.requestOfflineToken[i]&&(r.requestOfflineToken=t.ui._options.requestOfflineToken[i]),t.ui._options.forceApprovalPrompt[i]&&(r.forceApprovalPrompt=t.ui._options.forceApprovalPrompt[i]),s(r,function(n){o(i,n)})}}),r._loginButtonsLoggedOutSingleLoginButton.helpers({configured:function(){return!!i.configurations.findOne({service:this.name})},capitalizedName:function(){return"github"===this.name?"GitHub":"meteor-developer"===this.name?"Meteor":a(this.name)}});var a=function(n){return n=null==n?"":String(n),n.charAt(0).toUpperCase()+n.slice(1)}}.call(this),function(){var o=t._loginButtonsSession;r.loginButtons.events({"click #login-name-link, click #login-sign-in-link":function(){o.set("dropdownVisible",!0),e.flush(),h()},"click .login-close-text":function(){o.closeDropdown()}}),r._loginButtonsLoggedInDropdown.events({"click #login-buttons-open-change-password":function(){o.resetMessages(),o.set("inChangePasswordFlow",!0)}}),r._loginButtonsLoggedInDropdown.helpers({displayName:p,inChangePasswordFlow:function(){return o.get("inChangePasswordFlow")},inMessageOnlyFlow:function(){return o.get("inMessageOnlyFlow")},dropdownVisible:function(){return o.get("dropdownVisible")}}),r._loginButtonsLoggedInDropdownActions.helpers({allowChangingPassword:function(){var e=n.user();return e.username||e.emails&&e.emails[0]&&e.emails[0].address}}),r._loginButtonsLoggedOutDropdown.events({"click #login-buttons-password":function(){l()},"keypress #forgot-password-email":function(n){13===n.keyCode&&g()},"click #login-buttons-forgot-password":function(){g()},"click #signup-link":function(){o.resetMessages();var n=a("login-username"),t=a("login-email"),s=a("login-username-or-email"),r=i("login-password");o.set("inSignupFlow",!0),o.set("inForgotPasswordFlow",!1),e.flush(),null!==n?document.getElementById("login-username").value=n:null!==t?document.getElementById("login-email").value=t:null!==s&&(-1===s.indexOf("@")?document.getElementById("login-username").value=s:document.getElementById("login-email").value=s),null!==r&&(document.getElementById("login-password").value=r);var l=document.getElementById("login-dropdown-list");l.style.display="none",l.offsetHeight,l.style.display="block"},"click #forgot-password-link":function(){o.resetMessages();var n=a("login-email"),i=a("login-username-or-email");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!0),e.flush(),null!==n?document.getElementById("forgot-password-email").value=n:null!==i&&-1!==i.indexOf("@")&&(document.getElementById("forgot-password-email").value=i)},"click #back-to-login-link":function(){o.resetMessages();var n=a("login-username"),t=a("login-email")||a("forgot-password-email"),s=i("login-password");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!1),e.flush(),document.getElementById("login-username")&&(document.getElementById("login-username").value=n),document.getElementById("login-email")&&(document.getElementById("login-email").value=t),document.getElementById("login-username-or-email")&&(document.getElementById("login-username-or-email").value=t||n),null!==s&&(document.getElementById("login-password").value=s);

},"keypress #login-username, keypress #login-email, keypress #login-username-or-email, keypress #login-password, keypress #login-password-again":function(n){13===n.keyCode&&l()}}),r._loginButtonsLoggedOutDropdown.helpers({additionalClasses:function(){return m()?o.get("inSignupFlow")?"login-form-create-account":o.get("inForgotPasswordFlow")?"login-form-forgot-password":"login-form-sign-in":!1},dropdownVisible:function(){return o.get("dropdownVisible")},hasPasswordService:m}),r._loginButtonsLoggedOutAllServices.helpers({services:f,isPasswordService:function(){return"password"===this.name},hasOtherServices:function(){return f().length>1},hasPasswordService:m}),r._loginButtonsLoggedOutPasswordService.helpers({fields:function(){var n=[{fieldName:"username-or-email",fieldLabel:"Username or Email",visible:function(){return s.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"],d())}},{fieldName:"username",fieldLabel:"Username",visible:function(){return"USERNAME_ONLY"===d()}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return"EMAIL_ONLY"===d()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}}],e=[{fieldName:"username",fieldLabel:"Username",visible:function(){return s.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],d())}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return s.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],d())}},{fieldName:"email",fieldLabel:"Email (optional)",inputType:"email",visible:function(){return"USERNAME_AND_OPTIONAL_EMAIL"===d()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"Password (again)",inputType:"password",visible:function(){return s.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],d())}}];return o.get("inSignupFlow")?e:n},inForgotPasswordFlow:function(){return o.get("inForgotPasswordFlow")},inLoginFlow:function(){return!o.get("inSignupFlow")&&!o.get("inForgotPasswordFlow")},inSignupFlow:function(){return o.get("inSignupFlow")},showCreateAccountLink:function(){return!t._options.forbidClientAccountCreation},showForgotPasswordLink:function(){return s.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"],d())}}),r._loginButtonsFormField.helpers({inputType:function(){return this.inputType||"text"}}),r._loginButtonsChangePassword.events({"keypress #login-old-password, keypress #login-password, keypress #login-password-again":function(n){13===n.keyCode&&w()},"click #login-buttons-do-change-password":function(){w()}}),r._loginButtonsChangePassword.helpers({fields:function(){return[{fieldName:"old-password",fieldLabel:"Current Password",inputType:"password",visible:function(){return!0}},{fieldName:"password",fieldLabel:"New Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"New Password (again)",inputType:"password",visible:function(){return s.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],d())}}]}});var i=function(n){var e=document.getElementById(n);return e?e.value:null},a=function(n){var e=document.getElementById(n);return e?e.value.replace(/^\s*|\s*$/g,""):null},l=function(){o.get("inSignupFlow")?c():u()},u=function(){o.resetMessages();var e=a("login-username"),t=a("login-email"),s=a("login-username-or-email"),r=i("login-password"),l;if(null!==e){if(!b(e))return;l={username:e}}else if(null!==t){if(!k(t))return;l={email:t}}else{if(null===s)throw new Error("Unexpected -- no element to use as a login user selector");if(!b(s))return;l=s}n.loginWithPassword(l,r,function(n,e){n?o.errorMessage(n.reason||"Unknown error"):o.closeDropdown()})},c=function(){o.resetMessages();var n={},e=a("login-username");if(null!==e){if(!b(e))return;n.username=e}var s=a("login-email");if(null!==s){if(!k(s))return;n.email=s}var r=i("login-password");_(r)&&(n.password=r,v()&&t.createUser(n,function(n){n?o.errorMessage(n.reason||"Unknown error"):o.closeDropdown()}))},g=function(){o.resetMessages();var n=a("forgot-password-email");-1!==n.indexOf("@")?t.forgotPassword({email:n},function(n){n?o.errorMessage(n.reason||"Unknown error"):o.infoMessage("Email sent")}):o.errorMessage("Invalid email")},w=function(){o.resetMessages();var n=i("login-old-password"),e=i("login-password");_(e)&&v()&&t.changePassword(n,e,function(n){n?o.errorMessage(n.reason||"Unknown error"):(o.set("inChangePasswordFlow",!1),o.set("inMessageOnlyFlow",!0),o.infoMessage("Password changed"))})},v=function(){var n=i("login-password-again");if(null!==n){var e=i("login-password");if(e!==n)return o.errorMessage("Passwords don't match"),!1}return!0},h=function(){for(var n=document.getElementById("login-dropdown-list").parentNode;"BODY"!==n.nodeName;n=n.parentNode)0===n.style.zIndex&&(n.style.zIndex=1)}}.call(this),function(){var e=t._loginButtonsSession,o;t.onResetPasswordLink(function(n,i){e.set("resetPasswordToken",n),o=i}),t.onEnrollmentLink(function(n,i){e.set("enrollAccountToken",n),o=i}),t.onEmailVerificationLink(function(n,o){t.verifyEmail(n,function(n){n||e.set("justVerifiedEmail",!0),o()})}),r._resetPasswordDialog.events({"click #login-buttons-reset-password-button":function(){i()},"keypress #reset-password-new-password":function(n){13===n.keyCode&&i()},"click #login-buttons-cancel-reset-password":function(){e.set("resetPasswordToken",null),o&&o()}});var i=function(){e.resetMessages();var n=document.getElementById("reset-password-new-password").value;_(n)&&t.resetPassword(e.get("resetPasswordToken"),n,function(n){n?e.errorMessage(n.reason||"Unknown error"):(e.set("resetPasswordToken",null),e.set("justResetPassword",!0),o&&o())})};r._resetPasswordDialog.helpers({inResetPasswordFlow:function(){return e.get("resetPasswordToken")}}),r._justResetPasswordDialog.events({"click #just-verified-dismiss-button":function(){e.set("justResetPassword",!1)}}),r._justResetPasswordDialog.helpers({visible:function(){return e.get("justResetPassword")},displayName:p}),r._enrollAccountDialog.events({"click #login-buttons-enroll-account-button":function(){a()},"keypress #enroll-account-password":function(n){13===n.keyCode&&a()},"click #login-buttons-cancel-enroll-account":function(){e.set("enrollAccountToken",null),o&&o()}});var a=function(){e.resetMessages();var n=document.getElementById("enroll-account-password").value;_(n)&&t.resetPassword(e.get("enrollAccountToken"),n,function(n){n?e.errorMessage(n.reason||"Unknown error"):(e.set("enrollAccountToken",null),o&&o())})};r._enrollAccountDialog.helpers({inEnrollAccountFlow:function(){return e.get("enrollAccountToken")}}),r._justVerifiedEmailDialog.events({"click #just-verified-dismiss-button":function(){e.set("justVerifiedEmail",!1)}}),r._justVerifiedEmailDialog.helpers({visible:function(){return e.get("justVerifiedEmail")},displayName:p}),r._loginButtonsMessagesDialog.events({"click #messages-dialog-dismiss-button":function(){e.resetMessages()}}),r._loginButtonsMessagesDialog.helpers({visible:function(){var n=e.get("infoMessage")||e.get("errorMessage");return!w()&&n}}),r._configureLoginServiceDialog.events({"click .configure-login-service-dismiss-button":function(){e.set("configureLoginServiceDialogVisible",!1)},"click #configure-login-service-dialog-save-configuration":function(){if(e.get("configureLoginServiceDialogVisible")&&!e.get("configureLoginServiceDialogSaveDisabled")){var o=e.get("configureLoginServiceDialogServiceName"),i={service:o};s.each(c(),function(n){i[n.property]=document.getElementById("configure-login-service-dialog-"+n.property).value.replace(/^\s*|\s*$/g,"")}),i.loginStyle=$('#configure-login-service-dialog input[name="loginStyle"]:checked').val(),t.connection.call("configureLoginService",i,function(i,t){i?n._debug("Error configuring login service "+o,i):e.set("configureLoginServiceDialogVisible",!1)})}},"input, keyup input":function(n){0===n.target.id.indexOf("configure-login-service-dialog")&&l()}});var l=function(){var n=s.any(c(),function(n){return""===document.getElementById("configure-login-service-dialog-"+n.property).value});e.set("configureLoginServiceDialogSaveDisabled",n)},u=function(){var n=e.get("configureLoginServiceDialogServiceName");return r["configureLoginServiceDialogFor"+("meteor-developer"===n?"MeteorDeveloper":g(n))]},c=function(){var n=u();return n.fields()};r._configureLoginServiceDialog.helpers({configurationFields:function(){return c()},visible:function(){return e.get("configureLoginServiceDialogVisible")},configurationSteps:function(){return u()},saveDisabled:function(){return e.get("configureLoginServiceDialogSaveDisabled")}});var g=function(n){return n=null==n?"":String(n),n.charAt(0).toUpperCase()+n.slice(1)};r._configureLoginOnDesktopDialog.helpers({visible:function(){return e.get("configureOnDesktopVisible")}}),r._configureLoginOnDesktopDialog.events({"click #configure-on-desktop-dismiss-button":function(){e.set("configureOnDesktopVisible",!1)}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-ui-unstyled"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.less={}}();

!function(){var a=Package.meteor.Meteor,e=Package["accounts-base"].Accounts;"undefined"==typeof Package&&(Package={}),Package["accounts-ui"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["browser-policy-framing"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["browser-policy-content"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["reload-safetybelt"]={}}();

!function(){var e=Package.meteor.Meteor,r;(function(){r={extensions:{}};var e=r.forEach=function(e,r){if("function"==typeof e.forEach)e.forEach(r);else{var n,t=e.length;for(n=0;t>n;n++)r(e[n],n,e)}},n=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()};r.converter=function(e){var t,a,c,o=0,l=[],i=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var u=require("fs");if(u){var p=u.readdirSync((__dirname||".")+"/extensions").filter(function(e){return~e.indexOf(".js")}).map(function(e){return e.replace(/\.js$/,"")});r.forEach(p,function(e){var t=n(e);r.extensions[t]=require("./extensions/"+e)})}}if(this.makeHtml=function(e){return t={},a={},c=[],e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=D(e),e=e.replace(/^[ \t]+$/gm,""),r.forEach(l,function(r){e=g(r,e)}),e=C(e),e=d(e),e=s(e),e=m(e),e=j(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),r.forEach(i,function(r){e=g(r,e)}),e},e&&e.extensions){var f=this;r.forEach(e.extensions,function(e){if("string"==typeof e&&(e=r.extensions[n(e)]),"function"!=typeof e)throw"Extension '"+e+"' could not be loaded.  It was either not found or is not a valid extension.";r.forEach(e(f),function(e){e.type?"language"===e.type||"lang"===e.type?l.push(e):("output"===e.type||"html"===e.type)&&i.push(e):i.push(e)})})}var g=function(e,r){if(e.regex){var n=new RegExp(e.regex,"g");return r.replace(n,e.replace)}return e.filter?e.filter(r):void 0},s=function(e){return e+="~0",e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(e,r,n,c,o){return r=r.toLowerCase(),t[r]=A(n),c?c+o:(o&&(a[r]=o.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")},d=function(e){e=e.replace(/\n/g,"\n\n");var r="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",n="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,h),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,h),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/\n\n/g,"\n")},h=function(e,r){var n=r;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(c.push(n)-1)+"K\n\n"},m=function(e){e=E(e);var r=q("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,r),e=_(e),e=S(e),e=P(e),e=d(e),e=z(e)},v=function(e){return e=K(e),e=$(e),e=B(e),e=x(e),e=w(e),e=M(e),e=A(e),e=L(e),e=e.replace(/  +\n/g," <br />\n")},$=function(e){var r=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(r,function(e){var r=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return r=I(r,"\\`*_")})},w=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,k),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,k),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,k)},k=function(e,r,n,c,o,l,i,u){void 0==u&&(u="");var p=r,f=n,g=c.toLowerCase(),s=o,d=u;if(""==s)if(""==g&&(g=f.toLowerCase().replace(/ ?\n/g," ")),s="#"+g,void 0!=t[g])s=t[g],void 0!=a[g]&&(d=a[g]);else{if(!(p.search(/\(\s*\)$/m)>-1))return p;s=""}s=I(s,"*_");var h='<a href="'+s+'"';return""!=d&&(d=d.replace(/"/g,"&quot;"),d=I(d,"*_"),h+=' title="'+d+'"'),h+=">"+f+"</a>"},x=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,y),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,y)},y=function(e,r,n,c,o,l,i,u){var p=r,f=n,g=c.toLowerCase(),s=o,d=u;if(d||(d=""),""==s){if(""==g&&(g=f.toLowerCase().replace(/ ?\n/g," ")),s="#"+g,void 0==t[g])return p;s=t[g],void 0!=a[g]&&(d=a[g])}f=f.replace(/"/g,"&quot;"),s=I(s,"*_");var h='<img src="'+s+'" alt="'+f+'"';return d=d.replace(/"/g,"&quot;"),d=I(d,"*_"),h+=' title="'+d+'"',h+=" />"},E=function(e){function r(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return q('<h1 id="'+r(n)+'">'+v(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return q('<h2 id="'+r(n)+'">'+v(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,t){var a=n.length;return q("<h"+a+' id="'+r(t)+'">'+v(t)+"</h"+a+">")})},b,_=function(e){e+="~0";var r=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return o?e=e.replace(r,function(e,r,n){var t=r,a=n.search(/[*+-]/g)>-1?"ul":"ol";t=t.replace(/\n{2,}/g,"\n\n\n");var c=b(t);return c=c.replace(/\s+$/,""),c="<"+a+">"+c+"</"+a+">\n"}):(r=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(r,function(e,r,n,t){var a=r,c=n,o=t.search(/[*+-]/g)>-1?"ul":"ol",c=c.replace(/\n{2,}/g,"\n\n\n"),l=b(c);return l=a+"<"+o+">\n"+l+"</"+o+">\n"})),e=e.replace(/~0/,"")};b=function(e){return o++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,r,n,t,a){var c=a,o=r,l=n;return o||c.search(/\n{2,}/)>-1?c=m(H(c)):(c=_(H(c)),c=c.replace(/\n$/,""),c=v(c)),"<li>"+c+"</li>\n"}),e=e.replace(/~0/g,""),o--,e};var S=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,r,n){var t=r,a=n;return t=T(H(t)),t=D(t),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),t="<pre><code>"+t+"\n</code></pre>",q(t)+a}),e=e.replace(/~0/,"")},C=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,r,n){var t=r,a=n;return a=T(a),a=D(a),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),a="<pre><code"+(t?' class="'+t+'"':"")+">"+a+"\n</code></pre>",q(a)}),e=e.replace(/~0/,"")},q=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(c.push(e)-1)+"K\n\n"},K=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,r,n,t,a){var c=t;return c=c.replace(/^([ \t]*)/g,""),c=c.replace(/[ \t]*$/g,""),c=T(c),r+"<code>"+c+"</code>"})},T=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=I(e,"*_{}[]\\",!1)},L=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},P=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,r){var n=r;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=m(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,r){var n=r;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),q("<blockquote>\n"+n+"\n</blockquote>")})},z=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var r=e.split(/\n{2,}/g),n=[],t=r.length,a=0;t>a;a++){var o=r[a];o.search(/~K(\d+)K/g)>=0?n.push(o):o.search(/\S/)>=0&&(o=v(o),o=o.replace(/^([ \t]*)/g,"<p>"),o+="</p>",n.push(o))}t=n.length;for(var a=0;t>a;a++)for(;n[a].search(/~K(\d+)K/)>=0;){var l=c[RegExp.$1];l=l.replace(/\$/g,"$$$$"),n[a]=n[a].replace(/~K\d+K/,l)}return n.join("\n\n")},A=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},B=function(e){return e=e.replace(/\\(\\)/g,O),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,O)},M=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,r){return R(j(r))})},R=function(e){var r=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=r[Math.floor(2*Math.random())](e);else if(":"!=e){var n=Math.random();e=n>.9?r[2](e):n>.45?r[1](e):r[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},j=function(e){return e=e.replace(/~E(\d+)E/g,function(e,r){var n=parseInt(r);return String.fromCharCode(n)})},H=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},D=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,r,n){for(var t=r,a=4-t.length%4,c=0;a>c;c++)t+=" ";return t}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},I=function(e,r,n){var t="(["+r.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(t="\\\\"+t);var a=new RegExp(t,"g");return e=e.replace(a,O)},O=function(e,r){var n=r.charCodeAt(0);return"~E"+n+"E"}},"undefined"!=typeof module&&(module.exports=r),"function"==typeof define&&define.amd&&define("showdown",function(){return r})}).call(this),function(){if(Package.templating){var e=Package.templating.Template,n=Package.blaze.Blaze,t=Package.htmljs.HTML;n.Template.registerHelper("markdown",new e("markdown",function(){var e=this,a="";e.templateContentBlock&&(a=n._toText(e.templateContentBlock,t.TEXTMODE.STRING));var c=new r.converter;return t.Raw(c.makeHtml(a))}))}}.call(this),"undefined"==typeof Package&&(Package={}),Package.markdown={Showdown:r}}();

!function(){var a=Package.meteor.Meteor,e=Package.blaze.Blaze,c=Package.blaze.UI,g=Package.blaze.Handlebars,k=Package.htmljs.HTML,e,c,g;"undefined"==typeof Package&&(Package={}),Package.ui={Blaze:e,UI:c,Handlebars:g}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=Package.ejson.EJSON,r;(function(){if(Package["cmather:iron-core"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){r={},r.utils={},r.utils.assert=function(e,t){if(!e)throw new Error(t)},r.utils.warn=function(e,t){e||console&&console.warn&&console.warn(t)},r.utils.defaultValue=function(e,t,n){return"undefined"==typeof e[t]?(e[t]=n,n):e[t]},r.utils.inherits=function(e,o,i){r.utils.assert("undefined"!=typeof e,"Child is undefined in inherits function"),r.utils.assert("undefined"!=typeof o,"Parent is undefined in inherits function");for(var a in o)t.has(o,a)&&(e[a]=n.clone(o[a]));var s=function(){this.constructor=e};return s.prototype=o.prototype,e.prototype=new s,e.__super__=o.prototype,t.isObject(i)&&t.extend(e.prototype,i),e},r.utils.extend=function(e,n){n=n||{};var o=function(){var e;e=t.has(n,"constructor")?n.constructor:o.__super__.constructor,e.apply(this,arguments)};return r.utils.inherits(o,e,n)},r.utils.global=function(){return e.isClient?window:global}(),r.utils.namespace=function(e,t){var n=r.utils.global,o,i,a,s;r.utils.assert("string"==typeof e,"namespace must be a string"),o=e.split("."),a=o.pop(),s=n;for(var u=0;u<o.length;u++)i=o[u],s=s[i]=s[i]||{};return 2===arguments.length?(s[a]=t,t):s[a]},r.utils.resolve=function(e){var t=r.utils.global,n,o;if("string"==typeof e){n=e.split("."),o=t;for(var i=0;i<n.length;i++)if(o=o[n[i]],!o)return void 0}else o=e;return o},r.utils.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},r.utils.classCase=function(e){var n=/_|-|\.|\//;return e?t.map(e.split(n),function(e){return r.utils.capitalize(e)}).join(""):""},r.utils.camelCase=function(e){var t=r.utils.classCase(e);return t=t.charAt(0).toLowerCase()+t.slice(1,t.length)},r.utils.notifyDeprecated=function(e){var n,r,o,i,a="[:where] ':name' is deprecated. Please use ':instead' instead.";t.isObject(e)?(n=e.name,r=e.instead,o=e.message||a,i=e.where||"IronRouter"):(o=e,n="",r="",i=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+o.replace(":name",n).replace(":instead",r).replace(":where",i)+" "+(new Error).stack)},r.utils.withDeprecatedNotice=function(e,t,n){return function(){return Utils.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},Function.prototype.deprecate=function(e){var t=this;return r.utils.withDeprecatedNotice(e,t)},r.utils.debug=function(e){return r.utils.assert("string"==typeof e,"debug requires a package name"),function n(){if(console&&console.log&&r.debug===!0){var n=t.toArray(arguments).join(" ");console.log("%c<"+e+"> %c"+n,"color: #999;","color: #000;")}}},r.utils.get=function(e){for(var t=1;t<arguments.length;t++){if(!(e&&arguments[t]in e))return void 0;e=e[arguments[t]]}return e},r.utils.global.Iron=r}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:core"]={Iron:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.ui.Blaze,n=Package.ui.UI,a=Package.ui.Handlebars,r=Package.underscore._,i=Package.jquery.$,o=Package.jquery.jQuery,s=Package.tracker.Tracker,u=Package.tracker.Deps,c=Package["reactive-var"].ReactiveVar,l=Package.templating.Template,p=Package.random.Random,h=Package["iron:core"].Iron,d=Package.htmljs.HTML,m;(function(){if(Package["cmather:iron-dynamic-template"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){l.__checkName("__DynamicTemplateError__"),l.__DynamicTemplateError__=new l("Template.__DynamicTemplateError__",function(){var e=this;return d.DIV({style:"margin: 0 auto; color: red;"},"\n    ",t.View("lookup:msg",function(){return Spacebars.mustache(e.lookup("msg"))}),"\n  ")})}.call(this),function(){var e=h.utils.debug("iron:dynamic-template"),a=h.utils.assert,o=h.utils.get,d=h.utils.camelCase,f=function(e){return Object.prototype.toString.call(e)};m=function(e){this._id=p.id(),this.options=e=e||{},this._template=e.template,this._defaultTemplate=e.defaultTemplate,this._content=e.content,this._data=e.data,this._templateDep=new s.Dependency,this._dataDep=new s.Dependency,this._lookupHostDep=new s.Dependency,this._lookupHostValue=null,this._hooks={},this._eventMap=null,this._eventHandles=null,this._eventThisArg=null,this.name=e.name||this.constructor.prototype.name||"DynamicTemplate",this.isCreated=!1,this.isDestroyed=!1},m.prototype.template=function(e){if(1===arguments.length&&e!==this._template)return this._template=e,void this._templateDep.changed();if(!(arguments.length>0))return this._templateDep.depend(),this._template?"function"==typeof this._template?this._template():this._template:this._defaultTemplate?"function"==typeof this._defaultTemplate?this._defaultTemplate():this._defaultTemplate:void 0},m.prototype.defaultTemplate=function(e){return 1!==arguments.length?this._defaultTemplate:void(this._defaultTemplate=e)},m.prototype.clear=function(){this._template=void 0,this._data=void 0,this._templateDep.changed()},m.prototype.data=function(e){return 1===arguments.length&&e!==this._data?(this._data=e,void this._dataDep.changed()):(this._dataDep.depend(),"function"==typeof this._data?this._data():this._data)},m.prototype.create=function(e){var n=this;if(this.isCreated)throw new Error("DynamicTemplate view is already created");this.isCreated=!0,this.isDestroyed=!1;var a=c(null),i=t.View("DynamicTemplate",function(){var e=this,r=a.get();return t.With(function(){var t=n.data();return"undefined"!=typeof t?t:m.getParentDataContext(e)},function(){return n.renderView(r)})});return i.onViewCreated(function(){this.autorun(function(){a.set(n.template())})}),r.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){i[e](function(){n._runHooks(e,this)})}),i._onViewRendered(function(){n.isInserted=!0,1===i.renderCount&&n._attachEvents()}),i.onViewDestroyed(function(){n._detachEvents()}),i._templateInstance=new t.TemplateInstance(i),i.templateInstance=function(){var e=i._templateInstance;return e.data=t.getData(i),i._domrange&&!i.isDestroyed?(e.firstNode=i._domrange.firstNode(),e.lastNode=i._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e},this.view=i,i.__dynamicTemplate__=this,i.name=this.name,i},m.prototype.renderView=function(e){var n=this,a=null;return"string"==typeof e?(a=l[e],a||(a=l[d(e)]),a||(a=t.With({msg:"Couldn't find a template named "+JSON.stringify(e)+" or "+JSON.stringify(d(e))+". Are you sure you defined it?"},function(){return l.__DynamicTemplateError__}))):"[object Object]"===f(e)?a=e:"undefined"!=typeof n._content&&(a=n._content),a},m.prototype.destroy=function(){this.isCreated&&(t.remove(this.view),this.view=null,this.isDestroyed=!0,this.isCreated=!1)},r.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){m.prototype[e]=function(t){var n=this._hooks[e]=this._hooks[e]||[];return n.push(t),this}}),m.prototype._runHooks=function(e,t){for(var n=this._hooks[e]||[],a,r=0;r<n.length;r++)a=n[r],a.call(t,this)},m.prototype.events=function(e,n){var a=this;this._detachEvents(),this._eventThisArg=n;var r=this._eventMap={};for(var i in e)r[i]=function(e,r){return function(e){var i=t.getData(e.currentTarget);null==i&&(i={});var o=a.view.templateInstance();return r.call(n||this,e,o,i)}}(i,e[i]);this._attachEvents()},m.prototype._attachEvents=function(){var e=this,n=e._eventThisArg,a=e._eventMap,i=e.view,o=e._eventHandles;if(i){var s=i._domrange;if(!s)throw new Error("no domrange");var u=function(n,s){r.each(a,function(a,u){var c=u.split(/,\s+/);r.each(c,function(r){var u=r.split(/\s+/);if(0!==u.length){var c=u.shift(),l=u.join(" ");o.push(t._EventSupport.listen(s,c,l,function(r){if(!n.containsElement(r.currentTarget))return null;var o=e._eventThisArg||this,s=arguments;return t._withCurrentView(i,function(){return a.apply(o,s)})},n,function(e){return e.parentRange}))}})})};s.attached?u(s,s.parentElement):s.onAttached(u)}},m.prototype._detachEvents=function(){r.each(this._eventHandles,function(e){e.stop()}),this._eventHandles=[]};var _=function(e,n,a,i){r.each(a,function(a,o){var s=o.split(/,\s+/);r.each(s,function(r){var o=r.split(/\s+/);if(0!==o.length){var s=o.shift(),u=o.join(" ");handles.push(t._EventSupport.listen(n,s,u,function(n){if(!e.containsElement(n.currentTarget))return null;var r=i||this,o=arguments;return t._withCurrentView(view,function(){return a.apply(r,o)})},e,function(e){return e.parentRange}))}})})};m.prototype.insert=function(e){if(e=e||{},!this.isInserted){this.isInserted=!0;var n=e.el||document.body,a=i(n);if(0===a.length)throw new Error("No element to insert layout into. Is your element defined? Try a Meteor.startup callback.");return this.view||this.create(e),t.render(this.view,a[0],e.nextNode,e.parentView),this}},m.prototype._getLookupHost=function(){return this._lookupHostValue},m.prototype._setLookupHost=function(e){var t=this;return t._lookupHostValue!==e&&(t._lookupHostValue=e,u.afterFlush(function(){t._lookupHostDep.changed()})),this},m.getParentDataContext=function(e){return m.getDataContext(e&&e.parentView)},m.getDataContext=function(e){for(;e;){if("with"===e.name&&!e.__isTemplateWith)return e.dataVar.get();e=e.parentView}return null},m.getInclusionArguments=function(e){var t=e&&e.parentView;return t&&t.__isTemplateWith?t.dataVar.get():null},m.args=function(e){return function(t){var n=m.getInclusionArguments(e);return n?t?n[t]:n:null}},m.extend=function(e){return h.utils.extend(this,e)},m.findFirstLookupHost=function(e){var n,r;for(a(e instanceof t.View,"view must be a Blaze.View");e;)if(e.__dynamicTemplate__){var n=e.__dynamicTemplate__._getLookupHost();if(n)return n}else e=e.parentView;return void 0},m.findLookupHostWithProperty=function(e,n){var r,i;for(a(e instanceof t.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__){var r=e.__dynamicTemplate__._getLookupHost();if(r&&o(r,n))return r}e=e.parentView}return void 0},m.findLookupHostWithHelper=function(e,n){var r,i;for(a(e instanceof t.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__){var r=e.__dynamicTemplate__._getLookupHost();if(r&&o(r,"constructor","_helpers",n))return r}e=e.parentView}return void 0},"undefined"!=typeof l&&n.registerHelper("DynamicTemplate",new l("DynamicTemplateHelper",function(){var e=m.args(this);return new m({data:function(){return e("data")},template:function(){return e("template")},content:this.templateContentBlock}).create()})),h.DynamicTemplate=m}.call(this),function(){var e=h.utils.assert,n=h.utils.get,a=t.View.prototype.lookup;t.View.prototype.lookup=function(e){var r;return r=m.findLookupHostWithHelper(t.getView(),e),r?function i(){var t=n(r,"constructor","_helpers",e),a=[].slice.call(arguments);return"function"==typeof t?t.apply(r,a):t}:a.apply(this,arguments)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:dynamic-template"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.templating.Template,t=Package.blaze.Blaze,r=Package.blaze.UI,o=Package.blaze.Handlebars,i=Package.underscore._,a=Package["iron:core"].Iron,s=Package.htmljs.HTML,c,u,h;(function(){var e=[];if(Package["cmather:iron-layout"]&&e.push("\n\n    The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  "),Package["cmather:blaze-layout"]&&e.push("The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\n> meteor remove cmather:blaze-layout\n"),e.length>0)throw new Error("Sorry! Looks like there's a few errors related to iron:layout\n\n"+e.join("\n\n"))}).call(this),function(){n.__checkName("__IronDefaultLayout__"),n.__IronDefaultLayout__=new n("Template.__IronDefaultLayout__",function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))})}.call(this),function(){var e=a.DynamicTemplate,o=a.utils.inherits;c=function(e){for(;e;){if("Iron.Layout"===e.name)return e.__dynamicTemplate__;e=e.parentView}return null},u=function(e){var n=this;u.__super__.constructor.apply(this,arguments),e=e||{},this.name="Iron.Layout",this._regions={},this._regionHooks={},this.defaultTemplate("__IronDefaultLayout__"),e.content&&this.render(e.content)},h=u.DEFAULT_REGION="main",o(u,a.DynamicTemplate),u.prototype.region=function(e,n){return this._ensureRegion(e,n)},u.prototype.destroyRegions=function(){i.each(this._regions,function(e){e.destroy()}),this._regions={}},u.prototype.render=function(e,n){n=n||{};var t=n.to||n.region||h,r=this.region(t);return this._trackRenderedRegion(t),r.template(e),r.data(n.data),r},u.prototype.has=function(e){return e=e||u.DEFAULT_REGION,!!this._regions[e]},u.prototype.regionKeys=function(){return i.keys(this._regions)},u.prototype.clear=function(e){return e=e||u.DEFAULT_REGION,this.has(e)&&this.region(e).template(null),this},u.prototype.clearAll=function(){return i.each(this._regions,function(e){e.template(null)}),this},u.prototype.beginRendering=function(e){var n=this;if(this._finishRenderingTransaction&&this._finishRenderingTransaction(),this._finishRenderingTransaction=i.once(function(){var t=n._endRendering({flush:!1});e&&e(t)}),Deps.afterFlush(this._finishRenderingTransaction),this._renderedRegions)throw new Error("You called beginRendering again before calling endRendering");this._renderedRegions={}},u.prototype._trackRenderedRegion=function(e){this._renderedRegions&&(this._renderedRegions[e]=!0)},u.prototype._endRendering=function(e){e=e||{},e.flush!==!1&&Deps.flush();var n=this._renderedRegions||{};return this._renderedRegions=null,i.keys(n)},i.each(["onRegionCreated","onRegionRendered","onRegionDestroyed"],function(e){u.prototype[e]=function(n){var t=this._regionHooks[e]=this._regionHooks[e]||[];return t.push(n),this}}),u.prototype._ensureRegion=function(e,n){return this._regions[e]=this._regions[e]||this._createDynamicTemplate(e,n)},u.prototype._createDynamicTemplate=function(e,n){var t=this,r=new a.DynamicTemplate(n),o=a.utils.capitalize;return r._region=e,i.each(["viewCreated","viewReady","viewDestroyed"],function(e){e=o(e),r["on"+e](function(n){var r=this,o={viewCreated:"regionCreated",viewReady:"regionRendered",viewDestroyed:"regionDestroyed"}[e];t._runRegionHooks("on"+o,r,n)})}),r},u.prototype._runRegionHooks=function(e,n,t){for(var r=this,o=this._regionHooks[e]||[],i,a=0;a<o.length;a++)i=o[a],i.call(n,t.region,t,this)},"undefined"!=typeof n&&(r.registerHelper("yield",new n("yield",function(){var n=c(this);if(!n)throw new Error("No Iron.Layout found so you can't use yield!");var t=e.getInclusionArguments(this),r,o;return i.isString(t)?r=t:i.isObject(t)&&(r=t.region),r=r||h,o=n.region(r),o.isCreated&&o.destroy(),o.create()})),r.registerHelper("contentFor",new n("contentFor",function(){var n=c(this);if(!n)throw new Error("No Iron.Layout found so you can't use contentFor!");var t=e.getInclusionArguments(this)||{},r=this.templateContentBlock,o=t.template,a=t.data,s;if(i.isString(t))s=t;else{if(!i.isObject(t))throw new Error("Which region is this contentFor block supposed to be for?");s=t.region}return n.region(s).template(o||r),n._trackRenderedRegion(s),a&&n.region(s).data(a),null})),r.registerHelper("hasRegion",function(e){var n=c(t.getView());if(!n)throw new Error("No Iron.Layout found so you can't use hasRegion!");if(!i.isString(e))throw new Error("You need to provide an region argument to hasRegion");return!!n.region(e).template()}),r.registerHelper("Layout",new n("layout",function(){var e=a.DynamicTemplate.args(this),n=new u({template:function(){return e("template")},data:function(){return e("data")},content:this.templateContentBlock});return n.create()}))),a.Layout=u}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:layout"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,n=Package["iron:core"].Iron,t,i;(function(){function e(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function r(t,a,s){a&&"[object Array]"!==n(a)&&(s=a,a=null),a=a||[],s=s||{};var c=s.strict,u=s.end!==!1,p=s.sensitive?"":"i",h=0;if(t instanceof RegExp){var l=t.source.match(/\((?!\?)/g)||[];return a.push.apply(a,l.map(function(e,r){return{name:r,delimiter:null,optional:!1,repeat:!1}})),o(t,a)}if("[object Array]"===n(t))return t=t.map(function(e){return r(e,a,s).source}),o(new RegExp("(?:"+t.join("|")+")",p),a);t=t.replace(i,function(r,n,t,i,o,s,c,u){if(n)return n;if(u)return"\\"+u;var p="+"===c||"*"===c,l="?"===c||"*"===c;return a.push({name:i||h++,delimiter:t||"/",optional:l,repeat:p}),t=t?"\\"+t:"",o=e(o||s||"[^"+(t||"\\/")+"]+?"),p&&(o=o+"(?:"+t+o+")*"),l?"(?:"+t+"("+o+"))?":t+"("+o+")"});var f="/"===t[t.length-1];return c||(t=(f?t.slice(0,-2):t)+"(?:\\/(?=$))?"),u||(t+=c&&f?"":"(?=\\/|$)"),o(new RegExp("^"+t+(u?"$":""),p),a)}var n=function(e){return Object.prototype.toString.call(e)},i=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g"),o=function(e,r){return e.keys=r,e};t=r}).call(this),function(){function e(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return void(r.constructor==URIError&&a("Tried to decode an invalid URI component: "+JSON.stringify(e)+" "+r.stack))}}function o(e){try{return decodeURI(e.replace(/\+/g," "))}catch(r){return void(r.constructor==URIError&&a("Tried to decode an invalid URI: "+JSON.stringify(e)+" "+r.stack))}}var a=n.utils.warn;i=function(e,n){n=n||{},this.options=n,this.keys=[],this.regexp=t(e,this.keys,n),this._originalPath=e,r.extend(this,i.parse(e))},i.normalize=function(e){if(e instanceof RegExp)return e;if("string"!=typeof e)return"/";var r=i.parse(e),n=r.pathname;return"/"!==n.charAt(0)&&(n="/"+n),n.length>1&&"/"===n.charAt(n.length-1)&&(n=n.slice(0,n.length-1)),n},i.isSameOrigin=function(e,r){var n=i.parse(e),t=i.parse(r),o=n.origin===t.origin;return o},i.fromQueryString=function(n){if(!n)return{};if("string"!=typeof n)throw new Error("expected string");"?"===n.charAt(0)&&(n=n.slice(1));var t=n.split("&"),i={},o;return r.each(t,function(r){var n=r.split("="),t=n[0],o=e(n[1]);"[]"===t.slice(-2)?(t=t.slice(0,-2),i[t]=i[t]||[],i[t].push(o)):i[t]=o}),i},i.toQueryString=function(e){var n=[];return"string"==typeof e?"?"!==e.charAt(0)?"?"+e:e:(r.each(e,function(e,t){r.isArray(e)?r.each(e,function(e){n.push(encodeURIComponent(t)+"[]="+encodeURIComponent(e))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.length>0?"?"+n.join("&"):"")},i.parse=function(e){if("string"!=typeof e)return{};var r=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,n=e.match(r),t=n[1]?n[1].toLowerCase():void 0,o=n[3],a=!!o,s=n[4]?n[4].toLowerCase():void 0,c=s?s.split("@"):[],u,p;2==c.length?(p=c[0],u=c[1]):1==c.length?(u=c[0],p=void 0):(u=void 0,p=void 0);var h=u&&u.split(":")||[],l=h[0],f=h[1],g=t&&u?t+"//"+u:void 0,d=n[5],m=n[8],y=e,v=n[6],w,R=m&&m.indexOf("?")||-1;~R&&!v?(v=m.slice(R),m=m.substr(0,R),w=v.slice(1)):w=n[7];var x=d+(v||""),U=i.fromQueryString(w),S=[t||"",a?"//":"",s||""].join(""),I=[t||"",a?"//":"",s||"",d||"",v||"",m||""].join("");return{rootUrl:S||"",originalUrl:e||"",href:I||"",protocol:t||"",auth:p||"",host:u||"",hostname:l||"",port:f||"",origin:g||"",path:x||"",pathname:d||"",search:v||"",query:w||"",queryObject:U||"",hash:m||"",slashes:a}},i.prototype.test=function(e){return this.regexp.test(i.normalize(e))},i.prototype.exec=function(e){return this.regexp.exec(i.normalize(e))},i.prototype.params=function(r){if(!r)return[];var n=[],t=this.exec(r),a,s=this.keys,c,u;if(!t)throw new Error('The route named "'+this.name+'" does not match the path "'+r+'"');for(var p=1,h=t.length;h>p;++p)c=s[p-1],u="string"==typeof t[p]?e(t[p]):t[p],c?n[c.name]=void 0!==n[c.name]?n[c.name]:u:n.push(u);return r=o(r),"undefined"!=typeof r&&(a=r.split("?")[1],a&&(a=a.split("#")[0]),n.hash=r.split("#")[1]||null,n.query=i.fromQueryString(a)),n},i.prototype.resolve=function(e,n){var t,o,a,s=0,c=this._originalPath,u,p,h=[],l=e;if(n=n||{},e=e||[],p=n.query,u=n.hash&&n.hash.toString(),c instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");if(c=c.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(n,i,a,s,c,u,p){if(i=i||"",a=a||"",t=e[s],o="undefined"!=typeof t,u&&!o)t="";else if(!o)return void h.push(s);t=r.isFunction(t)?t.call(e):t;var l=r.map(String(t).split("/"),function(e){return encodeURIComponent(e)}).join("/");return i+a+l}).replace(/\*/g,function(n){if("undefined"==typeof e[s])throw new Error("You are trying to access a wild card parameter at index "+s+" but the value of params at that index is undefined");var t=String(e[s++]);return r.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),p=i.toQueryString(p),c+=p,u&&(u=encodeURI(u.replace("#","")),c=c+"#"+u),c=c.replace(/\/+/g,"/"),c=c.replace(/^(.+)\/$/g,"$1"),0==h.length)return c;if(n.throwOnMissingParams===!0)throw new Error("Missing required parameters on path "+JSON.stringify(this._originalPath)+". The missing params are: "+JSON.stringify(h)+". The params object passed in was: "+JSON.stringify(l)+".");return null},n.Url=i}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:url"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package["iron:core"].Iron,r,i,n;(function(){var t=n.Url;r=function(n,r,i){e.isFunction(n)&&(i=i||r||{},r=n,n="/",this.middleware=!0,"undefined"==typeof i.mount&&(i.mount=!0)),"object"==typeof r&&(i=r,r=i.action||"action"),i=i||{},this.options=i,this.mount=i.mount,this.method=i.method&&i.method.toLowerCase()||!1,this.where=i.where||"client",this.mount&&(i.end=!1),i.name?this.name=i.name:"string"==typeof n&&"/"!==n.charAt(0)?this.name=n:r&&r.name?this.name=r.name:"string"==typeof n&&"/"!==n&&(this.name=n.split("/").slice(1).join(".")),n=i.path||n,"string"==typeof n&&"/"!==n.charAt(0)&&(n="/"+n),this.path=n,this.compiledUrl=new t(n,i),e.isString(r)?this.handle=function o(){var t=this[r];if("function"!=typeof t)throw new Error("No method named "+JSON.stringify(r)+" found on handler.");return t.apply(this,arguments)}:e.isFunction(r)&&(this.handle=r)},r.prototype.test=function(t,e){e=e||{};var n=this.compiledUrl.test(t),r=!0,i=!0;return this.method&&e.method&&(r=this.method==e.method.toLowerCase()),e.where&&(i=this.where==e.where),n&&r&&i},r.prototype.params=function(t){return this.compiledUrl.params(t)},r.prototype.resolve=function(t,e){return this.compiledUrl.resolve(t,e)},r.prototype.clone=function(){var t=new r(this.path,this.handle,this.options);return t.name=this.name,t}}).call(this),function(){var o=n.Url,a=n.utils.assert,s=n.utils.defaultValue;i=function(){this._stack=[],this.length=0},i.prototype._create=function(t,n,i){var o=new r(t,n,i),a=o.name;if(a){if(e.has(this._stack,a))throw new Error("Handler with name '"+a+"' already exists.");this._stack[a]=o}return o},i.prototype.findByName=function(t){return this._stack[t]},i.prototype.push=function(t,e,n){var r=this._create(t,e,n);return this._stack.push(r),this.length++,r},i.prototype.append=function(){var t=this,n=e.toArray(arguments),r={};return"object"==typeof n[n.length-1]&&(r=n.pop()),e.each(n,function(n){if("undefined"!=typeof n)if("function"==typeof n)t.push(n,r);else{if(!e.isArray(n))throw new Error("Can only append functions or arrays to the MiddlewareStack");t.append.apply(t,n.concat([r]))}}),this},i.prototype.insertAt=function(t,e,n,r){var i=this._create(e,n,r);return this._stack.splice(t,0,i),this.length=this._stack.length,this},i.prototype.insertBefore=function(t,n,r,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=e.indexOf(this._stack,o),this.insertAt(a,n,r,i),this},i.prototype.insertAfter=function(t,n,r,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=e.indexOf(this._stack,o),this.insertAt(a+1,n,r,i),this},i.prototype.concat=function(){var t=new i,n=Array.prototype.concat,r=EJSON.clone(this._stack),o=e.map(e.toArray(arguments),function(t){return EJSON.clone(t._stack)});return t._stack=n.apply(r,o),t.length=t._stack.length,t},i.prototype.dispatch=function h(e,n,r){var i=this,h=e;a("string"==typeof e,"Requires url"),a("object"==typeof n,"Requires context object"),e=o.normalize(e||"/"),s(n,"request",{}),s(n,"response",{}),s(n,"originalUrl",e),s(n,"_method",n.method),s(n,"_handlersForEnv",{client:!1,server:!1}),s(n,"_handled",!1),s(n,"isHandled",function(){return n._handled}),s(n,"willBeHandledOnClient",function(){return n._handlersForEnv.client}),s(n,"willBeHandledOnServer",function(){return n._handlersForEnv.server});var l=function(){if(r)try{r.apply(this,arguments)}catch(t){throw t._punt=!0,t}},c=0,u=t.bindEnvironment(function p(r){var a=i._stack[c++];if(n.url=n.request.url=n.originalUrl,!a)return l.call(n,r);if(!a.test(e,{method:n._method}))return u(r);var s=t.isClient?"client":"server";if(a.middleware||(n._handlersForEnv[a.where]=!0),a.where!==s)return u(r);if(n.next=u,a.mount){var h=o.normalize(a.compiledUrl.pathname),p=e.substr(h.length,e.length);p=o.normalize(p),n.url=n.request.url=p}try{var d=a.handle.length,f=n.request,m=n.response;return r&&4===d?a.handle.call(n,r,f,m,u):!r&&4>d?a.handle.call(n,f,m,u):u(r)}catch(r){if(r._punt)throw r;u(r)}finally{n._handled=!0,n.next=null}});return u(),n.next=null,n},n=n||{},n.MiddlewareStack=i}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:middleware-stack"]={Handler:r}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.tracker.Tracker,a=Package.tracker.Deps,r=Package.jquery.$,o=Package.jquery.jQuery,i=Package["iron:core"].Iron,c,s,h,u,l;(function(){var t=i.Url,n="__hash__";c=function(e){var a=t.parse(e),r=a.hash&&a.hash.replace("#",""),o=a.search,i=a.pathname,c=a.rootUrl;if(r&&"!"!==r.charAt(0)){var s=n+"="+r;o=o?o+"&":"?",o+=s,r=""}return!r&&i?r="#!"+i.substring(1):r&&(r="#"+r),[c,r,o].join("")},s=function(a){var r=t.parse(a),o=r.hash&&r.hash.replace("#!","/"),i=r.search,c=r.rootUrl,s;return e.has(r.queryObject,n)?(s="#"+r.queryObject[n],delete r.queryObject[n]):s="",[c,o,t.toQueryString(r.queryObject),s].join("")},h=function(e){var a=t.parse(e),r=a.queryObject;return a.hash&&(r[n]=a.hash.replace("#","")),["!",a.pathname.substring(1),t.toQueryString(r)].join("")}}).call(this),function(){var t=i.Url;u=function(n,a){e.extend(this,t.parse(n),{options:a||{}})},u.prototype.equals=function(t){return t&&t instanceof u&&t.pathname==this.pathname&&t.search==this.search&&t.hash==this.hash&&t.options.historyState===this.options.historyState?!0:!1},u.prototype.isCancelled=function(){return!!this._isCancelled},u.prototype.cancelUrlChange=function(){this._isCancelled=!0}}.call(this),function(){var n=i.Url,o=null,f=new a.Dependency,p={go:[],popState:[]},y=function(){return/MSIE 9/.test(navigator.appVersion)},g=function(){return/MSIE 8/.test(navigator.appVersion)},d=function(){return!!Package.appcache},S=function(){return"undefined"==typeof history||"function"!=typeof history.pushState},v=function(){return l.options.useHashPaths||g()||y()||d()||S()},k=function(){return!!l.options.useHashPaths},w=function(t,n){e.each(p[t],function(t){t.call(n)})},P=function(t){if(!(t instanceof u))throw new Error("Expected a State instance");return t.equals(o)?!1:(o=t,f.changed(),!0)},m=function(){var t=location.href,e;e=k()?new u(s(t)):new u(t,{historyState:history.state}),w("popState",e),P(e)},j=function(t){var e=q;e&&e(t)},_=function(t,e){e=e||{};var n=new u(t,e);w("go",n),P(n)&&a.afterFlush(function(){n.isCancelled()||(k()?location.hash=h(t):e.replaceState===!0?history.replaceState(e.historyState,null,t):history.pushState(e.historyState,null,t))})},q=function(t){try{var e=t.currentTarget,a=e.href,r=e.pathname+e.search+e.hash;if(r=r.replace(/(^\/?)/,"/"),t.isDefaultPrevented())return void t.preventDefault();if(t.metaKey||t.ctrlKey||t.shiftKey)return;if(e.target)return;if(!n.isSameOrigin(a,location.href))return;t.preventDefault(),_(r)}catch(o){throw t.preventDefault(),o}};l={},l.options={linkSelector:"a[href]",useHashPaths:!1},l.configure=function(t){e.extend(this.options,t||{})},l.get=function(){return f.depend(),o},l.start=function(){if(!this._isStarted){var e=n.parse(location.href);if(v()){if(e.pathname.length>1){var a=c(location.href);window.location=a}this.configure({useHashPaths:!0})}var o=location.href;if(k()){var i=new u(s(o));P(i)}else{if("!"===e.hash.replace("#","")[0])var o=s(o);var h={initial:!0};history.replaceState(h,null,o);var i=new u(o,{historyState:h});P(i)}r(window).on("popstate.iron-location",m),r(window).on("hashchange.iron-location",m),t.startup(function(){r(document).on("click.iron-location",l.options.linkSelector,j)}),this._isStarted=!0}},l.stop=function(){this._isStarted&&(r(window).on("popstate.iron-location"),r(window).on("hashchange.iron-location"),r(document).off("click.iron-location"),this._isStarted=!1)},l.onClick=function(t){q=t},l.go=function(t,e){return _(t,e)},l.onGo=function(t){p.go.push(t)},l.onPopState=function(t){p.popState.push(t)},l.start(),i.Location=l}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:location"]={urlToHashStyle:c,urlFromHashStyle:s}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.tracker.Tracker,a=Package.tracker.Deps,o=Package["reactive-dict"].ReactiveDict,r=Package.templating.Template,i=Package["iron:core"].Iron,u=Package.blaze.Blaze,s=Package.blaze.UI,c=Package.blaze.Handlebars,l=Package.htmljs.HTML,p,d;(function(){var t=i.utils.assert,n=function(){for(var t={},e=a.currentComputation;e;)t[String(e._id)]=!0,e=e._parent;return t},o=function(a){var o=n(),r=e.keys(a._dependentsById);e.each(r,function(e){t(!o[e],"\n\nYou called wait() after calling ready() inside the same computation tree.\n\nYou can fix this problem in two possible ways:\n\n1) Put all of your wait() calls before any ready() calls.\n2) Put your ready() call in its own computation with Deps.autorun.")})};p=function(){this._readyDep=new a.Dependency,this._comps=[],this._notReadyCount=0},p.prototype.wait=function(t){var n=this,r=a.currentComputation;o(n._readyDep),a.nonreactive(function(){var o=null,i=a.autorun(function(e){var a=!!t(),r=n._notReadyCount;e.firstRun&&!a?n._notReadyCount++:null!==o&&a!==o&&a===!0?n._notReadyCount--:null!==o&&a!==o&&a===!1&&n._notReadyCount++,o=a,0===r&&n._notReadyCount>0?n._readyDep.changed():r>0&&0===n._notReadyCount&&n._readyDep.changed()});n._comps.push(i),r&&r.onInvalidate(function(){a.afterFlush(function(){i.stop(),n._comps.splice(e.indexOf(n._comps,i),1),o===!1&&(n._notReadyCount--,0===n._notReadyCount&&n._readyDep.changed())})})})},p.prototype.ready=function(){return this._readyDep.depend(),0===this._notReadyCount},p.prototype.stop=function(){e.each(this._comps,function(t){t.stop()}),this._comps=[]},i.WaitList=p}).call(this),function(){var t=i.utils.debug("iron:controller"),n=i.Layout,a=i.DynamicTemplate,o=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};d=function(t){var e=this;this.options=t||{},this._layout=this.options.layout||new n(this.options),this._isController=!0,this._layout._setLookupHost(this);var a=d._collectEventMaps.call(this.constructor);this._layout.events(a,this),this.init(t)},d.prototype.layout=function(t,n){var a=this;return this._layout.template(t),n&&e.has(n,"data")&&this._layout.data(o(n.data,this)),{data:function(t){return a._layout.data(o(t,a))}}},d.prototype.render=function(t,e){var n=this;e&&"undefined"!=typeof e.data&&(e.data=o(e.data,this));var a=this._layout.render(t,e);return{data:function(t){return a.data(o(t,n))}}},d.prototype.beginRendering=function(t){return this._layout.beginRendering(t)},d.extend=function(t){return i.utils.extend(this,t)},d.events=function(t){return this._eventMap=t,this};var s=function(t,n){var a={};return t.__super__&&e.extend(a,s(t.__super__.constructor,n)),e.has(t,n)?e.extend(a,t[n]):a};d._collectEventMaps=function(){return s(this,"_eventMap")},d._helpers={},d.helpers=function(t){return e.extend(this._helpers,t),this},"undefined"!=typeof r&&(i.controller=function(){return a.findLookupHostWithProperty(u.getView(),"_isController")},r.registerHelper("get",function(t){var e=i.controller();return e&&e.state?e.state.get(t):void 0})),i.Controller=d}.call(this),function(){var t=i.Layout,n=i.utils.debug("iron:controller"),a=i.utils.defaultValue,r=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};d.prototype.init=function(t){this._waitlist=new p,this.state=new o},d.prototype.insert=function(t){return this._layout.insert.apply(this._layout,arguments)},d.prototype.wait=function(t){var n=this;if(t)return e.isArray(t)?e.each(t,function a(t){n.wait(t)}):this._waitlist.wait(t.ready?function(){return t.ready()}:t),this},d.prototype.ready=function(){return this._waitlist.ready()},d.prototype.stop=function(){this._waitlist.stop()}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:controller"]={}}();

!function(){var t=Package.underscore._,o=Package.tracker.Tracker,e=Package.tracker.Deps,r=Package.blaze.Blaze,n=Package.blaze.UI,i=Package.blaze.Handlebars,a=Package.templating.Template,u=Package.ejson.EJSON,s=Package.meteor.Meteor,l=Package["iron:core"].Iron,p=Package.htmljs.HTML,c,h,f,d,y,m;(function(){f=new s.EnvironmentVariable}).call(this),function(){d=["get","post","put","delete","patch"]}.call(this),function(){var o=l.Controller,e=l.Url,r=l.MiddlewareStack,n=l.utils.assert;h=o.extend({constructor:function(o){h.__super__.constructor.apply(this,arguments),o=o||{},this.options=o,this._onStopCallbacks=[],this.route=o.route,this.params=[];var e=this.lookupOption("data");"function"==typeof e?this.data=t.bind(e,this):"undefined"!=typeof e&&(this.data=function(){return e}),this.init(o)}}),h.prototype.lookupOption=function(o){if(this.route&&this.route.options&&t.has(this.route.options,o))return this.route.options[o];if(t.has(this.options,o))return this.options[o];if("undefined"!=typeof this[o])return this[o];var e=f.get();return e&&t.has(e,o)?e[o]:this.router&&this.router.options&&t.has(this.router.options,o)?this.router.options[o]:void 0},h.prototype.configureFromUrl=function(t,o,e){n("string"==typeof t,"url must be a string"),o=o||{},this.request=o.request||{},this.response=o.response||{},this.url=o.url||t,this.originalUrl=o.originalUrl||t,this.method=this.request.method,this.route&&this.setParams(this.route.params(t),e)},h.prototype._collectHooks=function(){var o=this,e=t.toArray(arguments),r=function(e){if(!e)return[];var r=o.router.lookupHook,n=t.isArray(e)?e:[e];return t.map(n,function(t){return r(t)})},n=function(o,e){var i=[];return o.__super__&&(i=i.concat(n(o.__super__.constructor,e))),t.has(o.prototype,e)?i.concat(r(o.prototype[e])):i},i=function(t){for(var o=0;o<e.length;o++)t(e[o])},a=[];i(function(t){var e=o.route&&o.route.getName(),r=o.router.getHooks(t,e);a=a.concat(r)});var u=[];i(function(t){var e=n(o.constructor,t);u=u.concat(e)});var s=[];i(function(e){if(t.has(o,e)){var n=r(o[e]);s=s.concat(n)}});var l=[];o.route&&i(function(t){var e=r(o.route.options[t]);l=l.concat(e)});var p=a.concat(l).concat(u).concat(s);return p},h.prototype.runHooks=function(){for(var t=this._collectHooks.apply(this,arguments),o=0,e=t.length;e>o;o++){var r=t[o];r.call(this)}return t.length},h.prototype.getParams=function(){return this.params},h.prototype.setParams=function(t){return this.params=t,this},l.RouteController=h}.call(this),function(){var r=l.Controller,n=l.Url,i=l.MiddlewareStack,a=l.utils.debug("iron-router:RouteController");if(h.prototype.init=function(t){h.__super__.init.apply(this,arguments),this._computation=null,this._paramsDep=new o.Dependency,this.location=l.Location},h.prototype.getParams=function(){return this._paramsDep.depend(),this.params},h.prototype.setParams=function(o,e){var r=function(o,r){if(!(o instanceof Array))throw new Error("you called equals with a non array value in setParams");if(!(r instanceof Array))return!1;if(o.length!==r.length)return!1;for(var n=0;n<o.length;n++)if(!u.equals(o[n],r[n],e))return!1;var i=t.keys(o),a=t.keys(r),s;if(i.length!==a.length)return!1;for(var n=0;n<i.length;n++){if(s=i[n],!t.has(r,s))return!1;if(!u.equals(o[s],r[s]))return!1}return!0};if(!r(this.params,o))return this.params=o,e=e||{},e.reactive!==!1&&this._paramsDep.changed(),this},h.prototype.dispatch=function(t,o,r){if(this._computation&&!this._computation.stopped)throw new Error("RouteController computation is already running. Stop it first.");var n=this;return e.nonreactive(function(){e.autorun(function(e){n._computation=e,t.dispatch(o,n,r)})}),n},h.prototype._runRoute=function(o,r,n){var a=this,u=this._collectHooks("subscriptions");t.each(u,function(t){a.wait(t.call(a))});var s=this._collectHooks("waitOn");t.each(s,function(t){a.wait(t.call(a))});var p=s.length>0,c,f,d=function(){return e.nonreactive(function(){return a._layout.template()})},y=function(){return e.nonreactive(function(){var t=a._layout._regions.main;return t&&t.template()})},m=d(),_=y();this.beginRendering(function R(o){if(!a.isStopped){var e=d(),r=y();if(m!==e||_!=r){var n=a._layout.regionKeys(),i=t.difference(n,o);t.each(i,function(t){a._layout.clear(t)})}}}),this.layout(this.lookupOption("layoutTemplate"),{data:this.lookupOption("data")});var g=new i,v=new i,k=new i;v.append(this._collectHooks("onRun","load"),{where:"client"}),k.append(this._collectHooks("onRerun"),{where:"client"}),g.append(function b(t,o,e){this._computation.firstRun&&!h._hasJustReloaded&&v.length>0?v.dispatch(t.url,this,e):e(),h._hasJustReloaded=!1},function C(t,o,e){this._computation.firstRun?e():k.length>0?k.dispatch(t.url,this,e):e()},{where:"client"}),p&&g.push(t.bind(l.Router.hooks.loading,a));var w=this._collectHooks("onBeforeAction","before");g.append(w,{where:"client"}),0===o._actionStack.length&&o._actionStack.push(o._path,"action",o.options),g=g.concat(o._actionStack),this._rendered=!1,g.dispatch(r,this,n),e.afterFlush(function(){l.utils.warn(a._rendered||a.isStopped,"Route dispatch never rendered. Did you forget to call this.next() in an onBeforeAction?")}),this.runHooks("onAfterAction","after")},h.prototype.action=function(){this.render()},h.prototype.lookupTemplate=function(){return this.lookupOption("template")||this.router&&this.router.toTemplateName(this.route.getName())},h.prototype.lookupRegionTemplates=function(){return this.lookupOption("yieldRegions")||this.lookupOption("regionTemplates")||this.lookupOption("yieldTemplates")||{}},h.prototype.render=function(t,o){if(this._rendered=!0,0===arguments.length){var t=this.lookupTemplate(),e=h.__super__.render.call(this,t);return this.renderRegions(),e}return h.__super__.render.call(this,t,o)},h.prototype.renderRegions=function(){var o=this,e=this.lookupRegionTemplates();a("regionTemplates: "+JSON.stringify(e)),t.each(e,function(t,e){o.render(e,t)})},h.prototype.stop=function(){h.__super__.stop.call(this),this._computation&&this._computation.stop(),this.runHooks("onStop","unload"),this.isStopped=!0},h.prototype.redirect=function(){return this.router.go.apply(this.router,arguments)},h.prototype.subscribe=function(){var o=this,e=s.subscribe.apply(this,arguments);return t.extend(e,{wait:function(){o.wait(this)}})},Package.reload){Package.reload.Reload._onMigrate("iron-router",function(){return[!0,!0]});var p=Package.reload.Reload._migrationData("iron-router");h._hasJustReloaded=p}}.call(this),function(){var o=l.Url,e=l.MiddlewareStack,r=l.utils.assert;y=function(o,r,n){var i=function(t,o,e){var r=this;r.request=t,r.response=o,i.dispatch(t.url,r,e)};return"object"==typeof r&&(n=r,r=n.action),n=n||{},"string"==typeof o&&"/"!==o.charAt(0)&&(o=n.path?n.path:"/"+o),t.extend(i,this.constructor.prototype),n=i.options=n||{},i._actionStack=new e,i._beforeStack=new e,i._beforeStack.append(i.options.onBeforeAction),i._beforeStack.append(i.options.before),i._afterStack=new e,i._afterStack.append(i.options.onAfterAction),i._afterStack.append(i.options.after),i._methods={},"string"==typeof r?i._actionStack.push(o,t.extend(n,{template:r})):("function"==typeof r||"object"==typeof r)&&i._actionStack.push(o,r,n),i._path=o,i},y.prototype.getName=function(){return this.handler&&this.handler.name},y.prototype.findControllerConstructor=function(){var t=this,o=function(t,o){o=o||{};var e=l.utils.resolve(t);if(e&&h.prototype.isPrototypeOf(e.prototype))return e;if(o.supressErrors!==!0)throw new Error("RouteController '"+t+"' is not defined.");return void 0},e=function(o){return t.router.toControllerName(o)},r,n=this.getName();return"function"==typeof this.options.controller?this.options.controller:"string"==typeof this.options.controller?o(this.options.controller):this.router&&this.router.options.controller?"function"==typeof this.router.options.controller?this.router.options.controller:"string"==typeof this.router.options.controller?o(this.router.options.controller):void 0:n&&(r=o(e(n),{supressErrors:!0}))?r:h},y.prototype.createController=function(t){t=t||{};var o=this.findControllerConstructor();t.route=this;var e=new o(t);return e},y.prototype.setControllerParams=function(t,o){},y.prototype.dispatch=function(t,o,e){return r(o._runRoute,"context doesn't have a _runRoute method"),o._runRoute(this,t,e)},y.prototype.path=function(t,o){return this.handler.resolve(t,o)},y.prototype.url=function(t,o){var e=this.path(t,o),r=o&&o.host||s.absoluteUrl();return"/"===r.charAt(r.length-1),r=r.slice(0,r.length-1),r+e},y.prototype.params=function(t){return this.handler.params(t)},t.each(d,function(t){y.prototype[t]=function(o){return this._methods[t]=!0,this._actionStack.push(this._path,o,{name:this.getName()+"_"+t.toLowerCase(),method:t,where:this.handler.where,mount:!1}),this}}),l.Route=y}.call(this),function(){var o=l.MiddlewareStack,e=l.Url,r=l.Layout,n=l.utils.warn,i=l.utils.assert;c=function(e){function r(t,o,e){r.dispatch(t.url,{request:t,response:o},e)}return r._stack=new o,r._globalHooks={},r.routes=[],r.routes._byPath={},this.configure.call(r,e),t.extend(r,this.constructor.prototype),this.init.call(r,e),s.startup(function(){s.defer(function(){r.options.autoStart!==!1&&r.start()})}),r},c.prototype.init=function(t){},c.prototype.configure=function(o){var e=this;o=o||{};var r=function(o){return o?t.isArray(o)?o:[o]:[]};return t.each(l.Router.HOOK_TYPES,function n(i){o[i]&&(t.each(r(o[i]),function a(t){e.addHook(i,t)}),delete o[i])}),this.options=this.options||{},t.extend(this.options,o),this},c.prototype.map=function(t){return t.call(this)},c.prototype.route=function(t,o,e){var r=function(t){return Object.prototype.toString.call(t)};i("[object String]"===r(t)||"[object RegExp]"===r(t),"Router.route requires a path that is a string or regular expression."),"object"==typeof o&&(e=o,o=e.action);var n=new y(t,o,e);e=e||{},e.mount=!1;var a=this._stack.push(t,n,e);return a.route=n,n.handler=a,n.router=this,i(!this.routes._byPath[a.path],"A route for the path "+JSON.stringify(a.path)+" already exists by the name of "+JSON.stringify(a.name)+"."),this.routes._byPath[a.path]=n,this.routes.push(n),"string"==typeof a.name&&(this.routes[a.name]=n),n},c.prototype.findFirstRoute=function(t){for(var o,e,r=0;r<this.routes.length;r++)if(m=this.routes[r],o=m.handler.test(t,{where:s.isServer?"server":"client"}))return m;return null},c.prototype.path=function(t,o,e){var r=this.routes[t];return n(r,"You called Router.path for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(o,e)},c.prototype.url=function(t,o,e){var r=this.routes[t];return n(r,"You called Router.url for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(o,e)},c.prototype.createController=function(t,o){var e=this.findFirstRoute(t),r;return o=o||{},r=e?e.createController({layout:this._layout}):new h({layout:this._layout}),r.router=this,r.configureFromUrl(t,o,{reactive:!1}),r},c.prototype.setTemplateNameConverter=function(t){return this._templateNameConverter=t,this},c.prototype.setControllerNameConverter=function(t){return this._controllerNameConverter=t,this},c.prototype.toTemplateName=function(t){return this._templateNameConverter?this._templateNameConverter(t):l.utils.classCase(t)},c.prototype.toControllerName=function(t){return this._controllerNameConverter?this._controllerNameConverter(t):l.utils.classCase(t)+"Controller"},c.prototype.addHook=function(o,e,r){var n=this;r=r||{};var i=function(o){return o?t.isArray(o)?o:[o]:[]};r.only&&(r.only=i(r.only)),r.except&&(r.except=i(r.except));var a=this._globalHooks[o]=this._globalHooks[o]||[],u=function(){var t=this,o=arguments;return f.withValue(r,function(){return n.lookupHook(e).apply(t,o)})};return a.push({options:r,hook:u}),this},c.prototype.lookupHook=function(o){var e=o;if(t.isFunction(e))return e;if(t.isString(e)&&t.isFunction(l.Router.hooks[e]))return l.Router.hooks[e];throw new Error("No hook found named: "+o)},c.prototype.getHooks=function(o,e){var r=this,n=[];return t.each(this._globalHooks[o],function(o){var r=o.options;return r.except&&t.include(r.except,e)?[]:r.only&&!t.include(r.only,e)?[]:void n.push(o.hook)}),n},c.HOOK_TYPES=["onRun","onRerun","onBeforeAction","onAfterAction","onStop","waitOn","subscriptions","load","before","after","unload"],c.hooks={},c.plugins={},t.each(c.HOOK_TYPES,function(t){c.prototype[t]=function(o,e){this.addHook(t,o,e)}}),c.prototype.plugin=function(t,o){var e;if("function"==typeof t?e=t:"string"==typeof t&&(e=l.Router.plugins[t]),!e)throw new Error("No plugin found named "+JSON.stringify(t));return e.call(this,this,o),this},l.Router=c}.call(this),function(){if("undefined"!=typeof a)var t=new a("DefaultLoadingTemplate",function(){return"Loading..."}),o=new a("DefaultDataNotFoundTemplate",function(){return"Data not found..."});c.hooks.loading=function(){if(this.ready())return void this.next();var o=this.lookupOption("loadingTemplate");this.render(o||t),this.renderRegions()},c.hooks.dataNotFound=function(){if(!this.ready())return void this.next();var t=this.lookupOption("data"),e,r=this.lookupOption("notFoundTemplate");return"function"!=typeof t||(e=t.call(this))?void this.next():(this.render(r||o),void this.renderRegions())}}.call(this),function(){var o=l.utils.warn,e=l.DynamicTemplate,i=l.utils.debug("iron:router <helpers>");n.registerHelper("Router",new r.Template("Router",function(){return c.createView()})),n.registerHelper("pathFor",function(e){var r;arguments.length>1&&(r=arguments[0],e=arguments[1]||{});var n=e&&e.hash;n=n||{};var i="",a=n.query,s=n.hash,r=r||n.route,l=t.extend({},n.data||this),p=c.routes[r];return o(p,"pathFor couldn't find a route named "+JSON.stringify(r)),p&&(t.each(p.handler.compiledUrl.keys,function(o){var e=o.name;t.has(n,e)&&(l[e]=u.clone(n[e]),delete n[e])}),i=p.path(l,{query:a,hash:s})),i}),n.registerHelper("urlFor",function(e){var r;arguments.length>1&&(r=arguments[0],e=arguments[1]||{});var n=e&&e.hash;n=n||{};var i="",a=n.query,s=n.hash,r=r||n.route,l=t.extend({},n.data||this),p=c.routes[r];return o(p,"urlFor couldn't find a route named "+JSON.stringify(r)),p&&(t.each(p.handler.compiledUrl.keys,function(o){var e=o.name;t.has(n,e)&&(l[e]=u.clone(n[e]),delete n[e])}),i=p.url(l,{query:a,hash:s})),i}),n.registerHelper("linkTo",new r.Template("linkTo",function(){var n=this,i=e.getInclusionArguments(this);if("object"!=typeof i)throw new Error("linkTo options must be key value pairs such as {{#linkTo route='my.route.name'}}. You passed: "+JSON.stringify(i));i=i||{};var a="",s=i.query,l=i.hash,h=i.route,f=t.extend({},i.data||e.getParentDataContext(this)),d=c.routes[h],y;o(d,"linkTo couldn't find a route named "+JSON.stringify(h)),d&&(t.each(d.handler.compiledUrl.keys,function(o){var e=o.name;t.has(i,e)&&(f[e]=u.clone(i[e]),delete i[e])}),a=d.path(f,{query:s,hash:l}));var m=t.omit(i,"route","query","hash","data");return m.href=a,r.With(function(){return e.getParentDataContext(n)},function(){return p.A(m,n.templateContentBlock)})}))}.call(this),function(){var o=l.MiddlewareStack,r=l.Url,n=l.Layout,i=l.utils.assert,a="__IronRouterNotFound__",u="__IronRouterNoRoutes__";c.prototype.init=function(t){var o=this;o._currentController=null,o._currentRoute=null,o._currentDep=new e.Dependency,o._locationComputation=null,o._layout=new n({template:o.options.layoutTemplate}),s.startup(function(){setTimeout(function t(){o.options.autoRender!==!1&&o.insert({el:document.body})})})},c.prototype.insert=function(t){return this._layout.insert(t),this},c.prototype.createView=function(){return this._layout.create()},c.prototype.lookupNotFoundTemplate=function(){return this.options.notFoundTemplate?this.options.notFoundTemplate:0===this.routes.length?u:a},c.prototype.lookupLayoutTemplate=function(){return this.options.layoutTemplate},c.prototype.dispatch=function(t,o,r){var n=this;i("string"==typeof t,"expected url string in router dispatch");var s=this._currentController,l=this.findFirstRoute(t),p=this._currentRoute;return this._currentRoute=l,this._currentController&&this._currentController.stop(),s&&l&&p===l?s.configureFromUrl(t,o):s=this.createController(t,o),this._currentController=s,s.dispatch(n._stack,t,function c(t){if(t)throw t;if(!s.isHandled()){var o=e.nonreactive(function(){return s.location.get().options.historyState});if(o&&o.initial===!0){this.layout(this.lookupOption("layoutTemplate"),{data:{url:this.url}});var i=this.lookupOption("notFoundTemplate");i||(i=0===n.routes.length?u:a),this.render(i,{data:{url:this.url}}),this.renderRegions(),s.isHandled=function(){return!0}}return r&&r.call(s)}}),this._currentController==s&&this._currentDep.changed(),s},c.prototype.current=function(){return this._currentDep.depend(),this._currentController},c.prototype._scrollToHash=function(t){try{var o=$(t);$("html, body").scrollTop(o.offset().top)}catch(e){}},c.prototype.start=function(){var t=this,o;t._locationComputation=e.autorun(function r(e){var r,n=l.Location.get(),i,a,u,s=t._currentController;!s||o&&o.path!==n.path?r=t.dispatch(n.href,null,function p(t){this.isHandled()||(n.cancelUrlChange(),window.location=n.path)}):(t._scrollToHash(n.hash),s.configureFromUrl(n.href)),o=n})},c.prototype.stop=function(){this._isStarted&&(this._locationComputation&&this._locationComputation.stop(),this._currentController&&this._currentController.stop(),this._isStarted=!1)},c.prototype.go=function(o,e,r){var n=this,a=/^\/|http/,u;if(r=r||{},a.test(o))u=o;else{var s=n.routes[o];i(s,"No route found named "+JSON.stringify(o)),u=s.path(e,t.extend(r,{throwOnMissingParams:!0}))}l.Location.go(u,r)}}.call(this),function(){c.plugins.loading=function(t,o){t.onBeforeAction("loading",o)},c.plugins.dataNotFound=function(t,o){t.onBeforeAction("dataNotFound",o)}}.call(this),function(){c=new l.Router}.call(this),function(){a.__checkName("__IronRouterNotFound__"),a.__IronRouterNotFound__=new a("Template.__IronRouterNotFound__",function(){var t=this;return p.DIV({style:"width: 600px; margin: 0 auto; padding: 20px;"},"\n    ",p.DIV({style:"font-size: 18pt; color: #999;"},"\n      Oops, looks like there's no route on the client or the server for url: \"",r.View("lookup:url",function(){return Spacebars.mustache(t.lookup("url"))}),'."\n    '),"\n  ")}),a.__checkName("__IronRouterNoRoutes__"),a.__IronRouterNoRoutes__=new a("Template.__IronRouterNoRoutes__",function(){var t=this;return p.Raw('<div style="font-family: helvetica; color: #777; max-width: 600px; margin: 20px auto;">\n      <h1 style="text-align: center; margin: 0; font-size: 48pt;">\n        iron:router\n      </h1>\n      <p style="text-align: center; font-size: 1.3em;">\n        Organize your Meteor application.\n      </p>\n      <div style="margin: 50px 0px;">\n        <pre style="background: #f2f2f2; margin: 0; padding: 10px;">\nRouter.route(\'/\', function () {\n  this.render(\'Home\', {\n    data: function () { return Items.findOne({_id: this.params._id}); }\n  });\n});\n        </pre>\n      </div>\n      <div style="margin: 50px 0px;">\n        Check it out on Github:<br>\n        <a href="https://github.com/eventedmind/iron-router" target="_blank">https://github.com/eventedmind/iron-router</a>\n        <br>\n        <br>\n        And check out the new Guide:<br>\n        <a href="https://iron-meteor.github.io/iron-router" target="_blank">\n          https://iron-meteor.github.io/iron-router\n        </a>\n      </div>\n    </div>')})}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:router"]={Router:c,RouteController:h}}();

!function(){var t=Package.meteor.Meteor;(function(){!function(t,e,i){var n=t.L,o={};o.version="0.7.3","object"==typeof module&&"object"==typeof module.exports?module.exports=o:"function"==typeof define&&define.amd&&define(o),o.noConflict=function(){return t.L=n,this},t.L=o,o.Util={extend:function(t){var e,i,n,o,s=Array.prototype.slice.call(arguments,1);for(i=0,n=s.length;n>i;i++){o=s[i]||{};for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e])}return t},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(i){return i[e]=i[e]||++t,i[e]}}(),invokeEach:function(t,e,i){var n,o;if("object"==typeof t){o=Array.prototype.slice.call(arguments,3);for(n in t)e.apply(i,[n,t[n]].concat(o));return!0}return!1},limitExecByInterval:function(t,e,i){var n,o;return function s(){var a=arguments;return n?void(o=!0):(n=!0,setTimeout(function(){n=!1,o&&(s.apply(i,a),o=!1)},e),void t.apply(i,a))}},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=o.extend({},t.options,e),t.options},getParamString:function(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var o=e[n];if(o===i)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var i,n,o=["webkit","moz","o","ms"];for(i=0;i<o.length&&!n;i++)n=t[o[i]+e];return n}function i(e){var i=+new Date,o=Math.max(0,16-(i-n));return n=i+o,t.setTimeout(e,o)}var n=0,s=t.requestAnimationFrame||e("RequestAnimationFrame")||i,a=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,n,a,r){return e=o.bind(e,n),a&&s===i?void e():s.call(t,e,r)},o.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},i=function(){};i.prototype=this.prototype;var n=new i;n.constructor=e,e.prototype=n;for(var s in this)this.hasOwnProperty(s)&&"prototype"!==s&&(e[s]=this[s]);t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),t.options&&n.options&&(t.options=o.extend({},n.options,t.options)),o.extend(n,t),n._initHooks=[];var a=this;return e.__super__=a.prototype,n.callInitHooks=function(){if(!this._initHooksCalled){a.prototype.callInitHooks&&a.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;e>t;t++)n._initHooks[t].call(this)}},e},o.Class.include=function(t){o.extend(this.prototype,t)},o.Class.mergeOptions=function(t){o.extend(this.prototype.options,t)},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i)};var s="_leaflet_events";o.Mixin={},o.Mixin.Events={addEventListener:function(t,e,i){if(o.Util.invokeEach(t,this.addEventListener,this,e,i))return this;var n,a,r,h,l,u,c,p=this[s]=this[s]||{},d=i&&i!==this&&o.stamp(i);for(t=o.Util.splitWords(t),n=0,a=t.length;a>n;n++)r={action:e,context:i||this},h=t[n],d?(l=h+"_idx",u=l+"_len",c=p[l]=p[l]||{},c[d]||(c[d]=[],p[u]=(p[u]||0)+1),c[d].push(r)):(p[h]=p[h]||[],p[h].push(r));return this},hasEventListeners:function(t){var e=this[s];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,i){if(!this[s])return this;if(!t)return this.clearAllEventListeners();if(o.Util.invokeEach(t,this.removeEventListener,this,e,i))return this;var n,a,r,h,l,u,c,p,d,m=this[s],_=i&&i!==this&&o.stamp(i);for(t=o.Util.splitWords(t),n=0,a=t.length;a>n;n++)if(r=t[n],u=r+"_idx",c=u+"_len",p=m[u],e){if(h=_&&p?p[_]:m[r]){for(l=h.length-1;l>=0;l--)h[l].action!==e||i&&h[l].context!==i||(d=h.splice(l,1),d[0].action=o.Util.falseFn);i&&p&&0===h.length&&(delete p[_],m[c]--)}}else delete m[r],delete m[u],delete m[c];return this},clearAllEventListeners:function(){return delete this[s],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var i,n,a,r,h,l=o.Util.extend({},e,{type:t,target:this}),u=this[s];if(u[t])for(i=u[t].slice(),n=0,a=i.length;a>n;n++)i[n].action.call(i[n].context,l);r=u[t+"_idx"];for(h in r)if(i=r[h].slice())for(n=0,a=i.length;a>n;n++)i[n].action.call(i[n].context,l);return this},addOneTimeEventListener:function(t,e,i){if(o.Util.invokeEach(t,this.addOneTimeEventListener,this,e,i))return this;var n=o.bind(function(){this.removeEventListener(t,e,i).removeEventListener(t,n,i)},this);return this.addEventListener(t,e,i).addEventListener(t,n,i)}},o.Mixin.Events.on=o.Mixin.Events.addEventListener,o.Mixin.Events.off=o.Mixin.Events.removeEventListener,o.Mixin.Events.once=o.Mixin.Events.addOneTimeEventListener,o.Mixin.Events.fire=o.Mixin.Events.fireEvent,function(){var n="ActiveXObject"in t,s=n&&!e.addEventListener,a=navigator.userAgent.toLowerCase(),r=-1!==a.indexOf("webkit"),h=-1!==a.indexOf("chrome"),l=-1!==a.indexOf("phantom"),u=-1!==a.indexOf("android"),c=-1!==a.search("android [23]"),p=-1!==a.indexOf("gecko"),d=typeof orientation!=i+"",m=t.navigator&&t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints&&!t.PointerEvent,_=t.PointerEvent&&t.navigator.pointerEnabled&&t.navigator.maxTouchPoints||m,f="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,g=e.documentElement,v=n&&"transition"in g.style,y="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!c,L="MozPerspective"in g.style,P="OTransition"in g.style,b=!t.L_DISABLE_3D&&(v||y||L||P)&&!l,x=!t.L_NO_TOUCH&&!l&&function(){var t="ontouchstart";if(_||t in g)return!0;var i=e.createElement("div"),n=!1;return i.setAttribute?(i.setAttribute(t,"return;"),"function"==typeof i[t]&&(n=!0),i.removeAttribute(t),i=null,n):!1}();o.Browser={ie:n,ielt9:s,webkit:r,gecko:p&&!r&&!t.opera&&!n,android:u,android23:c,chrome:h,ie3d:v,webkit3d:y,gecko3d:L,opera3d:P,any3d:b,mobile:d,mobileWebkit:d&&r,mobileWebkit3d:d&&y,mobileOpera:d&&t.opera,touch:x,msPointer:m,pointer:_,retina:f}}(),o.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,e,n){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===i||null===t?t:new o.Point(t,e,n)},o.Bounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=o.bounds(t);var e=this.min,i=this.max,n=t.min,s=t.max,a=s.x>=e.x&&n.x<=i.x,r=s.y>=e.y&&n.y<=i.y;return a&&r},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},o.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,i){var n=t.style[i];if(!n&&t.currentStyle&&(n=t.currentStyle[i]),(!n||"auto"===n)&&e.defaultView){var o=e.defaultView.getComputedStyle(t,null);n=o?o[i]:null}return"auto"===n?null:n},getViewportOffset:function(t){var i,n=0,s=0,a=t,r=e.body,h=e.documentElement;do{if(n+=a.offsetTop||0,s+=a.offsetLeft||0,n+=parseInt(o.DomUtil.getStyle(a,"borderTopWidth"),10)||0,s+=parseInt(o.DomUtil.getStyle(a,"borderLeftWidth"),10)||0,i=o.DomUtil.getStyle(a,"position"),a.offsetParent===r&&"absolute"===i)break;if("fixed"===i){n+=r.scrollTop||h.scrollTop||0,s+=r.scrollLeft||h.scrollLeft||0;break}if("relative"===i&&!a.offsetLeft){var l=o.DomUtil.getStyle(a,"width"),u=o.DomUtil.getStyle(a,"max-width"),c=a.getBoundingClientRect();("none"!==l||"none"!==u)&&(s+=c.left+a.clientLeft),n+=c.top+(r.scrollTop||h.scrollTop||0);break}a=a.offsetParent}while(a);a=t;do{if(a===r)break;n-=a.scrollTop||0,s-=a.scrollLeft||0,a=a.parentNode}while(a);return new o.Point(s,n)},documentIsLtr:function(){return o.DomUtil._docIsLtrCached||(o.DomUtil._docIsLtrCached=!0,o.DomUtil._docIsLtr="ltr"===o.DomUtil.getStyle(e.body,"direction")),o.DomUtil._docIsLtr},create:function(t,i,n){var o=e.createElement(t);return o.className=i,n&&n.appendChild(o),o},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=o.DomUtil._getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=o.Util.splitWords(e),s=0,a=n.length;a>s;s++)t.classList.add(n[s]);else if(!o.DomUtil.hasClass(t,e)){var r=o.DomUtil._getClass(t);o.DomUtil._setClass(t,(r?r+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):o.DomUtil._setClass(t,o.Util.trim((" "+o.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(o){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}},testProp:function(t){for(var i=e.documentElement.style,n=0;n<t.length;n++)if(t[n]in i)return t[n];return!1},getTranslateString:function(t){var e=o.Browser.webkit3d,i="translate"+(e?"3d":"")+"(",n=(e?",0":"")+")";return i+t.x+"px,"+t.y+"px"+n},getScaleString:function(t,e){var i=o.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),n=" scale("+t+") ";return i+n},setPosition:function(t,e,i){t._leaflet_pos=e,!i&&o.Browser.any3d?t.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),o.DomUtil.TRANSITION_END="webkitTransition"===o.DomUtil.TRANSITION||"OTransition"===o.DomUtil.TRANSITION?o.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in e)o.extend(o.DomUtil,{disableTextSelection:function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},enableTextSelection:function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)}});else{var i=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.extend(o.DomUtil,{disableTextSelection:function(){if(i){var t=e.documentElement.style;this._userSelect=t[i],t[i]="none"}},enableTextSelection:function(){i&&(e.documentElement.style[i]=this._userSelect,delete this._userSelect)}})}o.extend(o.DomUtil,{disableImageDrag:function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},enableImageDrag:function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)}})}(),o.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==i&&(this.alt=parseFloat(n))},o.extend(o.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),o.LatLng.prototype={equals:function(t){if(!t)return!1;t=o.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=o.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=o.latLng(t);var e=6378137,i=o.LatLng.DEG_TO_RAD,n=(t.lat-this.lat)*i,s=(t.lng-this.lng)*i,a=this.lat*i,r=t.lat*i,h=Math.sin(n/2),l=Math.sin(s/2),u=h*h+l*l*Math.cos(a)*Math.cos(r);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))},wrap:function(t,e){var i=this.lng;return t=t||-180,e=e||180,i=(i+e)%(e-t)+(t>i||i===e?e:t),new o.LatLng(this.lat,i)}},o.latLng=function(t,e){return t instanceof o.LatLng?t:o.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new o.LatLng(t[0],t[1],t[2]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===i?null:new o.LatLng(t,e)},o.LatLngBounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},o.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=o.latLng(t);return t=null!==e?e:o.latLngBounds(t),t instanceof o.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new o.LatLng(t.lat,t.lng),this._northEast=new o.LatLng(t.lat,t.lng)):t instanceof o.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,s=Math.abs(e.lng-i.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-n,e.lng-s),new o.LatLng(i.lat+n,i.lng+s))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,i,n=this._southWest,s=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=s.lat&&e.lng>=n.lng&&i.lng<=s.lng},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),s=t.getNorthEast(),a=s.lat>=e.lat&&n.lat<=i.lat,r=s.lng>=e.lng&&n.lng<=i.lng;return a&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,e){return!t||t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=o.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=t.lng*e,a=n*e;return a=Math.log(Math.tan(Math.PI/4+a/2)),new o.Point(s,a)},unproject:function(t){var e=o.LatLng.RAD_TO_DEG,i=t.x*e,n=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new o.LatLng(n,i)}},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return o.point(e,e)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),o.CRS.EPSG3857=o.extend({},o.CRS,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:new o.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),i=6378137;return e.multiplyBy(i)}}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/360,.5,-1/360,.5)}),o.Map=o.Class.extend({includes:o.Mixin.Events,options:{crs:o.CRS.EPSG3857,fadeAnimation:o.DomUtil.TRANSITION&&!o.Browser.android23,trackResize:!0,markerZoomAnimation:o.DomUtil.TRANSITION&&o.Browser.any3d},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==i&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(o.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),s=this.getSize().divideBy(2),a=t instanceof o.Point?t:this.latLngToContainerPoint(t),r=a.subtract(s).multiplyBy(1-1/n),h=this.containerPointToLatLng(s.add(r));return this.setView(h,e,{zoom:i})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var i=o.point(e.paddingTopLeft||e.padding||[0,0]),n=o.point(e.paddingBottomRight||e.padding||[0,0]),s=this.getBoundsZoom(t,!1,i.add(n)),a=n.subtract(i).divideBy(2),r=this.project(t.getSouthWest(),s),h=this.project(t.getNorthEast(),s),l=this.unproject(r.add(h).divideBy(2).add(a),s);return s=e&&e.maxZoom?Math.min(e.maxZoom,s):s,this.setView(l,s,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=o.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var i=this.getCenter(),n=this._limitCenter(i,this._zoom,t);return i.equals(n)?this:this.panTo(n,e)},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return t?o.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),s=i.divideBy(2).round(),a=n.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=i}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new o.LatLngBounds(e,i)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom===i?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=o.latLngBounds(t);var n,s=this.getMinZoom()-(e?1:0),a=this.getMaxZoom(),r=this.getSize(),h=t.getNorthWest(),l=t.getSouthEast(),u=!0;i=o.point(i||[0,0]);do s++,n=this.project(l,s).subtract(this.project(h,s)).add(i),u=e?n.x<r.x||n.y<r.y:r.contains(n);while(u&&a>=s);return u&&e?null:e?s:s-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new o.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,e),o.DomUtil.addClass(t.shadowPane,e),o.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return o.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_resetView:function(t,e,i,n){var s=this._zoom!==e;n||(this.fire("movestart"),s&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),i?this._initialTopLeftPoint._add(this._getMapPanePos()):o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!i}),a&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(s||n)&&this.fire("zoomend"),this.fire("moveend",{hard:!i})},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-1/0,o=this._getZoomSpan();for(t in this._zoomBoundLayers){var s=this._zoomBoundLayers[t];isNaN(s.options.minZoom)||(e=Math.min(e,s.options.minZoom)),isNaN(s.options.maxZoom)||(n=Math.max(n,s.options.maxZoom))}t===i?this._layersMaxZoom=this._layersMinZoom=i:(this._layersMaxZoom=n,this._layersMinZoom=e),o!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){e=e||"on",o.DomEvent[e](this._container,"click",this._onMouseClick,this);var i,n,s=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(i=0,n=s.length;n>i;i++)o.DomEvent[e](this._container,s[i],this._fireMouseEvent,this);this.options.trackResize&&o.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||o.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&o.DomEvent.preventDefault(t);var i=this.mouseEventToContainerPoint(t),n=this.containerPointToLayerPoint(i),s=this.layerPointToLatLng(n);this.fire(e,{latlng:s,layerPoint:n,containerPoint:i,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewTopLeftPoint(i,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),s=this.getSize().divideBy(2),a=new o.Bounds(n.subtract(s),n.add(s)),r=this._getBoundsOffset(a,i,e);return this.unproject(n.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new o.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=this.project(e.getNorthWest(),i).subtract(t.min),s=this.project(e.getSouthEast(),i).subtract(t.max),a=this._rebound(n.x,-s.x),r=this._rebound(n.y,-s.y);return new o.Point(a,r)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),o.map=function(t,e){return new o.Map(t,e)},o.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=o.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=this.R_MAJOR,a=this.R_MINOR,r=t.lng*e*s,h=n*e,l=a/s,u=Math.sqrt(1-l*l),c=u*Math.sin(h);c=Math.pow((1-c)/(1+c),.5*u);var p=Math.tan(.5*(.5*Math.PI-h))/c;return h=-s*Math.log(p),new o.Point(r,h)},unproject:function(t){for(var e,i=o.LatLng.RAD_TO_DEG,n=this.R_MAJOR,s=this.R_MINOR,a=t.x*i/n,r=s/n,h=Math.sqrt(1-r*r),l=Math.exp(-t.y/n),u=Math.PI/2-2*Math.atan(l),c=15,p=1e-7,d=c,m=.1;Math.abs(m)>p&&--d>0;)e=h*Math.sin(u),
m=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*h))-u,u+=m;return new o.LatLng(u*i,a)}},o.CRS.EPSG3395=o.extend({},o.CRS,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=o.Projection.Mercator,e=t.R_MAJOR,i=.5/(Math.PI*e);return new o.Transformation(i,.5,-i,.5)}()}),o.TileLayer=o.Class.extend({includes:o.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:o.Browser.mobile,updateWhenIdle:o.Browser.mobile},initialize:function(t,e){e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=o.latLngBounds(e.bounds)),this._url=t;var i=this.options.subdomains;"string"==typeof i&&(this.options.subdomains=i.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=o.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var i,n,o,s=t.children,a=-e(1/0,-1/0);for(n=0,o=s.length;o>n;n++)s[n]!==this._container&&(i=parseInt(s[n].style.zIndex,10),isNaN(i)||(a=e(a,i)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(o.Browser.ielt9)for(t in e)o.DomUtil.setOpacity(e[t],this.options.opacity);else o.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=o.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=o.DomUtil.create("div",e,this._container),this._tileContainer=o.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,i=this.options.maxNativeZoom,n=this.options.tileSize;return i&&e>i&&(n=Math.round(t.getZoomScale(e)/t.getZoomScale(i)*n)),n},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),i=t.getZoom(),n=this._getTileSize();if(!(i>this.options.maxZoom||i<this.options.minZoom)){var s=o.bounds(e.min.divideBy(n)._floor(),e.max.divideBy(n)._floor());this._addTilesFromCenterOut(s),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(s)}}},_addTilesFromCenterOut:function(t){var i,n,s,a=[],r=t.getCenter();for(i=t.min.y;i<=t.max.y;i++)for(n=t.min.x;n<=t.max.x;n++)s=new o.Point(n,i),this._tileShouldBeLoaded(s)&&a.push(s);var h=a.length;if(0!==h){a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)});var l=e.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=h,n=0;h>n;n++)this._addTile(a[n],l);this._tileContainer.appendChild(l)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var i=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=i.x)||t.y<0||t.y>=i.y)return!1}if(e.bounds){var n=e.tileSize,o=t.multiplyBy(n),s=o.add([n,n]),a=this._map.unproject(o),r=this._map.unproject(s);if(e.continuousWorld||e.noWrap||(a=a.wrap(),r=r.wrap()),!e.bounds.intersects([a,r]))return!1}return!0},_removeOtherTiles:function(t){var e,i,n,o;for(o in this._tiles)e=o.split(":"),i=parseInt(e[0],10),n=parseInt(e[1],10),(i<t.min.x||i>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(o)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(o.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),o.Browser.android||(e.onload=null,e.src=o.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var i=this._getTilePos(t),n=this._getTile();o.DomUtil.setPosition(n,i,o.Browser.chrome),this._tiles[t.x+":"+t.y]=n,this._loadTile(n,t),n.parentNode!==this._tileContainer&&e.appendChild(n)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this._getTileSize();return t.multiplyBy(i).subtract(e)},getTileUrl:function(t){return o.Util.template(this._url,o.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=o.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity!==i&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&o.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(o.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==o.Util.emptyImageUrl&&(o.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var i=o.extend({},this.defaultWmsParams),n=e.tileSize||this.options.tileSize;i.width=i.height=e.detectRetina&&o.Browser.retina?2*n:n;for(var s in e)this.options.hasOwnProperty(s)||"crs"===s||(i[s]=e[s]);this.wmsParams=i,o.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,i=this.options.tileSize,n=t.multiplyBy(i),s=n.add([i,i]),a=this._crs.project(e.unproject(n,t.z)),r=this._crs.project(e.unproject(s,t.z)),h=this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[r.y,a.x,a.y,r.x].join(","):[a.x,r.y,r.x,a.y].join(","),l=o.Util.template(this._url,{s:this._getSubdomain(t)});return l+o.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+h},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.TileLayer.Canvas=o.TileLayer.extend({options:{async:!1},initialize:function(t){o.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=o.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=o.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),o.tileLayer.canvas=function(t){return new o.TileLayer.Canvas(t)},o.ImageOverlay=o.Class.extend({includes:o.Mixin.Events,options:{opacity:1},initialize:function(t,e,i){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,i)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&o.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=o.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&o.Browser.any3d?o.DomUtil.addClass(this._image,"leaflet-zoom-animated"):o.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),o.extend(this._image,{galleryimg:"no",onselectstart:o.Util.falseFn,onmousemove:o.Util.falseFn,onload:o.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,i=this._image,n=e.getZoomScale(t.zoom),s=this._bounds.getNorthWest(),a=this._bounds.getSouthEast(),r=e._latLngToNewLayerPoint(s,t.zoom,t.center),h=e._latLngToNewLayerPoint(a,t.zoom,t.center)._subtract(r),l=r._add(h._multiplyBy(.5*(1-1/n)));i.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(l)+" scale("+n+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),i=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);o.DomUtil.setPosition(t,e),t.style.width=i.x+"px",t.style.height=i.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,i){return new o.ImageOverlay(t,e,i)},o.Icon=o.Class.extend({options:{className:""},initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n;return n=e&&"IMG"===e.tagName?this._createImg(i,e):this._createImg(i),this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i,n=this.options,s=o.point(n[e+"Size"]);i=o.point("shadow"===e?n.shadowAnchor||n.iconAnchor:n.iconAnchor),!i&&s&&(i=s.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+n.className,i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,i){return i=i||e.createElement("img"),i.src=t,i},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];o.Browser.retina&&"icon"===t&&(t+="-2x");var i=o.Icon.Default.imagePath;if(!i)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+".png"}}),o.Icon.Default.imagePath=function(){var t,i,n,o,s,a=e.getElementsByTagName("script"),r=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,i=a.length;i>t;t++)if(n=a[t].src,o=n.match(r))return s=n.split(r)[0],(s?s+"/":"")+"images"}(),o.Marker=o.Class.extend({includes:o.Mixin.Events,options:{icon:new o.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e=this._map,i=e.options.zoomAnimation&&e.options.markerZoomAnimation,n=i?"leaflet-zoom-animated":"leaflet-zoom-hide",s=t.icon.createIcon(this._icon),a=!1;s!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(s.title=t.title),t.alt&&(s.alt=t.alt)),o.DomUtil.addClass(s,n),t.keyboard&&(s.tabIndex="0"),this._icon=s,this._initInteraction(),t.riseOnHover&&o.DomEvent.on(s,"mouseover",this._bringToFront,this).on(s,"mouseout",this._resetZIndex,this);var r=t.icon.createShadow(this._shadow),h=!1;r!==this._shadow&&(this._removeShadow(),h=!0),r&&o.DomUtil.addClass(r,n),this._shadow=r,t.opacity<1&&this._updateOpacity();var l=this._map._panes;a&&l.markerPane.appendChild(this._icon),r&&h&&l.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&o.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];o.DomUtil.addClass(t,"leaflet-clickable"),o.DomEvent.on(t,"click",this._onMouseClick,this),o.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var i=0;i<e.length;i++)o.DomEvent.on(t,e[i],this._fireMouseEvent,this);o.Handler.MarkerDrag&&(this.dragging=new o.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&o.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&o.DomEvent.preventDefault(t),"mousedown"!==t.type?o.DomEvent.stopPropagation(t):o.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){o.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&o.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:e.createElement("div"),n=this.options;return i.innerHTML=n.html!==!1?n.html:"",n.bgPos&&(i.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),this._setIconStyles(i,"icon"),i},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Popup=o.Class.extend({includes:o.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){o.setOptions(this,t),this._source=e,this._animated=o.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&o.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&o.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),o.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&o.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",i=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),n=this._container=o.DomUtil.create("div",i);this.options.closeButton&&(t=this._closeButton=o.DomUtil.create("a",e+"-close-button",n),t.href="#close",t.innerHTML="&#215;",o.DomEvent.disableClickPropagation(t),o.DomEvent.on(t,"click",this._onCloseButtonClick,this));var s=this._wrapper=o.DomUtil.create("div",e+"-content-wrapper",n);o.DomEvent.disableClickPropagation(s),this._contentNode=o.DomUtil.create("div",e+"-content",s),o.DomEvent.disableScrollPropagation(this._contentNode),o.DomEvent.on(s,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",e+"-tip-container",n),this._tip=o.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,s=this.options.maxHeight,a="leaflet-popup-scrolled";s&&n>s?(e.height=s+"px",o.DomUtil.addClass(t,a)):o.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,i=o.point(this.options.offset);e&&o.DomUtil.setPosition(this._container,t),this._containerBottom=-i.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+i.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,i=this._containerWidth,n=new o.Point(this._containerLeft,-e-this._containerBottom);this._animated&&n._add(o.DomUtil.getPosition(this._container));var s=t.layerPointToContainerPoint(n),a=o.point(this.options.autoPanPadding),r=o.point(this.options.autoPanPaddingTopLeft||a),h=o.point(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),u=0,c=0;s.x+i+h.x>l.x&&(u=s.x+i-l.x+h.x),s.x-u-r.x<0&&(u=s.x-r.x),s.y+e+h.y>l.y&&(c=s.y+e-l.y+h.y),s.y-c-r.y<0&&(c=s.y-r.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,i){if(this.closePopup(),!(t instanceof o.Popup)){var n=t;t=new o.Popup(i).setLatLng(e).setContent(n)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),o.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var i=o.point(this.options.icon.options.popupAnchor||[0,0]);return i=i.add(o.Popup.prototype.options.offset),e&&e.offset&&(i=i.add(e.offset)),e=o.extend({offset:i},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof o.Popup?(o.setOptions(t,e),this._popup=t):this._popup=new o.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.LayerGroup=o.Class.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({includes:o.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.off(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof o.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=o.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Path=o.Class.extend({includes:[o.Mixin.Events],statics:{CLIP_PADDING:function(){var e=o.Browser.mobile?1280:2e3,i=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,i))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){o.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,o.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return o.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),o.Map.include({_updatePathViewport:function(){var t=o.Path.CLIP_PADDING,e=this.getSize(),i=o.DomUtil.getPosition(this._mapPane),n=i.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),s=n.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new o.Bounds(n,s)}}),o.Path.SVG_NS="http://www.w3.org/2000/svg",o.Browser.svg=!(!e.createElementNS||!e.createElementNS(o.Path.SVG_NS,"svg").createSVGRect),o.Path=o.Path.extend({statics:{SVG:o.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,i=t.firstChild;return e&&i!==e&&t.insertBefore(e,i),this},getPathString:function(){},_createElement:function(t){return e.createElementNS(o.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&o.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(o.Browser.svg||!o.Browser.vml)&&o.DomUtil.addClass(this._path,"leaflet-clickable"),o.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)o.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this.hasEventListeners(t.type)){var e=this._map,i=e.mouseEventToContainerPoint(t),n=e.containerPointToLayerPoint(i),s=e.layerPointToLatLng(n);this.fire(t.type,{latlng:s,layerPoint:n,containerPoint:i,originalEvent:t}),"contextmenu"===t.type&&o.DomEvent.preventDefault(t),"mousemove"!==t.type&&o.DomEvent.stopPropagation(t)}}}),o.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=o.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),
this.options.zoomAnimation&&o.Browser.any3d?(o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),i=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(i)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max,n=i.x-e.x,s=i.y-e.y,a=this._pathRoot,r=this._panes.overlayPane;o.Browser.mobileWebkit&&r.removeChild(a),o.DomUtil.setPosition(a,e),a.setAttribute("width",n),a.setAttribute("height",s),a.setAttribute("viewBox",[e.x,e.y,n,s].join(" ")),o.Browser.mobileWebkit&&r.appendChild(a)}}}),o.Path.include({bindPopup:function(t,e){return t instanceof o.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),o.Browser.vml=!o.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(n){return!1}}(),o.Path=o.Browser.svg||!o.Browser.vml?o.Path:o.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");o.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&o.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",n.appendChild(t)),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,t.dashStyle=i.dashArray?o.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):"",i.lineCap&&(t.endcap=i.lineCap.replace("butt","flat")),i.lineJoin&&(t.joinstyle=i.lineJoin)):t&&(n.removeChild(t),this._stroke=null),i.fill?(e||(e=this._fill=this._createElement("fill"),n.appendChild(e)),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(n.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),o.Map.include(o.Browser.svg||!o.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=e.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),o.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),o.Path=o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?o.Path:o.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return o.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!o.Path._updateRequest&&(o.Path._updateRequest=o.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){o.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color)},_drawPath:function(){var t,e,i,n,s,a;for(this._ctx.beginPath(),t=0,i=this._parts.length;i>t;t++){for(e=0,n=this._parts[t].length;n>e;e++)s=this._parts[t][e],a=(0===e?"move":"line")+"To",this._ctx[a](s.x,s.y);this instanceof o.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill()),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(t){this._containsPoint(t.layerPoint)&&this.fire("click",t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),o.Map.include(o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?{}:{_initPathRoot:function(){var t,i=this._pathRoot;i||(i=this._pathRoot=e.createElement("canvas"),i.style.position="absolute",t=this._canvasCtx=i.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(i),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max.subtract(e),n=this._pathRoot;o.DomUtil.setPosition(n,e),n.width=i.x,n.height=i.y,n.getContext("2d").translate(-e.x,-e.y)}}}),o.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var n=t.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,s=new o(n);s[0]=s[n-1]=1,this._simplifyDPStep(t,s,e,0,n-1);var a,r=[];for(a=0;n>a;a++)s[a]&&r.push(t[a]);return r},_simplifyDPStep:function(t,e,i,n,o){var s,a,r,h=0;for(a=n+1;o-1>=a;a++)r=this._sqClosestPointOnSegment(t[a],t[n],t[o],!0),r>h&&(s=a,h=r);h>i&&(e[s]=1,this._simplifyDPStep(t,e,i,n,s),this._simplifyDPStep(t,e,i,s,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;s>n;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return s-1>o&&i.push(t[s-1]),i},clipSegment:function(t,e,i,n){var o,s,a,r=n?this._lastCode:this._getBitCode(t,i),h=this._getBitCode(e,i);for(this._lastCode=h;;){if(!(r|h))return[t,e];if(r&h)return!1;o=r||h,s=this._getEdgeIntersection(t,e,o,i),a=this._getBitCode(s,i),o===r?(t=s,r=a):(e=s,h=a)}},_getEdgeIntersection:function(t,e,i,n){var s=e.x-t.x,a=e.y-t.y,r=n.min,h=n.max;return 8&i?new o.Point(t.x+s*(h.y-t.y)/a,h.y):4&i?new o.Point(t.x+s*(r.y-t.y)/a,r.y):2&i?new o.Point(h.x,t.y+a*(h.x-t.x)/s):1&i?new o.Point(r.x,t.y+a*(r.x-t.x)/s):void 0},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,i,n){var s,a=e.x,r=e.y,h=i.x-a,l=i.y-r,u=h*h+l*l;return u>0&&(s=((t.x-a)*h+(t.y-r)*l)/u,s>1?(a=i.x,r=i.y):s>0&&(a+=h*s,r+=l*s)),h=t.x-a,l=t.y-r,n?h*h+l*l:new o.Point(a,r)}},o.Polyline=o.Path.extend({initialize:function(t,e){o.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,i="";e>t;t++)i+=this._getPathPartStr(this._parts[t]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(o.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,i,n=1/0,s=this._parts,a=null,r=0,h=s.length;h>r;r++)for(var l=s[r],u=1,c=l.length;c>u;u++){e=l[u-1],i=l[u];var p=o.LineUtil._sqClosestPointOnSegment(t,e,i,!0);n>p&&(n=p,a=o.LineUtil._sqClosestPointOnSegment(t,e,i))}return a&&(a.distance=Math.sqrt(n)),a},getBounds:function(){return new o.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var i,n,s=e?t:[];for(i=0,n=t.length;n>i;i++){if(o.Util.isArray(t[i])&&"number"!=typeof t[i][0])return;s[i]=o.latLng(t[i])}return s},_initEvents:function(){o.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,i=o.Path.VML,n=0,s=t.length,a="";s>n;n++)e=t[n],i&&e._round(),a+=(n?"L":"M")+e.x+" "+e.y;return a},_clipPoints:function(){var t,e,i,n=this._originalPoints,s=n.length;if(this.options.noClip)return void(this._parts=[n]);this._parts=[];var a=this._parts,r=this._map._pathViewport,h=o.LineUtil;for(t=0,e=0;s-1>t;t++)i=h.clipSegment(n[t],n[t+1],r,t),i&&(a[e]=a[e]||[],a[e].push(i[0]),(i[1]!==n[t+1]||t===s-2)&&(a[e].push(i[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=o.LineUtil,i=0,n=t.length;n>i;i++)t[i]=e.simplify(t[i],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),o.Path.prototype._updatePath.call(this))}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e){var i,n,s,a,r,h,l,u,c,p=[1,4,2,8],d=o.LineUtil;for(n=0,l=t.length;l>n;n++)t[n]._code=d._getBitCode(t[n],e);for(a=0;4>a;a++){for(u=p[a],i=[],n=0,l=t.length,s=l-1;l>n;s=n++)r=t[n],h=t[s],r._code&u?h._code&u||(c=d._getEdgeIntersection(h,r,u,e),c._code=d._getBitCode(c,e),i.push(c)):(h._code&u&&(c=d._getEdgeIntersection(h,r,u,e),c._code=d._getBitCode(c,e),i.push(c)),i.push(r));t=i}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},initialize:function(t,e){o.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,i,n;if(t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,i=this._holes.length;i>e;e++)n=this._holes[e]=this._convertLatLngs(this._holes[e]),n[0].equals(n[n.length-1])&&n.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(o.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,i,n;for(t=0,i=this._holes.length;i>t;t++)for(this._holePoints[t]=[],e=0,n=this._holes[t].length;n>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):o.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var i=0,n=this._parts.length;n>i;i++){var s=o.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);s.length&&e.push(s)}this._parts=e}},_getPathPartStr:function(t){var e=o.Polyline.prototype._getPathPartStr.call(this,t);return e+(o.Browser.svg?"z":"x")}}),o.polygon=function(t,e){return new o.Polygon(t,e)},function(){function t(t){return o.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var i=0,n=e.length;for(this.eachLayer(function(t){n>i?t.setLatLngs(e[i++]):this.removeLayer(t)},this);n>i;)this.addLayer(new t(e[i++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}o.MultiPolyline=t(o.Polyline),o.MultiPolygon=t(o.Polygon),o.multiPolyline=function(t,e){return new o.MultiPolyline(t,e)},o.multiPolygon=function(t,e){return new o.MultiPolygon(t,e)}}(),o.Rectangle=o.Polygon.extend({initialize:function(t,e){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.Circle=o.Path.extend({initialize:function(t,e,i){o.Path.prototype.initialize.call(this,i),this._latlng=o.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,i=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-i.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,i=this._latlng;return new o.LatLngBounds([i.lat-e,i.lng-t],[i.lat+e,i.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":o.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(o.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),o.circle=function(t,e,i){return new o.Circle(t,e,i)},o.CircleMarker=o.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){o.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){o.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return o.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.Polyline.include(o.Path.CANVAS?{_containsPoint:function(t,e){var i,n,s,a,r,h,l,u=this.options.weight/2;for(o.Browser.touch&&(u+=10),i=0,a=this._parts.length;a>i;i++)for(l=this._parts[i],n=0,r=l.length,s=r-1;r>n;s=n++)if((e||0!==n)&&(h=o.LineUtil.pointToSegmentDistance(t,l[s],l[n]),u>=h))return!0;return!1}}:{}),o.Polygon.include(o.Path.CANVAS?{_containsPoint:function(t){var e,i,n,s,a,r,h,l,u=!1;if(o.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(s=0,h=this._parts.length;h>s;s++)for(e=this._parts[s],a=0,l=e.length,r=l-1;l>a;r=a++)i=e[a],n=e[r],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(u=!u);return u}}:{}),o.Circle.include(o.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),o.CircleMarker.include(o.Path.CANVAS?{_updateStyle:function(){o.Path.prototype._updateStyle.call(this)}}:{}),o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,s=o.Util.isArray(t)?t:t.features;if(s){for(e=0,i=s.length;i>e;e++)n=s[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(s[e]);return this}var a=this.options;if(!a.filter||a.filter(t)){var r=o.GeoJSON.geometryToLayer(t,a.pointToLayer,a.coordsToLatLng,a);return r.feature=o.GeoJSON.asFeature(t),r.defaultOptions=r.options,this.resetStyle(r),a.onEachFeature&&a.onEachFeature(t,r),this.addLayer(r)}},resetStyle:function(t){var e=this.options.style;e&&(o.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e,i,n){var s,a,r,h,l="Feature"===t.type?t.geometry:t,u=l.coordinates,c=[];switch(i=i||this.coordsToLatLng,l.type){case"Point":return s=i(u),e?e(t,s):new o.Marker(s);case"MultiPoint":for(r=0,h=u.length;h>r;r++)s=i(u[r]),c.push(e?e(t,s):new o.Marker(s));return new o.FeatureGroup(c);case"LineString":return a=this.coordsToLatLngs(u,0,i),new o.Polyline(a,n);case"Polygon":if(2===u.length&&!u[1].length)throw new Error("Invalid GeoJSON object.");return a=this.coordsToLatLngs(u,1,i),new o.Polygon(a,n);case"MultiLineString":return a=this.coordsToLatLngs(u,1,i),new o.MultiPolyline(a,n);case"MultiPolygon":return a=this.coordsToLatLngs(u,2,i),new o.MultiPolygon(a,n);case"GeometryCollection":for(r=0,h=l.geometries.length;h>r;r++)c.push(this.geometryToLayer({geometry:l.geometries[r],type:"Feature",properties:t.properties},e,i,n));return new o.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){var n,o,s,a=[];for(o=0,s=t.length;s>o;o++)n=e?this.coordsToLatLngs(t[o],e-1,i):(i||this.coordsToLatLng)(t[o]),a.push(n);return a},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==i&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push(o.GeoJSON.latLngToCoords(t[i]));return e},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(a),o.Circle.include(a),o.CircleMarker.include(a),o.Polyline.include({toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"LineString",coordinates:o.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),o.Polygon.include({toGeoJSON:function(){var t,e,i,n=[o.GeoJSON.latLngsToCoords(this.getLatLngs())];if(n[0].push(n[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)i=o.GeoJSON.latLngsToCoords(this._holes[t]),i.push(i[0]),n.push(i);return o.GeoJSON.getFeature(this,{type:"Polygon",coordinates:n})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:t,coordinates:e})}}o.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),o.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),o.LayerGroup.include({toGeoJSON:function(){var e,i=this.feature&&this.feature.geometry,n=[];if(i&&"MultiPoint"===i.type)return t("MultiPoint").call(this);var s=i&&"GeometryCollection"===i.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),n.push(s?e.geometry:o.GeoJSON.asFeature(e)))}),s?o.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}})}(),o.geoJson=function(t,e){return new o.GeoJSON(t,e)},o.DomEvent={addListener:function(t,e,i,n){var s,a,r,h=o.stamp(i),l="_leaflet_"+e+h;return t[l]?this:(s=function(e){return i.call(n||t,e||o.DomEvent._getEvent())},o.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,s,h):(o.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,s,h),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",s,!1),t.addEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?(a=s,r="mouseenter"===e?"mouseover":"mouseout",s=function(e){return o.DomEvent._checkMouse(t,e)?a(e):void 0},t.addEventListener(r,s,!1)):"click"===e&&o.Browser.android?(a=s,s=function(t){return o.DomEvent._filterClick(t,a)},t.addEventListener(e,s,!1)):t.addEventListener(e,s,!1):"attachEvent"in t&&t.attachEvent("on"+e,s),t[l]=s,this))},removeListener:function(t,e,i){var n=o.stamp(i),s="_leaflet_"+e+n,a=t[s];return a?(o.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,n):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",a,!1),t.removeEventListener(e,a,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1):t.removeEventListener(e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[s]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=o.DomEvent.stopPropagation;return o.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=o.DomEvent.stopPropagation,i=o.Draggable.START.length-1;i>=0;i--)o.DomEvent.on(t,o.Draggable.START[i],e);return o.DomEvent.on(t,"click",o.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new o.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new o.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_getEvent:function(){var e=t.event;if(!e)for(var i=arguments.callee.caller;i&&(e=i.arguments[0],!e||t.Event!==e.constructor);)i=i.caller;return e},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent.timeStamp,n=o.DomEvent._lastClick&&i-o.DomEvent._lastClick;return n&&n>100&&500>n||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=i,e(t))}},o.DomEvent.on=o.DomEvent.addListener,o.DomEvent.off=o.DomEvent.removeListener,o.Draggable=o.Class.extend({includes:o.Mixin.Events,statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.on(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.off(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!(t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(o.DomEvent.stopPropagation(t),o.Draggable._disabled||(o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),this._moving)))){var i=t.touches?t.touches[0]:t;this._startPoint=new o.Point(i.clientX,i.clientY),this._startPos=this._newPos=o.DomUtil.getPosition(this._element),o.DomEvent.on(e,o.Draggable.MOVE[t.type],this._onMove,this).on(e,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var i=t.touches&&1===t.touches.length?t.touches[0]:t,n=new o.Point(i.clientX,i.clientY),s=n.subtract(this._startPoint);(s.x||s.y)&&(o.Browser.touch&&Math.abs(s.x)+Math.abs(s.y)<3||(o.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(s),o.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){o.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in o.Draggable.MOVE)o.DomEvent.off(e,o.Draggable.MOVE[t],this._onMove).off(e,o.Draggable.END[t],this._onUp);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:o.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,a=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,i=e.options,n=+new Date-this._lastTime,s=!i.inertia||n>i.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),s)e.fire("moveend");else{var a=this._lastPos.subtract(this._positions[0]),r=(this._lastTime+n-this._times[0])/1e3,h=i.easeLinearity,l=a.multiplyBy(h/r),u=l.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,u),p=l.multiplyBy(c/u),d=c/(i.inertiaDeceleration*h),m=p.multiplyBy(-d/2).round();m.x&&m.y?(m=e._limitOffset(m,e.options.maxBounds),o.Util.requestAnimFrame(function(){e.panBy(m,{duration:d,easeLinearity:h,noMoveStart:!0})})):e.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),o.DomEvent.on(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),o.DomEvent.off(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),i),o.DomEvent.preventDefault(t),o.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,i=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(i+e)-i,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(i+e):t.setZoomAround(this._lastMousePos,i+e))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,i,n){function s(t){var e;if(o.Browser.pointer?(m.push(t.pointerId),e=m.length):e=t.touches.length,!(e>1)){var i=Date.now(),n=i-(r||i);h=t.touches?t.touches[0]:t,l=n>0&&u>=n,r=i}}function a(t){if(o.Browser.pointer){var e=m.indexOf(t.pointerId);if(-1===e)return;m.splice(e,1)}if(l){if(o.Browser.pointer){var n,s={};for(var a in h)n=h[a],s[a]="function"==typeof n?n.bind(h):n;h=s}h.type="dblclick",i(h),r=null}}var r,h,l=!1,u=250,c="_leaflet_",p=this._touchstart,d=this._touchend,m=[];t[c+p+n]=s,t[c+d+n]=a;var _=o.Browser.pointer?e.documentElement:t;return t.addEventListener(p,s,!1),_.addEventListener(d,a,!1),o.Browser.pointer&&_.addEventListener(o.DomEvent.POINTER_CANCEL,a,!1),this},removeDoubleTapListener:function(t,i){var n="_leaflet_";return t.removeEventListener(this._touchstart,t[n+this._touchstart+i],!1),(o.Browser.pointer?e.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+i],!1),o.Browser.pointer&&e.documentElement.removeEventListener(o.DomEvent.POINTER_CANCEL,t[n+this._touchend+i],!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,i,n){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,i,n);case"touchend":
return this.addPointerListenerEnd(t,e,i,n);case"touchmove":return this.addPointerListenerMove(t,e,i,n);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,i,n,s){var a="_leaflet_",r=this._pointers,h=function(t){o.DomEvent.preventDefault(t);for(var e=!1,i=0;i<r.length;i++)if(r[i].pointerId===t.pointerId){e=!0;break}e||r.push(t),t.touches=r.slice(),t.changedTouches=[t],n(t)};if(t[a+"touchstart"+s]=h,t.addEventListener(this.POINTER_DOWN,h,!1),!this._pointerDocumentListener){var l=function(t){for(var e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r.splice(e,1);break}};e.documentElement.addEventListener(this.POINTER_UP,l,!1),e.documentElement.addEventListener(this.POINTER_CANCEL,l,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,i,n){function o(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a[e]=t;break}t.touches=a.slice(),t.changedTouches=[t],i(t)}}var s="_leaflet_",a=this._pointers;return t[s+"touchmove"+n]=o,t.addEventListener(this.POINTER_MOVE,o,!1),this},addPointerListenerEnd:function(t,e,i,n){var o="_leaflet_",s=this._pointers,a=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}t.touches=s.slice(),t.changedTouches=[t],i(t)};return t[o+"touchend"+n]=a,t.addEventListener(this.POINTER_UP,a,!1),t.addEventListener(this.POINTER_CANCEL,a,!1),this},removePointerListener:function(t,e,i){var n="_leaflet_",o=t[n+e+i];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,o,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,o,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,o,!1),t.removeEventListener(this.POINTER_CANCEL,o,!1)}return this}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var n=i.mouseEventToLayerPoint(t.touches[0]),s=i.mouseEventToLayerPoint(t.touches[1]),a=i._getCenterLayerPoint();this._startCenter=n.add(s)._divideBy(2),this._startDist=n.distanceTo(s),this._moved=!1,this._zooming=!0,this._centerOffset=a.subtract(this._startCenter),i._panAnim&&i._panAnim.stop(),o.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),n=e.mouseEventToLayerPoint(t.touches[1]);this._scale=i.distanceTo(n)/this._startDist,this._delta=i._add(n)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(o.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),o.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),n=t.getScaleZoom(this._scale);t._animateZoom(i,n,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,o.DomUtil.removeClass(t._mapPane,"leaflet-touching"),o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var i=this._getScaleOrigin(),n=t.layerPointToLatLng(i),s=t.getZoom(),a=t.getScaleZoom(this._scale)-s,r=a>0?Math.ceil(a):Math.floor(a),h=t._limitZoom(s+r),l=t.getZoomScale(h)/this._scale;t._animateZoom(n,h,i,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new o.Point(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),o.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var i=t.changedTouches[0],n=i.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.removeClass(n,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY)},_simulateEvent:function(i,n){var o=e.createEvent("MouseEvents");o._simulated=!0,n.target._simulatedClick=!0,o.initMouseEvent(i,!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(o)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button?!1:(o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void o.DomEvent.on(e,"mousemove",this._onMouseMove,this).on(e,"mouseup",this._onMouseUp,this).on(e,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=o.DomUtil.create("div","leaflet-zoom-box",this._pane),o.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,i=this._box,n=this._map.mouseEventToLayerPoint(t),s=n.subtract(e),a=new o.Point(Math.min(n.x,e.x),Math.min(n.y,e.y));o.DomUtil.setPosition(i,a),this._moved=!0,i.style.width=Math.max(0,Math.abs(s.x)-4)+"px",i.style.height=Math.max(0,Math.abs(s.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(e,"mousemove",this._onMouseMove).off(e,"mouseup",this._onMouseUp).off(e,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,i=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(i)){var n=new o.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(i));e.fitBounds(n),e.fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),o.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;o.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var i=e.body,n=e.documentElement,o=i.scrollTop||n.scrollTop,s=i.scrollLeft||n.scrollLeft;this._map._container.focus(),t.scrollTo(s,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;i>e;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;i>e;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;i>e;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;i>e;e++)n[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;i>e;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;i>e;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,i=this._map;if(e in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;i.panBy(this._panKeys[e]),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else{if(!(e in this._zoomKeys))return;i.setZoom(i.getZoom()+this._zoomKeys[e])}o.DomEvent.stop(t)}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),o.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,i=o.DomUtil.getPosition(t._icon),n=t._map.layerPointToLatLng(i);e&&o.DomUtil.setPosition(e,i),t._latlng=n,t.fire("move",{latlng:n}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return o.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),i=t._controlCorners[e];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,s){var a=i+t+" "+i+s;e[t+s]=o.DomUtil.create("div",a,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=o.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=o.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",i,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",i,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,i,n,s,a){var r=o.DomUtil.create("a",i,n);r.innerHTML=t,r.href="#",r.title=e;var h=o.DomEvent.stopPropagation;return o.DomEvent.on(r,"click",h).on(r,"mousedown",h).on(r,"dblclick",h).on(r,"click",o.DomEvent.preventDefault).on(r,"click",s,a).on(r,"click",this._refocusOnMap,a),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&o.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new o.Control.Attribution).addTo(this))}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",i=o.DomUtil.create("div",e),n=this.options;return this._addScales(n,e,i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=o.DomUtil.create("div",e+"-line",i)),t.imperial&&(this._iScale=o.DomUtil.create("div",e+"-line",i))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,i=6378137*Math.PI*Math.cos(e*Math.PI/180),n=i*(t.getNorthEast().lng-t.getSouthWest().lng)/180,o=this._map.getSize(),s=this.options,a=0;o.x>0&&(a=n*(s.maxWidth/o.x)),this._updateScales(s,a)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,i,n,o=3.2808399*t,s=this._iScale;o>5280?(e=o/5280,i=this._getRoundNum(e),s.style.width=this._getScaleWidth(i/e)+"px",s.innerHTML=i+" mi"):(n=this._getRoundNum(o),s.style.width=this._getScaleWidth(n/o)+"px",s.innerHTML=n+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,i){o.setOptions(this,i),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=o.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.Browser.touch?o.DomEvent.on(e,"click",o.DomEvent.stopPropagation):o.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var i=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var n=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",o.Browser.touch?o.DomEvent.on(n,"click",o.DomEvent.stop).on(n,"click",this._expand,this):o.DomEvent.on(n,"focus",this._expand,this),o.DomEvent.on(i,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",i),this._separator=o.DomUtil.create("div",t+"-separator",i),this._overlaysList=o.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_addLayer:function(t,e,i){var n=o.stamp(t);this._layers[n]={layer:t,name:e,overlay:i},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,i=!1,n=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),n=n||e.overlay,i=i||!e.overlay;this._separator.style.display=n&&i?"":"none"}},_onLayerChange:function(t){var e=this._layers[o.stamp(t.layer)];if(e){this._handlingClick||this._update();var i=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)}},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';i&&(n+=' checked="checked"'),n+="/>";var o=e.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var i,n=e.createElement("label"),s=this._map.hasLayer(t.layer);t.overlay?(i=e.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=s):i=this._createRadioElement("leaflet-base-layers",s),i.layerId=o.stamp(t.layer),o.DomEvent.on(i,"click",this._onInputClick,this);var a=e.createElement("span");a.innerHTML=" "+t.name,n.appendChild(i),n.appendChild(a);var r=t.overlay?this._overlaysList:this._baseLayersList;return r.appendChild(n),n},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=n.length;for(this._handlingClick=!0,t=0;o>t;t++)e=n[t],i=this._layers[e.layerId],e.checked&&!this._map.hasLayer(i.layer)?this._map.addLayer(i.layer):!e.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),o.control.layers=function(t,e,i){return new o.Control.Layers(t,e,i)},o.PosAnimation=o.Class.extend({includes:o.Mixin.Events,run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[o.DomUtil.TRANSITION]="all "+(i||.25)+"s cubic-bezier(0,0,"+(n||.5)+",1)",o.DomEvent.on(t,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),o.DomUtil.setPosition(t,e),o.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(o.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(o.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),o.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,i,n,s=this._el,a=t.getComputedStyle(s);if(o.Browser.any3d){if(n=a[o.DomUtil.TRANSFORM].match(this._transformRe),!n)return;e=parseFloat(n[1]),i=parseFloat(n[2])}else e=parseFloat(a.left),i=parseFloat(a.top);return new o.Point(e,i,!0)},_onTransitionEnd:function(){o.DomEvent.off(this._el,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[o.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),o.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(o.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=o.extend({animate:n.animate},n.zoom),n.pan=o.extend({animate:n.animate},n.pan));var s=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(i)?(this.panBy(i,e),!0):!1}}),o.PosAnimation=o.DomUtil.TRANSITION?o.PosAnimation:o.PosAnimation.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));o.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),o.DomUtil.TRANSITION&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.android23&&!o.Browser.mobileOpera,this._zoomAnimated&&o.DomEvent.on(this._mapPane,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),o.Map.include(o.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n),s=this._getCenterLayerPoint()._add(o);return i.animate===!0||this.getSize().contains(o)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,s,n,null,!0),!0):!1},_animateZoom:function(t,e,i,n,s,a,r){r||(this._animatingZoom=!0),o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,o.Draggable&&(o.Draggable._disabled=!0),o.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:i,scale:n,delta:s,backwards:a})},this)},_onZoomTransitionEnd:function(){this._animatingZoom=!1,o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),o.Draggable&&(o.Draggable._disabled=!1)}}:{}),o.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,i=o.DomUtil.TRANSFORM,n=t.delta?o.DomUtil.getTranslateString(t.delta):e.style[i],s=o.DomUtil.getScaleString(t.scale,t.origin);e.style[i]=t.backwards?s+" "+n:n+" "+s},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),o.Util.falseFn(e.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[o.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,i=this._getLoadedTilesPercentage(e),n=this._getLoadedTilesPercentage(t);return e&&i>.5&&.5>n?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[o.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,i,n=t.getElementsByTagName("img"),o=0;for(e=0,i=n.length;i>e;e++)n[e].complete&&o++;return o/i},_stopLoadingImages:function(t){var e,i,n,s=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,i=s.length;i>e;e++)n=s[e],n.complete||(n.onload=o.Util.falseFn,n.onerror=o.Util.falseFn,n.src=o.Util.emptyImageUrl,n.parentNode.removeChild(n))}}),o.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=o.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),i=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new o.LatLng(e,i),s=180*t.coords.accuracy/40075017,a=s/Math.cos(o.LatLng.DEG_TO_RAD*e),r=o.latLngBounds([e-s,i-a],[e+s,i+a]),h=this._locateOptions;if(h.setView){var l=Math.min(this.getBoundsZoom(r),h.maxZoom);this.setView(n,l)}var u={latlng:n,bounds:r,timestamp:t.timestamp};for(var c in t.coords)"number"==typeof t.coords[c]&&(u[c]=t.coords[c]);this.fire("locationfound",u)}})}(window,document)}).call(this),function(){!function(){"use strict";L.TileLayer.Provider=L.TileLayer.extend({initialize:function(t,e){var i=L.TileLayer.Provider.providers,n=t.split("."),o=n[0],s=n[1];if(!i[o])throw"No such provider ("+o+")";var a={url:i[o].url,options:i[o].options};if(s&&"variants"in i[o]){if(!(s in i[o].variants))throw"No such variant of "+o+" ("+s+")";var r=i[o].variants[s],h;h="string"==typeof r?{variant:r}:r.options,a={url:r.url||a.url,options:L.Util.extend({},a.options,h)}}else"function"==typeof a.url&&(a.url=a.url(n.splice(1,n.length-1).join(".")));var l=function(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,function(t,e){return l(i[e].options.attribution)})};a.options.attribution=l(a.options.attribution);var u=L.Util.extend({},a.options,e);L.TileLayer.prototype.initialize.call(this,a.url,u)}}),L.TileLayer.Provider.providers={OpenStreetMap:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://{s}.www.toolserver.org/tiles/bw-mapnik/{z}/{x}/{y}.png"},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png"},HOT:{url:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},Thunderforest:{url:"http://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, {attribution.OpenStreetMap}',variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:"transport",Landscape:"landscape",Outdoors:"outdoors"}},OpenMapSurfer:{url:"http://openmapsurfer.uni-hd.de/tiles/{variant}/x={x}&y={y}&z={z}",options:{minZoom:0,maxZoom:20,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Roads:"roads",AdminBounds:{options:{variant:"adminb",maxZoom:19}},Grayscale:{options:{variant:"roadsg",maxZoom:19}}}},MapQuestOpen:{url:"http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpeg",options:{attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"1234"},variants:{OSM:{},Aerial:{url:"http://oatile{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",options:{attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'
}}}},MapBox:{url:function(t){return"http://{s}.tiles.mapbox.com/v3/"+t+"/{z}/{x}/{y}.png"},options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd"}},Stamen:{url:"http://{s}.tile.stamen.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Terrain:{options:{variant:"terrain",minZoom:4,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:4,maxZoom:18}},Watercolor:{options:{variant:"watercolor",minZoom:3,maxZoom:16}}}},Esri:{url:"http://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"http://{s}.{base}.maps.cit.api.here.com/maptile/2.1/maptile/{mapID}/{variant}/{z}/{x}/{y}/256/png8?app_id={app_id}&app_code={app_code}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",minZoom:0,maxZoom:20},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},Acetate:{url:"http://a{s}.acetate.geoiq.com/tiles/{variant}/{z}/{x}/{y}.png",options:{attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth",subdomains:"0123",minZoom:2,maxZoom:18,variant:"acetate-base"},variants:{basemap:"acetate-base",terrain:"terrain",all:"acetate-hillshading",foreground:"acetate-fg",roads:"acetate-roads",labels:"acetate-labels",hillshading:"hillshading"}}},L.tileLayer.provider=function(t,e){return new L.TileLayer.Provider(t,e)},L.Control.Layers.Provided=L.Control.Layers.extend({initialize:function(t,e,i){var n,o=function(t){return t.replace(/\./g,": ").replace(/([a-z])([A-Z])/g,"$1 $2")};t.length&&(!function(){for(var e={},i=t.length,s=0;i>s;)"string"==typeof t[s]&&(0===s?(n=L.tileLayer.provider(t[0]),e[o(t[s])]=n):e[o(t[s])]=L.tileLayer.provider(t[s])),s++;t=e}(),this._first=n),e&&e.length&&!function(){for(var t={},i=e.length,n=0;i>n;)"string"==typeof e[n]&&(t[o(e[n])]=L.tileLayer.provider(e[n])),n++;e=t}(),L.Control.Layers.prototype.initialize.call(this,t,e,i)},onAdd:function(t){return this._first.addTo(t),L.Control.Layers.prototype.onAdd.call(this,t)}}),L.control.layers.provided=function(t,e,i){return new L.Control.Layers.Provided(t,e,i)}}()}.call(this),"undefined"==typeof Package&&(Package={}),Package["mrt:leaflet"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.templating.Template,i=Package.underscore._,n=Package.blaze.Blaze,o=Package.blaze.UI,r=Package.blaze.Handlebars,s=Package.htmljs.HTML;(function(){!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var i=document.createElement(t||"div"),n;for(n in e)i[n]=e[n];return i}function e(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,i,n){var o=["opacity",e,~~(100*t),i,n].join("-"),r=.01+i/n*100,s=Math.max(1-(1-t)/e*(100-r),t),a=f.substring(0,f.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return p[o]||(u.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",u.cssRules.length),p[o]=1),o}function n(t,e){var i=t.style,n,o;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<d.length;o++)if(n=d[o]+e,void 0!==i[n])return n;return void 0!==i[e]?e:void 0}function o(t,e){for(var i in e)t.style[n(t,i)||i]=e[i];return t}function r(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)void 0===t[n]&&(t[n]=i[n])}return t}function s(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function a(t,e){return"string"==typeof t?t:t[e%t.length]}function l(t){this.opts=r(t||{},l.defaults,h)}function c(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}u.addRule(".spin-vml","behavior:url(#default#VML)"),l.prototype.lines=function(t,n){function r(){return o(i("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function s(t,s,c){e(p,e(o(r(),{rotation:360/n.lines*t+"deg",left:~~s}),e(o(i("roundrect",{arcsize:n.corners}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:c}),i("fill",{color:a(n.color,t),opacity:n.opacity}),i("stroke",{opacity:0}))))}var l=n.length+n.width,c=2*l,d=2*-(n.width+n.length)+"px",p=o(r(),{position:"absolute",top:d,left:d}),f;if(n.shadow)for(f=1;f<=n.lines;f++)s(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=n.lines;f++)s(f);return e(t,p)},l.prototype.opacity=function(t,e,i,n){var o=t.firstChild;n=n.shadow&&n.lines||0,o&&e+n<o.childNodes.length&&(o=o.childNodes[e+n],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=i))}}var d=["webkit","Moz","ms","O"],p={},f,u=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};l.defaults={},r(l.prototype,{spin:function(e){this.stop();var i=this,n=i.opts,r=i.el=o(t(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),s=n.radius+n.length+n.width;if(o(r,{left:n.left,top:n.top}),e&&e.insertBefore(r,e.firstChild||null),r.setAttribute("role","progressbar"),i.lines(r,i.opts),!f){var a=0,l=(n.lines-1)*(1-n.direction)/2,c,d=n.fps,p=d/n.speed,u=(1-n.opacity)/(p*n.trail/100),h=p/n.lines;!function g(){a++;for(var t=0;t<n.lines;t++)c=Math.max(1-(a+(n.lines-t)*h)%p*u,n.opacity),i.opacity(r,t*n.direction+l,c,n);i.timeout=i.el&&setTimeout(g,~~(1e3/d))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(n,r){function s(e,i){return o(t(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*l+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var l=0,c=(r.lines-1)*(1-r.direction)/2,d;l<r.lines;l++)d=o(t(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:f&&i(r.opacity,r.trail,c+l*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&e(d,o(s("#000","0 0 4px #000"),{top:"2px"})),e(n,e(d,s(a(r.color,l),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var g=o(t("group"),{behavior:"url(#default#VML)"});return!n(g,"transform")&&g.adj?c():f=n(g,"animation"),l})}).call(this),function(){e.__define__("spinner",function(){var t=this;return s.Raw('<div class="spinner-container"></div>')})}.call(this),function(){e.spinner.rendered=function(){var e=i.extend({},t.Spinner.options,this.data);this.spinner=new Spinner(e),this.spinner.spin(this.firstNode)},e.spinner.destroyed=function(){this.spinner&&this.spinner.stop()},t.Spinner={options:{lines:13,length:8,width:3,radius:12,corners:1,rotate:0,direction:1,color:"#000",speed:1.2,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["sacha:spin"]={}}();

!function(){var e=Package.meteor.Meteor,n;(function(){n={},function(e){function n(e,n){var o={};if(t(e)&&e.length>0)for(var r=n?c:i,a=e.split(/;\s/g),u,f,s,g=0,p=a.length;p>g;g++){if(s=a[g].match(/([^=]+)=/i),s instanceof Array)try{u=c(s[1]),f=r(a[g].substring(s[1].length+1))}catch(m){}else u=c(a[g]),f="";u&&(o[u]=f)}return o}function t(e){return"string"==typeof e}function o(e){return t(e)&&""!==e}function r(e){if(!o(e))throw new TypeError("Cookie name must be a non-empty string")}function i(e){return e}var a=e,c=decodeURIComponent,u=encodeURIComponent;a.get=function(e,t){r(e),t="function"==typeof t?{converter:t}:t||{};var o=n(document.cookie,!t.raw);return(t.converter||i)(o[e])},a.set=function(e,n,t){r(e),t=t||{};var i=t.expires,a=t.domain,c=t.path;t.raw||(n=u(String(n)));var f=e+"="+n,s=i;return"number"==typeof s&&(s=new Date,s.setDate(s.getDate()+i)),s instanceof Date&&(f+="; expires="+s.toUTCString()),o(a)&&(f+="; domain="+a),o(c)&&(f+="; path="+c),t.secure&&(f+="; secure"),document.cookie=f,f},a.remove=function(e,n){return n=n||{},n.expires=new Date(0),this.set(e,"",n)}}(n)}).call(this),"undefined"==typeof Package&&(Package={}),Package["chuangbo:cookie"]={Cookie:n}}();

!function(){var e=Package.meteor.Meteor,t,r;(function(){r=!1,e.isClient&&-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(document.createElement("SVG").getAttributeNS||(r=!0))}).call(this),function(){r||(t=new function(){function e(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function t(e){return e.nodeName.toLowerCase()}function r(e,t){var r=e&&e.exec(t);return r&&0==r.index}function n(e){var t=(e.className+" "+(e.parentNode?e.parentNode.className:"")).split(/\s+/);return t=t.map(function(e){return e.replace(/^lang(uage)?-/,"")}),t.filter(function(e){return _(e)||/no(-?)highlight/.test(e)})[0]}function a(e,t){var r={};for(var n in e)r[n]=e[n];if(t)for(var n in t)r[n]=t[n];return r}function i(e){var r=[];return function n(e,a){for(var i=e.firstChild;i;i=i.nextSibling)3==i.nodeType?a+=i.nodeValue.length:1==i.nodeType&&(r.push({event:"start",offset:a,node:i}),a=n(i,a),t(i).match(/br|hr|img|input/)||r.push({event:"stop",offset:a,node:i}));return a}(e,0),r}function s(r,n,a){function i(){return r.length&&n.length?r[0].offset!=n[0].offset?r[0].offset<n[0].offset?r:n:"start"==n[0].event?r:n:r.length?r:n}function s(r){function n(t){return" "+t.nodeName+'="'+e(t.value)+'"'}u+="<"+t(r)+Array.prototype.map.call(r.attributes,n).join("")+">"}function c(e){u+="</"+t(e)+">"}function o(e){("start"==e.event?s:c)(e.node)}for(var l=0,u="",d=[];r.length||n.length;){var b=i();if(u+=e(a.substr(l,b[0].offset-l)),l=b[0].offset,b==r){d.reverse().forEach(c);do o(b.splice(0,1)[0]),b=i();while(b==r&&b.length&&b[0].offset==l);d.reverse().forEach(s)}else"start"==b[0].event?d.push(b[0].node):d.pop(),o(b.splice(0,1)[0])}return u+e(a.substr(l))}function c(e){function t(e){return e&&e.source||e}function r(r,n){return RegExp(t(r),"m"+(e.cI?"i":"")+(n?"g":""))}function n(i,s){if(!i.compiled){if(i.compiled=!0,i.k=i.k||i.bK,i.k){var c={},o=function(t,r){e.cI&&(r=r.toLowerCase()),r.split(" ").forEach(function(e){var r=e.split("|");c[r[0]]=[t,r[1]?Number(r[1]):1]})};"string"==typeof i.k?o("keyword",i.k):Object.keys(i.k).forEach(function(e){o(e,i.k[e])}),i.k=c}i.lR=r(i.l||/\b[A-Za-z0-9_]+\b/,!0),s&&(i.bK&&(i.b="\\b("+i.bK.split(" ").join("|")+")\\b"),i.b||(i.b=/\B|\b/),i.bR=r(i.b),i.e||i.eW||(i.e=/\B|\b/),i.e&&(i.eR=r(i.e)),i.tE=t(i.e)||"",i.eW&&s.tE&&(i.tE+=(i.e?"|":"")+s.tE)),i.i&&(i.iR=r(i.i)),void 0===i.r&&(i.r=1),i.c||(i.c=[]);var l=[];i.c.forEach(function(e){e.v?e.v.forEach(function(t){l.push(a(e,t))}):l.push("self"==e?i:e)}),i.c=l,i.c.forEach(function(e){n(e,i)}),i.starts&&n(i.starts,s);var u=i.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([i.tE,i.i]).map(t).filter(Boolean);i.t=u.length?r(u.join("|"),!0):{exec:function(){return null}}}}n(e)}function o(t,n,a,i){function s(e,t){for(var n=0;n<t.c.length;n++)if(r(t.c[n].bR,e))return t.c[n]}function u(e,t){return r(e.eR,t)?e:e.eW?u(e.parent,t):void 0}function d(e,t){return!a&&r(t.iR,e)}function b(e,t){var r=y.cI?t[0].toLowerCase():t[0];return e.k.hasOwnProperty(r)&&e.k[r]}function p(e,t,r,n){var a=n?"":N.classPrefix,i='<span class="'+a,s=r?"":"</span>";return i+=e+'">',i+t+s}function f(){if(!k.k)return e(S);var t="",r=0;k.lR.lastIndex=0;for(var n=k.lR.exec(S);n;){t+=e(S.substr(r,n.index-r));var a=b(k,n);a?(E+=a[1],t+=p(a[0],e(n[0]))):t+=e(n[0]),r=k.lR.lastIndex,n=k.lR.exec(S)}return t+e(S.substr(r))}function g(){if(k.sL&&!v[k.sL])return e(S);var t=k.sL?o(k.sL,S,!0,x[k.sL]):l(S);return k.r>0&&(E+=t.r),"continuous"==k.subLanguageMode&&(x[k.sL]=t.top),p(t.language,t.value,!1,!0)}function m(){return void 0!==k.sL?g():f()}function h(t,r){var n=t.cN?p(t.cN,"",!0):"";t.rB?(M+=n,S=""):t.eB?(M+=e(r)+n,S=""):(M+=n,S=r),k=Object.create(t,{parent:{value:k}})}function w(t,r){if(S+=t,void 0===r)return M+=m(),0;var n=s(r,k);if(n)return M+=m(),h(n,r),n.rB?0:r.length;var a=u(k,r);if(a){var i=k;i.rE||i.eE||(S+=r),M+=m();do k.cN&&(M+="</span>"),E+=k.r,k=k.parent;while(k!=a.parent);return i.eE&&(M+=e(r)),S="",a.starts&&h(a.starts,""),i.rE?0:r.length}if(d(r,k))throw new Error('Illegal lexeme "'+r+'" for mode "'+(k.cN||"<unnamed>")+'"');return S+=r,r.length||1}var y=_(t);if(!y)throw new Error('Unknown language: "'+t+'"');c(y);for(var k=i||y,x={},M="",C=k;C!=y;C=C.parent)C.cN&&(M=p(C.cN,"",!0)+M);var S="",E=0;try{for(var B,I,L=0;k.t.lastIndex=L,B=k.t.exec(n),B;)I=w(n.substr(L,B.index-L),B[0]),L=B.index+I;w(n.substr(L));for(var C=k;C.parent;C=C.parent)C.cN&&(M+="</span>");return{r:E,value:M,language:t,top:k}}catch(R){if(-1!=R.message.indexOf("Illegal"))return{r:0,value:e(n)};throw R}}function l(t,r){r=r||N.languages||Object.keys(v);var n={r:0,value:e(t)},a=n;return r.forEach(function(e){if(_(e)){var r=o(e,t,!1);r.language=e,r.r>a.r&&(a=r),r.r>n.r&&(a=n,n=r)}}),a.language&&(n.second_best=a),n}function u(e){return N.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,t){return t.replace(/\t/g,N.tabReplace)})),N.useBR&&(e=e.replace(/\n/g,"<br>")),e}function d(e,t,r){var n=t?w[t]:r,a=[e.trim()];return e.match(/(\s|^)hljs(\s|$)/)||a.push("hljs"),n&&a.push(n),a.join(" ").trim()}function b(e){var t=n(e);if(!/no(-?)highlight/.test(t)){var r;N.useBR?(r=document.createElementNS("http://www.w3.org/1999/xhtml","div"),r.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):r=e;var a=r.textContent,c=t?o(t,a,!0):l(a),b=i(r);if(b.length){var p=document.createElementNS("http://www.w3.org/1999/xhtml","div");p.innerHTML=c.value,c.value=s(b,i(p),a)}c.value=u(c.value),e.innerHTML=c.value,e.className=d(e.className,t,c.language),e.result={language:c.language,re:c.r},c.second_best&&(e.second_best={language:c.second_best.language,re:c.second_best.r})}}function p(e){N=a(N,e)}function f(){if(!f.called){f.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,b)}}function g(){addEventListener("DOMContentLoaded",f,!1),addEventListener("load",f,!1)}function m(e,t){var r=v[e]=t(this);r.aliases&&r.aliases.forEach(function(t){w[t]=e})}function h(){return Object.keys(v)}function _(e){return v[e]||v[w[e]]}var N={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},v={},w={};this.highlight=o,this.highlightAuto=l,this.fixMarkup=u,this.highlightBlock=b,this.configure=p,this.initHighlighting=f,this.initHighlightingOnLoad=g,this.registerLanguage=m,this.listLanguages=h,this.getLanguage=_,this.inherit=a,this.IR="[a-zA-Z][a-zA-Z0-9_]*",this.UIR="[a-zA-Z_][a-zA-Z0-9_]*",this.NR="\\b\\d+(\\.\\d+)?",this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",this.BNR="\\b(0b[01]+)",this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",this.BE={b:"\\\\[\\s\\S]",r:0},this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]},this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]},this.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/},this.CLCM={cN:"comment",b:"//",e:"$",c:[this.PWM]},this.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[this.PWM]},this.HCM={cN:"comment",b:"#",e:"$",c:[this.PWM]},this.NM={cN:"number",b:this.NR,r:0},this.CNM={cN:"number",b:this.CNR,r:0},this.BNM={cN:"number",b:this.BNR,r:0},this.CSSNM={cN:"number",b:this.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},this.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]},this.TM={cN:"title",b:this.IR,r:0},this.UTM={cN:"title",b:this.UIR,r:0}},t.registerLanguage("javascript",function(e){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"},c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},e.ASM,e.QSM,e.CLCM,e.CBCM,e.CNM,{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[e.CLCM,e.CBCM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+e.IR,r:0}]}}),t.registerLanguage("sql",function(e){var t={cN:"comment",b:"--",e:"$"};return{cI:!0,i:/[<>]/,c:[{cN:"operator",bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate savepoint release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup",e:/;/,eW:!0,k:{keyword:"abs absolute acos action add adddate addtime aes_decrypt aes_encrypt after aggregate all allocate alter analyze and any are as asc ascii asin assertion at atan atan2 atn2 authorization authors avg backup before begin benchmark between bin binlog bit_and bit_count bit_length bit_or bit_xor both by cache call cascade cascaded case cast catalog ceil ceiling chain change changed char_length character_length charindex charset check checksum checksum_agg choose close coalesce coercibility collate collation collationproperty column columns columns_updated commit compress concat concat_ws concurrent connect connection connection_id consistent constraint constraints continue contributors conv convert convert_tz corresponding cos cot count count_big crc32 create cross cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime data database databases datalength date_add date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts datetimeoffsetfromparts day dayname dayofmonth dayofweek dayofyear deallocate declare decode default deferrable deferred degrees delayed delete des_decrypt des_encrypt des_key_file desc describe descriptor diagnostics difference disconnect distinct distinctrow div do domain double drop dumpfile each else elt enclosed encode encrypt end end-exec engine engines eomonth errors escape escaped event eventdata events except exception exec execute exists exp explain export_set extended external extract fast fetch field fields find_in_set first first_value floor flush for force foreign format found found_rows from from_base64 from_days from_unixtime full function get get_format get_lock getdate getutcdate global go goto grant grants greatest group group_concat grouping grouping_id gtid_subset gtid_subtract handler having help hex high_priority hosts hour ident_current ident_incr ident_seed identified identity if ifnull ignore iif ilike immediate in index indicator inet6_aton inet6_ntoa inet_aton inet_ntoa infile initially inner innodb input insert install instr intersect into is is_free_lock is_ipv4 is_ipv4_compat is_ipv4_mapped is_not is_not_null is_used_lock isdate isnull isolation join key kill language last last_day last_insert_id last_value lcase lead leading least leaves left len lenght level like limit lines ln load load_file local localtime localtimestamp locate lock log log10 log2 logfile logs low_priority lower lpad ltrim make_set makedate maketime master master_pos_wait match matched max md5 medium merge microsecond mid min minute mod mode module month monthname mutex name_const names national natural nchar next no no_write_to_binlog not now nullif nvarchar oct octet_length of old_password on only open optimize option optionally or ord order outer outfile output pad parse partial partition password patindex percent_rank percentile_cont percentile_disc period_add period_diff pi plugin position pow power pragma precision prepare preserve primary prior privileges procedure procedure_analyze processlist profile profiles public publishingservername purge quarter query quick quote quotename radians rand read references regexp relative relaylog release release_lock rename repair repeat replace replicate reset restore restrict return returns reverse revoke right rlike rollback rollup round row row_count rows rpad rtrim savepoint schema scroll sec_to_time second section select serializable server session session_user set sha sha1 sha2 share show sign sin size slave sleep smalldatetimefromparts snapshot some soname soundex sounds_like space sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sql_variant_property sqlstate sqrt square start starting status std stddev stddev_pop stddev_samp stdev stdevp stop str str_to_date straight_join strcmp string stuff subdate substr substring subtime subtring_index sum switchoffset sysdate sysdatetime sysdatetimeoffset system_user sysutcdatetime table tables tablespace tan temporary terminated tertiary_weights then time time_format time_to_sec timediff timefromparts timestamp timestampadd timestampdiff timezone_hour timezone_minute to to_base64 to_days to_seconds todatetimeoffset trailing transaction translation trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse ucase uncompress uncompressed_length unhex unicode uninstall union unique unix_timestamp unknown unlock update upgrade upped upper usage use user user_resources using utc_date utc_time utc_timestamp uuid uuid_short validate_password_strength value values var var_pop var_samp variables variance varp version view warnings week weekday weekofyear weight_string when whenever where with work write xml xor year yearweek zon",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int integer interval number numeric real serial smallint varchar varying int8 serial8 text"},c:[{cN:"string",b:"'",e:"'",c:[e.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[e.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[e.BE]},e.CNM,e.CBCM,t]},e.CBCM,t]}}),t.registerLanguage("python",function(e){var t={cN:"prompt",b:/^(>>>|\.\.\.) /},r={cN:"string",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[t],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[t],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},e.ASM,e.QSM]},n={cN:"number",r:0,v:[{b:e.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:e.CNR+"[lLjJ]?"}]},a={cN:"params",b:/\(/,e:/\)/,c:["self",t,n,r]},i={e:/:/,i:/[${=;\n]/,c:[e.UTM,a]};return{aliases:["py","gyp"],k:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},i:/(<\/|->|\?)/,c:[t,n,r,e.HCM,e.inherit(i,{cN:"function",bK:"def",r:10}),e.inherit(i,{cN:"class",bK:"class"}),{cN:"decorator",b:/@/,e:/$/},{b:/\b(print|exec)\(/}]}}),t.registerLanguage("perl",function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",r={cN:"subst",b:"[$@]\\{",e:"\\}",k:t},n={b:"->{",e:"}"},a={cN:"variable",v:[{b:/\$\d/},{b:/[\$\%\@](\^\w\b|#\w+(\:\:\w+)*|{\w+}|\w+(\:\:\w*)*)/},{b:/[\$\%\@][^\s\w{]/,r:0}]},i={cN:"comment",b:"^(__END__|__DATA__)",e:"\\n$",r:5},s=[e.BE,r,a],c=[a,e.HCM,i,{cN:"comment",b:"^\\=\\w",e:"\\=cut",eW:!0},n,{cN:"string",c:s,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[e.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[e.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+e.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[e.HCM,i,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[e.BE],r:0}]},{cN:"sub",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",r:5},{cN:"operator",b:"-\\w\\b",r:0}];return r.c=c,n.c=c,{aliases:["pl"],k:t,c:c}}),t.registerLanguage("apache",function(e){var t={cN:"number",b:"[\\$%]\\d+"};return{aliases:["apacheconf"],cI:!0,c:[e.HCM,{cN:"tag",b:"</?",e:">"},{cN:"keyword",b:/\w+/,r:0,k:{common:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,r:0,k:{literal:"on off all"},c:[{cN:"sqbracket",b:"\\s\\[",e:"\\]$"},{cN:"cbracket",b:"[\\$%]\\{",e:"\\}",c:["self",t]},t,e.QSM]}}],i:/\S/}}),t.registerLanguage("xml",function(){var e="[A-Za-z0-9\\._:-]+",t={b:/<\?(php)?(?!\w)/,e:/\?>/,sL:"php",subLanguageMode:"continuous"},r={eW:!0,i:/</,r:0,c:[t,{cN:"attribute",b:e,r:0},{b:"=",r:0,c:[{cN:"value",c:[t],v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s\/>]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xsl","plist"],cI:!0,c:[{cN:"doctype",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},{cN:"comment",b:"<!--",e:"-->",r:10},{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{title:"style"},c:[r],starts:{e:"</style>",rE:!0,sL:"css"}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{title:"script"},c:[r],starts:{e:"</script>",rE:!0,sL:"javascript"}},t,{cN:"pi",b:/<\?\w+/,e:/\?>/,r:10},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"title",b:/[^ \/><\n\t]+/,r:0},r]}]}}),t.registerLanguage("css",function(e){var t="[a-zA-Z-][a-zA-Z0-9_-]*",r={cN:"function",b:t+"\\(",rB:!0,eE:!0,e:"\\("};return{cI:!0,i:"[=/|']",c:[e.CBCM,{cN:"id",b:"\\#[A-Za-z0-9_-]+"},{cN:"class",b:"\\.[A-Za-z0-9_-]+",r:0},{cN:"attr_selector",b:"\\[",e:"\\]",i:"$"},{cN:"pseudo",b:":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"},{cN:"at_rule",b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{cN:"at_rule",b:"@",e:"[{;]",c:[{cN:"keyword",b:/\S+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[r,e.ASM,e.QSM,e.CSSNM]}]},{cN:"tag",b:t,r:0},{cN:"rules",b:"{",e:"}",i:"[^\\s]",r:0,c:[e.CBCM,{cN:"rule",b:"[^\\s]",rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:"[A-Z\\_\\.\\-]+",e:":",eE:!0,i:"[^\\s]",starts:{cN:"value",eW:!0,eE:!0,c:[r,e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"hexcolor",b:"#[0-9A-Fa-f]+"},{cN:"important",b:"!important"}]}}]}]}]}}),t.registerLanguage("cpp",function(e){var t={keyword:"false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long throw volatile static protected bool template mutable if public friend do return goto auto void enum else break new extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue wchar_t inline delete alignof char16_t char32_t constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex _Complex _Imaginary",built_in:"std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf"};return{aliases:["c","h","c++","h++"],k:t,i:"</",c:[e.CLCM,e.CBCM,e.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},e.CNM,{cN:"preprocessor",b:"#",e:"$",k:"if else elif endif define undef warning error line pragma",c:[{b:'include\\s*[<"]',e:'[>"]',k:"include",i:"\\n"},e.CLCM]},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:t,c:["self"]},{b:e.IR+"::"}]}}),t.registerLanguage("json",function(e){var t={literal:"true false null"},r=[e.QSM,e.CNM],n={cN:"value",e:",",eW:!0,eE:!0,c:r,k:t},a={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[e.BE],i:"\\n",starts:n}],i:"\\S"},i={b:"\\[",e:"\\]",c:[e.inherit(n,{cN:null})],i:"\\S"};return r.splice(r.length,0,a,i),{c:r,k:t,i:"\\S"}}),t.registerLanguage("coffeescript",function(e){var t={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",reserved:"case default function var void with const let enum export import native __hasProp __extends __slice __bind __indexOf",built_in:"npm require console print module global window document"},r="[A-Za-z$_][0-9A-Za-z$_]*",n={cN:"subst",b:/#\{/,e:/}/,k:t},a=[e.BNM,e.inherit(e.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[e.BE]},{b:/'/,e:/'/,c:[e.BE]},{b:/"""/,e:/"""/,c:[e.BE,n]},{b:/"/,e:/"/,c:[e.BE,n]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[n,e.HCM]},{b:"//[gim]*",r:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]},{cN:"property",b:"@"+r},{b:"`",e:"`",eB:!0,eE:!0,sL:"javascript"}];n.c=a;var i=e.inherit(e.TM,{b:r}),s="(\\(.*\\))?\\s*\\B[-=]>",c={cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:t,c:["self"].concat(a)}]};return{aliases:["coffee","cson","iced"],k:t,i:/\/\*/,c:a.concat([{cN:"comment",b:"###",e:"###",c:[e.PWM]},e.HCM,{cN:"function",b:"^\\s*"+r+"\\s*=\\s*"+s,e:"[-=]>",rB:!0,c:[i,c]},{b:/[:\(,=]\s*/,r:0,c:[{cN:"function",b:s,e:"[-=]>",rB:!0,c:[c]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[i]},i]},{cN:"attribute",b:r+":",e:":",rB:!0,rE:!0,r:0}])}}),t.registerLanguage("php",function(e){var t={cN:"variable",b:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},r={cN:"preprocessor",b:/<\?(php)?|\?>/},n={cN:"string",c:[e.BE,r],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},e.inherit(e.ASM,{i:null}),e.inherit(e.QSM,{i:null})]},a={v:[e.BNM,e.CNM]};return{aliases:["php3","php4","php5","php6"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[e.CLCM,e.HCM,{cN:"comment",b:"/\\*",e:"\\*/",c:[{cN:"phpdoc",b:"\\s@[A-Za-z]+"},r]},{cN:"comment",b:"__halt_compiler.+?;",eW:!0,k:"__halt_compiler",l:e.UIR},{cN:"string",b:"<<<['\"]?\\w+['\"]?$",e:"^\\w+;",c:[e.BE]},r,t,{b:/->+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[e.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",t,e.CBCM,n,a]}]},{cN:"class",bK:"class interface",e:"{",eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},e.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[e.UTM]},{bK:"use",e:";",c:[e.UTM]},{b:"=>"},n,a]}}),t.registerLanguage("nginx",function(e){var t={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+e.UIR}]},r={eW:!0,l:"[a-z/_]+",k:{built_in:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},r:0,i:"=>",c:[e.HCM,{cN:"string",c:[e.BE,t],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{cN:"url",b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0,c:[t]},{cN:"regexp",c:[e.BE,t],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",r:0},t]};return{aliases:["nginxconf"],c:[e.HCM,{b:e.UIR+"\\s",e:";|{",rB:!0,c:[{cN:"title",b:e.UIR,starts:r}],r:0}],i:"[^\\s\\}]"}}),t.registerLanguage("diff",function(){return{aliases:["patch"],c:[{cN:"chunk",r:10,v:[{b:/^\@\@ +\-\d+,\d+ +\+\d+,\d+ +\@\@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"header",v:[{b:/Index: /,e:/$/},{b:/=====/,e:/=====$/},{b:/^\-\-\-/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+\+\+/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"change",b:"^\\!",e:"$"}]}}),t.registerLanguage("objectivec",function(e){var t={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"NSString NSData NSDictionary CGRect CGPoint UIButton UILabel UITextView UIWebView MKMapView NSView NSViewController NSWindow NSWindowController NSSet NSUUID NSIndexSet UISegmentedControl NSObject UITableViewDelegate UITableViewDataSource NSThread UIActivityIndicator UITabbar UIToolBar UIBarButtonItem UIImageView NSAutoreleasePool UITableView BOOL NSInteger CGFloat NSException NSLog NSMutableString NSMutableArray NSMutableDictionary NSURL NSIndexPath CGSize UITableViewCell UIView UIViewController UINavigationBar UINavigationController UITabBarController UIPopoverController UIPopoverControllerDelegate UIImage NSNumber UISearchBar NSFetchedResultsController NSFetchedResultsChangeType UIScrollView UIScrollViewDelegate UIEdgeInsets UIColor UIFont UIApplication NSNotFound NSNotificationCenter NSNotification UILocalNotification NSBundle NSFileManager NSTimeInterval NSDate NSCalendar NSUserDefaults UIWindow NSRange NSArray NSError NSURLRequest NSURLConnection NSURLSession NSURLSessionDataTask NSURLSessionDownloadTask NSURLSessionUploadTask NSURLResponseUIInterfaceOrientation MPMoviePlayerController dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,n="@interface @class @protocol @implementation";return{aliases:["m","mm","objc","obj-c"],k:t,l:r,i:"</",c:[e.CLCM,e.CBCM,e.CNM,e.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[e.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"preprocessor",b:"#",e:"$",c:[{cN:"title",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"("+n.split(" ").join("|")+")\\b",e:"({|$)",eE:!0,k:n,l:r,c:[e.UTM]},{cN:"variable",b:"\\."+e.UIR,r:0}]}}),t.registerLanguage("makefile",function(e){var t={cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]};return{aliases:["mk","mak"],c:[e.HCM,{b:/^\w+\s*\W*=/,rB:!0,r:0,starts:{cN:"constant",e:/\s*\W*=/,eE:!0,starts:{e:/$/,r:0,c:[t]}}},{cN:"title",b:/^[\w]+:\s*$/},{cN:"phony",b:/^\.PHONY:/,e:/$/,k:".PHONY",l:/[\.\w]+/},{b:/^\t+/,e:/$/,r:0,c:[e.QSM,t]}]}}),t.registerLanguage("ruby",function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",r="and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",n={cN:"yardoctag",b:"@[A-Za-z]+"},a={cN:"value",b:"#<",e:">"},i={cN:"comment",v:[{b:"#",e:"$",c:[n]},{b:"^\\=begin",e:"^\\=end",c:[n],r:10},{b:"^__END__",e:"\\n$"}]},s={cN:"subst",b:"#\\{",e:"}",k:r},c={cN:"string",c:[e.BE,s],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]},o={cN:"params",b:"\\(",e:"\\)",k:r},l=[c,a,i,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[e.inherit(e.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{cN:"inheritance",b:"<\\s*",c:[{cN:"parent",b:"("+e.IR+"::)?"+e.IR}]},i]},{cN:"function",bK:"def",e:" |$|;",r:0,c:[e.inherit(e.TM,{b:t}),o,i]},{cN:"constant",b:"(::)?(\\b[A-Z]\\w*(::)?)+",r:0},{cN:"symbol",b:e.UIR+"(\\!|\\?)?:",r:0},{cN:"symbol",b:":",c:[c,{b:t}],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{cN:"variable",b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{b:"("+e.RSR+")\\s*",c:[a,i,{cN:"regexp",c:[e.BE,s],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}],r:0}];s.c=l,o.c=l;var u=[{b:/^\s*=>/,cN:"status",starts:{e:"$",c:l}},{cN:"prompt",b:/^\S[^=>\n]*>+/,starts:{e:"$",c:l}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:r,c:[i].concat(u).concat(l)}}),t.registerLanguage("bash",function(e){var t={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)\}/}]},r={cN:"string",b:/"/,e:/"/,c:[e.BE,t,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]},n={cN:"string",b:/'/,e:/'/};return{aliases:["sh","zsh"],l:/-?[a-z\.]+/,k:{keyword:"if then else elif fi for break continue while in do done exit return set declare case esac export exec function",literal:"true false",built_in:"printf echo read cd pwd pushd popd dirs let eval unset typeset readonly getopts source shopt caller type hash bind help sudo",operator:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"shebang",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],r:0},e.HCM,e.NM,r,n,t]}}),t.registerLanguage("cs",function(e){var t="abstract as base bool break byte case catch char checked const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long new null object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async await protected public private internal ascending descending from get group into join let orderby partial select set value var where yield",r=e.IR+"(<"+e.IR+">)?";

return{aliases:["csharp"],k:t,i:/::/,c:[{cN:"comment",b:"///",e:"$",rB:!0,c:[{cN:"xmlDocTag",v:[{b:"///",r:0},{b:"<!--|-->"},{b:"</?",e:">"}]}]},e.CLCM,e.CBCM,{cN:"preprocessor",b:"#",e:"$",k:"if else elif endif define undef warning error line region endregion pragma checksum"},{cN:"string",b:'@"',e:'"',c:[{b:'""'}]},e.ASM,e.QSM,e.CNM,{bK:"class namespace interface",e:/[{;=]/,i:/[^\s:]/,c:[e.TM,e.CLCM,e.CBCM]},{bK:"new",e:/\s/,r:0},{cN:"function",b:"("+r+"\\s+)+"+e.IR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:t,c:[{b:e.IR+"\\s*\\(",rB:!0,c:[e.TM]},{cN:"params",b:/\(/,e:/\)/,k:t,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]}]}}),t.registerLanguage("markdown",function(){return{aliases:["md","mkdown","mkd"],c:[{cN:"header",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"blockquote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"`.+?`"},{b:"^( {4}|	)",e:"$",r:0}]},{cN:"horizontal_rule",b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"link_label",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link_url",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"link_reference",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:"^\\[.+\\]:",rB:!0,c:[{cN:"link_reference",b:"\\[",e:"\\]:",eB:!0,eE:!0,starts:{cN:"link_url",e:"$"}}]}]}}),t.registerLanguage("ini",function(e){return{cI:!0,i:/\S/,c:[{cN:"comment",b:";",e:"$"},{cN:"title",b:"^\\[",e:"\\]"},{cN:"setting",b:"^[a-z0-9\\[\\]_-]+[ \\t]*=[ \\t]*",e:"$",c:[{cN:"value",eW:!0,k:"on off true false yes no",c:[e.QSM,e.NM],r:0}]}]}}),t.registerLanguage("http",function(){return{i:"\\S",c:[{cN:"status",b:"^HTTP/[0-9\\.]+",e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{cN:"request",b:"^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{cN:"string",e:"$"}},{b:"\\n\\n",starts:{sL:"",eW:!0}}]}}),t.registerLanguage("java",function(e){var t=e.UIR+"(<"+e.UIR+">)?",r="false synchronized int abstract float private char boolean static null if const for true while long throw strictfp finally protected import native final return void enum else break transient new catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private";return{aliases:["jsp"],k:r,i:/<\//,c:[{cN:"javadoc",b:"/\\*\\*",e:"\\*/",r:0,c:[{cN:"javadoctag",b:"(^|\\s)@[A-Za-z]+"}]},e.CLCM,e.CBCM,e.ASM,e.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},e.UTM]},{bK:"new throw",e:/\s/,r:0},{cN:"function",b:"("+t+"\\s+)+"+e.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:r,c:[{b:e.UIR+"\\s*\\(",rB:!0,c:[e.UTM]},{cN:"params",b:/\(/,e:/\)/,k:r,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]},e.CNM,{cN:"annotation",b:"@[A-Za-z]+"}]}}))}.call(this),function(){if(Package.markdown&&!r){var n;if(e.isClient)n=function(e){return $("<div/>").html(e).text()};else{var a=Npm.require("html-entities").XmlEntities;a=new a,n=a.decode}var i=function(e,r){return r?t.highlight(r,n(e)):t.highlightAuto(n(e))},s=Package.markdown.Showdown.converter;Package.markdown.Showdown.converter=function(e){var t=new s(e),r=t.makeHtml;return t.makeHtml=function(e){return e=r(e),e=e.replace(/<pre>\s*<code( class="(.+?)")?>([\s\S]*?)<\/code>\s*<\/pre>/g,function(e,t,r,n){if(r&&r.match(/hljs/))return e;var a=i(n,r);return"<pre><code class='hljs "+a.language+"'>"+a.value+"</code></pre>"})},t}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["simple:highlight.js"]={hljs:t}}();

!function(){var e=Package.meteor.Meteor,t;(function(){if(t=t||[],!t.initialize){if(t.invoked)return void(window.console&&console.error&&console.error("Segment snippet included twice."));t.invoked=!0,t.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"],t.factory=function(e){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e),t.push(n),t}};for(var e=0;e<t.methods.length;e++){var n=t.methods[e];t[n]=t.factory(n)}t.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},t.SNIPPET_VERSION="3.0.1"}}).call(this),"undefined"==typeof Package&&(Package={}),Package["percolatestudio:segment.io"]={analytics:t}}();

!function(){var t=Package.meteor.Meteor,e=Package.jquery.$,i=Package.jquery.jQuery;(function(){if("undefined"==typeof i)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(i),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(i),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.5",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t(s);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.5",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):a?n[a]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(i),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.5",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),a=s.data("bs.collapse"),r=a?"toggle":n.data();i.call(s,r)})}(i),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function i(i){i&&3===i.which||(t(n).remove(),t(s).each(function(){var o=t(this),n=e(o),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(o.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",s))))}))}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=t(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var n=e(o),a=n.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&n.find(s).trigger("focus"),o.trigger("click");var r=" li:not(.disabled):visible a",l=n.find(".dropdown-menu"+r);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(i),+function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](o):a.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,a,this)})}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=r,u=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+c>u.bottom?"top":"top"==r&&d.top-c<u.top?"bottom":"right"==r&&d.right+p>u.width?"left":"left"==r&&d.left-p<u.left?"right":r,s.removeClass(f).addClass(r)}var g=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(g,r);var m=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-n+l:2*d.top-s+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,a,r,s)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.5",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(i),+function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.5",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+o,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t=this.$scrollElement.scrollTop()+this.options.offset,e=this.getScrollHeight(),i=this.options.offset+e-this.$scrollElement.height(),o=this.offsets,n=this.targets,s=this.activeTarget,a;if(this.scrollHeight!=e&&this.refresh(),t>=i)return s!=(a=n[n.length-1])&&this.activate(a);if(s&&t<o[0])return this.activeTarget=null,this.clear();for(a=o.length;a--;)s!=n[a]&&t>=o[a]&&(void 0===o[a+1]||t<o[a+1])&&this.activate(n[a])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),
o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=o.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(i),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.5",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>n?"top":!1;if("bottom"==this.affixed)return null!=i?n+this.unpin<=s.top?!1:"bottom":t-o>=n+a?!1:"bottom";var r=null==this.affixed,l=r?n:s.top,h=r?a:e;return null!=i&&i>=n?"top":null!=o&&l+h>=t-o?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var r=this.getState(a,e,n,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(i)}).call(this),"undefined"==typeof Package&&(Package={}),Package["twbs:bootstrap"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["fortawesome:fontawesome"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.jsx={}}();

!function(){var e=Package.meteor.Meteor,a;(function(){a={}}).call(this),"undefined"==typeof Package&&(Package={}),Package["mdg:tutorial-step-diff-compiler"]={StepDiffs:a}}();

!function(){var t=Package.meteor.Meteor,e;(function(){var t=Object.prototype.hasOwnProperty;e={taggedTemplateLiteralLoose:function(t,e){return t.raw=e,t},classCallCheck:function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},inherits:function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);if(r){if(Object.create)e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});else{var n=function(){this.constructor=e};n.prototype=r.prototype,e.prototype=new n}for(var o in r)t.call(r,o)&&(e[o]=r[o])}},createClass:function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var e=!1;try{Object.defineProperty({},"x",{}),e=!0}catch(r){}return function(r,n,o){if(!e)throw new Error("Your browser does not support this type of class property.  For example, Internet Explorer 8 does not support getters and setters.");return n&&t(r.prototype,n),o&&t(r,o),r}}(),_extends:Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)t.call(n,o)&&(e[o]=n[o])}return e},objectWithoutProperties:function(e,r){var n={};t:for(var o in e)if(t.call(e,o)){for(var a=0;a<r.length;a++)if(r[a]===o)continue t;n[o]=e[o]}return n},objectDestructuringEmpty:function(t){if(null==t)throw new TypeError("Cannot destructure undefined")},bind:Function.prototype.bind||function(){var t=function(t){return"function"==typeof t},e=Object,r=Object.prototype.toString,n=Array.prototype.slice,o=Array.prototype.concat,a=Array.prototype.push,i=Math.max,c=function u(){};return function p(r){var u=this;if(!t(u))throw new TypeError("Function.prototype.bind called on incompatible "+u);for(var p=n.call(arguments,1),l,f=function(){if(this instanceof l){var t=u.apply(this,o.call(p,n.call(arguments)));return e(t)===t?t:this}return u.apply(r,o.call(p,n.call(arguments)))},s=i(0,u.length-p.length),y=[],b=0;s>b;b++)a.call(y,"$"+b);return l=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this, arguments); }")(f),u.prototype&&(c.prototype=u.prototype,l.prototype=new c,c.prototype=null),l}}()}}).call(this),"undefined"==typeof Package&&(Package={}),Package["babel-runtime"]={babelHelpers:e}}();

!function(){var e=Package.meteor.Meteor,t=Package.templating.Template,n=Package.check.check,a=Package.check.Match,i=Package["simple:highlight.js"].hljs,r=Package["mdg:tutorial-step-diff-compiler"].StepDiffs,s=Package.blaze.Blaze,u=Package.blaze.UI,c=Package.blaze.Handlebars,o=Package["babel-runtime"].babelHelpers,l=Package.htmljs.HTML,f;(function(){t.__checkName("DiffBox"),t.DiffBox=new t("Template.DiffBox",function(){var e=this;return l.DIV({"class":"github-diff-container"},"\n    ",l.DIV({"class":"title-panel"},"\n      ",s.If(function(){return Spacebars.call(e.lookup("step"))},function(){return["\n        ",l.STRONG(s.View("lookup:step",function(){return Spacebars.mustache(e.lookup("step"))})),l.CharRef({html:"&nbsp;",str:" "}),"\n      "]}),"\n      ",s.View("lookup:summary",function(){return Spacebars.mustache(e.lookup("summary"))}),"\n      ",l.A({"class":"on-github",href:function(){return Spacebars.mustache(e.lookup("gitHubLink"))}},"\n        ",s.View("lookup:filename",function(){return Spacebars.mustache(e.lookup("filename"))})," ",l.Raw("&raquo;"),"\n      "),"\n    "),"\n    ",l.DIV({"class":"code-window"},"\n      ",l.DIV({"class":"inside-scroll-container"},"\n        ",l.DIV({"class":"line-numbers"},"\n          ",s.Each(function(){return Spacebars.call(e.lookup("lineNumbers"))},function(){return["\n            ",l.PRE({"class":"line-number"},s.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))})),"\n          "]}),"\n        "),"\n        ",l.DIV({"class":"line-content"},"\n          ",s.Each(function(){return Spacebars.call(e.lookup("lines"))},function(){return["\n            ",s.Unless(function(){return Spacebars.dataMustache(e.lookup("equals"),e.lookup("type"),"removed")},function(){return["\n              ",l.PRE({"class":function(){return Spacebars.mustache(e.lookup("type"))}},s.View("lookup:highlightedContent",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("highlightedContent")))})),"\n            "]}),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  ")})}).call(this),function(){f={},f._tutorials={},f.registerTutorial=function(e,t){if(!a.test(t,{gitHubRepoName:String,patchFilename:String}))throw new Error("Must pass 'gitHubRepoName' and 'patchFilename' fields to DiffBox.registerTutorial.");f._tutorials[e]=t},t.DiffBox.onCreated(function(){if(!a.test(t.currentData(),{step:String,tutorialName:String,filename:a.Optional(String)}))throw new Error("Must pass 'step' and 'tutorialName' arguments to DiffBox.");var e=t.currentData().tutorialName;if(!_.has(f._tutorials,e))throw new Error("Must call 'DiffBox.registerTutorial' with the tutorialName '"+e+"' first.");if(this.tutorialMetadata=f._tutorials[e],this.patch=r[this.tutorialMetadata.patchFilename][t.currentData().step],t.currentData().filename)this.filename=t.currentData().filename;else{var n=_.keys(this.patch.files);if(1===n.length&&(this.filename=n[0]),!this.filename)throw new Error("Multiple files in patch. Must specify filename which is one of: "+n.join(", "))}this.fileSections=this.patch.files[this.filename]}),t.DiffBox.helpers({step:function(){return t.currentData().step},summary:function(){return t.instance().patch.summary},filename:function(){return t.instance().filename},lineNumbers:function(){var e=t.instance().fileSections,n=e.map(function(e){return _.range(e.lineNumbers.added.start,e.lineNumbers.added.start+e.lineNumbers.added.lines)});return n.reduce(function(e,t){return e?e.concat(" ").concat(t):t},null)},lines:function(){var e=t.instance().fileSections,n=e.map(function(e){return e.lines.map(function(e){var n=null;if(e.content){var a=_.last(t.instance().filename.split(".")),r=a;"jsx"===a?r="js":"less"===a&&(r="css"),n=i.getLanguage(r)?i.highlight(r,e.content,!0).value:e.content}return e.highlightedContent=n||" ",e})});return n.reduce(function(e,t){return e?e.concat({highlightedContent:"<span class='hljs-comment'>...some lines skipped...</span>"}).concat(t):t},null)},equals:function(e,t){return e===t},gitHubLink:function(){var e=t.instance();return"https://github.com/"+e.tutorialMetadata.gitHubRepoName+"/commit/"+e.patch.sha}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["mdg:tutorial-diff-box"]={DiffBox:f}}();

!function(){var t=Package.meteor.Meteor,e=Package.check.check,i=Package.check.Match,a=Package["babel-runtime"].babelHelpers,r;(function(){r={tutorials:{},registerTutorial:function(t,a){e(t,String),e(a,i.ObjectIncluding({title:String,subtitle:String,tutorialSourceLink:i.Optional(String),steps:[i.ObjectIncluding({title:String,slug:String,template:String})]})),r.tutorials[t]=a}}}).call(this),"undefined"==typeof Package&&(Package={}),Package["mdg:tutorial-registry"]={TutorialRegistry:r}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["simple:markdown-templating"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.templating.Template,a=Package.underscore._,s=Package["simple:highlight.js"].hljs,n=Package["reactive-var"].ReactiveVar,o=Package.blaze.Blaze,l=Package.blaze.UI,i=Package.blaze.Handlebars,r=Package["babel-runtime"].babelHelpers,c=Package.htmljs.HTML,p,d,h,u,m,f,g,w;(function(){t.__checkName("GitPatch"),t.GitPatch=new t("Template.GitPatch",function(){var e=this;return c.DIV({"class":"github-diff-container"},"\n    ",c.DIV({"class":"title-panel"},"\n      ",o.If(function(){return Spacebars.call(e.lookup("step"))},function(){return["\n        ",c.STRONG(o.View("lookup:step",function(){return Spacebars.mustache(e.lookup("step"))})),c.CharRef({html:"&nbsp;",str:" "}),"\n      "]}),"\n      ",o.View("lookup:summary",function(){return Spacebars.mustache(e.lookup("summary"))}),"\n      ",c.A({"class":"on-github",href:function(){return Spacebars.mustache(e.lookup("gitHubLink"))}},"\n        ",o.View("lookup:fileName",function(){return Spacebars.mustache(e.lookup("fileName"))})," ",c.Raw("&raquo;"),"\n      "),"\n    "),"\n    ",c.DIV({"class":"code-window"},"\n      ",c.DIV({"class":"inside-scroll-container"},"\n        ",c.DIV({"class":"line-numbers"},"\n          ",o.Each(function(){return Spacebars.call(e.lookup("lineNumbers"))},function(){return["\n            ",c.PRE({"class":"line-number"},o.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))})),"\n          "]}),"\n        "),"\n        ",c.DIV({"class":"line-content"},"\n          ",o.Each(function(){return Spacebars.call(e.lookup("lines"))},function(){return["\n            ",o.Unless(function(){return Spacebars.dataMustache(e.lookup("equals"),e.lookup("type"),"removed")},function(){return["\n              ",c.PRE({"class":function(){return Spacebars.mustache(e.lookup("type"))}},o.View("lookup:content",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("content")))})),"\n            "]}),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  ")})}).call(this),function(){m={},t.GitPatch.onCreated(function(){var e=this;this.fileName=new n(null),this.fileData=new n(null),this.ready=new n(!1);var a=!1;this.autorun(function(){if(t.currentData()){var s=t.currentData(),n=s.commit,o=s.repoName,l=s.fileName,i=s.summary;n&&o&&l&&i&&(a=!0,e.fileName.set(l),e.fileData.set(m[n][l]))}}),a||console.info("GitPatch template needs four arguments: repoName, commit, summary, and fileName")}),t.GitPatch.helpers({fileName:function(){return t.instance().fileName.get()},lineNumbers:function(){var e=t.instance().fileData.get();if(!e)return null;var s=e.diff.split("\n"),n=s[0],o=parseInt(n.split(" ")[2].split(",")[0].slice(1),10),l=parseInt(n.split(" ")[2].split(",")[1],10);return a.range(o,o+l)},lines:function(){var e=t.instance().fileData.get();if(!e)return null;var n=e.diff.split("\n"),o=n[0],l=n.slice(1,n.length-1),i=parseInt(o.split(" ")[2].split(",")[0].slice(1),10);return a.map(l,function(t){if(!t)return null;var n="context";/^\+/.test(t)?n="added":/^-/.test(t)&&(n="removed");var o=t.slice(1),l=null;if(o){var i=a.last(e.fileName.split(".")),r=i;"jsx"===i&&(r="js"),l=s.highlight(r,o,!0).value}return{type:n,content:l||" "}})},equals:function(e,t){return e===t},gitHubLink:function(){return"https://github.com/"+this.repoName+"/commit/"+this.commit}})}.call(this),function(){f={11.9:{sha:"b5957208d50a064a4a22780c7ef76259691b2c7a",message:"Add some extra security to methods"},11.8:{sha:"6682fe168d69eb11b7fe280b67ae87fc6c06425a",message:"Only publish tasks the user is allowed to see"},11.7:{sha:"06f0e314c1dfe3dc8a44288e71d02cac85a32c0c",message:"Add event handler to call the setPrivate method"},11.6:{sha:"47e1ff964973d319585bc7f5eb45b7ea78581028",message:"Define method to set tasks to private"},11.5:{sha:"ba34429a728da182231069f71f46ece369baa31b",message:"Define helper to check ownership"},11.4:{sha:"d1a2cc5eefa0b830f5f952cb6a94a496d7bb13aa",message:"Add private class to private tasks"},11.3:{sha:"2c186456f68d31fbc51ef87cf10d8ff5a60f7cfe",message:"Add private button"},11.2:{sha:"b292ba8028b19999a63e84d48fb2ca15d1e30110",message:"Add publish and subscribe"},11.1:{sha:"6d476642901e702bac6ead65d5522dbe85e7852c",message:"Remove autopublish"},10.4:{sha:"40f20dec61f94269f434f8e6600f52e48dab9c59",message:"Replace update and remove with methods"},10.3:{sha:"7f422feef91339c9ffe9afd0a6069a14297f45b4",message:"Replace insert with addTask method"},10.2:{sha:"c209b47dcce29206ee5235e09817558440905a6e",message:"Define some methods"},10.1:{sha:"59808d546321d201594a14dfa6a84c4a28eab53a",message:"Remove insecure package"},9.6:{sha:"d7ad84ff5ae149e78621c85a1d2fd32959439f29",message:"Display username next to task"},9.5:{sha:"29cff394ae08784db32c90affdc3bf8686b21d83",message:"Only show add task form if logged in"},9.4:{sha:"cd80f2966275060c64e4418c44cf13669386ce4d",message:"Update insert to include user data"},9.3:{sha:"ddf3246896747a89f96aa64788f3daeca2e9a5c6",message:"Configure accounts-ui"},9.2:{sha:"788b22e96afdbb0fb604834f4d08c61bb0178628",message:"Include loginButtons"},9.1:{sha:"36e2490f9302894bb63ce241343da41519b03600",message:"Add accounts-ui and accounts-password"},8.5:{sha:"48c14895d510dd095da3e114a40152d9291cbb83",message:"Display incompleteCount"},8.4:{sha:"d7e04b692a361153918f4a88548dfdc1c0220367",message:"Add incompleteCount helper to body"},8.3:{sha:"3352071c6d1c414f94ee21038f28c45651d6216c",message:"Add helpers to body template"},8.2:{sha:"8a5390d3f596e1c2cefe56bfd417838ca834978c",message:"Add event handler for checkbox"},8.1:{sha:"e62e4c1f8ca6f9808b6f3a78c39c4874dffdcbb4",message:"Add hide-completed checkbox to HTML"},5.2:{sha:"383896358ebfb53c237a8611fc11a86aa71fbbf6",message:"Add event handlers for Task buttons"},5.1:{sha:"5cdfa73dcd1a1973bf31e76ffb0e6af96d9a2d8a",message:"Add buttons to Task component"},4.3:{sha:"a06c2235fa31bb876edc2f62ba62310dee40ab6c",message:"Show newest tasks at the top"},4.2:{sha:"7a1ace1482bbdd5ce38aa5db28ecb20ce0e12863",message:"Add event handler for form submit"},4.1:{sha:"8434ab7042eb750c50ab58efd7231f1c97c630ed",message:"Add form for new tasks"},3.1:{sha:"f78906af3d2d15fdb1851ff28122f9e08bc4ac9f",message:"Define Tasks collection and load tasks from it"},2.3:{sha:"e15faa0c628c7756e51d2470432f9aa548729739",message:"Add CSS"},2.2:{sha:"eda253878e20ba2577f28fe6fd7c3ce5090aec18",message:"Replace starter JS code"},2.1:{sha:"be5979a8eae5766f74314e57f41037f4977d1372",message:"Replace starter HTML code"},1:{sha:"8e14e687c3fe4add10f1d93215051d27faf3dd7c",message:"Run `meteor create`"}}}.call(this),function(){g={11:{sha:"0ca238c099dbf17aa66873f813e8fed43b9b694d",message:"Add a private task feature, remove the autopublish package"},10:{sha:"05d534ee034fea7ea0471033882acd32a4508fa4",message:"Move database logic into Meteor.methods, remove insecure package"},9:{sha:"947d9a7761f5800f8189287752080157c4e125f3",message:"Add users and login; display which user created a task"},8:{sha:"d6229448a5e63137ddaa67ee9e7431466d4e796c",message:"Add an option to hide completed tasks, and show incomplete task count"},7:{sha:"bbcc31b5304fe95df6fe94cfe05229d75e1ce29f",message:"Make Angular initialize on mobile devices"},5:{sha:"a7ca2a6d3ff099d1253604619395b4ed6a46e691",message:"Make it possible to check off and delete tasks"},4:{sha:"7037614aa24edbf7f2f5f1b8b44b8d813d604695",message:"A form to add tasks, sort to make newest tasks at the top"},3:{sha:"3ccf55d5ffa976ebf849c4e16a2505e92c07fff0",message:"Replace the static array with a Collection"},2:{sha:"2b4394e49f1345e5e106781831759454841cda73",message:"Add templates backed by a static array and all of the CSS"},1:{sha:"c72debff708d1f5ed2ce9e2ca824cee2aec38277",message:"Run `meteor create`"}}}.call(this),function(){w={"11.10":{sha:"e53e739f4b2586bf2f3e9786403bb57438194ffc",message:"Add extra security to methods"},11.9:{sha:"b3d376a377d8a57135ea67f10b81fdcc566765ff",message:"Only publish tasks the current user can see"},11.8:{sha:"6eafb3a49a126f0a10db9c5f524ab2e74ba9880d",message:"Add private className to Task when needed"},11.7:{sha:"2603b34a2809af83f48c80f22b37f812df15f9ea",message:"Add private button event handler to Task"},11.6:{sha:"7049ced6d9fdbcdded6c9a0e5dc9b6260255f2a8",message:"Add private button, shown only to owner"},11.5:{sha:"20cf428657fbb42ec937d319e0d7a993226fe551",message:"Add a new prop type for Task component"},11.4:{sha:"96a833da5b09ddf5b279027a383ba8593bef06b6",message:"Update renderTasks to pass in showPrivateButton"},11.3:{sha:"2347589fa6cd3b885929ea430dc9024bf12f8482",message:"Add setPrivate method"},11.2:{sha:"a1ad699753dbd4730d2d34ac50e810e573c52a99",message:"Add publish to server and subscribe to client"},11.1:{sha:"e9da4141e5deed48e6ef079e3867e70aba388583",message:"Remove autopublish package"},10.4:{sha:"570c42f724a873d7d2a2c71bd0581522f8f2e23f",message:"Update Task to use setChecked and removeTask methods"},10.3:{sha:"d0803ad5673e8fae47b9ff7fed850a80d5f2d64e",message:"Update App component to use addTask method"},10.2:{sha:"6e735ca97ff876c4ac4c75b2ae374ddeb86abb8d",message:"Add methods for add, remove, update task"},10.1:{sha:"0a8e5501bd5c1bedb7ccb3c251722ff84972f922",message:"Remove insecure package"},9.8:{sha:"50e06b33c4e05ebe111cd855b5ab015ec743be5c",message:"Update Task component to show username"},9.7:{sha:"199ef1827ecc472723946d7c2ffa25216d40a793",message:"Wrap new task form to only show when logged in"},9.6:{sha:"4fff683816569ab5f5654251f6dd77527b9a59b5",message:"Update getMeteorData to return data about user"},9.5:{sha:"3f4b411ff42e6f82f4d43d28fdf5cfb1b1197682",message:"Update insert to save username and owner"},9.4:{sha:"2e167dbdf1654a04f002771edecd0ff0a00c0557",message:"Configure accounts-ui to only require username"},9.3:{sha:"7af1c6780234736bb8f442c5cbf206ee53246263",message:"Include sign in form"},9.2:{sha:"dab17acf27046daafcabc4e29c05ffd911ad5291",message:"Create Accounts UI wrapper component"},9.1:{sha:"6f0c0b03ed3f6e084572fa12de678123c45f28b2",message:"Add accounts-ui and accounts-password packages"},8.6:{sha:"2786f6c52923459e83212a1ea9b0b0a809f410d9",message:"Display incompleteCount in the header"},8.5:{sha:"0dce33f22620717927a9c45046554fb0af0fc5b4",message:"Update getMeteorData to return incompleteCount"},8.4:{sha:"a1694b147586aec4cb1c7537600b6b503412670d",message:"Replace getMeteorData to filter tasks"},8.3:{sha:"8c602b47086cb8d5e3ea23812811dbe97941ba01",message:"Add toggleHideCompleted handler to App"},8.2:{sha:"958c0d75290e64d006305f2dd03dede162e2f527",message:"Add getInitialState to App component"},8.1:{sha:"ef6891054dfa0c797e0dd95761f2966c16efcf8f",message:"Add hide completed checkbox to App component"},5.1:{sha:"d9b4770a22e1a99eac80e95fe0510cbc8648f9b1",message:"Update Task component to add features"},4.3:{sha:"5c4ba0f7864e0a2cbf0bcb03b6a7df22586d5e68",message:"Update getMeteorData to sort tasks by time"},4.2:{sha:"595556f61f3ba902a055bd310df9ffbd4576dc6b",message:"Add handleSubmit method to App component"},4.1:{sha:"6a9590b6ad0b3a8aee577d5ce33b4df759f2acba",message:"Add form for new tasks"},3.2:{sha:"9276239ccfca511667a61cdad7182a9a95681216",message:"Modify App component to get tasks from collection"},3.1:{sha:"33dd1dab78f3c09ddd6f24664e042f2ddbf8ce01",message:"Define tasks collection"},2.6:{sha:"c5f475a98824525922a32e69ac5eca7de0316957",message:"Add CSS"},2.5:{sha:"8aa85a45acb1ffcc7f94c141a3563556236b9b1c",message:"Create Task component"},2.4:{sha:"1f2cc89f74f801642f4bc0e3d2ff14c569765ca0",message:"Create App component"},2.3:{sha:"676c35859282935e8c2cb81ff12b2b27135ae33e",message:"Replace starter JS"},2.2:{sha:"54289ae4946acb191d1f153aa4e8cfb938970811",message:"Replace starter HTML code"},2.1:{sha:"7ba04da80922a977448359e5eaef88f6d2f28ea0",message:"Add the React package"},1:{sha:"0aa691766c1c76cfab3436e0507f33ad27e23962",message:"Run `meteor create`"}}}.call(this),function(){h=[{id:"0",title:"Bootstrapping",seoTitle:"Bootstrapping",route:"tutorials.angular2.bootstrapping",path:"/tutorials/angular2/bootstrapping",contentTemplate:"tutorialAngular2.step_00.html",video:"//www.youtube.com/embed/s2RWlIrkCaE?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd",commitDiff:"a00a945d0a503c99efaff1e9a20dfe6f9205821f"},{id:"1",title:"Static Template",seoTitle:"Static Template",route:"tutorials.angular2.static-template",path:"/tutorials/angular2/static-template",contentTemplate:"tutorialAngular2.step_01.html",video:"//www.youtube.com/embed/xUod-yoDfEE?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"2",title:"Dynamic Template",seoTitle:"Dynamic Template",route:"tutorials.angular2.dynamic-template",path:"/tutorials/angular2/dynamic-template",contentTemplate:"tutorialAngular2.step_02.html",video:"//www.youtube.com/embed/xUod-yoDfEE?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"3",title:"3-Way data binding",seoTitle:"3-Way data binding",route:"tutorials.angular2.3-way-data-binding",path:"/tutorials/angular2/3-way-data-binding",contentTemplate:"tutorialAngular2.step_03.html",video:"//www.youtube.com/embed/xUod-yoDfEE?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"4",title:"Adding/removing objects and Angular event handling",seoTitle:"Adding/removing objects and Angular event handling",route:"tutorials.angular2.adding-removing-objects-and-angular-event-handling",path:"/tutorials/angular2/adding-removing-objects-and-angular-event-handling",contentTemplate:"tutorialAngular2.step_04.html",video:"//www.youtube.com/embed/ijKsWglJI0k?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"5",title:"Routing & Multiple Views",seoTitle:"Routing and Multiple Views",route:"tutorials.angular2.routing-and-multiple-views",path:"/tutorials/angular2/routing-and-multiple-views",contentTemplate:"tutorialAngular2.step_05.html",video:"//www.youtube.com/embed/oScHP7Vd7as?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"6",title:"Bind one object",seoTitle:"Bind one object",route:"tutorials.angular2.bind-one-object",path:"/tutorials/angular2/bind-one-object",contentTemplate:"tutorialAngular2.step_06.html",video:"//www.youtube.com/embed/kRen9GlR3K8?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"7",title:"Folder structure",seoTitle:"Folder structure",route:"tutorials.angular2.folder-structure",path:"/tutorials/angular2/folder-structure",contentTemplate:"tutorialAngular2.step_07.html",video:"//www.youtube.com/embed/l3nTv4GuJrY?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"8",title:"User accounts, authentication and permissions",seoTitle:"User accounts, authentication and permissions",route:"tutorials.angular2.user-accounts-authentication-and-permissions",path:"/tutorials/angular2/user-accounts-authentication-and-permissions",contentTemplate:"tutorialAngular2.step_08.html",video:"//www.youtube.com/embed/PgS-IAMn9Ig?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"9",title:"Privacy and publish-subscribe functions",seoTitle:"Privacy and publish-subscribe functions",route:"tutorials.angular2.privacy-and-publish-subscribe-functions",path:"/tutorials/angular2/privacy-and-publish-subscribe-functions",contentTemplate:"tutorialAngular2.step_09.html",video:"//www.youtube.com/embed/wAHi7ilDHko?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"10",title:"Deploying your app",seoTitle:"Deploying your app",route:"tutorials.angular2.deploying-your-app",path:"/tutorials/angular2/deploying-your-app",contentTemplate:"tutorialAngular2.step_10.html",video:"//www.youtube.com/embed/2WnZBKv9H9o?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"11",title:"Running your app on Android or iOS with PhoneGap",seoTitle:"Running your app on Android or iOS with PhoneGap",route:"tutorials.angular2.running-your-app-on-android-or-ios-with-phoneGap",path:"/tutorials/angular2/running-your-app-on-android-or-ios-with-phoneGap",contentTemplate:"tutorialAngular2.step_11.html",video:"//www.youtube.com/embed/5vZOI2fi13U?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"12",title:"Search, sort, pagination and reactive vars",seoTitle:"Search, sort, pagination and reactive vars",route:"tutorials.angular2.search-sort-pagination-and-reactive-vars",path:"/tutorials/angular2/search-sort-pagination-and-reactive-vars",contentTemplate:"tutorialAngular2.step_12.html",video:"//www.youtube.com/embed/8XQI2XpyH18?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"13",title:"Using and creating AngularJS filters",seoTitle:"Using and creating AngularJS filters",route:"tutorials.angular2.using-and-creating-angularjs-filters",path:"/tutorials/angular2/using-and-creating-angularjs-filters",contentTemplate:"tutorialAngular2.step_13.html",video:"//www.youtube.com/embed/S049FI8TP4A?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"14",title:"Meteor methods with promises",seoTitle:"Meteor methods with promises",route:"tutorials.angular2.meteor-methods-with-promises",path:"/tutorials/angular2/meteor-methods-with-promises",contentTemplate:"tutorialAngular2.step_14.html",video:"//www.youtube.com/embed/qNUjZjfaYt8?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"15",title:"Conditional template directives with AngularJS",seoTitle:"Conditional template directives with AngularJS",route:"tutorials.angular2.conditional-template-directives-with-angularjs",path:"/tutorials/angular2/conditional-template-directives-with-angularjs",contentTemplate:"tutorialAngular2.step_15.html",video:"//www.youtube.com/embed/KSlVThsNCss?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"16",title:"Google Maps",seoTitle:"Google Maps",route:"tutorials.angular2.google-maps",path:"/tutorials/angular2/google-maps",contentTemplate:"tutorialAngular2.step_16.html",video:"//www.youtube.com/embed/A6qsm_RDc9Y?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"17",title:"CSS, LESS and Bootstrap",seoTitle:"CSS, LESS and Bootstrap",route:"tutorials.angular2.css-less-and-bootstrap",path:"/tutorials/angular2/css-less-and-bootstrap",contentTemplate:"tutorialAngular2.step_17.html",video:"//www.youtube.com/embed/A6qsm_RDc9Y?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"18",title:"angular-material and custom Angular auth forms",seoTitle:"angular-material and custom Angular auth forms",route:"tutorials.angular2.angular-material-and-custom-angular-auth-forms",path:"/tutorials/angular2/angular-material-and-custom-angular-auth-forms",contentTemplate:"tutorialAngular2.step_18.html",video:"//www.youtube.com/embed/A6qsm_RDc9Y?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"19",title:"3rdParty Libraries",seoTitle:"3rdParty Libraries",route:"tutorials.angular2.3rd-party-libraries",path:"/tutorials/angular2/3rd-party-libraries",contentTemplate:"tutorialAngular2.step_19.html",video:"//www.youtube.com/embed/A6qsm_RDc9Y?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"20",title:"Handling Files with CollectionFS",seoTitle:"Handling Files with CollectionFS",route:"tutorials.angular2.handling-files-with-collectionfs",path:"/tutorials/angular2/handling-files-with-collectionfs",contentTemplate:"tutorialAngular2.step_20.html",video:"//www.youtube.com/embed/A6qsm_RDc9Y?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd",previousCodeStep:"18"},{id:"21",title:"Next Steps",seoTitle:"Next Steps",route:"tutorials.angular2.next-steps",path:"/tutorials/angular2/next-steps",contentTemplate:"tutorial.next_steps.html"}]}.call(this),function(){u=[{id:"0",title:"Bootstrapping",seoTitle:"Bootstrapping",route:"tutorials.angular1.bootstrapping",path:"/tutorials/angular1/bootstrapping",contentTemplate:"tutorial.step_00.md",video:"//www.youtube.com/embed/s2RWlIrkCaE?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd",commitDiff:"a00a945d0a503c99efaff1e9a20dfe6f9205821f"},{id:"1",title:"Static Template",seoTitle:"Static Template",route:"tutorials.angular1.static-template",path:"/tutorials/angular1/static-template",contentTemplate:"tutorial.step_01.md",video:"//www.youtube.com/embed/xUod-yoDfEE?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"2",title:"Dynamic Template",seoTitle:"Dynamic Template",route:"tutorials.angular1.dynamic-template",path:"/tutorials/angular1/dynamic-template",contentTemplate:"tutorial.step_02.md",video:"//www.youtube.com/embed/xUod-yoDfEE?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"3",title:"3-Way data binding",seoTitle:"3-Way data binding",route:"tutorials.angular1.3-way-data-binding",path:"/tutorials/angular1/3-way-data-binding",contentTemplate:"tutorial.step_03.md",video:"//www.youtube.com/embed/xUod-yoDfEE?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"4",title:"Adding/removing objects and Angular event handling",seoTitle:"Adding/removing objects and Angular event handling",route:"tutorials.angular1.adding-removing-objects-and-angular-event-handling",path:"/tutorials/angular1/adding-removing-objects-and-angular-event-handling",contentTemplate:"tutorial.step_04.md",video:"//www.youtube.com/embed/ijKsWglJI0k?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"5",title:"Routing & Multiple Views",seoTitle:"Routing and Multiple Views",route:"tutorials.angular1.routing-and-multiple-views",path:"/tutorials/angular1/routing-and-multiple-views",contentTemplate:"tutorial.step_05.md",video:"//www.youtube.com/embed/oScHP7Vd7as?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"6",title:"Bind one object",seoTitle:"Bind one object",route:"tutorials.angular1.bind-one-object",path:"/tutorials/angular1/bind-one-object",contentTemplate:"tutorial.step_06.md",video:"//www.youtube.com/embed/kRen9GlR3K8?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"7",title:"Folder structure",seoTitle:"Folder structure",route:"tutorials.angular1.folder-structure",path:"/tutorials/angular1/folder-structure",contentTemplate:"tutorial.step_07.md",video:"//www.youtube.com/embed/l3nTv4GuJrY?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"8",title:"User accounts, authentication and permissions",seoTitle:"User accounts, authentication and permissions",route:"tutorials.angular1.user-accounts-authentication-and-permissions",path:"/tutorials/angular1/user-accounts-authentication-and-permissions",contentTemplate:"tutorial.step_08.md",video:"//www.youtube.com/embed/PgS-IAMn9Ig?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"9",title:"Privacy and publish-subscribe functions",seoTitle:"Privacy and publish-subscribe functions",route:"tutorials.angular1.privacy-and-publish-subscribe-functions",path:"/tutorials/angular1/privacy-and-publish-subscribe-functions",contentTemplate:"tutorial.step_09.md",video:"//www.youtube.com/embed/wAHi7ilDHko?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"10",title:"Deploying your app",seoTitle:"Deploying your app",route:"tutorials.angular1.deploying-your-app",path:"/tutorials/angular1/deploying-your-app",contentTemplate:"tutorial.step_10.md",video:"//www.youtube.com/embed/2WnZBKv9H9o?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"11",title:"Running your app on Android or iOS with PhoneGap",seoTitle:"Running your app on Android or iOS with PhoneGap",route:"tutorials.angular1.running-your-app-on-android-or-ios-with-phoneGap",path:"/tutorials/angular1/running-your-app-on-android-or-ios-with-phoneGap",contentTemplate:"tutorial.step_11.md",video:"//www.youtube.com/embed/5vZOI2fi13U?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"12",title:"Search, sort, pagination and reactive vars",seoTitle:"Search, sort, pagination and reactive vars",route:"tutorials.angular1.search-sort-pagination-and-reactive-vars",path:"/tutorials/angular1/search-sort-pagination-and-reactive-vars",contentTemplate:"tutorial.step_12.md",video:"//www.youtube.com/embed/8XQI2XpyH18?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"13",title:"Using and creating AngularJS filters",seoTitle:"Using and creating AngularJS filters",route:"tutorials.angular1.using-and-creating-angularjs-filters",path:"/tutorials/angular1/using-and-creating-angularjs-filters",contentTemplate:"tutorial.step_13.md",video:"//www.youtube.com/embed/S049FI8TP4A?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"14",title:"Meteor methods with promises",seoTitle:"Meteor methods with promises",route:"tutorials.angular1.meteor-methods-with-promises",path:"/tutorials/angular1/meteor-methods-with-promises",contentTemplate:"tutorial.step_14.md",video:"//www.youtube.com/embed/qNUjZjfaYt8?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"15",title:"Conditional template directives with AngularJS",seoTitle:"Conditional template directives with AngularJS",route:"tutorials.angular1.conditional-template-directives-with-angularjs",path:"/tutorials/angular1/conditional-template-directives-with-angularjs",contentTemplate:"tutorial.step_15.md",video:"//www.youtube.com/embed/KSlVThsNCss?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"16",title:"Google Maps",seoTitle:"Google Maps",route:"tutorials.angular1.google-maps",path:"/tutorials/angular1/google-maps",contentTemplate:"tutorial.step_16.md",video:"//www.youtube.com/embed/A6qsm_RDc9Y?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"17",title:"CSS, LESS and Bootstrap",seoTitle:"CSS, LESS and Bootstrap",route:"tutorials.angular1.css-less-and-bootstrap",path:"/tutorials/angular1/css-less-and-bootstrap",contentTemplate:"tutorial.step_17.md",video:"//www.youtube.com/embed/A6qsm_RDc9Y?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"18",title:"angular-material and custom Angular auth forms",seoTitle:"angular-material and custom Angular auth forms",route:"tutorials.angular1.angular-material-and-custom-angular-auth-forms",path:"/tutorials/angular1/angular-material-and-custom-angular-auth-forms",contentTemplate:"tutorial.step_18.md",video:"//www.youtube.com/embed/A6qsm_RDc9Y?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"19",title:"3rdParty Libraries",seoTitle:"3rdParty Libraries",route:"tutorials.angular1.3rd-party-libraries",path:"/tutorials/angular1/3rd-party-libraries",contentTemplate:"tutorial.step_19.md",video:"//www.youtube.com/embed/A6qsm_RDc9Y?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd"},{id:"20",title:"Handling Files with CollectionFS",seoTitle:"Handling Files with CollectionFS",route:"tutorials.angular1.handling-files-with-collectionfs",path:"/tutorials/angular1/handling-files-with-collectionfs",contentTemplate:"tutorial.step_20.md",video:"//www.youtube.com/embed/A6qsm_RDc9Y?list=PLhCf3AUOg4PgQoY_A6xWDQ70yaNtPYtZd",previousCodeStep:"18"},{id:"21",title:"Next Steps",seoTitle:"Next Steps",route:"tutorials.angular1.next-steps",path:"/tutorials/angular1/next-steps",contentTemplate:"tutorial.next_steps.html"}]}.call(this),function(){d=[{id:"0",title:"Creating an app",seoTitle:"Creating an app",route:"tutorials.react.creating-an-app",path:"/tutorials/react/creating-an-app",contentTemplate:"react-step01"},{id:"1",title:"Components",seoTitle:"Components",route:"tutorials.react.components",path:"/tutorials/react/components",contentTemplate:"react-step02"},{id:"2",title:"Collections",seoTitle:"Collections",route:"tutorials.react.collections",path:"/tutorials/react/collections",contentTemplate:"react-step03"},{id:"3",title:"Forms and events",seoTitle:"Forms and events",route:"tutorials.react.forms-and-events",path:"/tutorials/react/forms-and-events",contentTemplate:"react-step04"},{id:"4",title:"Update and remove",seoTitle:"Update and remove",route:"tutorials.react.update-and-remove",path:"/tutorials/react/update-and-remove",contentTemplate:"react-step05"},{id:"5",title:"Deploying your app",seoTitle:"Deploying your app",route:"tutorials.react.deploying-your-app",path:"/tutorials/react/deploying-your-app",contentTemplate:"shared-step06"},{id:"6",title:"Running on mobile",seoTitle:"Running on mobile",route:"tutorials.react.running-on-mobile",path:"/tutorials/react/running-on-mobile",contentTemplate:"sharedStep07"},{id:"7",title:"Temporary UI state",seoTitle:"Temporary UI state",route:"tutorials.react.temporary-ui-state",path:"/tutorials/react/temporary-ui-state",contentTemplate:"react-step08"},{id:"8",title:"Adding user accounts",seoTitle:"Adding user accounts",route:"tutorials.react.adding-user-accounts",path:"/tutorials/react/adding-user-accounts",contentTemplate:"react-step09"},{id:"9",title:"Security with methods",seoTitle:"Security with methods",route:"tutorials.react.security-with-methods",path:"/tutorials/react/security-with-methods",contentTemplate:"react-step10"},{id:"10",title:"Publish and subscribe",seoTitle:"Publish and subscribe",route:"tutorials.react.publish-and-subscribe",path:"/tutorials/react/publish-and-subscribe",contentTemplate:"react-step11"},{id:"11",title:"Next steps",seoTitle:"Next steps",route:"tutorials.react.next-steps",path:"/tutorials/react/next-steps",contentTemplate:"react-step12"}]}.call(this),function(){p={id:"0",title:"Tutorials",route:"tutorials",path:"/tutorials",pathRedirect:"/tutorialIntro",template:"tutorials",pages:[{id:"1",title:"Angular",route:"tutorials.angular1",path:"/tutorials/angular1",pathRedirect:"/tutorials/angular1/bootstrapping",ghRepoName:"https://github.com/Urigo/meteor-angular-socially",subSidebarType:"sidebarStepsCollapse",seoTitlePrefix:"Angular Meteor Tutorial | ",subHead:"Build your first Angular Meteor app",stepbarHide:!0,pages:u},{id:"2",title:"Angular 2.0",route:"tutorials.angular2",path:"/tutorials/angular2",pathRedirect:"/tutorials/angular2/bootstrapping",ghRepoName:"https://github.com/ShMcK/ng2-socially-tutorial",subSidebarType:"sidebarStepsCollapse",seoTitlePrefix:"Angular 2.0 Meteor Tutorial | ",subHead:"Angular 2.0 Meteor tutorial",stepbarHide:!0,pages:h}]}}.call(this),function(){t.__checkName("angular-step01"),t["angular-step01"]=new t("Template.angular-step01",function(){var e=this;return c.Raw('<h1 id="creatingyourfirstangularmeteorapp">Creating your first angular-meteor app</h1>\n\n<p>In this tutorial, we are going to create the same \'todo\' app as in the other tutorial, but this time using the <a href="http://angular-meteor.com">angular-meteor</a> package to integrate angular as our reactive front-end.</p>\n\n<p>To create a Meteor app, open your terminal and type:</p>\n\n<pre><code class="hljs bash">meteor create simple-todos-angular\n</code></pre>\n\n<p>This will create a new folder called <code>simple-todos-angular</code> with all of the files that a Meteor app needs:</p>\n\n<pre><code class="hljs bash">simple-todos-angular.js       <span class="hljs-comment"># a JavaScript file loaded on both client and server</span>\nsimple-todos-angular.html     <span class="hljs-comment"># an HTML file that defines our main view</span>\nsimple-todos-angular.css      <span class="hljs-comment"># a CSS file to define your app\'s styles</span>\n.meteor                       <span class="hljs-comment"># internal Meteor files</span>\n</code></pre>\n\n<p>To run the newly created app:</p>\n\n<pre><code class="hljs bash"><span class="hljs-built_in">cd</span> simple-todos-angular\nmeteor\n</code></pre>\n\n<p>Open your web browser and go to <code>http://localhost:3000</code> to see the app running.</p>\n\n<p>You can play around with this default app for a bit before we continue. For example, try editing the text in <code>&lt;h1&gt;</code> inside <code>simple-todos-angular.html</code> using your favorite text editor. When you save the file, the page in your browser will automatically update with the new content. We call this "hot code push".</p>\n\n<p>Now that you have some experience editing the files in your Meteor app, let\'s start working on a simple todo list application.</p>')})}.call(this),function(){t.__checkName("angular-step02"),t["angular-step02"]=new t("Template.angular-step02",function(){var e=this;return[c.Raw('<h1 id="definingviewswithtemplates">Defining views with templates</h1>\n\n<p>To turn our Meteor app into Angular compatible, we need to add the <a href="http://angular-meteor.com/">angular-meteor package</a> by typing the following\ncommand into your command line:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">urigo</span><span class="hljs-pseudo">:angular</span>\n</code></pre>\n\n<p>To start working on our todos list app, let\'s replace the code of the default starter app with the code below. Then we\'ll talk about what it does.</p>\n\n<pre><code class="hljs html"><span class="hljs-comment">&lt;!-- simple-todos-angular.html --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Todo List<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-title">body</span> <span class="hljs-attribute">ng-app</span>=<span class="hljs-value">"simple-todos"</span>\n      <span class="hljs-attribute">ng-include</span>=<span class="hljs-value">"\'todos-list.ng.html\'"</span>\n      <span class="hljs-attribute">ng-controller</span>=<span class="hljs-value">"TodosListCtrl"</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>\n</code></pre>\n\n<pre><code class="hljs js"><span class="hljs-comment">// simple-todos-angular.js</span>\n<span class="hljs-keyword">if</span> (Meteor.isClient) {\n\n    <span class="hljs-comment">// This code only runs on the client</span>\n    angular.module(<span class="hljs-string">"simple-todos"</span>,[<span class="hljs-string">\'angular-meteor\'</span>]);\n\n    angular.module(<span class="hljs-string">"simple-todos"</span>).controller(<span class="hljs-string">"TodosListCtrl"</span>, [<span class="hljs-string">\'$scope\'</span>,\n      <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($scope)</span></span>{\n\n      $scope.tasks = [\n        { text: <span class="hljs-string">"This is task 1"</span> },\n        { text: <span class="hljs-string">"This is task 2"</span> },\n        { text: <span class="hljs-string">"This is task 3"</span> }\n      ];\n\n    }]);\n}\n</code></pre>\n\n<p>To write Angular templates, we need to name our files with a <code>.ng.html</code> suffix.</p>\n\n<p>Create a new file named <code>todos-list.ng.html</code> and place it on the root folder:</p>\n\n'),c.PRE(c.CODE({
"class":"hljs html"},c.Raw('<span class="hljs-comment">&lt;!-- todos-list.ng.html --&gt;</span>'),"\n",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>'),"\n  ",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">header</span>&gt;</span>'),"\n    ",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>'),"Todo List",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>'),"\n  ",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">header</span>&gt;</span>'),"\n\n  ",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">ul</span> <span class="hljs-attribute">ng-repeat</span>=<span class="hljs-value">"task in tasks"</span>&gt;</span>'),"\n    ",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>'),o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"task.text}}",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>'),"\n  ",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>'),"\n",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>'),"\n")),c.Raw('\n\n<p>In our browser, the app should look pretty much like this:</p>\n\n<blockquote>\n  <h4 id="todolist">Todo List</h4>\n  \n  <ul>\n  <li>This is task 1</li>\n  <li>This is task 2</li>\n  <li>This is task 3</li>\n  </ul>\n</blockquote>\n\n<p>Now let\'s find out what all these bits of code are doing!</p>\n\n<h3 id="angulartemplatesinmeteor">Angular templates in Meteor</h3>\n\n<p>The <a href="http://angular-meteor.com/">angular-meteor package</a> parses all of the <code>.ng.html</code> files in your app folder and puts them in Angular\'s template cache with the id of their full path.</p>\n\n<p>So, for example, when a file is named <code>my-angular-template.ng.html</code> is placed in the <code>client</code> folder, it will be available for <code>ng-include</code> or <code>ui-router</code> with the name <code>client/my-angular-template.ng.html</code>.</p>\n\n<h3 id="addinglogicanddatatotemplates">Adding logic and data to templates</h3>\n\n<p>All of the code in your <code>ng.html</code> files is compiled with Angular. Angular binds the data into our templates just like any other Angular app.</p>\n\n<p>In the next step, we will see how we can use the $meteor service bind our scope data to a database collection.</p>\n\n<h3 id="htmlfilesinmeteordefinetemplates">HTML files in Meteor define templates</h3>\n\n<p>Meteor parses all of the regular .HTML files in your app folder and identifies three top-level tags: <strong>&lt;head></strong>, <strong>&lt;body></strong>, and <strong>&lt;template></strong>.</p>\n\n<p>Everything inside any &lt;head> tags is added to the <code>head</code> section of the HTML sent to the client, and everything inside &lt;body> tags is added to the <code>body</code> section, just like in a regular HTML file.</p>\n\n'),c.P("Everything inside ",c.Raw("&lt;"),"template> tags is compiled into Meteor ",c.Raw("<em>templates</em>"),", which can be included inside HTML with ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),c.Raw("&gt;")," templateName}}")," or referenced in your JavaScript with ",c.Raw("<code>Template.templateName</code>"),"."),c.Raw('\n\n<p>All of the code in your regular .HTML files is compiled with <a href="https://github.com/meteor/meteor/blob/devel/packages/spacebars/README.md">Meteor\'s Spacebars compiler</a>.</p>\n\n'),Spacebars.include(e.lookupTemplate("addingCSS"))]})}.call(this),function(){t.__checkName("angular-step03"),t["angular-step03"]=new t("Template.angular-step03",function(){var e=this;return[c.Raw('<h1 id="storingtasksinacollection">Storing tasks in a collection</h1>\n\n'),Spacebars.include(e.lookupTemplate("step03CollectionsIntro")),c.Raw('\n\n<p>Let\'s update our JavaScript code to get our tasks from a collection instead of a static array:</p>\n\n<pre><code class="hljs js"><span class="hljs-comment">// simple-todos-angular.js</span>\nTasks = <span class="hljs-keyword">new</span> Mongo.Collection(<span class="hljs-string">"tasks"</span>);\n\n<span class="hljs-keyword">if</span> (Meteor.isClient) {\n\n    <span class="hljs-comment">// This code only runs on the client</span>\n    angular.module(<span class="hljs-string">"simple-todos"</span>,[<span class="hljs-string">\'angular-meteor\'</span>]);\n\n    angular.module(<span class="hljs-string">"simple-todos"</span>).controller(<span class="hljs-string">"TodosListCtrl"</span>, [<span class="hljs-string">\'$scope\'</span>, <span class="hljs-string">\'$meteor\'</span>,\n      <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($scope, $meteor)</span></span>{\n\n        $scope.tasks = $meteor.collection(Tasks);\n\n    }]);\n}\n</code></pre>\n\n<p>We are using the <code>$meteor</code> service to bind our <code>Tasks</code> collection to our <code>$scope.tasks</code> variable.\nNow every change that will happen to each of those objects will be synced in real time across our stack.</p>\n\n<p>When you make these changes to the code, you\'ll notice that the tasks that used to be in the todo list have disappeared. That\'s because our database is currently empty &mdash; we need to insert some tasks!</p>\n\n'),Spacebars.include(e.lookupTemplate("step03InsertingTasksFromConsole"))]})}.call(this),function(){t.__checkName("angular-step04"),t["angular-step04"]=new t("Template.angular-step04",function(){var e=this;return c.Raw('<h1 id="addingtaskswithaform">Adding tasks with a form</h1>\n\n<p>In this step, we\'ll add an input field for users to add tasks to the list.</p>\n\n<p>First, let\'s add a form to our HTML:</p>\n\n<pre><code class="hljs html"><span class="hljs-comment">&lt;!-- todos-list.ng.html --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-title">header</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>Todo List<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>\n\n  <span class="hljs-comment">&lt;!-- add a form below the h1 --&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"new-task"</span> <span class="hljs-attribute">ng-submit</span>=<span class="hljs-value">"addTask(newTask); newTask=\'\';"</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">"newTask"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span>\n           <span class="hljs-attribute">name</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"Type to add new tasks"</span> /&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-title">header</span>&gt;</span>\n</code></pre>\n\n<p>Here\'s the JavaScript code we need to add to listen to the <code>submit</code> event on the form:</p>\n\n<pre><code class="hljs js"><span class="hljs-comment">// Inside the if (Meteor.isClient) block, right after the definition of $scope.tasks:</span>\n$scope.addTask = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(newTask)</span> </span>{\n  $scope.tasks.push( {\n    text: newTask,\n    createdAt: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>() }\n  );\n};\n</code></pre>\n\n<p>Now your app has a new input field. To add a task, just type into the input field and hit enter. If you open a new browser window and open the app again, you\'ll see that the list is automatically synchronized between all clients.</p>\n\n<h3 id="attachingeventstotemplates">Attaching events to templates</h3>\n\n<p>As you can see, this is just a regular Angular application.</p>\n\n<p>In our case above, we are listening to the <code>submit</code> event on our form to call the <code>addTask</code> scope function and to reset the input field.</p>\n\n<h3 id="insertingintoacollection">Inserting into a collection</h3>\n\n<p>Inside our scope function, we are adding a task to the <code>tasks</code> collection by simply calling <code>$scope.tasks.push()</code>. We can assign any properties to the task object, such as the time created, since we don\'t ever have to define a schema for the collection.</p>\n\n<p>Being able to insert anything into the database from the client isn\'t very secure, but it\'s okay for now. In step 10 we\'ll learn how we can make our app secure and restrict how data is inserted into the database.</p>\n\n<h3 id="sortingourtasks">Sorting our tasks</h3>\n\n<p>Currently, our code displays all new tasks at the bottom of the list. That\'s not very good for a task list, because we want to see the newest tasks first.</p>\n\n<p>We can solve this by sorting the results using the <code>createdAt</code> field that is automatically added by our new code.\nUntil now you probably used Angular sort filter to do so. you can still use that here, but we are going to use a different method because it is better for real world use cases.</p>\n\n<p>Replace the <code>Tasks</code> collection variable with a function inside our <code>$meteor.collection</code> service call.\nThe function will return a the result of calling the <code>find</code> function with the <code>sort</code> parameter on our <code>Tasks</code> collection, like that:</p>\n\n<pre><code class="hljs js">$scope.tasks = $meteor.collection(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> Tasks.find({}, { sort: { createdAt: -<span class="hljs-number">1</span> } })\n});\n</code></pre>\n\n<p>To better understand the difference between using the sort filter and the collection options, check out the advanced tutorial about <a href="http://angular-meteor.com/tutorial/step_12">search, sort and pagination</a>.</p>\n\n<p>In the next step, we\'ll add some very important todo list functions: checking off and deleting tasks.</p>')})}.call(this),function(){t.__checkName("angular-step05"),t["angular-step05"]=new t("Template.angular-step05",function(){var e=this;return[c.Raw('<h1 id="checkingoffanddeletingtasks">Checking off and deleting tasks</h1>\n\n<p>Until now, we have only interacted with a collection by inserting documents. Now, we will learn how to update and remove them.</p>\n\n<p>Let\'s add two elements to our <code>task</code> template, a checkbox and a delete button:</p>\n\n'),c.PRE(c.CODE({"class":"hljs html"},c.Raw('<span class="hljs-comment">&lt;!-- replace the existing task template with this code --&gt;</span>'),"\n",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">ng-class</span>=<span class="hljs-value">"{\'checked\': task.checked}"</span>&gt;</span>'),"\n  ",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"delete"</span> <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">"tasks.remove(task)"</span>&gt;</span>'),c.Raw("&amp;"),"times;",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>'),"\n\n  ",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"checkbox"</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">"task.checked"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"toggle-checked"</span> /&gt;</span>'),"\n\n  ",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text"</span>&gt;</span>'),o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"task.text}}",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>'),"\n",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>'),"\n")),c.Raw('\n\n<h3 id="update">Update</h3>\n\n<p>We simply bind the <code>checked</code> state of each task to a checkbox with Angular. Then Meteor takes care of saving and syncing the state across all clients without any extra code.</p>\n\n<h3 id="delete">Delete</h3>\n\n<p>$meteor.collection gives us a simple helper method called <code>remove</code>. That method can take an object or an id of an object and will remove it from the database.</p>\n\n<h3 id="classes">Classes</h3>\n\n<p>If you try checking off some tasks after adding all of the above code, you will see that checked off tasks have a line through them.</p>\n\n<p>Here we bind the checked state of a task to a class with <code>ng-class</code>:</p>\n\n<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">ng-class</span>=<span class="hljs-value">"{\'checked\': task.checked}"</span>&gt;</span>\n</code></pre>\n\n<p>With this code, if the <code>checked</code> property of a task is <code>true</code>, the <code>checked</code> class is added to our list item. Using this class, we can make checked-off tasks look different in our CSS. </p>')]})}.call(this),function(){t.__checkName("angularSpecialPart07"),t.angularSpecialPart07=new t("Template.angularSpecialPart07",function(){var e=this;return c.Raw('<h3 id="bootstrappingangularformobile">Bootstrapping Angular for mobile</h3>\n\n<p>Angular needs the main document to be ready so it can bootstrap, but different devices has different events for <code>ready</code>.</p>\n\n<p>To solve this, we need to change the way we bootstrap our Angular app.  Remove the current bootstrap by removing:</p>\n\n<pre><code class="hljs javascript">ng-app=<span class="hljs-string">\'simple-todos\'</span>\n</code></pre>\n\n<p>from the BODY tag.</p>\n\n<p>Then add the following code right after <code>Meteor.isClient</code>:</p>\n\n<pre><code class="hljs js">angular.module(<span class="hljs-string">"simple-todos"</span>,[<span class="hljs-string">\'angular-meteor\'</span>]);\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onReady</span><span class="hljs-params">()</span> </span>{\n  angular.bootstrap(<span class="hljs-built_in">document</span>, [<span class="hljs-string">\'simple-todos\'</span>]);\n}\n\n<span class="hljs-keyword">if</span> (Meteor.isCordova)\n  angular.element(<span class="hljs-built_in">document</span>).on(<span class="hljs-string">"deviceready"</span>, onReady);\n<span class="hljs-keyword">else</span>\n  angular.element(<span class="hljs-built_in">document</span>).ready(onReady);\n</code></pre>')}),t.__checkName("angular-step07"),t["angular-step07"]=new t("Template.angular-step07",function(){var e=this;return o._TemplateWith(function(){return{specialContent:Spacebars.call("angularSpecialPart07")}},function(){return Spacebars.include(e.lookupTemplate("sharedStep07"))})})}.call(this),function(){t.__checkName("angular-step08"),t["angular-step08"]=new t("Template.angular-step08",function(){var e=this;return[c.Raw('<h1 id="filteringcollections">Filtering collections</h1>\n\n<p>In this step, we\'ll add a client-side data filtering feature to our app, so that users can check a box to see only incomplete tasks.</p>\n\n<p>We\'re going to learn how to use Mongo\'s filtering API.</p>\n\n<p>First, we need to add a checkbox to our HTML:</p>\n\n<pre><code class="hljs html"><span class="hljs-comment">&lt;!-- add the checkbox to &lt;body&gt; right below the h1 --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"hide-completed"</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"checkbox"</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">"$parent.hideCompleted"</span>/&gt;</span>\n  Hide Completed Tasks\n<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>\n</code></pre>\n\n<p>This checkbox binds to the scope\'s <code>hideCompleted</code> variable.</p>\n\n<blockquote>\n  <p>We are using <code>$parent</code> because it creates a new child scope.</p>\n</blockquote>\n\n<p>Now, we need to update our <code>$scope.tasks</code> query each time <code>hideCompleted</code> changes.</p>\n\n<h3 id="filteringcollectionsyntax">Filtering collection syntax</h3>\n\n<p>The query that returns all tasks (the current query looks like that:</p>\n\n<pre><code class="hljs js">Tasks.find({}, { sort: { createdAt: -<span class="hljs-number">1</span> } })\n</code></pre>\n\n<p>and the query to return only the not completed todos looks like that:</p>\n\n<pre><code class="hljs js">Tasks.find({ checked: {$ne: <span class="hljs-literal">true</span>} }, { sort: { createdAt: -<span class="hljs-number">1</span> } })\n</code></pre>\n\n<h3 id="watchingthecheckbox">Watching the checkbox</h3>\n\n<p>So let\'s create a scope variable that will hold the wanted query and will change together with the checkbox.\nInside our controller:</p>\n\n<pre><code class="hljs js">$scope.$watch(<span class="hljs-string">\'hideCompleted\'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">if</span> ($scope.hideCompleted)\n    $scope.query = {checked: {$ne: <span class="hljs-literal">true</span>}};\n  <span class="hljs-keyword">else</span>\n    $scope.query = {};\n});\n</code></pre>\n\n<p>and let\'s change our <code>$scope.tasks</code> definition accordingly:</p>\n\n<pre><code class="hljs js">$scope.tasks = $meteor.collection(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> Tasks.find($scope.query, {sort: {createdAt: -<span class="hljs-number">1</span>}})\n});\n</code></pre>\n\n<p><strong>but we are missing one more thing</strong> - The expression we are sending <code>$meteor.collection</code> is a Meteor expression and\n<strong>Meteor has to know that the Angular <code>query</code> parameter has changed</strong>.</p>\n\n<h3 id="connectingangularbindingstometeorsreactivity">Connecting Angular bindings to Meteor\'s reactivity</h3>\n\n<p>To make Meteor understand Angular bindings and the other way around, we use <a href="http://angular-meteor.com/api/getReactively">$scope.getReactively</a> function that turns Angular\nscope variables into <a href="http://docs.meteor.com/#/full/reactivevar_pkg">Meteor reactive variables</a>.</p>\n\n<p>So now our definition should look like that:</p>\n\n<pre><code class="hljs js">$scope.tasks = $meteor.collection(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> Tasks.find($scope.getReactively(<span class="hljs-string">\'query\'</span>), {sort: {createdAt: -<span class="hljs-number">1</span>}})\n});\n</code></pre>\n\n<p>Now if you check the box, the task list will only show tasks that haven\'t been completed.</p>\n\n<blockquote>\n  <p>To learn more about the <a href="http://angular-meteor.com/api/getReactively">getReactively</a> feature\n  you can try the <a href="http://angular-meteor.com/tutorial/step_12">advanced tutorial</a>.</p>\n</blockquote>\n\n<h3 id="onemorefeatureshowingacountofincompletetasks">One more feature: Showing a count of incomplete tasks</h3>\n\n<p>Now that we have written a query that filters out completed tasks, we can use the same query to display a count of the tasks that haven\'t been checked off. To do this we need to add a scope function and change one line of the HTML.</p>\n\n<pre><code class="hljs js"><span class="hljs-comment">// Add to scope</span>\n$scope.incompleteCount = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> Tasks.find({ checked: {$ne: <span class="hljs-literal">true</span>} }).count();\n};\n</code></pre>\n\n'),c.PRE(c.CODE({"class":"hljs html"},c.Raw('<span class="hljs-comment">&lt;!-- display the count at the end of the &lt;h1&gt; tag --&gt;</span>'),"\n",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>'),"Todo List ( ",o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))})," incompleteCount() }} )",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>'),"\n"))]})}.call(this),function(){t.__checkName("angular-step09"),t["angular-step09"]=new t("Template.angular-step09",function(){var e=this;return[c.Raw('<h1 id="addinguseraccounts">Adding user accounts</h1>\n\n<p>Meteor comes with an accounts system and a drop-in login user interface that lets you add multi-user functionality to your app in minutes.</p>\n\n<p>To enable the accounts system and UI, we need to add the relevant packages. In your app directory, run the following command:</p>\n\n<pre><code class="hljs bash">meteor add accounts-ui accounts-password\n</code></pre>\n\n<p>In the HTML, right under the checkbox, include the following code to add a login dropdown:</p>\n\n<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-title">meteor-include</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"loginButtons"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">meteor-include</span>&gt;</span>\n</code></pre>\n\n<p>The powerful <a href="http://angular-meteor.com/api/meteor-include">meteor-include</a> directive let\'s you add <strong>any Blaze template</strong> into your Angular templates.\nWe are adding <code>loginButtons</code> which is the Blaze template for user authentication flow supplied with the accounts-ui package.</p>\n\n<p>Then, in your JavaScript, add the following code to configure the accounts UI to use usernames instead of email addresses:</p>\n\n<pre><code class="hljs js"><span class="hljs-comment">// At the bottom of the client code</span>\nAccounts.ui.config({\n  passwordSignupFields: <span class="hljs-string">"USERNAME_ONLY"</span>\n});\n</code></pre>\n\n<p>Now users can create accounts and log into your app! This is very nice, but logging in and out isn\'t very useful yet. Let\'s add two functions:</p>\n\n<ol>\n<li>Only display the new task input field to logged in users</li>\n<li>Show which user created each task</li>\n</ol>\n\n<p>To do this, we will add two new fields to the <code>tasks</code> collection:</p>\n\n<ol>\n<li><code>owner</code> - the <code>_id</code> of the user that created the task.</li>\n<li><code>username</code> - the <code>username</code> of the user that created the task. We will save the username directly in the task object so that we don\'t have to look up the user every time we display the task.</li>\n</ol>\n\n<p>First, let\'s add some code to save these fields into the <code>addTask</code> function:</p>\n\n<pre><code class="hljs js">$scope.addTask = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(newTask)</span> </span>{\n  $scope.tasks.push({\n    text: newTask,\n    createdAt: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(),             <span class="hljs-comment">// current time</span>\n    owner: Meteor.userId(),            <span class="hljs-comment">// _id of logged in user</span>\n    username: Meteor.user().username}  <span class="hljs-comment">// username of logged in user</span>\n  );\n};\n</code></pre>\n\n<p>Then, in our HTML, add an <code>ng-show</code> directive to only show the form when there is a logged in user:</p>\n\n<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"new-task"</span>\n      <span class="hljs-attribute">ng-submit</span>=<span class="hljs-value">"addTask(newTask); newTask=\'\';"</span>\n      <span class="hljs-attribute">ng-show</span>=<span class="hljs-value">"$root.currentUser"</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">"newTask"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span>\n         <span class="hljs-attribute">name</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"Type to add new tasks"</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>\n</code></pre>\n\n<p>Finally, add a statement to display the <code>username</code> field on each task right before the text:</p>\n\n'),c.PRE(c.CODE({"class":"hljs html"},c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text"</span>&gt;</span>'),"\n  ",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">strong</span>&gt;</span>'),o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"task.username}}",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">strong</span>&gt;</span>')," - ",o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"task.text}}\n",c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>'),"\n")),c.Raw('\n\n<p>Now, users can log in and we can track which user each task belongs to. Let\'s look at some of the concepts we just discovered in more detail.</p>\n\n<h3 id="automaticaccountsui">Automatic accounts UI</h3>\n\n<p>If our app has the <code>accounts-ui</code> package, all we have to do to add a login dropdown is include the <code>loginButtons</code> template with <a href="http://angular-meteor.com/api/meteor-include">meteor-include</a> directive.\nThis dropdown detects which login methods have been added to the app and displays the appropriate controls. In our case, the only enabled login method is <code>accounts-password</code>, so the dropdown displays a password field. If you are adventurous, you can add the <code>accounts-facebook</code> package to enable Facebook login in your app - the Facebook button will automatically appear in the dropdown.</p>\n\n<h3 id="gettinginformationabouttheloggedinuser">Getting information about the logged-in user</h3>\n\n'),c.P("In your HTML, you can use the built-in ",c.Raw("<code>$root.currentUser</code>")," variable to check if a user is logged in and get information about them. For example, ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"$root.currentUser.username}}")," will display the logged in user's username."),c.Raw('\n\n<p>In your JavaScript code, you can use <code>Meteor.userId()</code> to get the current user\'s <code>_id</code>, or <code>Meteor.user()</code> to get the whole user document.</p>\n\n<h3 id="customtemplates">Custom templates</h3>\n\n<p>You can choose not to use the <code>accounts-ui</code> package template and create your own Angular login templates.\nYou can read more about it in the <a href="http://angular-meteor.com/tutorial/step_18">chapter about angular-material</a> in the advanced tutorial.</p>\n\n<p>In the next step, we will learn how to make our app more secure by doing all of our data validation on the server instead of the client.</p>')]})}.call(this),function(){t.__checkName("angular-step10"),t["angular-step10"]=new t("Template.angular-step10",function(){var e=this;return[c.Raw('<h1 id="securitywithmethods">Security with methods</h1>\n\n<p>Before this step, any user of the app could edit any part of the database. This might be okay for very small internal apps or demos, but any real application needs to control permissions for its data. In Meteor, the best way to do this is by declaring <em>methods</em>. Instead of the client code directly calling <code>insert</code>, <code>update</code>, and <code>remove</code>, it will instead call methods that will check if the user is authorized to complete the action and then make any changes to the database on the client\'s behalf.</p>\n\n<h3 id="removinginsecure">Removing <code>insecure</code></h3>\n\n<p>Every newly created Meteor project has the <code>insecure</code> package added by default. This is the package that allows us to edit the database from the client. It\'s useful when prototyping, but now we are taking off the training wheels. To remove this package, go to your app directory and run:</p>\n\n<pre><code class="hljs bash">meteor remove insecure\n</code></pre>\n\n<p>If you try to use the app after removing this package, you will notice that none of the inputs or buttons work anymore. This is because all client-side database permissions have been revoked. Now we need to rewrite some parts of our app to use methods.</p>\n\n<h3 id="definingmethods">Defining methods</h3>\n\n<p>First, we need to define some methods. We need one method for each database operation we want to perform on the client. Methods should be defined in code that is executed on the client and the server - we will discuss this a bit later in the section titled <em>Latency compensation</em>.</p>\n\n<pre><code class="hljs js"><span class="hljs-comment">// At the bottom of simple-todos.js, outside of the client-only block</span>\nMeteor.methods({\n  addTask: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(text)</span> </span>{\n    <span class="hljs-comment">// Make sure the user is logged in before inserting a task</span>\n    <span class="hljs-keyword">if</span> (! Meteor.userId()) {\n      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-string">"not-authorized"</span>);\n    }\n\n    Tasks.insert({\n      text: text,\n      createdAt: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(),\n      owner: Meteor.userId(),\n      username: Meteor.user().username\n    });\n  },\n  deleteTask: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(taskId)</span> </span>{\n    Tasks.remove(taskId);\n  },\n  setChecked: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(taskId, setChecked)</span> </span>{\n    Tasks.update(taskId, { $set: { checked: setChecked} });\n  }\n});\n</code></pre>\n\n<p>Now that we have defined our methods, we need to update the places we were operating on the collection to use the methods instead:</p>\n\n<pre><code class="hljs js">$scope.addTask = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(newTask)</span> </span>{\n  $meteor.call(<span class="hljs-string">"addTask"</span>, newTask);\n};\n\n$scope.deleteTask = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(task)</span> </span>{\n  $meteor.call(<span class="hljs-string">"deleteTask"</span>, task._id);\n};\n\n$scope.setChecked = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(task)</span> </span>{\n  $meteor.call(<span class="hljs-string">"setChecked"</span>, task._id, !task.checked);\n};\n</code></pre>\n\n<p>and the way we handle the changes in the template:</p>\n\n<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"delete"</span> <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">"deleteTask(task)"</span>&gt;</span>&amp;times;<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"checkbox"</span> <span class="hljs-attribute">ng-checked</span>=<span class="hljs-value">"task.checked"</span>\n       <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">"setChecked(task)"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"toggle-checked"</span> /&gt;</span>\n</code></pre>\n\n<p>Now all of our inputs and buttons will start working again. What did we gain from all of this work?</p>\n\n<ol>\n<li>When we insert tasks into the database, we can now securely verify that the user is logged in, that the <code>createdAt</code> field is correct, and that the <code>owner</code> and <code>username</code> fields are correct and the user isn\'t impersonating anyone.</li>\n<li>We can add extra validation logic to <code>setChecked</code> and <code>deleteTask</code> in later steps when users can make tasks private.</li>\n<li>Our client code is now more separated from our database logic. Instead of a lot of stuff happening inside our event handlers, we now have methods that can be called from anywhere.</li>\n</ol>\n\n'),Spacebars.include(e.lookupTemplate("step10OptimisticUI"))];

})}.call(this),function(){t.__checkName("angular-step11"),t["angular-step11"]=new t("Template.angular-step11",function(){var e=this;return[c.Raw('<h1 id="filteringdatawithpublishandsubscribe">Filtering data with publish and subscribe</h1>\n\n<p>Now that we have moved all of our app\'s sensitive code into methods, we need to learn about the other half of Meteor\'s security story. Until now, we have worked assuming the entire database is present on the client, meaning if we call <code>Tasks.find()</code> we will get every task in the collection. That\'s not good if users of our application want to store privacy-sensitive data. We need a way of controlling which data Meteor sends to the client-side database.</p>\n\n<p>Just like with <code>insecure</code> in the last step, all new Meteor apps start with the <code>autopublish</code> package. Let\'s remove it and see what happens:</p>\n\n<pre><code class="hljs bash">meteor remove autopublish\n</code></pre>\n\n<p>When the app refreshes, the task list will be empty. Without the <code>autopublish</code> package, we will have to specify explicitly what the server sends to the client. The functions in Meteor that do this are <code>Meteor.publish</code> and <a href="http://angular-meteor.com/api/subscribe">$scope.$meteorSubscribe</a>.</p>\n\n<p>Let\'s add them now.</p>\n\n<pre><code class="hljs js"><span class="hljs-comment">// At the bottom of simple-todos.js</span>\n<span class="hljs-keyword">if</span> (Meteor.isServer) {\n  Meteor.publish(<span class="hljs-string">"tasks"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{\n    <span class="hljs-keyword">return</span> Tasks.find();\n  });\n}\n</code></pre>\n\n<pre><code class="hljs js"><span class="hljs-comment">// At the top of our controller code</span>\n$scope.$meteorSubscribe(<span class="hljs-string">"tasks"</span>);\n</code></pre>\n\n<p>Once you have added this code, all of the tasks will reappear.</p>\n\n<p>Calling <code>Meteor.publish</code> on the server registers a <em>publication</em> named <code>"tasks"</code>. When <a href="http://angular-meteor.com/api/subscribe">$scope.$meteorSubscribe</a> is called on the client with the publication name, the client <em>subscribes</em> to all the data from that publication, which in this case is all of the tasks in the database. To truly see the power of the publish/subscribe model, let\'s implement a feature that allows users to mark tasks as "private" so that no other users can see them.</p>\n\n<h3 id="implementingprivatetasks">Implementing private tasks</h3>\n\n<p>First, let\'s add another property to tasks called "private" and a button for users to mark a task as private. This button should only show up for the owner of a task. It will display the current state of the item.</p>\n\n'),c.PRE(c.CODE({"class":"hljs html"},c.Raw('<span class="hljs-comment">&lt;!-- add right below the code for the checkbox in the task template --&gt;</span>'),"\n",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"toggle-private"</span>\n        <span class="hljs-attribute">ng-if</span>=<span class="hljs-value">"task.owner === $root.currentUser._id"</span>\n        <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">"setPrivate(task)"</span>&gt;</span>'),"\n  ",o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),'task.private == true ? "Private" : "Public"}}\n',c.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>'),"\n\n",c.Raw('<span class="hljs-comment">&lt;!-- modify the li tag to have the private class if the item is private --&gt;</span>'),"\n",c.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">ng-class</span>=<span class="hljs-value">"{\'checked\': task.checked, \'private\': task.private}"</span>&gt;</span>'),"\n")),c.Raw('\n\n<p>We need to modify our JavaScript code in three places:</p>\n\n<pre><code class="hljs js"><span class="hljs-comment">// Add a setPrivate scope function</span>\n$scope.setPrivate = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(task)</span> </span>{\n  $meteor.call(<span class="hljs-string">"setPrivate"</span>, task._id, ! task.private);\n};\n\n<span class="hljs-comment">// Add a method to Meteor.methods called setPrivate</span>\nsetPrivate: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(taskId, setToPrivate)</span> </span>{\n  <span class="hljs-keyword">var</span> task = Tasks.findOne(taskId);\n\n  <span class="hljs-comment">// Make sure only the task owner can make a task private</span>\n  <span class="hljs-keyword">if</span> (task.owner !== Meteor.userId()) {\n    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-string">"not-authorized"</span>);\n  }\n\n  Tasks.update(taskId, { $set: { private: setToPrivate } });\n}\n</code></pre>\n\n'),Spacebars.include(e.lookupTemplate("step11SelectivelyPublish"))]})}.call(this),function(){t.__checkName("angular-step12"),t["angular-step12"]=new t("Template.angular-step12",function(){var e=this;return[c.Raw('<h1 id="whatsnext">What\'s next?</h1>\n\n<p>Congratulations on your newly built Meteor app! Don\'t forget to deploy it again\nso your friends can use the new features.</p>\n\n<p>Your app currently supports collaborating on a single todo list. To see how you\ncould add more functionality, check out the <a href="http://angular-meteor.com/">full angular-meteor tutorial</a>.</p>\n\n<p>Here are some options for where you can go next:</p>\n\n'),c.OL("\n",c.Raw('<li>Read about <a href="/projects">the design of the Meteor platform</a> to see how all of the parts fit together</li>'),"\n",c.Raw('<li>Check out the <a href="https://docs.meteor.com">complete documentation</a></li>'),"\n",c.Raw('<li>Continue to the <a href="http://angular-meteor.com/tutorial">advanced tutorial</a></li>'),"\n",c.LI("Explore this set of ",c.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"tools.info")}},"tools")," and ",c.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"tools.resources")}},"resources")," to help you build Meteor apps"),"\n"),"\n\n",c.DIV({"class":"row"},"\n  ",c.Raw("<hr>"),"\n  ",c.Raw('<div class="col-md-6">\n    <p>Don\'t forget to get on the mailing list - Meteor news, new releases, security alerts, and nothing else.</p>\n  </div>'),"\n  ",c.DIV({"class":"col-md-6"},"\n    ",Spacebars.include(e.lookupTemplate("emailForm")),"\n  "),"\n")]})}.call(this),function(){t.__checkName("blaze-step01"),t["blaze-step01"]=new t("Template.blaze-step01",function(){var e=this;return c.Raw('<h1 id="creatingyourfirstapp">Creating your first app</h1>\n\n<p>In this tutorial, we are going to create a simple app to manage a \'to do\' list and collaborate with others on those tasks.</p>\n\n<p>To create the app, open your terminal and type:</p>\n\n<pre><code class="hljs bash">meteor create simple-todos\n</code></pre>\n\n<p>This will create a new folder called <code>simple-todos</code> with all of the files that a Meteor app needs:</p>\n\n<pre><code class="hljs bash">simple-todos.js       <span class="hljs-comment"># a JavaScript file loaded on both client and server</span>\nsimple-todos.html     <span class="hljs-comment"># an HTML file that defines view templates</span>\nsimple-todos.css      <span class="hljs-comment"># a CSS file to define your app\'s styles</span>\n.meteor               <span class="hljs-comment"># internal Meteor files</span>\n</code></pre>\n\n<p>To run the newly created app:</p>\n\n<pre><code class="hljs bash"><span class="hljs-built_in">cd</span> simple-todos\nmeteor\n</code></pre>\n\n<p>Open your web browser and go to <code>http://localhost:3000</code> to see the app running.</p>\n\n<p>You can play around with this default app for a bit before we continue. For example, try editing the text in <code>&lt;h1&gt;</code> inside <code>simple-todos.html</code> using your favorite text editor. When you save the file, the page in your browser will automatically update with the new content. We call this "hot code push".</p>\n\n<p>Now that you have some experience editing the files in your Meteor app, let\'s start working on a simple todo list application.</p>')})}.call(this),function(){t.__checkName("blaze-step02"),t["blaze-step02"]=new t("Template.blaze-step02",function(){var e=this;return[c.Raw("<h1 id=\"definingviewswithtemplates\">Defining views with templates</h1>\n\n<p>To start working on our todo list app, let's replace the code of the default starter app with the code below. Then we'll talk about what it does.</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("2.1")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"\n\n",o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("2.2")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<p>In our browser, the app will now look much like this:</p>\n\n<blockquote>\n  <h4 id="todolist">Todo List</h4>\n  \n  <ul>\n  <li>This is task 1</li>\n  <li>This is task 2</li>\n  <li>This is task 3</li>\n  </ul>\n</blockquote>\n\n<p>Now let\'s find out what all these bits of code are doing!</p>\n\n<h3 id="htmlfilesinmeteordefinetemplates">HTML files in Meteor define templates</h3>\n\n<p>Meteor parses all of the HTML files in your app folder and identifies three top-level tags: <strong>&lt;head></strong>, <strong>&lt;body></strong>, and <strong>&lt;template></strong>.</p>\n\n<p>Everything inside any &lt;head> tags is added to the <code>head</code> section of the HTML sent to the client, and everything inside &lt;body> tags is added to the <code>body</code> section, just like in a regular HTML file.</p>\n\n'),c.P("Everything inside ",c.Raw("&lt;"),"template> tags is compiled into Meteor ",c.Raw("<em>templates</em>"),", which can be included inside HTML with ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),c.Raw("&gt;")," templateName}}")," or referenced in your JavaScript with ",c.Raw("<code>Template.templateName</code>"),"."),c.Raw('\n\n<h3 id="addinglogicanddatatotemplates">Adding logic and data to templates</h3>\n\n'),c.P("All of the code in your HTML files is compiled with ",c.Raw('<a href="https://github.com/meteor/meteor/blob/devel/packages/spacebars/README.md">Meteor\'s Spacebars compiler</a>'),". Spacebars uses statements surrounded by double curly braces such as ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"#each}}")," and ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"#if}}")," to let you add logic and data to your views."),"\n\n",c.P("You can pass data into templates from your JavaScript code by defining ",c.Raw("<em>helpers</em>"),". In the code above, we defined a helper called ",c.Raw("<code>tasks</code>")," on ",c.Raw("<code>Template.body</code>")," that returns an array. Inside the body tag of the HTML, we can use ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"#each tasks}}")," to iterate over the array and insert a ",c.Raw("<code>task</code>")," template for each value. Inside the ",c.Raw("<code>#each</code>")," block, we can display the ",c.Raw("<code>text</code>")," property of each array item using ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"text}}"),"."),c.Raw("\n\n<p>In the next step, we will see how we can use helpers to make our templates display dynamic data from a database collection.</p>\n\n"),Spacebars.include(e.lookupTemplate("addingCSS"))]})}.call(this),function(){t.__checkName("blaze-step03"),t["blaze-step03"]=new t("Template.blaze-step03",function(){var e=this;return[c.Raw('<h1 id="storingtasksinacollection">Storing tasks in a collection</h1>\n\n'),Spacebars.include(e.lookupTemplate("step03CollectionsIntro")),c.Raw("\n\n<p>Let's update our JavaScript code to get our tasks from a collection instead of a static array:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("3.1")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>When you make these changes to the code, you'll notice that the tasks that used to be in the todo list have disappeared. That's because our database is currently empty &mdash; we need to insert some tasks!</p>\n\n"),Spacebars.include(e.lookupTemplate("step03InsertingTasksFromConsole"))]})}.call(this),function(){t.__checkName("blaze-step04"),t["blaze-step04"]=new t("Template.blaze-step04",function(){var e=this;return[c.Raw("<h1 id=\"addingtaskswithaform\">Adding tasks with a form</h1>\n\n<p>In this step, we'll add an input field for users to add tasks to the list.</p>\n\n<p>First, let's add a form to our HTML:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("4.1")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Here's the JavaScript code we need to add to listen to the <code>submit</code> event on the form:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("4.2")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Now your app has a new input field. To add a task, just type into the input field and hit enter. If you open a new browser window and open the app again, you'll see that the list is automatically synchronized between all clients.</p>\n\n<h3 id=\"attachingeventstotemplates\">Attaching events to templates</h3>\n\n<p>Event listeners are added to templates in much the same way as helpers are: by calling <code>Template.templateName.events(...)</code> with a dictionary. The keys describe the event to listen for, and the values are <em>event handlers</em> that are called when the event happens.</p>\n\n<p>In our case above, we are listening to the <code>submit</code> event on any element that matches the CSS selector <code>.new-task</code>. When this event is triggered by the user pressing enter inside the input field, our event handler function is called.</p>\n\n<p>The event handler gets an argument called <code>event</code> that has some information about the event that was triggered. In this case <code>event.target</code> is our form element, and we can get the value of our input with <code>event.target.text.value</code>. You can see all of the other properties of the <code>event</code> object by adding a <code>console.log(event)</code> and inspecting the object in your browser console.</p>\n\n<p>The last two lines of our event handler perform some cleanup &mdash; first we make sure to make the input blank, and then we return <code>false</code> to tell the web browser to not do the default form submit action since we have already handled it.</p>\n\n<h3 id=\"insertingintoacollection\">Inserting into a collection</h3>\n\n<p>Inside the event handler, we are adding a task to the <code>tasks</code> collection by calling <code>Tasks.insert()</code>. We can assign any properties to the task object, such as the time created, since we don't ever have to define a schema for the collection.</p>\n\n<p>Being able to insert anything into the database from the client isn't very secure, but it's okay for now. In step 10 we'll learn how we can make our app secure and restrict how data is inserted into the database.</p>\n\n<h3 id=\"sortingourtasks\">Sorting our tasks</h3>\n\n<p>Currently, our code displays all new tasks at the bottom of the list. That's not very good for a task list, because we want to see the newest tasks first.</p>\n\n<p>We can solve this by sorting the results using the <code>createdAt</code> field that is automatically added by our new code. Just add a sort option to the <code>find</code> call inside the <code>tasks</code> helper:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("4.3")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>In the next step, we'll add some very important todo list functions: checking off and deleting tasks.</p>")]})}.call(this),function(){t.__checkName("blaze-step05"),t["blaze-step05"]=new t("Template.blaze-step05",function(){var e=this;return[c.Raw('<h1 id="checkingoffanddeletingtasks">Checking off and deleting tasks</h1>\n\n<p>Until now, we have only interacted with a collection by inserting documents. Now, we will learn how to update and remove them.</p>\n\n<p>Let\'s add two elements to our <code>task</code> template, a checkbox and a delete button:</p>\n\n'),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("5.1")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>We have added UI elements, but they don't do anything yet. We should add some event handlers:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("5.2")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<h3 id="gettingdataineventhandlers">Getting data in event handlers</h3>\n\n<p>Inside the event handlers, <code>this</code> refers to an individual task object. In a collection, every inserted document has a unique <code>_id</code> field that can be used to refer to that specific document. We can get the <code>_id</code> of the current task with <code>this._id</code>. Once we have the <code>_id</code>, we can use <code>update</code> and <code>remove</code> to modify the relevant task.</p>\n\n<h3 id="update">Update</h3>\n\n<p>The <code>update</code> function on a collection takes two arguments. The first is a selector that identifies a subset of the collection, and the second is an update parameter that specifies what should be done to the matched objects.</p>\n\n<p>In this case, the selector is just the <code>_id</code> of the relevant task. The update parameter uses <code>$set</code> to toggle the <code>checked</code> field, which will represent whether the task has been completed.</p>\n\n<h3 id="remove">Remove</h3>\n\n<p>The <code>remove</code> function takes one argument, a selector that determines which item to remove from the collection.</p>\n\n<h3 id="usingobjectpropertiesorhelperstoaddremoveclasses">Using object properties or helpers to add/remove classes</h3>\n\n<p>If you try checking off some tasks after adding all of the above code, you will see that checked off tasks have a line through them. This is enabled by the following snippet:</p>\n\n'),c.PRE(c.CODE({"class":"hljs html"},c.SPAN({"class":"hljs-tag"},c.Raw("&lt;"),c.Raw('<span class="hljs-title">li</span>')," ",c.Raw('<span class="hljs-attribute">class</span>'),"=",c.SPAN({"class":"hljs-value"},'"',o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"#if checked}}checked",o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),'/if}}"'),c.Raw("&gt;")),"\n")),c.Raw("\n\n<p>With this code, if the <code>checked</code> property of a task is <code>true</code>, the <code>checked</code> class is added to our list item. Using this class, we can make checked-off tasks look different in our CSS. </p>")]})}.call(this),function(){t.__checkName("blaze-step08"),t["blaze-step08"]=new t("Template.blaze-step08",function(){var e=this;return[c.Raw("<h1 id=\"storingtemporaryuistateinsession\">Storing temporary UI state in Session</h1>\n\n<p>In this step, we'll add a client-side data filtering feature to our app, so that users can check a box to only see incomplete tasks. We're going to learn how to use <code>Session</code> to store temporary reactive state on the client.</p>\n\n<p>First, we need to add a checkbox to our HTML:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("8.1")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Then, we need an event handler to update a <code>Session</code> variable when the checkbox\nis checked or unchecked. <code>Session</code> is a convenient place to store temporary UI\nstate, and can be used in helpers just like a collection.</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("8.2")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Now, we need to update <code>Template.body.helpers</code>. The code below has a new if\nblock to filter the tasks if the checkbox is checked, and a helper to make sure\nthe checkbox represents the state of our Session variable.</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("8.3")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<p>Now if you check the box, the task list will only show tasks that haven\'t been completed.</p>\n\n<h3 id="sessionisareactivedatastorefortheclient">Session is a reactive data store for the client</h3>\n\n<p>Until now, we have stored all of our state in collections, and the view updated automatically when we modified the data inside these collections. This is because Meteor.Collection is recognized by Meteor as a <em>reactive data source</em>, meaning Meteor knows when the data inside has changed. <code>Session</code> is the same way, but is not synced with the server like collections are. This makes <code>Session</code> a convenient place to store temporary UI state like the checkbox above. Just like with collections, we don\'t have to write any extra code for the template to update when the <code>Session</code> variable changes &mdash; just calling <code>Session.get(...)</code> inside the helper is enough.</p>\n\n<h3 id="onemorefeatureshowingacountofincompletetasks">One more feature: Showing a count of incomplete tasks</h3>\n\n<p>Now that we have written a query that filters out completed tasks, we can use the same query to display a count of the tasks that haven\'t been checked off. To do this we need to add a helper and change one line of the HTML.</p>\n\n'),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("8.4")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"\n\n",o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("8.5")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))})]})}.call(this),function(){t.__checkName("blaze-step09"),t["blaze-step09"]=new t("Template.blaze-step09",function(){var e=this;return[c.Raw('<h1 id="addinguseraccounts">Adding user accounts</h1>\n\n<p>Meteor comes with an accounts system and a drop-in login user interface that lets you add multi-user functionality to your app in minutes.</p>\n\n<p>To enable the accounts system and UI, we need to add the relevant packages. In your app directory, run the following command:</p>\n\n<pre><code class="hljs bash">meteor add accounts-ui accounts-password\n</code></pre>\n\n<p>In the HTML, right under the checkbox, include the following code to add a login dropdown:</p>\n\n'),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("9.2")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Then, in your JavaScript, add the following code to configure the accounts UI to use usernames instead of email addresses:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("9.3")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Now users can create accounts and log into your app! This is very nice, but logging in and out isn't very useful yet. Let's add two functions:</p>\n\n<ol>\n<li>Only display the new task input field to logged in users</li>\n<li>Show which user created each task</li>\n</ol>\n\n<p>To do this, we will add two new fields to the <code>tasks</code> collection:</p>\n\n<ol>\n<li><code>owner</code> - the <code>_id</code> of the user that created the task.</li>\n<li><code>username</code> - the <code>username</code> of the user that created the task. We will save the username directly in the task object so that we don't have to look up the user every time we display the task.</li>\n</ol>\n\n<p>First, let's add some code to save these fields into the <code>submit .new-task</code> event handler:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("9.4")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Then, in our HTML, add an <code>#if</code> block helper to only show the form when there is a logged in user:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("9.5")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Finally, add a Spacebars statement to display the <code>username</code> field on each task right before the text:</p>\n\n"),c.P(o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("9.6")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"`"),c.Raw('\n\n<p>Now, users can log in and we can track which user each task belongs to. Let\'s look at some of the concepts we just discovered in more detail.</p>\n\n<h3 id="automaticaccountsui">Automatic accounts UI</h3>\n\n'),c.P("If our app has the ",c.Raw("<code>accounts-ui</code>")," package, all we have to do to add a login dropdown is include the ",c.Raw("<code>loginButtons</code>")," template with ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),c.Raw("&gt;")," loginButtons}}"),". This dropdown detects which login methods have been added to the app and displays the appropriate controls. In our case, the only enabled login method is ",c.Raw("<code>accounts-password</code>"),", so the dropdown displays a password field. If you are adventurous, you can add the ",c.Raw("<code>accounts-facebook</code>")," package to enable Facebook login in your app - the Facebook button will automatically appear in the dropdown."),c.Raw('\n\n<h3 id="gettinginformationabouttheloggedinuser">Getting information about the logged-in user</h3>\n\n'),c.P("In your HTML, you can use the built-in ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"currentUser}}")," helper to check if a user is logged in and get information about them. For example, ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"currentUser.username}}")," will display the logged in user's username."),c.Raw("\n\n<p>In your JavaScript code, you can use <code>Meteor.userId()</code> to get the current user's <code>_id</code>, or <code>Meteor.user()</code> to get the whole user document.</p>\n\n<p>In the next step, we will learn how to make our app more secure by doing all of our data validation on the server instead of the client.</p>")]})}.call(this),function(){t.__checkName("blaze-step10"),t["blaze-step10"]=new t("Template.blaze-step10",function(){var e=this;return[c.Raw('<h1 id="securitywithmethods">Security with methods</h1>\n\n<p>Before this step, any user of the app could edit any part of the database. This might be okay for very small internal apps or demos, but any real application needs to control permissions for its data. In Meteor, the best way to do this is by declaring <em>methods</em>. Instead of the client code directly calling <code>insert</code>, <code>update</code>, and <code>remove</code>, it will instead call methods that will check if the user is authorized to complete the action and then make any changes to the database on the client\'s behalf.</p>\n\n<h3 id="removinginsecure">Removing <code>insecure</code></h3>\n\n<p>Every newly created Meteor project has the <code>insecure</code> package added by default. This is the package that allows us to edit the database from the client. It\'s useful when prototyping, but now we are taking off the training wheels. To remove this package, go to your app directory and run:</p>\n\n<pre><code class="hljs bash">meteor remove insecure\n</code></pre>\n\n<p>If you try to use the app after removing this package, you will notice that none of the inputs or buttons work anymore. This is because all client-side database permissions have been revoked. Now we need to rewrite some parts of our app to use methods.</p>\n\n<h3 id="definingmethods">Defining methods</h3>\n\n<p>First, we need to define some methods. We need one method for each database operation we want to perform on the client. Methods should be defined in code that is executed on the client and the server - we will discuss this a bit later in the section titled <em>Latency compensation</em>.</p>\n\n'),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("10.2")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Now that we have defined our methods, we need to update the places we were operating on the collection to use the methods instead:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("10.3")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"\n\n",o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("10.4")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Now all of our inputs and buttons will start working again. What did we gain from all of this work?</p>\n\n<ol>\n<li>When we insert tasks into the database, we can now securely verify that the user is logged in, that the <code>createdAt</code> field is correct, and that the <code>owner</code> and <code>username</code> fields are correct and the user isn't impersonating anyone.</li>\n<li>We can add extra validation logic to <code>setChecked</code> and <code>deleteTask</code> in later steps when users can make tasks private.</li>\n<li>Our client code is now more separated from our database logic. Instead of a lot of stuff happening inside our event handlers, we now have methods that can be called from anywhere.</li>\n</ol>\n\n"),Spacebars.include(e.lookupTemplate("step10OptimisticUI"))]})}.call(this),function(){t.__checkName("blaze-step11"),t["blaze-step11"]=new t("Template.blaze-step11",function(){var e=this;return[c.Raw("<h1 id=\"filteringdatawithpublishandsubscribe\">Filtering data with publish and subscribe</h1>\n\n<p>Now that we have moved all of our app's sensitive code into methods, we need to learn about the other half of Meteor's security story. Until now, we have worked assuming the entire database is present on the client, meaning if we call <code>Tasks.find()</code> we will get every task in the collection. That's not good if users of our application want to store privacy-sensitive data. We need a way of controlling which data Meteor sends to the client-side database.</p>\n\n<p>Just like with <code>insecure</code> in the last step, all new Meteor apps start with the <code>autopublish</code> package. Let's remove it and see what happens:</p>\n\n<pre><code class=\"hljs bash\">meteor remove autopublish\n</code></pre>\n\n<p>When the app refreshes, the task list will be empty. Without the <code>autopublish</code> package, we will have to specify explicitly what the server sends to the client. The functions in Meteor that do this are <code>Meteor.publish</code> and <code>Meteor.subscribe</code>.</p>\n\n<p>Let's add them now.</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("11.2")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<p>Once you have added this code, all of the tasks will reappear.</p>\n\n<p>Calling <code>Meteor.publish</code> on the server registers a <em>publication</em> named <code>"tasks"</code>. When <code>Meteor.subscribe</code> is called on the client with the publication name, the client <em>subscribes</em> to all the data from that publication, which in this case is all of the tasks in the database. To truly see the power of the publish/subscribe model, let\'s implement a feature that allows users to mark tasks as "private" so that no other users can see them.</p>\n\n<h3 id="implementingprivatetasks">Implementing private tasks</h3>\n\n<p>First, let\'s add another property to tasks called "private" and a button for users to mark a task as private. This button should only show up for the owner of a task. It will display the current state of the item.</p>\n\n'),o._TemplateWith(function(){
return{view:Spacebars.call("blaze"),step:Spacebars.call("11.3")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Let's make sure our task has a special class if it is marked private:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("11.4")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>We need to modify our JavaScript code in three places:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("11.5")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"\n\n",o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("11.6")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"\n\n",o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("11.7")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<h3 id="selectivelypublishingtasksbasedonprivacystatus">Selectively publishing tasks based on privacy status</h3>\n\n<p>Now that we have a way of setting which tasks are private, we should modify our\npublication function to only send the tasks that a user is authorized to see:</p>\n\n'),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("11.8")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>To test that this functionality works, you can use your browser's private browsing mode to log in as a different user. Put the two windows side by side and mark a task private to confirm that the other user can't see it. Now make it public again and it will reappear!</p>\n\n<h3 id=\"extramethodsecurity\">Extra method security</h3>\n\n<p>In order to finish up our private task feature, we need to add checks to our <code>deleteTask</code> and <code>setChecked</code> methods to make sure only the task owner can delete or check off a private task:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("blaze"),step:Spacebars.call("11.9")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<blockquote>\n  <p>Notice that with this code anyone can delete any public task. With some small modifications to the code, you should be able to make it so that only the owner can delete their tasks.</p>\n</blockquote>\n\n<p>We're done with our private task feature! Now our app is secure from attackers trying to view or modify someone's private tasks.</p>")]})}.call(this),function(){t.__checkName("blaze-step12"),t["blaze-step12"]=new t("Template.blaze-step12",function(){var e=this;return[c.Raw('<h1 id="whatsnext">What\'s next?</h1>\n\n<p>Congratulations on your newly built Meteor app! Don\'t forget to deploy it again\nso your friends can use the new features.</p>\n\n<p>Your app currently supports collaborating on a single todo list. To see how you\ncould add more functionality, check out the Todos example &mdash; a more\ncomplete app that can handle sharing multiple lists. Also, try Local Market, a\ncross-platform customer engagement app that shows off native hardware\nfunctionality and social features.</p>\n\n<pre><code class="hljs bash">meteor create --example todos\nmeteor create --example localmarket\n</code></pre>\n\n<p>Here are some options for where you can go next:</p>\n\n'),c.OL("\n",c.Raw('<li>Grab a <a href="https://www.discovermeteor.com/">copy of Discover Meteor</a>, the best Meteor book out there</li>'),"\n",c.Raw('<li>Read about <a href="/projects">the design of the Meteor platform</a> to see how all of the parts fit together</li>'),"\n",c.Raw('<li>Check out the <a href="https://docs.meteor.com">complete documentation</a></li>'),"\n",c.LI("Explore this set of ",c.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"tools.info")}},"tools")," and ",c.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"tools.resources")}},"resources")," to help you build Meteor apps"),"\n",c.Raw('<li>Try this tutorial using <a href="/tutorials/angular">AngularJS</a></li>'),"\n"),"\n\n",c.DIV({"class":"row"},"\n  ",c.Raw("<hr>"),"\n  ",c.Raw('<div class="col-md-6">\n    <p>Don\'t forget to get on the mailing list - Meteor news, new releases, security alerts, and nothing else.</p>\n  </div>'),"\n  ",c.DIV({"class":"col-md-6"},"\n    ",Spacebars.include(e.lookupTemplate("emailForm")),"\n  "),"\n")]})}.call(this),function(){t.__checkName("react-step01"),t["react-step01"]=new t("Template.react-step01",function(){var e=this;return c.Raw('<h1 id="creatingyourfirstapp">Creating your first app</h1>\n\n<p>In this tutorial, we are going to create a simple app to manage a todo list and collaborate with others on those tasks.</p>\n\n<p>To create the app, open your terminal and type:</p>\n\n<pre><code class="hljs bash">meteor create simple-todos-react\n</code></pre>\n\n<p>This will create a new folder called <code>simple-todos-react</code> with all of the files that a Meteor app needs:</p>\n\n<pre><code class="hljs bash">simple-todos-react.js     <span class="hljs-comment"># a JavaScript file loaded on both client and server</span>\nsimple-todos-react.html   <span class="hljs-comment"># an HTML file that defines view templates</span>\nsimple-todos-react.css    <span class="hljs-comment"># a CSS file to define your app\'s styles</span>\n.meteor                   <span class="hljs-comment"># internal Meteor files</span>\n</code></pre>\n\n<p>To run the newly created app:</p>\n\n<pre><code class="hljs bash"><span class="hljs-built_in">cd</span> simple-todos-react\nmeteor\n</code></pre>\n\n<p>Open your web browser and go to <code>http://localhost:3000</code> to see the app running.</p>\n\n<p>You can play around with this default app for a bit before we continue. For example, try editing the text in <code>&lt;h1&gt;</code> inside <code>simple-todos-react.html</code> using your favorite text editor. When you save the file, the page in your browser will automatically update with the new content. We call this "hot code push".</p>\n\n<p>Now that you have some experience editing the files in your Meteor app, let\'s start working on a simple React todo list application.</p>')})}.call(this),function(){t.__checkName("react-step02"),t["react-step02"]=new t("Template.react-step02",function(){var e=this;return[c.Raw('<h1 id="definingviewswithreactcomponents">Defining views with React components</h1>\n\n<p>To start working with React as our view library, let\'s add the <code>react</code> package, which includes everything you need to get started using React in Meteor: the React library itself, automatic compilation of <code>.jsx</code> files, and a <code>ReactMeteorData</code> mixin for loading data. We\'ll see how to use all of these parts in the coming steps.</p>\n\n<p>Open a new terminal in the same directory as your running app, and type:</p>\n\n<pre><code class="hljs sh">meteor add react\n</code></pre>\n\n<h3 id="replacethestartercode">Replace the starter code</h3>\n\n<p>To get started, let\'s replace the code of the default starter app. Then we\'ll talk about what it does.</p>\n\n<p>First, replace the content of the initial HTML file:</p>\n\n'),o._TemplateWith(function(){return{view:Spacebars.call("react"),step:Spacebars.call("2.2")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Second, <strong>delete <code>simple-todos-react.js</code></strong> and create three new files:</p>\n\n"),o._TemplateWith(function(){return{view:Spacebars.call("react"),step:Spacebars.call("2.3")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"\n\n",o._TemplateWith(function(){return{view:Spacebars.call("react"),step:Spacebars.call("2.4")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"\n\n",o._TemplateWith(function(){return{view:Spacebars.call("react"),step:Spacebars.call("2.5")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<p>We just added three things to our app:</p>\n\n<ol>\n<li>An <code>App</code> React component</li>\n<li>A <code>Task</code> React component</li>\n<li>Some code wrapped inside <code>if (Meteor.isClient) { ... }</code>, which defines code to execute in the browser, and <code>Meteor.startup</code>, which knows how to call code when the page is loaded and ready.</li>\n</ol>\n\n<p>Later in the tutorial, we will refer to these components when adding or changing code.</p>\n\n<h3 id="checktheresult">Check the result</h3>\n\n<p>In our browser, the app should now look much like this:</p>\n\n<blockquote>\n  <h4 id="todolist">Todo List</h4>\n  \n  <ul>\n  <li>This is task 1</li>\n  <li>This is task 2</li>\n  <li>This is task 3</li>\n  </ul>\n</blockquote>\n\n<p>If your app doesn\'t look like this, use the GitHub link at the top right corner of each code snippet to see the entire file, and make sure your code matches the example.</p>\n\n<h3 id="htmlfilesdefinestaticcontent">HTML files define static content</h3>\n\n<p>Meteor parses all of the HTML files in your app folder and identifies three top-level tags: <strong>&lt;head></strong>, <strong>&lt;body></strong>, and <strong>&lt;template></strong>.</p>\n\n<p>Everything inside any &lt;head> tags is added to the <code>head</code> section of the HTML sent to the client, and everything inside &lt;body> tags is added to the <code>body</code> section, just like in a regular HTML file.</p>\n\n'),c.P("Everything inside ",c.Raw("&lt;"),"template> tags is compiled into Meteor ",c.Raw("<em>templates</em>"),", which can be included inside HTML with ",c.CODE(o.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),c.Raw("&gt;")," templateName}}")," or referenced in your JavaScript with ",c.Raw("<code>Template.templateName</code>"),". In this tutorial, we won't be using this feature of Meteor because we will be defining all of our view components with React."),c.Raw('\n\n<h3 id="defineviewcomponentswithreact">Define view components with React</h3>\n\n<p>In React, view components are classes defined with <code>React.createClass</code>. Your component can have any methods you like, but there are several methods such as <code>render</code> that have special functions. Components can also receive data from their parents through attributes called <code>props</code>. We\'ll go over some of the more common features of React in this tutorial; you can also check out <a href="https://facebook.github.io/react/docs/tutorial.html">Facebook\'s React tutorial</a>.</p>\n\n<h3 id="returnmarkupfromtherendermethodwithjsx">Return markup from the render method with JSX</h3>\n\n<p>The most important method in every React component is <code>render()</code>, which is called by React to get a description of the HTML that this component should display. The HTML content is written using a JavaScript extension called JSX, which kind of looks like writing HTML inside your JavaScript. You can see some obvious differences already: in JSX, you use the <code>className</code> attribute instead of <code>class</code>. An important thing to know about JSX is that it isn\'t a templating language like Spacebars or Angular - it actually compiles directly to regular JavaScript. Read more about JSX <a href="https://facebook.github.io/react/docs/jsx-in-depth.html">in the React docs</a>.</p>\n\n<h3 id="jsxfilescanusees2015features">JSX files can use ES2015 features</h3>\n\n<p>If you haven\'t tried next-generation JavaScript features yet, some of the syntax in the code snippet might look weird. This is because <code>.jsx</code> files compiled with the <code>react</code> package also include support for some commonly used features of ES2015, the next version of JavaScript. Some of these features include:</p>\n\n<ol>\n<li>Arrow functions: <code>(arg) =&gt; {return result;}</code></li>\n<li>Shorthand for methods: <code>render() { ... }</code></li>\n<li><code>const</code> and <code>let</code> instead of <code>var</code></li>\n</ol>\n\n<p>Read more about these features here: XXX</p>\n\n'),Spacebars.include(e.lookupTemplate("addingCSS")),c.Raw("\n\n<p>Now that you've added the CSS, the app should look a lot nicer. Check in your browser to see that the new styles have loaded.</p>")]})}.call(this),function(){t.__checkName("react-step03"),t["react-step03"]=new t("Template.react-step03",function(){var e=this;return[c.Raw('<h1 id="storingtasksinacollection">Storing tasks in a collection</h1>\n\n'),Spacebars.include(e.lookupTemplate("step03CollectionsIntro")),c.Raw("\n\n<p>Let's add a line of code to define our first collection:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("3.1"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<h3 id="usingdatafromacollectioninsideareactcomponent">Using data from a collection inside a React component</h3>\n\n<p>To use data from a Meteor collection inside a React component, include the <code>ReactMeteorData</code> mixin in a component. With this mixin in your component, you can define a method called <code>getMeteorData</code> which knows how to keep track of changes in data. The object you return from <code>getMeteorData</code> can be accessed on <code>this.data</code> inside the <code>render</code> method. Let\'s do this now:</p>\n\n'),o._TemplateWith(function(){return{step:Spacebars.call("3.2"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>When you make these changes to the code, you'll notice that the tasks that used to be in the todo list have disappeared. That's because our database is currently empty &mdash; we need to insert some tasks!</p>\n\n"),Spacebars.include(e.lookupTemplate("step03InsertingTasksFromConsole"))]})}.call(this),function(){t.__checkName("react-step04"),t["react-step04"]=new t("Template.react-step04",function(){var e=this;return[c.Raw("<h1 id=\"addingtaskswithaform\">Adding tasks with a form</h1>\n\n<p>In this step, we'll add an input field for users to add tasks to the list.</p>\n\n<p>First, let's add a form to our <code>App</code> component:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("4.1"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<blockquote>\n  <p>Tip: You can add comments to your JSX code by wrapping them in <code>{/* ... */}</code></p>\n</blockquote>\n\n<p>You can see that the <code>form</code> element has an <code>onSubmit</code> attribute that references a method on the component called <code>handleSubmit</code>. In React, this is how you listen to browser events, like the submit event on the form. The <code>input</code> element has a <code>ref</code> property which will let us easily access this element later.</p>\n\n<p>Let's add a <code>handleSubmit</code> method to our <code>App</code> component:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("4.2"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<p>Now your app has a new input field. To add a task, just type into the input field and hit enter. If you open a new browser window and open the app again, you\'ll see that the list is automatically synchronized between all clients.</p>\n\n<h3 id="listeningforeventsinreact">Listening for events in React</h3>\n\n<p>As you can see, in React you handle DOM events by directly referencing a method on the component. Inside the event handler, you can reference elements from the component by giving them a <code>ref</code> property and using <code>React.findDOMNode</code>. Read more about the different kinds of events React supports, and how the event system works, in the <a href="https://facebook.github.io/react/docs/events.html">React docs</a>.</p>\n\n<h3 id="insertingintoacollection">Inserting into a collection</h3>\n\n<p>Inside the event handler, we are adding a task to the <code>tasks</code> collection by calling <code>Tasks.insert()</code>. We can assign any properties to the task object, such as the time created, since we don\'t ever have to define a schema for the collection.</p>\n\n<p>Being able to insert anything into the database from the client isn\'t very secure, but it\'s okay for now. In step 10 we\'ll learn how we can make our app secure and restrict how data is inserted into the database.</p>\n\n<h3 id="sortingourtasks">Sorting our tasks</h3>\n\n<p>Currently, our code displays all new tasks at the bottom of the list. That\'s not very good for a task list, because we want to see the newest tasks first.</p>\n\n<p>We can solve this by sorting the results using the <code>createdAt</code> field that is automatically added by our new code. Just add a sort option to the <code>find</code> call inside <code>getMeteorData</code> on the <code>App</code> component:</p>\n\n'),o._TemplateWith(function(){return{step:Spacebars.call("4.3"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Let's go back to the browser and make sure this worked: any new tasks that you add should appear at the top of the list, rather than at the bottom.</p>\n\n<p>In the next step, we'll add some very important todo list features: checking off and deleting tasks.</p>")]})}.call(this),function(){t.__checkName("react-step05"),t["react-step05"]=new t("Template.react-step05",function(){var e=this;return[c.Raw('<h1 id="checkingoffanddeletingtasks">Checking off and deleting tasks</h1>\n\n<p>Until now, we have only interacted with a collection by inserting documents. Now, we will learn how to update and remove them.</p>\n\n<p>Let\'s add two new elements to our <code>task</code> component, a checkbox and a delete button, with event handlers for both:</p>\n\n'),o._TemplateWith(function(){return{step:Spacebars.call("5.1"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<h3 id="update">Update</h3>\n\n<p>In the code above, we call <code>Tasks.update</code> to check off a task.</p>\n\n<p>The <code>update</code> function on a collection takes two arguments. The first is a selector that identifies a subset of the collection, and the second is an update parameter that specifies what should be done to the matched objects.</p>\n\n<p>In this case, the selector is just the <code>_id</code> of the relevant task. The update parameter uses <code>$set</code> to toggle the <code>checked</code> field, which will represent whether the task has been completed.</p>\n\n<h3 id="remove">Remove</h3>\n\n<p>The code from above uses <code>Tasks.remove</code> to delete a task. The <code>remove</code> function takes one argument, a selector that determines which item to remove from the collection.</p>')]})}.call(this),function(){t.__checkName("react-step08"),t["react-step08"]=new t("Template.react-step08",function(){var e=this;return[c.Raw("<h1 id=\"storingtemporaryuidataincomponentstate\">Storing temporary UI data in component state</h1>\n\n<p>In this step, we'll add a client-side data filtering feature to our app, so that users can check a box to only see incomplete tasks. We're going to learn how to use React's component state to store temporary information that is only used on the client.</p>\n\n<p>First, we need to add a checkbox to our <code>App</code> component:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("8.1"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>You can see that it reads from <code>this.state.hideCompleted</code>. React components have a special field called <code>state</code> where you can store encapsulated component data. We need to define a <code>getInitialState</code> method on our component to initialize this field:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("8.2"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>We can update <code>this.state</code> from an event handler by calling <code>this.setState</code>, which will update the state property asynchronously and then cause the component to re-render:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("8.3"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Now, we need to update <code>getMeteorData</code> to filter out completed tasks when <code>this.state.hideCompleted</code> is true:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("8.4"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Now if you check the box, the task list will only show tasks that haven't been completed.</p>\n\n<h3 id=\"onemorefeatureshowingacountofincompletetasks\">One more feature: Showing a count of incomplete tasks</h3>\n\n<p>Now that we have written a query that filters out completed tasks, we can use the same query to display a count of the tasks that haven't been checked off. To do this we need to return a count from <code>getMeteorData</code> and add a line to our <code>render</code> method. Since we already have the data in the client-side Minimongo collection, adding this extra count doesn't involve asking the server for anything.</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("8.5"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"\n\n",o._TemplateWith(function(){return{step:Spacebars.call("8.6"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))})]})}.call(this),function(){t.__checkName("react-step09"),t["react-step09"]=new t("Template.react-step09",function(){var e=this;return[c.Raw('<h1 id="addinguseraccounts">Adding user accounts</h1>\n\n<p>Meteor comes with an accounts system and a drop-in login user interface that lets you add multi-user functionality to your app in minutes.</p>\n\n<blockquote>\n  <p>Currently, this UI component uses Blaze, Meteor\'s default UI engine. In the future, there might also be a React-specific component for this.</p>\n</blockquote>\n\n<p>To enable the accounts system and UI, we need to add the relevant packages. In your app directory, run the following command:</p>\n\n<pre><code class="hljs bash">meteor add accounts-ui accounts-password\n</code></pre>\n\n<h3 id="wrappingablazecomponentinreact">Wrapping a Blaze component in React</h3>\n\n<p>To use the Blaze UI component from the <code>accounts-ui</code> package, we need to wrap it in a React component. To do so, let\'s create a new component called <code>AccountsUIWrapper</code> in a new file:</p>\n\n'),o._TemplateWith(function(){return{step:Spacebars.call("9.2"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Let's include the component we just defined inside App:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("9.3"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Then, add the following code to configure the accounts UI to use usernames instead of email addresses:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("9.4"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<h3 id=\"addinguserrelatedfunctionality\">Adding user-related functionality</h3>\n\n<p>Now users can create accounts and log into your app! This is very nice, but logging in and out isn't very useful yet. Let's add two features:</p>\n\n<ol>\n<li>Only display the new task input field to logged in users</li>\n<li>Show which user created each task</li>\n</ol>\n\n<p>To do this, we will add two new fields to the <code>tasks</code> collection:</p>\n\n<ol>\n<li><code>owner</code> - the <code>_id</code> of the user that created the task.</li>\n<li><code>username</code> - the <code>username</code> of the user that created the task. We will save the username directly in the task object so that we don't have to look up the user every time we display the task.</li>\n</ol>\n\n<p>First, let's add some code to save these fields into the <code>handleSubmit</code> event handler:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("9.5"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Modify the <code>return</code> statement on <code>getMeteorData</code> to get information about the currently logged in user:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("9.6"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Then, in our render method, add a conditional statement to only show the form when there is a logged in user:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("9.7"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Finally, add a statement to display the <code>username</code> field on each task right before the text:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("9.8"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>In your browser, add some tasks and notice that your username shows up. Old tasks that we added before this step won't have usernames attached; you can just delete them.</p>\n\n<p>Now, users can log in and we can track which user each task belongs to. Let's look at some of the concepts we just discovered in more detail.</p>\n\n<h3 id=\"automaticaccountsui\">Automatic accounts UI</h3>\n\n<p>If our app has the <code>accounts-ui</code> package, all we have to do to add a login dropdown is render the included UI component. This dropdown detects which login methods have been added to the app and displays the appropriate controls. In our case, the only enabled login method is <code>accounts-password</code>, so the dropdown displays a password field. If you are adventurous, you can add the <code>accounts-facebook</code> package to enable Facebook login in your app - the Facebook button will automatically appear in the dropdown.</p>\n\n<h3 id=\"gettinginformationabouttheloggedinuser\">Getting information about the logged-in user</h3>\n\n<p>In your <code>getMeteorData</code> method, you can use <code>Meteor.user()</code> to check if a user is logged in and get information about them. For example, <code>Meteor.user().username</code> contains the logged in user's username. You can also use <code>Meteor.userId()</code> to just get the current user's <code>_id</code>.</p>\n\n<p>In the next step, we will learn how to make our app more secure by doing data validation on the server.</p>")]})}.call(this),function(){t.__checkName("react-step10"),t["react-step10"]=new t("Template.react-step10",function(){var e=this;return[c.Raw('<h1 id="securitywithmethods">Security with methods</h1>\n\n<p>Before this step, any user of the app could edit any part of the database. This might be okay for very small internal apps or demos, but any real application needs to control permissions for its data. In Meteor, the best way to do this is by declaring <em>methods</em>. Instead of the client code directly calling <code>insert</code>, <code>update</code>, and <code>remove</code>, it will instead call methods that will check if the user is authorized to complete the action and then make any changes to the database on the client\'s behalf.</p>\n\n<h3 id="removinginsecure">Removing <code>insecure</code></h3>\n\n<p>Every newly created Meteor project has the <code>insecure</code> package added by default. This is the package that allows us to edit the database from the client. It\'s useful when prototyping, but now we are taking off the training wheels. To remove this package, go to your app directory and run:</p>\n\n<pre><code class="hljs bash">meteor remove insecure\n</code></pre>\n\n<p>If you try to use the app after removing this package, you will notice that none of the inputs or buttons work anymore. This is because all client-side database permissions have been revoked. Now we need to rewrite some parts of our app to use methods.</p>\n\n<h3 id="definingmethods">Defining methods</h3>\n\n<p>First, we need to define some methods. We need one method for each database operation we want to perform on the client. Methods should be defined in code that is executed on the client and the server - we will discuss this a bit later in the section titled <em>Latency compensation</em>.</p>\n\n'),o._TemplateWith(function(){return{step:Spacebars.call("10.2"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Now that we have defined our methods, we need to update the places we were operating on the collection to use the methods instead:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("10.3"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"\n\n",o._TemplateWith(function(){return{step:Spacebars.call("10.4"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Now all of our inputs and buttons will start working again. What did we gain from all of this work?</p>\n\n<ol>\n<li>When we insert tasks into the database, we can now securely verify that the user is logged in, that the <code>createdAt</code> field is correct, and that the <code>owner</code> and <code>username</code> fields are correct and the user isn't impersonating anyone.</li>\n<li>We can add extra validation logic to <code>setChecked</code> and <code>deleteTask</code> in later steps when users can make tasks private.</li>\n<li>Our client code is now more separated from our database logic. Instead of a lot of stuff happening inside our event handlers, we now have methods that can be called from anywhere.</li>\n</ol>\n\n"),Spacebars.include(e.lookupTemplate("step10OptimisticUI"))]})}.call(this),function(){t.__checkName("react-step11"),t["react-step11"]=new t("Template.react-step11",function(){var e=this;return[c.Raw("<h1 id=\"filteringdatawithpublishandsubscribe\">Filtering data with publish and subscribe</h1>\n\n<p>Now that we have moved all of our app's sensitive code into methods, we need to learn about the other half of Meteor's security story. Until now, we have worked assuming the entire database is present on the client, meaning if we call <code>Tasks.find()</code> we will get every task in the collection. That's not good if users of our application want to store privacy-sensitive data. We need a way of controlling which data Meteor sends to the client-side database.</p>\n\n<p>Just like with <code>insecure</code> in the last step, all new Meteor apps start with the <code>autopublish</code> package, which automatically synchronizes all of the database contents to the client. Let's remove it and see what happens:</p>\n\n<pre><code class=\"hljs bash\">meteor remove autopublish\n</code></pre>\n\n<p>When the app refreshes, the task list will be empty. Without the <code>autopublish</code> package, we will have to specify explicitly what the server sends to the client. The functions in Meteor that do this are <code>Meteor.publish</code> and <code>Meteor.subscribe</code>.</p>\n\n<p>Let's add them now.</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("11.2"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<p>Once you have added this code, all of the tasks will reappear.</p>\n\n<p>Calling <code>Meteor.publish</code> on the server registers a <em>publication</em> named <code>"tasks"</code>. When <code>Meteor.subscribe</code> is called on the client with the publication name, the client <em>subscribes</em> to all the data from that publication, which in this case is all of the tasks in the database. To truly see the power of the publish/subscribe model, let\'s implement a feature that allows users to mark tasks as "private" so that no other users can see them.</p>\n\n<h3 id="addingabuttontomaketasksprivate">Adding a button to make tasks private</h3>\n\n<p>Let\'s add another property to tasks called "private" and a button for users to mark a task as private. This button should only show up for the owner of a task. We want the label to indicate the current status: public or private.</p>\n\n<p>First, we need to add a new method that we can call to set a task\'s private status:</p>\n\n'),c.P(o._TemplateWith(function(){
return{step:Spacebars.call("11.3"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))})," "),c.Raw("\n\n<p>Now, we need to pass a new property to the <code>Task</code> to decide whether we want\nto show the private button; the button should show up only if the currently\nlogged in user owns this task:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("11.4"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),"\n\n",o._TemplateWith(function(){return{step:Spacebars.call("11.5"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>Let's add the button, using this new prop to decide whether it should be displayed:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("11.6"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>We need to define the event handler called by the button:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("11.7"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>One last thing, let's update the class of the <code>&lt;li&gt;</code> element in the <code>Task</code> component to reflect it's privacy status:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("11.8"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw('\n\n<h3 id="selectivelypublishingtasksbasedonprivacystatus">Selectively publishing tasks based on privacy status</h3>\n\n<p>Now that we have a way of setting which tasks are private, we should modify our\npublication function to only send the tasks that a user is authorized to see:</p>\n\n'),o._TemplateWith(function(){return{step:Spacebars.call("11.9"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<p>To test that this functionality works, you can use your browser's private browsing mode to log in as a different user. Put the two windows side by side and mark a task private to confirm that the other user can't see it. Now make it public again and it will reappear!</p>\n\n<h3 id=\"extramethodsecurity\">Extra method security</h3>\n\n<p>In order to finish up our private task feature, we need to add checks to our <code>deleteTask</code> and <code>setChecked</code> methods to make sure only the task owner can delete or check off a private task:</p>\n\n"),o._TemplateWith(function(){return{step:Spacebars.call("11.10"),view:Spacebars.call("react")}},function(){return Spacebars.include(e.lookupTemplate("CodeBox"))}),c.Raw("\n\n<blockquote>\n  <p>Notice that with this code anyone can delete any public task. With some small modifications to the code, you should be able to make it so that only the owner can delete their tasks.</p>\n</blockquote>\n\n<p>We're done with our private task feature! Now our app is secure from attackers trying to view or modify someone's private tasks.</p>")]})}.call(this),function(){t.__checkName("react-step12"),t["react-step12"]=new t("Template.react-step12",function(){var e=this;return[c.Raw('<h1 id="whatsnext">What\'s next?</h1>\n\n<p>Congratulations on your newly built Meteor app! Don\'t forget to deploy it again\nso your friends can use the new features.</p>\n\n<p>Your app currently supports collaborating on a single todo list. To see how you\ncould add more functionality, check out the Todos example &mdash; a more\ncomplete app that can handle sharing multiple lists. Also, try Local Market, a\ncross-platform customer engagement app that shows off native hardware\nfunctionality and social features.</p>\n\n<pre><code class="hljs bash">meteor create --example todos\nmeteor create --example localmarket\n</code></pre>\n\n<p>Here are some options for where you can go next:</p>\n\n'),c.OL("\n",c.Raw('<li>Grab a <a href="https://www.discovermeteor.com/">copy of Discover Meteor</a>, the best Meteor book out there</li>'),"\n",c.Raw('<li>Read about <a href="/projects">the design of the Meteor platform</a> to see how all of the parts fit together</li>'),"\n",c.Raw('<li>Check out the <a href="https://docs.meteor.com">complete documentation</a></li>'),"\n",c.LI("Explore this set of ",c.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"tools.info")}},"tools")," and ",c.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"tools.resources")}},"resources")," to help you build Meteor apps"),"\n",c.Raw('<li>Try this tutorial using <a href="/tutorials/angular">AngularJS</a></li>'),"\n"),"\n\n",c.DIV({"class":"row"},"\n  ",c.Raw("<hr>"),"\n  ",c.Raw('<div class="col-md-6">\n    <p>Don\'t forget to get on the mailing list - Meteor news, new releases, security alerts, and nothing else.</p>\n  </div>'),"\n  ",c.DIV({"class":"col-md-6"},"\n    ",Spacebars.include(e.lookupTemplate("emailForm")),"\n  "),"\n")]})}.call(this),function(){t.__checkName("meteor-step00"),t["meteor-step00"]=new t("Template.meteor-step00",function(){var e=this;return c.DIV({id:"content"},c.Raw('\n          <h1 class="header" style="padding-bottom:10px;margin:0px">Installing Meteor on OS X, Linux and Windows</h1>\n          '),c.H3({"class":"subhead",style:"padding-top:0px"},"Current version: ",o.View("lookup:meteorVersion",function(){return Spacebars.mustache(e.lookup("meteorVersion"))})),c.Raw("\n          <hr>\n\n"),Spacebars.include(e.lookupTemplate("markdown"),function(){return"\n\n  Meteor supports **OS X, Windows, and Linux**, and is simple to install. The command line installer supports Mac OS X\n  10.7 (Lion) and above, and Linux on x86 and x86_64 architectures. The Windows installer supports Windows 7, Windows 8.1, Windows Server 2008, and Windows Server 2012.\n\n### On OS X or Linux?\n\n  Install the latest official Meteor release from\n  your terminal:\n\n```bash\ncurl https://install.meteor.com/ | sh\n```\n\n### On Windows?\n\n  [Download the official Meteor installer\n  here](https://install.meteor.com/windows).\n\n\n###What Next?\n\nNow that you've installed Meteor, check out [the tutorial](/tutorials/blaze) that\nteaches you how to build a collaborative todo list app while showing you\nMeteor's most exciting and useful features. You can also read about [the\ndesign of the Meteor platform](/projects) or check out the\n[complete documentation](https://docs.meteor.com).\n\n"}),"\n\n",c.DIV({"class":"row"},"\n  ",c.Raw("<hr>"),"\n  ",c.Raw('<div class="col-md-6">\n    <p>Get on the mailing list - the latest Meteor news, new releases, critical security alerts, and nothing else.</p>\n  </div>'),"\n  ",c.DIV({"class":"col-md-6"},"\n    ",Spacebars.include(e.lookupTemplate("emailForm")),"\n  "),"\n"),"\n\n")})}.call(this),function(){t.__checkName("step11SelectivelyPublish"),t.step11SelectivelyPublish=new t("Template.step11SelectivelyPublish",function(){var e=this;return c.Raw('<h3 id="selectivelypublishingtasksbasedonprivacystatus">Selectively publishing tasks based on privacy status</h3>\n\n<p>Now that we have a way of setting which tasks are private, we should modify our\npublication function to only send the tasks that a user is authorized to see:</p>\n\n<pre><code class="hljs js"><span class="hljs-comment">// Modify the publish statement</span>\n<span class="hljs-comment">// Only publish tasks that are public or belong to the current user</span>\nMeteor.publish(<span class="hljs-string">"tasks"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> Tasks.find({\n    $or: [\n      { private: {$ne: <span class="hljs-literal">true</span>} },\n      { owner: <span class="hljs-keyword">this</span>.userId }\n    ]\n  });\n});\n</code></pre>\n\n<p>To test that this functionality works, you can use your browser\'s private browsing mode to log in as a different user. Put the two windows side by side and mark a task private to confirm that the other user can\'t see it. Now make it public again and it will reappear!</p>\n\n<h3 id="extramethodsecurity">Extra method security</h3>\n\n<p>In order to finish up our private task feature, we need to add checks to our <code>deleteTask</code> and <code>setChecked</code> methods to make sure only the task owner can delete or check off a private task:</p>\n\n<pre><code class="hljs js"><span class="hljs-comment">// At the top of the deleteTask method</span>\n<span class="hljs-keyword">var</span> task = Tasks.findOne(taskId);\n<span class="hljs-keyword">if</span> (task.private &amp;&amp; task.owner !== Meteor.userId()) {\n  <span class="hljs-comment">// If the task is private, make sure only the owner can delete it</span>\n  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-string">"not-authorized"</span>);\n}\n\n<span class="hljs-comment">// At the top of the setChecked method</span>\n<span class="hljs-keyword">var</span> task = Tasks.findOne(taskId);\n<span class="hljs-keyword">if</span> (task.private &amp;&amp; task.owner !== Meteor.userId()) {\n  <span class="hljs-comment">// If the task is private, make sure only the owner can check it off</span>\n  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-string">"not-authorized"</span>);\n}\n</code></pre>\n\n<blockquote>\n  <p>Notice that with this code anyone can delete any public task. With some small modifications to the code, you should be able to make it so that only the owner can delete their tasks.</p>\n</blockquote>\n\n<p>We\'re done with our private task feature! Now our app is secure from attackers trying to view or modify someone\'s private tasks.</p>')}),t.__checkName("step03CollectionsIntro"),t.step03CollectionsIntro=new t("Template.step03CollectionsIntro",function(){var e=this;return c.Raw("<p>Collections are Meteor's way of storing persistent data. The special thing about collections in Meteor is that they can be accessed from both the server and the client, making it easy to write view logic without having to write a lot of server code. They also update themselves automatically, so a view component backed by a collection will automatically display the most up-to-date data.</p>\n\n<p>Creating a new collection is as easy as calling <code>MyCollection = new Mongo.Collection(\"my-collection\");</code> in your JavaScript. On the server, this sets up a MongoDB collection called <code>my-collection</code>; on the client, this creates a cache connected to the server collection. We'll learn more about the client/server divide in step 12, but for now we can write our code with the assumption that the entire database is present on the client.</p>")}),t.__checkName("step03InsertingTasksFromConsole"),t.step03InsertingTasksFromConsole=new t("Template.step03InsertingTasksFromConsole",function(){var e=this;return c.Raw('<h3 id="insertingtasksfromtheconsole">Inserting tasks from the console</h3>\n\n<p>Items inside collections are called <em>documents</em>. Let\'s use the server database console to insert some documents into our collection. In a new terminal tab, go to your app directory and type:</p>\n\n<pre><code class="hljs bash">meteor mongo\n</code></pre>\n\n<p>This opens a console into your app\'s local development database. Into the prompt, type:</p>\n\n<pre><code class="hljs js">db.tasks.insert({ text: <span class="hljs-string">"Hello world!"</span>, createdAt: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>() });\n</code></pre>\n\n<p>In your web browser, you will see the UI of your app immediately update to show the new task. You can see that we didn\'t have to write any code to connect the server-side database to our front-end code &mdash; it just happened automatically.</p>\n\n<p>Insert a few more tasks from the database console with different text. In the next step, we\'ll see how to add functionality to our app\'s UI so that we can add tasks without using the database console.</p>')}),t.__checkName("step10OptimisticUI"),t.step10OptimisticUI=new t("Template.step10OptimisticUI",function(){var e=this;return c.Raw('<h3 id="optimisticui">Optimistic UI</h3>\n\n<p>So why do we want to define our methods on the client and on the server? We do this to enable a feature we call <em>optimistic UI</em>.</p>\n\n<p>When you call a method on the client using <code>Meteor.call</code>, two things happen in parallel:</p>\n\n<ol>\n<li>The client sends a request to the server to run the method in a secure environment, just like an AJAX request would work</li>\n<li>A simulation of the method runs directly on the client to attempt to predict the outcome of the server call using the available information</li>\n</ol>\n\n<p>What this means is that a newly created task actually appears on the screen <em>before</em> the result comes back from the server.</p>\n\n<p>If the result from the server comes back and is consistent with the simulation on the client, everything remains as is. If the result on the server is different from the result of the simulation on the client, the UI is patched to reflect the actual state of the server.</p>\n\n<p>With Meteor methods and optimistic UI, you get the best of both worlds &mdash; the security of server code and no round-trip delay. Read more in our <a href="http://info.meteor.com/blog/optimistic-ui-with-meteor-latency-compensation">blog post about optimistic UI</a>.</p>')})}.call(this),function(){t.__checkName("addingCSS"),t.addingCSS=new t("Template.addingCSS",function(){var e=this;return[c.Raw('<h3 id="addingcss">Adding CSS</h3>\n\n<p>Before we go any further, let\'s make our app look nice by adding some CSS.</p>\n\n<p>Since this tutorial is focused on working with HTML and JavaScript, just copy all the CSS code below into <code>simple-todos.css</code>. This is all the CSS code you will need until the end of the tutorial. The app will still work without the CSS, but it will look much nicer if you add it.</p>\n\n'),o._TemplateWith(function(){return"Replace simple-todos.css with this code"},function(){return Spacebars.include(e.lookupTemplate("codeBox"),function(){return["\n\n",c.PRE(c.CODE({"class":"hljs css"},c.SPAN({"class":"hljs-comment"},"/* CSS declarations go here */"),"\n",c.SPAN({"class":"hljs-tag"},"body")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"font-family"),":",c.SPAN({"class":"hljs-value"}," sans-serif")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"background-color"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-hexcolor"},"#315481"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"background-image"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-function"},"linear-gradient"),"(to bottom, ",c.SPAN({"class":"hljs-hexcolor"},"#315481"),", ",c.SPAN({"class":"hljs-hexcolor"},"#918e82")," ",c.SPAN({"class":"hljs-number"},"100%"),")")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"background-attachment"),":",c.SPAN({"class":"hljs-value"}," fixed")),";\n\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"position"),":",c.SPAN({"class":"hljs-value"}," absolute")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"top"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"bottom"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"left"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"right"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0"))),";\n\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"padding"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"margin"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0"))),";\n\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"font-size"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"14px"))),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-class"},".container")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"max-width"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"600px"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"margin"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0")," auto")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"min-height"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"100%"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"background"),":",c.SPAN({"class":"hljs-value"}," white")),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-tag"},"header")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"background"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-hexcolor"},"#d2edf4"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"background-image"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-function"},"linear-gradient"),"(to bottom, ",c.SPAN({"class":"hljs-hexcolor"},"#d0edf5"),", ",c.SPAN({"class":"hljs-hexcolor"},"#e1e5f0")," ",c.SPAN({"class":"hljs-number"},"100%"),")")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"padding"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"20px")," ",c.SPAN({"class":"hljs-number"},"15px")," ",c.SPAN({"class":"hljs-number"},"15px")," ",c.SPAN({"class":"hljs-number"},"15px"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"position"),":",c.SPAN({"class":"hljs-value"}," relative")),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-id"},"#login-buttons")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"display"),":",c.SPAN({"class":"hljs-value"}," block")),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-tag"},"h1")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"font-size"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"1.5em"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"margin"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"margin-bottom"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"10px"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"display"),":",c.SPAN({"class":"hljs-value"}," inline-block")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"margin-right"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"1em"))),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-tag"},"form")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"margin-top"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"10px"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"margin-bottom"),":",c.SPAN({"class":"hljs-value"}," -",c.SPAN({"class":"hljs-number"},"10px"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"position"),":",c.SPAN({"class":"hljs-value"}," relative")),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-class"},".new-task")," ",c.SPAN({"class":"hljs-tag"},"input")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"box-sizing"),":",c.SPAN({"class":"hljs-value"}," border-box")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"padding"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"10px")," ",c.SPAN({"class":"hljs-number"},"0"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"background"),":",c.SPAN({"class":"hljs-value"}," transparent")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"border"),":",c.SPAN({"class":"hljs-value"}," none")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"width"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"100%"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"padding-right"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"80px"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"font-size"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"1em"))),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-class"},".new-task")," ",c.SPAN({"class":"hljs-tag"},"input"),c.SPAN({"class":"hljs-pseudo"},":focus"),c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"outline"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0"))),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-tag"},"ul")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"margin"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"padding"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"0"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"background"),":",c.SPAN({"class":"hljs-value"}," white")),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-class"},".delete")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"float"),":",c.SPAN({"class":"hljs-value"}," right")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"font-weight"),":",c.SPAN({"class":"hljs-value"}," bold")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"background"),":",c.SPAN({"class":"hljs-value"}," none")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"font-size"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"1em"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"border"),":",c.SPAN({"class":"hljs-value"}," none")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"position"),":",c.SPAN({"class":"hljs-value"}," relative")),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-tag"},"li")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"position"),":",c.SPAN({"class":"hljs-value"}," relative")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"list-style"),":",c.SPAN({"class":"hljs-value"}," none")),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"padding"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"15px"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"border-bottom"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-hexcolor"},"#eee")," solid ",c.SPAN({"class":"hljs-number"},"1px"))),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-tag"},"li")," ",c.SPAN({"class":"hljs-class"},".text")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"margin-left"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"10px"))),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-tag"},"li"),c.SPAN({"class":"hljs-class"},".checked")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"color"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-hexcolor"},"#888"))),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-tag"},"li"),c.SPAN({"class":"hljs-class"},".checked")," ",c.SPAN({"class":"hljs-class"},".text")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"text-decoration"),":",c.SPAN({"class":"hljs-value"}," line-through")),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-tag"},"li"),c.SPAN({"class":"hljs-class"},".private")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"background"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-hexcolor"},"#eee"))),";\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"border-color"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-hexcolor"},"#ddd"))),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-tag"},"header")," ",c.SPAN({"class":"hljs-class"},".hide-completed")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"float"),":",c.SPAN({"class":"hljs-value"}," right")),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-class"},".toggle-private")," ",c.SPAN({"class":"hljs-rules"},"{\n  ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"margin-left"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"5px"))),";\n",c.SPAN({"class":"hljs-rule"},"}")),"\n\n",c.SPAN({"class":"hljs-at_rule"},"@",c.SPAN({"class":"hljs-keyword"},"media")," (max-width: ",c.SPAN({"class":"hljs-number"},"600px"),") "),"{\n  ",c.SPAN({"class":"hljs-tag"},"li")," ",c.SPAN({"class":"hljs-rules"},"{\n    ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"padding"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"12px")," ",c.SPAN({"class":"hljs-number"},"15px"))),";\n  ",c.SPAN({"class":"hljs-rule"},"}")),"\n\n  ",c.SPAN({"class":"hljs-class"},".search")," ",c.SPAN({"class":"hljs-rules"},"{\n    ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"width"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"150px"))),";\n    ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"clear"),":",c.SPAN({"class":"hljs-value"}," both")),";\n  ",c.SPAN({"class":"hljs-rule"},"}")),"\n\n  ",c.SPAN({"class":"hljs-class"},".new-task")," ",c.SPAN({"class":"hljs-tag"},"input")," ",c.SPAN({"class":"hljs-rules"},"{\n    ",c.SPAN({"class":"hljs-rule"},c.SPAN({"class":"hljs-attribute"},"padding-bottom"),":",c.SPAN({"class":"hljs-value"}," ",c.SPAN({"class":"hljs-number"},"5px"))),";\n  ",c.SPAN({"class":"hljs-rule"},"}")),"\n}\n")),"\n\n"]})})]})}.call(this),function(){t.__checkName("shared-step06"),t["shared-step06"]=new t("Template.shared-step06",function(){var e=this;return c.Raw("<h1 id=\"deployingyourapp\">Deploying your app</h1>\n\n<p>Now that we have a working todo list app, we can share it with our friends! Meteor makes it really easy to put an app up on the internet where other people can use it.</p>\n\n<p>Simply go to your app directory, and type:</p>\n\n<pre><code class=\"hljs bash\">meteor deploy my_app_name.meteor.com\n</code></pre>\n\n<p>Once you answer all of the prompts and the upload completes, you can go to <code>http://my_app_name.meteor.com</code> and use your app from anywhere. </p>\n\n<p>Try opening the app on multiple devices such as your phone and your friend's computer. Add, remove, and check off some tasks and you will see that the UI of your app is really fast. That's because Meteor doesn't wait for the server to respond before updating the interface - we'll talk about this more in step 11.</p>\n\n<p>Congratulations, you've made a working app that you can now use with your friends! In later steps we will add more functionality involving multiple users, private tasks, and search. First, we'll take a detour to see that while we were building a web app, we also created a pretty nice mobile app along the way.</p>")})}.call(this),function(){t.__checkName("sharedStep07"),t.sharedStep07=new t("Template.sharedStep07",function(){var e=this;return[c.Raw("<h1 id=\"runningyourapponandroidorios\">Running your app on Android or iOS</h1>\n\n<blockquote>\n  <p>Currently, Meteor on Windows does not support mobile builds. If you are using Meteor on Windows, you should skip this step.</p>\n</blockquote>\n\n<p>So far, we've been building our app and testing only in a web browser, but Meteor has been designed to work across different platforms - your simple todo list website can become an iOS or Android app in just a few commands.</p>\n\n<p>Meteor makes it easy to set up all of the tools required to build mobile apps, but downloading all of the programs can take a while - for Android the download is about 300MB and for iOS you need to install Xcode which is about 2GB. If you don't want to wait to download these tools, feel free to skip to the next step.</p>\n\n"),o.If(function(){return Spacebars.call(e.lookup("specialContent"))},function(){return c.P("\n  ",o._TemplateWith(function(){return{template:Spacebars.call(e.lookup("specialContent"))}},function(){return Spacebars.include(function(){return Spacebars.call(t.__dynamic)})}),"\n")}),c.Raw('\n\n<h3 id="runningonaniossimulatormaconly">Running on an iOS simulator (Mac Only)</h3>\n\n<p>If you have a Mac, you can run your app inside the iOS simulator.</p>\n\n<p>Go to your app folder and type:</p>\n\n<pre><code class="hljs bash">meteor install-sdk ios\n</code></pre>\n\n<p>This will run you through the setup necessary to build an iOS app from your project. When you\'re done, type:</p>\n\n<pre><code class="hljs bash">meteor add-platform ios\nmeteor run ios\n</code></pre>\n\n<p>You will see the iOS simulator pop up with your app running inside.</p>\n\n<h3 id="runningonanandroidemulator">Running on an Android emulator</h3>\n\n<p>In the terminal, go to your app folder and type:</p>\n\n<pre><code class="hljs bash">meteor install-sdk android\n</code></pre>\n\n<p>This will help you install all of the necessary tools to build an Android app from your project. When you are done installing everything, type:</p>\n\n<pre><code class="hljs bash">meteor add-platform android\n</code></pre>\n\n<p>After you agree to the license terms, type:</p>\n\n<pre><code class="hljs bash">meteor run android\n</code></pre>\n\n<p>After some initialization, you will see an Android emulator pop up, running your app inside a native Android wrapper. The emulator can be somewhat slow, so if you want to see what it\'s really like using your app, you should run it on an actual device.</p>\n\n<h3 id="runningonanandroiddevice">Running on an Android device</h3>\n\n<p>First, complete all of the steps above to set up the Android tools on your system. Then, make sure you have <a href="http://developer.android.com/tools/device.html#developer-device-options">USB Debugging enabled on your phone</a> and the phone is plugged into your computer with a USB cable. Also, you must quit the Android emulator before running on a device.</p>\n\n<p>Then, run the following command:</p>\n\n<pre><code class="hljs bash">meteor run android-device\n</code></pre>\n\n<p>The app will be built and installed on your device. If you want to point your app to the server you deployed in the previous step, run:</p>\n\n<pre><code class="hljs bash">meteor run android-device --mobile-server my_app_name.meteor.com\n</code></pre>\n\n<h3 id="runningonaniphoneoripadmaconlyrequiresappledeveloperaccount">Running on an iPhone or iPad (Mac Only; requires Apple developer account)</h3>\n\n<p>If you have an Apple developer account, you can also run your app on an iOS device. Run the following command:</p>\n\n<pre><code class="hljs bash">meteor run ios-device\n</code></pre>\n\n<p>This will open Xcode with a project for your iOS app. You can use Xcode to then launch the app on any device or simulator that Xcode supports.</p>\n\n<p>If you want to point your app at the previously deployed server, run:</p>\n\n<pre><code class="hljs bash">meteor run ios-device --mobile-server my_app_name.meteor.com\n</code></pre>\n\n<p>Now that we have seen how easy it is to deploy our app and run it on mobile, let\'s get to adding some more features.</p>')];

})}.call(this),function(){t.__checkName("CodeBox"),t.CodeBox=new t("Template.CodeBox",function(){var e=this;return o._TemplateWith(function(){return{repoName:Spacebars.call(e.lookup("repoName")),commit:Spacebars.call(e.lookup("commit")),fileName:Spacebars.call(e.lookup("fileName")),summary:Spacebars.call(e.lookup("summary")),step:Spacebars.call(e.lookup("step"))}},function(){return Spacebars.include(e.lookupTemplate("GitPatch"))})})}.call(this),function(){function e(){var e=t.currentData().view,a=null;if("react"===e)a=w;else if("angular"===e)a=g;else{if("blaze"!==e)throw Error("Unrecognized view option: "+e);a=f}return a}t.CodeBox.onCreated(function(){if(!t.currentData())throw new Error("Must pass arguments to CodeBox");var e=t.currentData();if(!e.view||!e.step)throw new Error("Must pass view and step args to CodeBox")}),t.CodeBox.helpers({repoName:function(){var e=t.currentData().view;if("react"===e)return"meteor/simple-todos-react";if("angular"===e)return"meteor/simple-todos-angular";if("blaze"===e)return"meteor/simple-todos";throw Error("Unrecognized view option: "+e)},commit:function(){return e()[t.currentData().step].sha},summary:function(){var a=t.currentData().step;return e()[a].message},fileName:function(){if(t.currentData().fileName)return t.currentData().fileName;var s=e()[t.currentData().step].sha,n=m[s],o=a.keys(n);if(1===o.length)return o[0];throw new Error("Multiple files in patch. Must specify fileName.")}})}.call(this),"undefined"==typeof Package&&(Package={}),Package.tutorials={TUTORIAL_PAGES:p,REACT_TUT:d,ANGULAR2_TUT:h,ANGULAR1_TUT:u,GitPatches:m}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,a=Package.retry.Retry,r=Package.ddp.DDP,o=Package.mongo.Mongo,i=Package.underscore._,s,c;(function(){var t=__meteor_runtime_config__.autoupdateVersion||"unknown",n=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";c=new o.Collection("meteor_autoupdate_clientVersions"),s={},s.newClientAvailable=function(){return!!c.findOne({_id:"version",version:{$ne:t}})||!!c.findOne({_id:"version-refreshable",version:{$ne:n}})};var r=!1,u=new a({minCount:0,baseTimeout:3e4}),l=0;s._retrySubscription=function(){e.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){e._debug("autoupdate subscription failed:",t),l++,u.retryLater(l,function(){s._retrySubscription()})},onReady:function(){if(Package.reload)var a=function(a){var s=this;if("version-refreshable"===a._id&&a.version!==n){n=a.version;var c=a.assets&&a.assets.allCss||[],u=[];i.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&u.push(e)});var l=function(t,n){var a=i.once(n);if(t.onload=function(){r=!0,a()},!r)var o=e.setInterval(function(){t.sheet&&(a(),e.clearInterval(o))},50)},d=i.after(c.length,function(){i.each(u,function(e){e.parentNode.removeChild(e)})}),_=function(t){document.getElementsByTagName("head").item(0).appendChild(t),l(t,function(){e.setTimeout(d,200)})};0!==c.length?i.each(c,function(t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("class","__meteor-css__"),n.setAttribute("href",e._relativeToSiteRootUrl(t.url)),_(n)}):d()}else"version"===a._id&&a.version!==t&&(o&&o.stop(),Package.reload.Reload._reload())},o=c.find().observe({added:a,changed:a})}})},s._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:s}}();

!function(){var a=Package.meteor.Meteor,e=Package.reload.Reload,o=Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["meteor-platform"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n;(function(){n={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:n}}();

!function(){var a=Package.meteor.Meteor,e=Package.ddp.DDP,e,t;"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:e,LivedataTest:t}}();

!function(){var t=Package.meteor.Meteor,e=Package.htmljs.HTML,n=Package.tracker.Tracker,a=Package.tracker.Deps,r=Package.blaze.Blaze,u=Package.blaze.UI,i=Package.blaze.Handlebars,o=Package["observe-sequence"].ObserveSequence,c=Package.templating.Template,l=Package.underscore._,f;(function(){f={};var t=function(t,e){return t===e};f.include=function(e,n,a){if(!e)return null;if("function"!=typeof e){var u=e;if(!r.isTemplate(u))throw new Error("Expected template or null, found: "+u);return e.constructView(n,a)}var i=r.ReactiveVar(null,t),o=r.View("Spacebars.include",function(){var t=i.get();if(null===t)return null;if(!r.isTemplate(t))throw new Error("Expected template or null, found: "+t);return t.constructView(n,a)});return o.__templateVar=i,o.onViewCreated(function(){this.autorun(function(){i.set(e())})}),o},f.mustacheImpl=function(t){var e=arguments;if(e.length>1){var n=e[e.length-1];if(n instanceof f.kw){var a={};for(var r in n.hash){var u=n.hash[r];a[r]="function"==typeof u?u():u}e[e.length-1]=f.kw(a)}else n=f.kw(),e=Array.prototype.slice.call(arguments),e.push(n)}return f.call.apply(null,e)},f.mustache=function(t){var n=f.mustacheImpl.apply(null,arguments);return n instanceof f.SafeString?e.Raw(n.toString()):null==n||n===!1?null:String(n)},f.attrMustache=function(t){var n=f.mustacheImpl.apply(null,arguments);if(null==n||""===n)return null;if("object"==typeof n)return n;if("string"==typeof n&&e.isValidAttributeName(n)){var a={};return a[n]="",a}throw new Error("Expected valid attribute name, '', null, or object")},f.dataMustache=function(t){var e=f.mustacheImpl.apply(null,arguments);return e},f.makeRaw=function(t){return null==t?null:t instanceof e.Raw?t:e.Raw(t)},f.call=function(t){if("function"==typeof t){for(var e=[],n=1;n<arguments.length;n++){var a=arguments[n];e[n-1]="function"==typeof a?a():a}return t.apply(null,e)}if(arguments.length>1)throw new Error("Can't call non-function: "+t);return t},f.kw=function(t){return this instanceof f.kw?void(this.hash=t||{}):new f.kw(t)},f.SafeString=function(t){return this instanceof f.SafeString?new i.SafeString(t):new f.SafeString(t)},f.SafeString.prototype=i.SafeString.prototype,f.dot=function(t,e){if(arguments.length>2){var n=[];return n.push(f.dot(t,e)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),f.dot.apply(null,n)}if("function"==typeof t&&(t=t()),!t)return t;var a=t[e];return"function"!=typeof a?a:function(){return a.apply(t,arguments)}},f.With=function(t,e,a){var u=new r.ReactiveVar,i=r.View("Spacebars_with",function(){return r.If(function(){return u.get()},function(){return r.With(function(){return u.get()},e)},a)});return i.onViewCreated(function(){this.autorun(function(){u.set(t()),n.onInvalidate(function(){u.dep.changed()})})}),i},f.TemplateWith=r._TemplateWith}).call(this),function(){c.__checkName("__dynamic"),c.__dynamic=new c("Template.__dynamic",function(){var t=this;return[r.View("lookup:checkContext",function(){return f.mustache(t.lookup("checkContext"))}),"\n  ",r.If(function(){return f.call(t.lookup("dataContextPresent"))},function(){return["\n    ",f.include(t.lookupTemplate("__dynamicWithDataContext")),"\n  "]},function(){return["\n    \n    ",r._TemplateWith(function(){return{template:f.call(t.lookup("template")),data:f.call(t.lookup(".."))}},function(){return f.include(t.lookupTemplate("__dynamicWithDataContext"))}),"\n  "]})]}),c.__checkName("__dynamicWithDataContext"),c.__dynamicWithDataContext=new c("Template.__dynamicWithDataContext",function(){var t=this;return f.With(function(){return f.dataMustache(t.lookup("chooseTemplate"),t.lookup("template"))},function(){return["\n    ",r._TemplateWith(function(){return f.call(f.dot(t.lookup(".."),"data"))},function(){return f.include(t.lookupTemplate(".."))}),"    \n  "]})})}.call(this),function(){c.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return c[t]||null}}),c.__dynamic.helpers({dataContextPresent:function(){return l.has(this,"data")},checkContext:function(){if(!l.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");l.each(this,function(t,e){if("template"!==e&&"data"!==e)throw new Error("Invalid argument to {{> Template.dynamic}}: "+e)})}})}.call(this),"undefined"==typeof Package&&(Package={}),Package.spacebars={Spacebars:f}}();

!function(){var e=Package.meteor.Meteor,n;(function(){var a=0,r=!1;n={hold:function(){if(!e.isCordova)return{release:function(){}};if(r)throw new Error("Can't show launch screen once it's hidden");a++;var n=!1,t=function(){e.isCordova&&(n||(a--,0===a&&"undefined"!=typeof navigator&&navigator.splashscreen&&(r=!0,navigator.splashscreen.hide())))};return{release:t}}}}).call(this),function(){var a=n.hold(),r=Package.templating&&Package.templating.Template;e.startup(function(){r?Package["iron:router"]?Package["iron:router"].Router.onAfterAction(function(){a.release()}):(r.body.onRendered(function(){a.release()}),setTimeout(function(){a.release()},6e3)):a.release()})}.call(this),"undefined"==typeof Package&&(Package={}),Package["launch-screen"]={LaunchScreen:n}}();

HTTP=Package.http.HTTP,Spiderable=Package.spiderable.Spiderable,moment=Package["my-moment"].moment,Showdown=Package.markdown.Showdown,Router=Package["iron:router"].Router,RouteController=Package["iron:router"].RouteController,ReactiveVar=Package["reactive-var"].ReactiveVar,Cookie=Package["chuangbo:cookie"].Cookie,hljs=Package["simple:highlight.js"].hljs,analytics=Package["percolatestudio:segment.io"].analytics,DiffBox=Package["mdg:tutorial-diff-box"].DiffBox,TutorialRegistry=Package["mdg:tutorial-registry"].TutorialRegistry,TUTORIAL_PAGES=Package.tutorials.TUTORIAL_PAGES,REACT_TUT=Package.tutorials.REACT_TUT,ANGULAR2_TUT=Package.tutorials.ANGULAR2_TUT,ANGULAR1_TUT=Package.tutorials.ANGULAR1_TUT,GitPatches=Package.tutorials.GitPatches,StepDiffs=Package["mdg:tutorial-step-diff-compiler"].StepDiffs,Accounts=Package["accounts-base"].Accounts,Iron=Package["iron:core"].Iron,Template=Package.templating.Template,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Tracker=Package.deps.Tracker,Deps=Package.deps.Deps,Session=Package.session.Session,DDP=Package.livedata.DDP,Mongo=Package.mongo.Mongo,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,check=Package.check.check,Match=Package.check.Match,_=Package.underscore._,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,LaunchScreen=Package["launch-screen"].LaunchScreen,HTML=Package.htmljs.HTML;

!function(){Template.__checkName("tutorial.next_steps.html"),Template["tutorial.next_steps.html"]=new Template("Template.tutorial.next_steps.html",function(){var e=this;return Spacebars.include(e.lookupTemplate("markdown"),function(){return"\n\n# What's next?\n\nCongratulations on your newly built angular-meteor app! Don't forget to deploy it again so your friends can use the new features.\n\nHere are some options for where you can go next:\n\n1. [Full API reference](/api)\n2. [Contribute to our project](https://github.com/Urigo/angular-meteor#contributing)\n3. Follow and comment on our [Roadmap](https://trello.com/b/Wj9U0ulk/angular-meteor)\n4. Join other developers on the [Meteor forum](https://forums.meteor.com/)\n\n  "})})}();

!function(){Template.__checkName("tutorial.step_00.md"),Template["tutorial.step_00.md"]=new Template("Template.tutorial.step_00.md",function(){var e=this;return[HTML.Raw('<p>Let\'s start building our Meteor-Angular socially app.</p>\n\n<p>This is an introductory step - you will:</p>\n\n<ol>\n<li>Become familiar with the most important source code files</li>\n<li>Learn how to start the Meteor server</li>\n<li>Connect an Angular FrontEnd</li>\n<li>Run the application in the browser</li>\n</ol>\n\n<p>But first - let\'s install Meteor!</p>\n\n<p>Open your command line and paste this command:</p>\n\n<pre><code class="hljs ruby"><span class="hljs-variable">$ </span>curl <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/install.meteor.com/</span> | sh\n</code></pre>\n\n<blockquote>\n  <p>If you are on a Windows machine, go <a href="https://www.meteor.com/install">here</a> to install</p>\n</blockquote>\n\n<p>Now let\'s create your first app - type this into the command line:</p>\n\n<pre><code class="hljs sql">$ meteor <span class="hljs-operator"><span class="hljs-keyword">create</span> socially\n</span></code></pre>\n\n<p>Now let\'s see what we got. Go into the folder:</p>\n\n<pre><code class="hljs ruby"><span class="hljs-variable">$ </span>cd socially\n</code></pre>\n\n<p>and run the app like so:</p>\n\n<pre><code class="hljs ruby"><span class="hljs-variable">$ </span>meteor\n<span class="hljs-status">\n=&gt;</span> <span class="hljs-constant">Started</span> proxy\n<span class="hljs-status">=&gt;</span> <span class="hljs-constant">Started</span> <span class="hljs-constant">MongoDB</span>.\n<span class="hljs-status">=&gt;</span> <span class="hljs-constant">Started</span> your app.\n&gt;=&gt; <span class="hljs-constant">App</span> running <span class="hljs-symbol">at:</span> <span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/localhost:3000/</span>\n</code></pre>\n\n<p>Use your browser to go to <a href="http://localhost:3000/">http://localhost:3000/</a>\nand look at the amazing app that\'s running on your computer!</p>\n\n<p>We now have a fully functional app which includes both a server and a client.</p>\n\n<p>The default Meteor app starts life with three files, one <code>js</code>, one <code>html</code> and one <code>css</code> file. Each named with the application name you used in the <code>create</code> command above. In our case this is <code>socially</code>.</p>\n\n<p>We are going to add our own files for this tutorial. So let\'s start by deleting the following files:</p>\n\n<pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rm socially.css    socially.html   socially.js\n</code></pre>\n\n<p>And let\'s start building our app.\nFirst, create a new <code>index.html</code> file and place this code inside. Then run the app again:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("0.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Note that there is no <code>&lt;html&gt;</code> tag and no <code>&lt;head&gt;</code> tag - it's very simple.</p>\n\n<p>This is because of how Meteor structures and serves files to the client.</p>\n\n<p>Meteor scans all the HTML files in your application and concatenates them together.</p>\n\n<p>It will create the <code>HTML</code>, <code>HEAD</code> and <code>BODY</code> tags by itself and place in there everything it needs to run the app.</p>\n\n<p>Then it will search for all the HTML files containing <code>HEAD</code> or <code>BODY</code> tags and concatenate their content into the main file.</p>\n\n<p>So in our case, Meteor found our <code>index.html</code> file, found the <code>BODY</code> tag inside and added it's content to the <code>BODY</code> tag of the main generated file.</p>\n\n<blockquote>\n  <p>(right-click -> inspect element on the page to see the generated file)</p>\n</blockquote>\n\n<h1 id=\"addingangularjs\">Adding AngularJS</h1>\n\n<p>Time to add AngularJS to our stack!</p>\n\n<p>First things first, let's add the AngularJS package to Meteor (we will discuss Meteor packages further later in this tutorial)</p>\n\n<p>Back in the command line, launch this command:</p>\n\n<pre><code class=\"hljs ruby\"><span class=\"hljs-variable\">$ </span>meteor add angular\n</code></pre>\n\n<p>This package takes care of connecting Angular to Meteor and includes the latest AngularJS library code.</p>\n\n<p>That's it! Now we can use AngularJS's power in our Meteor app.</p>\n\n<p>To start simple, create a new file called <code>index.ng.html</code> under the main folder, this will be our main <code>HTML</code> template page.</p>\n\n<blockquote>\n  <p>We are using the <code>.ng.html</code> file extension so that Blaze - Meteor's templating system - won't compile and override our AngularJS expressions.</p>\n</blockquote>\n\n<p>Then move the <code>p</code> tag into it:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("0.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's include that file into our main <code>index.html</code> file:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("0.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>But if you load this in your browser, <strong>you won\'t see anything</strong>. That\'s because we still need to <strong>create the actual Angular app</strong>, which we\'ll do next.</p>\n\n<blockquote>\n  <p>It\'s very important to note - the <strong>paths are always absolute, not relative!</strong>  so if <code>index.ng.html</code> was inside a folder named <code>client</code>, you would have to place the whole path from the route app, doesn\'t matter where you\'re calling the file from.</p>\n</blockquote>\n\n<p>E.g. if <code>index.ng.html</code> was in a folder named <code>client</code> your include would look like:</p>\n\n<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">ng-include</span>=<span class="hljs-value">"\'client/index.ng.html\'"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>\n</code></pre>\n\n<h1 id="buildingtheangularjsapp">Building The AngularJS App</h1>\n\n<p>AngularJS apps are actually individual modules. So let\'s create our app module.</p>\n\n<p>Create a new <code>app.js</code> file.</p>\n\n<p>Here you see another example of Meteor\'s power and simplicity - no need to include this file anywhere. Meteor will take care of it by going through all the files in the <code>socially</code> folder and including them automatically.</p>\n\n<p>One of Meteor\'s goals is to break down the barrier between client and server, so the code you write can run everywhere! (more on that later).\nBut we need Angular\'s power only in the client side, so how can we do that?</p>\n\n<p>There are a few ways to tell Meteor to run code only on the client/server/phone side, let\'s start with the simplest way - <a href="http://docs.meteor.com/#/full/meteor_isclient">Meteor.isClient</a> variable.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("0.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now everything inside this <code>if</code> statement will only run on the client side.</p>\n\n<p>Let's continue defining our AngularJS application module. Give it the name <code>socially</code> and add <code>angular-meteor</code> module as a dependency:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("0.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And use the same application name in the <code>ng-app</code> directive in <code>index.html</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("0.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now run the app.</p>\n\n<p>Everything is the same, so now inside our <code>index.ng.html</code> let's use Angular:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("0.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Run the app again and the screen should look like this:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">Nothing</span> here yet!\n</code></pre>\n\n<p>Angular interpreted the expression like any other Angular application.</p>\n\n<h1 id="experiments">Experiments</h1>\n\n<p>Try adding a new expression to the index.ng.html that will do some math:</p>\n\n'),HTML.PRE(HTML.CODE({"class":"hljs xml"},HTML.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>'),"1 + 2 = ",Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))})," 1 + 2 }}",HTML.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>'),"\n")),HTML.Raw('\n\n<h1 id="done">Done!</h1>\n\n<p>Go to <a href="/tutorial/step_01">step 1</a> to add some content to our application.</p>')]})}();

!function(){Template.__checkName("tutorial.step_01.md"),Template["tutorial.step_01.md"]=new Template("Template.tutorial.step_01.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_00")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>Let's create a purely static HTML page and then examine how we can turn this HTML code into a template that Angular will use to dynamically display the same result with any set of data.</p>\n\n<p>Add this template HTML to <code>index.ng.html</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("1.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Next we'll dynamically generate the same list using AngularJS.</p>")]})}();

!function(){Template.__checkName("tutorial.step_02.md"),Template["tutorial.step_02.md"]=new Template("Template.tutorial.step_02.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_01")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>It's time to make our web app dynamic — with AngularJS.</p>\n\n<p>This step is focused on client side Angular tools. The next one will show you the power of Meteor.</p>\n\n<h1 id=\"viewandtemplate\">View and Template</h1>\n\n<p>In Angular, the view is a projection of the model through the HTML template. This means that whenever the model changes, Angular refreshes the appropriate binding points, which updates the view.</p>\n\n<p>Let's change our template to be dynamic:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("2.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>We replaced the hard-coded party list with the <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat">ngRepeat</a> directive and two Angular expressions:</p>\n\n'),HTML.UL("\n",HTML.Raw('<li>The <code>ng-repeat="party in parties"</code> attribute in the <code>li</code> tag is an Angular repeater directive. The repeater tells Angular to create a <code>li</code> element for each party in the list using the <code>li</code> tag as the template.</li>'),"\n",HTML.LI("The expressions wrapped in double-curly-braces ( ",HTML.CODE(Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"party.name}}")," and ",HTML.CODE(Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"party.description}}")," ) will be replaced by the value of the expressions."),"\n"),HTML.Raw('\n\n<p>We have added a new directive, called <code>ng-controller</code>, which attaches the <code>PartiesListCtrl</code> controller to the <code>div</code> tag. At this point <em>the expressions in double-curly-braces are referring to our application model, which is set up in our <code>PartiesListCtrl</code> controller.</em></p>\n\n<h1 id="modelandcontroller">Model and Controller</h1>\n\n<p>To create our controller and model we start with <code>PartiesListCtrl</code> controller and place data in it.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("2.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>We declared a controller called <code>PartiesListCtrl</code> and registered it in our Angular module app - <code>socially</code>.</p>\n\n<p>The data model is now instantiated within the <code>PartiesListCtrl</code> controller.</p>\n\n<p>Although the controller is not yet doing very much, it plays a crucial role. By providing context for our data model, the controller allows us to establish data-binding between the model and the view. We connected the dots between the presentation, the data, and the logic components as follows:</p>\n\n<ul>\n<li>The ngController directive, located on the <code>body</code> tag, references the name of our controller, <code>PartiesListCtrl</code> (located in the JavaScript file <code>app.js</code>).</li>\n<li>The <code>PartiesListCtrl</code> controller attaches the party data to the <code>$scope</code> that was injected into our controller function. This controller scope is available to all bindings located within the <code>div ng-controller="PartiesListCtrl"&gt;</code> tag.</li>\n</ul>\n\n<h1 id="ngannotateandngjs">ng-annotate and .ng.js</h1>\n\n<p>As you can see, when we declared the controller, we used strings for <a href="https://docs.angularjs.org/guide/di#dependency-annotation">dependency annotations</a> that avoids minification problems:</p>\n\n<pre><code class="hljs php">angular.module(<span class="hljs-string">\'socially\'</span>).controller(<span class="hljs-string">\'PartiesListCtrl\'</span>, [<span class="hljs-string">\'$scope\'</span>,\n  <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(<span class="hljs-variable">$scope</span>)</span></span>{\n    <span class="hljs-comment">// ...</span>\n}]);\n</code></pre>\n\n<p>There is a very popular Angular tool that\'s called <a href="https://github.com/olov/ng-annotate">ng-annotate</a> that takes care of that for us so we can write regular code that won\'t get mangled in minification.</p>\n\n<p>angular-meteor uses that process automatically. All you need to do is to change your <code>.js</code> files to end with <code>.ng.js</code></p>\n\n<p>Then you can write your dependency injection like this:</p>\n\n<pre><code class="hljs php">angular.module(<span class="hljs-string">\'socially\'</span>).controller(<span class="hljs-string">\'PartiesListCtrl\'</span>,\n  <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(<span class="hljs-variable">$scope</span>)</span></span>{\n    <span class="hljs-comment">// ...</span>\n});\n</code></pre>\n\n<h1 id="summary">Summary</h1>\n\n<p>You now have a dynamic app that features separate model, view and controller components.</p>\n\n<p>But, this is all client side, which is nice for tutorials, but in a real application we need to persist the data on the server and sync all the clients with it.</p>\n\n<p>Go to <a href="/tutorial/step_03">step 3</a> to learn how to bind our application to the great power of Meteor.</p>')]})}();

!function(){Template.__checkName("tutorial.step_03.md"),Template["tutorial.step_03.md"]=new Template("Template.tutorial.step_03.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_02")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>We now have a nice client side application that creates and renders its own data.</p>\n\n<p>If we were in any framework other than Meteor, we would start implementing a series of REST endpoints to connect the server to the client.\nAlso, we would need to create a database and functions to connect to it.</p>\n\n<p>And we haven't talked about realtime, in which case we would need to add sockets, and a local DB for cache and handle latency compensation (or just ignore those features and create a not - so - good and modern app...)</p>\n\n<p>But luckily, we're using Meteor!</p>\n\n<p>Meteor makes writing distributed client code as simple as talking to a local database.</p>\n\n<p>Every Meteor client includes an in-memory database cache. To manage the client cache, the server publishes sets of JSON documents, and the client subscribes to these sets. As documents in a set change, the server patches each client's cache automatically.</p>\n\n<p>That introduce us to a new concept - <strong>Full Stack Reactivity</strong>.</p>\n\n<p>In an Angularish language we might call it <strong>3 way data binding</strong>.</p>\n\n<p>The way to handle data in Meteor is through the <code>Mongo.Collection</code> class. It is used to declare MongoDB collections and to manipulate them.</p>\n\n<p>Thanks to minimongo, Meteor's client-side Mongo emulator, <code>Mongo.Collection</code> can be used from both client and server code.</p>\n\n<h1 id=\"declareacollection\">Declare a collection</h1>\n\n<p>So first, let's define the parties collection that will store all our parties.</p>\n\n<p>Add:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("3.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>to the beginning of the <code>app.js</code> file.</p>\n\n<p>Notice that this code runs outside of the <code>isClient</code> statement.</p>\n\n<p>That means that this collection and the actions on it will run both on the client (minimongo) and the server (Mongo), you only have to write it once, and Meteor will take care of syncing both of them.</p>\n\n<h1 id="bindingtoangular">Binding to Angular</h1>\n\n<p>Now that we\'ve created the collection, our client needs to subscribe to its changes and bind it to our parties Angular array.</p>\n\n<p>To bind them we are going to use the built-in angular-meteor service called <a href="/api/meteorCollection">$meteor.collection</a>.</p>\n\n<p>We are going to replace the declaration of <code>$scope.parties</code> with the following command inside the <code>PartiesListCtrl</code> controller:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("3.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>This line declares a new <code>$scope.parties</code> variable (so we don't need to do something like <code>$scope.parties = [];</code> ) and then binds it to the Parties Mongo collection.</p>\n\n<p>We also need to add the <code>$meteor</code> service to the controller with dependency injection.</p>\n\n<p>Our <code>app.js</code> file should look like this:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("3.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now every change that happens to the <code>$scope.parties</code> variable will automatically be saved to the local minimongo and synced to the MongoDB server DB and all the other clients in realtime!</p>\n\n<p>But we still don't have data in that collection, so let's add some by initializing our server with the same parties we had before.</p>\n\n<p>Add this to the bottom of <code>app.js</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("3.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>As you can probably understand, this code runs only on the server, and when Meteor starts it initializes the DB with these sample parties.</p>\n\n<p>Run the app and you should see the list of parties on the screen.</p>\n\n<p>In the next chapter we will see how easy it is to manipulate the data, save and publish changes to the server, and how by doing so, all the connected clients will automatically get updated.</p>\n\n<h1 id="insertingpartiesfromtheconsole">Inserting parties from the console</h1>\n\n<p>Items inside collections are called documents. Let\'s use the server database console to insert some documents into our collection.\nIn a new terminal tab, go to your app directory and type:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> mongo\n</code></pre>\n\n<p>This opens a console into your app\'s local development database. At the prompt, type:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">db</span><span class="hljs-class">.parties</span><span class="hljs-class">.insert</span>(<span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">name</span>:<span class="hljs-value"> <span class="hljs-string">"A new party"</span>, description: <span class="hljs-string">"From the mongo console!"</span> </span></span></span>});\n</code></pre>\n\n<p>In your web browser, you will see the UI of your app immediately update to show the new party.\nAs you see we didn\'t have to write any code to connect the server-side database to our front-end code — it just happened automatically.</p>\n\n<p>Insert a few more parties from the database console with different text.</p>\n\n<p>Now let\'s do the same but with remove. At the prompt, type the following command to look at all the parties and their properties:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">db</span><span class="hljs-class">.parties</span><span class="hljs-class">.find</span>(<span class="hljs-rules">{<span class="hljs-rule">}</span></span>);\n</code></pre>\n\n<p>Now choose one party you want to remove and copy it\'s <code>id</code> property.\nRemove it using that id (replace <code>N4KzMEvtm4dYvk2TF</code> with your party\'s id value):</p>\n\n<pre><code class="hljs javascript">db.parties.remove( {<span class="hljs-string">"_id"</span>: <span class="hljs-string">"N4KzMEvtm4dYvk2TF"</span>});\n</code></pre>\n\n<p>Again, you will see the UI of your app immediately update with that party removed.</p>\n\n<p>Try running more actions like updating an object from the console and so on. Check out the mongodb documentation to explore <a href="http://docs.mongodb.org/manual/tutorial/getting-started-with-the-mongo-shell/">the mongodb shell</a>.</p>\n\n<h1 id="summary">Summary</h1>\n\n<p>In this chapter you saw how easy and fast it is to create a full connection between our client data, the server and all the other connected clients.</p>\n\n<p>In the next step, we\'ll see how to add functionality to our app\'s UI so that we can add parties without using the database console.</p>')]})}();

!function(){Template.__checkName("tutorial.step_04.md"),Template["tutorial.step_04.md"]=new Template("Template.tutorial.step_04.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_03")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>Now that we have full data binding from server to client, let's interact with the data and see the updates in action.</p>\n\n<p>In this chapter you will add the ability to insert a new party and delete an existing one from the UI.</p>\n\n<p>First, let's create a simple form with a button that will add a new party, we will add it above the list, inside the \"PartiesListCtrl\" controller's div.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("4.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now we need to make this form functional.</p>\n\n<h2 id="ngmodel">ng-model</h2>\n\n<p>First things first, let\'s bind the value of the inputs into a new party variable.</p>\n\n<p>To do that we\'ll use the simple and powerful <a href="https://docs.angularjs.org/api/ng/directive/ngModel">ng-model</a> AngularJS directive.</p>\n\n<p>Add <code>ng-model</code> to the form like this:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("4.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now each time the user types inside these inputs, the value of the newParty scope variable will be automatically updated.  Conversely, if <code>$scope.newParty</code> is changed outside of the HTML, the input values will be updated accordingly.</p>\n\n<h2 id="ngclick">ng-click</h2>\n\n<p>Now let\'s bind a click event to the add button with Angular\'s <a href="https://docs.angularjs.org/api/ng/directive/ngClick">ng-click</a> directive.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("4.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p><code>ng-click</code> binds the click event to an expression.\nSo we take the parties scope array (when accessing scope variables in the HTML, there is no need to add $scope. before them) and push the newParty variable into it.</p>\n\n<p>Open a different browser, click the button and see how the party is added on both clients. So simple!</p>\n\n<p>Now, let's add the ability to delete parties.</p>\n\n<p>Let's add an X button to each party:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("4.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>This time we are binding ng-click to a scope function that gets the current party as a parameter.</p>\n\n<p>Let's go into the controller and add that function.</p>\n\n<p>Add the function inside the PartiesListCtrl in <code>app.js</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("4.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now try to delete a few parties and also watch them being removed from other browser clients.</p>\n\n<h1 id="angularmeteorcollectionfunctions">AngularMeteorCollection functions</h1>\n\n<p>$meteor.collection\'s return value is a new collection of type <a href="/api/AngularMeteorCollection">AngularMeteorCollection</a>.</p>\n\n<p>It is not only responsible for keeping the collection updated, it also has helper functions for saving and deleting objects.</p>\n\n<p>Let\'s try to use these helper functions instead of the current implementation.</p>\n\n<p>First let\'s replace our <code>push</code> with <code>save</code> in the add button action:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("4.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>There isn't much difference here except a small performance improvement, but now let's change our remove function:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("4.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Much nicer, and gives better performance!</p>\n\n<p>Also let's add a button to remove all parties:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("4.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>not forgetting to add this new function to the scope:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("4.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Again, very simple syntax.</p>\n\n<p>You can read more about AngularMeteorCollection and it's helper functions in the <a href=\"/api/AngularMeteorCollection\">API reference</a>.</p>\n\n<h1 id=\"summary\">Summary</h1>\n\n<p>So now you've seen how easy it is to manipulate the data using Angular's powerful directives and sync that data with Meteor's powerful Mongo.collection API.</p>")]})}();

!function(){Template.__checkName("tutorial.step_05.md"),Template["tutorial.step_05.md"]=new Template("Template.tutorial.step_05.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_04")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>In this step, you will learn how to create a layout template and how to build an app that has multiple views by adding routing, using an Angular module called <code>ui-router</code>.</p>\n\n<p>The goals for this step:</p>\n\n<ul>\n<li>When you navigate to <code>index.html</code>, you will be redirected to <code>index.ng.html/parties</code> and the party list should appear in the browser.</li>\n<li>When you click on a party link the URL should change to one specific to that party and the stub of a party detail page is displayed.</li>\n</ul>\n\n<h1 id="dependencies">Dependencies</h1>\n\n<p>The routing functionality added by this step is provided by the <a href="https://github.com/angular-ui/ui-router">ui-router</a> module, which is distributed separately from the core Angular framework.</p>\n\n<p>We will install ui-router with the help of <a href="https://atmospherejs.com/angularui/angular-ui-router">the official Meteor package</a>.</p>\n\n<p>Type in the command line:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">angularui</span><span class="hljs-pseudo">:angular-ui-router</span>\n</code></pre>\n\n<p>Then add the ui-router as a dependency to our angular app in <code>app.js</code>:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("5.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h1 id="multipleviewsroutingandlayouttemplate">Multiple Views, Routing and Layout Template</h1>\n\n<p>Our app is slowly growing and becoming more complex.\nUntil now, the app provided our users with a single view (the list of all parties), and all of the template code was located in the <code>index.ng.html</code> file.</p>\n\n<p>The next step in building the app is to add a view that will show detailed information about each of the parties in our list.</p>\n\n<p>To add the detailed view, we could expand the <code>index.ng.html</code> file to contain template code for both views, but that would get messy very quickly.</p>\n\n<p>Instead, we are going to turn the <code>index.html</code> template into what we call a "layout template". This is a template that is common for all views in our application.\nOther "partial templates" are then included into this layout template depending on the current "route" — the view that is currently displayed to the user.</p>\n\n<p>Application routes in Angular are declared via the <a href="https://github.com/angular-ui/ui-router/wiki">$stateProvider</a>, which is the provider of the $state service.\nThis service makes it easy to wire together controllers, view templates, and the current URL location in the browser.\nUsing this feature we can implement deep linking, which lets us utilize the browser\'s history (back and forward navigation) and bookmarks.</p>\n\n<h1 id="template">Template</h1>\n\n<p>The $state service is normally used in conjunction with the uiView directive.\nThe role of the uiView directive is to include the view template for the current route into the layout template.\nThis makes it a perfect fit for our <code>index.ng.html</code> template.</p>\n\n<p>Let\'s create a new html file called <code>parties-list.ng.html</code> and paste the existing list code from <code>index.ng.html</code> into it:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("5.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>The code is almost the same except for this one change:</p>\n\n<ul>\n<li>Added a link to the parties name display (that link will take us to that party's detailed page)</li>\n</ul>\n\n<p>Now let's go back to <code>index.html</code> and replace the content with the <code>ui-view</code> directive:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("5.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Notice we did 3 things:</p>\n\n<ol>\n<li>Replaced all the content with ui-view (this will be responsible for including the right content according to the current URL).</li>\n<li>Added a <code>h1</code> header with a link to the main parties page.</li>\n<li>We also added a <code>base</code> tag in the head (required when using HTML5 location mode).</li>\n</ol>\n\n<p>Now we can delete the <code>index.ng.html</code> file, it's not used any more.</p>\n\n<p>Let's add a placeholder to the new party details page.\nCreate a new html file called <code>party-details.ng.html</code> and paste in the following code:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("5.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>This code can serve as a placeholder for now. We'll get back to filling out the details later on.</p>\n\n<h1 id=\"routesdefinition\">Routes definition</h1>\n\n<p>Now let's configure our routes.\nAdd this config code in <code>app.js</code>, after the Angular app has been defined:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("5.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Using the Angular app's .config() method, we request the <code>$stateProvider</code> to be injected into our config function and use the state method to define our routes.</p>\n\n<p>Our application routes are defined as follows:</p>\n\n<ul>\n<li><strong>('/parties')</strong>: The parties list view will be shown when the URL hash fragment is /parties. To construct this view, Angular will use the parties-list.ng.html template and the PartiesListCtrl controller.</li>\n<li><strong>('/parties/:partyId')</strong>: The party details view will be shown when the URL hash fragment matches '/parties/:partyId', where :partyId is a variable part of the URL. To construct the party details view, Angular will use the party-details.ng.html template and the PartyDetailsCtrl controller.</li>\n<li><strong>$urlRouterProvider.otherwise('/parties')</strong>: Triggers a redirection to /parties when the browser address doesn't match either of our routes.</li>\n<li><strong>$locationProvider.html5Mode(true)</strong>: Sets the URL to look like a regular one. more about it <a href=\"https://docs.angularjs.org/guide/$location#hashbang-and-html5-modes\">here</a>.</li>\n<li>Each template gets loaded by it's <strong>absolute path</strong> to the project's top folder ('party-details.ng.html').  this is done by angular-meteor's build process which loads the templates into a cache and names them according to their paths.\nIf the templates are coming from a package, they will get a prefix of the package name like so - 'my-app<em>my-package</em>client/views/my-template.ng.html'.\nYou can read more about the templating build process in <a href=\"https://github.com/Urigo/angular-meteor/blob/master/plugin/handler.js\">our code</a>.</li>\n</ul>\n\n<p>Note the use of the <code>:partyId</code> parameter in the second route declaration.\nThe $state service uses the route declaration — <code>/parties/:partyId</code> — as a template that is matched against the current URL.\nAll variables defined with the : notation are extracted into the $stateParams object.</p>\n\n<h1 id=\"controllers\">Controllers</h1>\n\n<p>As you might have seen we removed the controller definition from the ng-controller directive in the <code>index.ng.html</code> and moved it into the routes definitions.</p>\n\n<p>But we still need to define our <code>PartyDetailsCtrl</code> controller.\nAdd this code under the existing controller:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("5.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now all is in place.  Run the app and you'll notice a few things:</p>\n\n<ul>\n<li>Click on the link in the name of a party - notice that you moved into a different view and that the party's id appears in both the browser's url and in the template.</li>\n<li>Click back - you are back to the main list, this is because of ui-router's integration with the browser's history.</li>\n<li>Try to put arbitrary text in the URL - something like http://localhost:3000/strange-url.  You should to be automatically redirected to the main parties list.</li>\n</ul>\n\n<h4 id=\"commonmistakes\">Common Mistakes</h4>\n\n<p>If you haven't entered the correct absolute path when defining the routes (e.g. by accident adding a relative one), then you might get the following error:</p>\n\n<p>WARNING: Tried to load angular more than once.</p>\n\n<p>If that's the case, double check your paths and remember to use the file extension <code>.ng.html</code>.</p>\n\n<h1 id=\"summary\">Summary</h1>\n\n<p>With the routing set up and the parties list view implemented, we're ready to go to the next step and implement the party details view.</p>")]})}();

!function(){Template.__checkName("tutorial.step_06.md"),Template["tutorial.step_06.md"]=new Template("Template.tutorial.step_06.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_05")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>In this step, we will implement the party details view, which is displayed when a user clicks on a party in the parties list.\nThe user will also be able to change the party\'s details.</p>\n\n<p>To implement the party details view we will use <a href="/api/meteorObject">$meteor.object</a> to fetch our data, and update it back in realtime when the user changes it.</p>\n\n<h1 id="controller">Controller</h1>\n\n<p>We\'ll expand the <code>PartyDetailsCtrl</code> by using the <a href="/api/meteorObject">$meteor.object</a> service (add it with Angular\'s dependency injection) to bind the specific party:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("6.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>We are sending $meteor.object a Mongo collection and the Id of the object we want to bind to.</p>\n\n<p>$meteor.object returns an <a href="/api/meteorObject">AngularMeteorObject</a> that contains the data.</p>\n\n<p>$meteor.object accepts a selector as the second argument.</p>\n\n<p>That selector can be a Mongo Selector, Object ID, or String.</p>\n\n<p>In our example we used the Object\'s ID but it can also come in the form of <code>{field: query}</code>.</p>\n\n<p>$meteor.object will find the first document that matches the selector,\nas directed by the sort and skip options, exactly like Meteor\'s <a href="http://docs.meteor.com/#/full/findone">collection.findOne</a></p>\n\n<h1 id="template">Template</h1>\n\n<p>In <code>party-details.ng.html</code> let\'s replace the binding to the <code>partyId</code> with a binding to <code>party.name</code> and <code>party.description</code>:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("6.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now, when you run the app, navigate into a party\'s page, and change the inputs, the server and all the clients update immediately.\nNo save buttons, no round trips, it just works.</p>\n\n<h1 id="classicsaveandcancelbuttons">Classic Save and Cancel buttons</h1>\n\n<p>In case you don\'t want to use the live editing that angular-meteor provides and want to present to your users a classic "Save" "Cancel" form, you can do that as well.</p>\n\n<p>First, let\'s change our template:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("6.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's move to the controller.</p>\n\n<p>First, in the call to <code>$meteor.object</code> set the 3rd parameter to <code>false</code> so it won't auto-save the object on every change:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("6.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's add the functions that handle the button clicks:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("6.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>As you can see, $meteor.object returns an object from type <a href="/api/meteorObject">AngularMeteorObject</a> which contains 2 functions - <code>save</code> and <code>reset</code>.</p>\n\n<p><strong>save()</strong> - saves the current value of the object to the server.\n<strong>reset()</strong> - resets the current value of the object from the server.</p>\n\n<p>Your controller should look like this:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("6.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>That's it!</p>\n\n<p>Simple and easy.</p>\n\n<h1 id=\"summary\">Summary</h1>\n\n<p>We've seen the power of 3-way binding between the DOM, AngularJS and Meteor.  In collections and in objects.</p>\n\n<p>Let's move on to provide some order and structure in our application.</p>")]})}();

!function(){Template.__checkName("tutorial.step_07.md"),Template["tutorial.step_07.md"]=new Template("Template.tutorial.step_07.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_06")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>OK, so we have a working app, but, like a tutorial, it\'s not well organized.</p>\n\n<p>It is really important to organize your app in a standard way, and in Meteor, the structure itself has meaning and implications.</p>\n\n<p>In this step, we are going to combine Meteor\'s and Angular\'s standard ways of structuring an app into one unified standard structure.</p>\n\n<h1 id="meteorfolderstructure">Meteor folder structure</h1>\n\n<p>From the <code>docs.meteor.com</code> site:</p>\n\n<blockquote>\n  <p>A Meteor application is a mix of JavaScript that runs inside a client web browser, JavaScript that runs on the Meteor server inside a Node.js container, and all the supporting HTML fragments, CSS rules, and static assets.\n  Meteor automates the packaging and transmission of these different components. And, it is quite flexible about how you choose to structure those components in your file tree.</p>\n  \n  <p>Files outside the <strong>client</strong>, <strong>server</strong> and <strong>tests</strong> subdirectories are loaded on both the client and the server!\n  That\'s the place for model definitions and other functions.</p>\n  \n  <p>CSS files are gathered together as well: the client will get a bundle with all the CSS in your tree (excluding the server, public, and private subdirectories).</p>\n  \n  <p>In development mode, JavaScript and CSS files are sent individually to make debugging easier.</p>\n</blockquote>\n\n<h2 id="loadorder">Load order</h2>\n\n<p>It is best to write your application in such a way that it is insensitive to the order in which files are loaded. This can be achieved by using, for example, Meteor.startup or by moving load order sensitive code into packages, which can explicitly control both the load order of their contents and their load order with respect to other packages.\nHowever, sometimes load order dependencies in your application are unavoidable.</p>\n\n<p>The JavaScript and CSS files in an application are loaded according to these rules:</p>\n\n<h3 id="server">server</h3>\n\n<p>Meteor gathers any files under the <strong>private</strong> subdirectory and makes the contents of these files available to server code via the Assets API. The <strong>private</strong> subdirectory is the place for any files that should be accessible to server code but not served to the client, like private data files.</p>\n\n<p>Any sensitive code that you don\'t want served to the client, such as code containing passwords or authentication mechanisms, should be kept in the server directory.</p>\n\n<h3 id="client">client</h3>\n\n<p>Files inside the <strong>client</strong> folder will run only on the client side.</p>\n\n<p>There are more assets to consider on the client side. Meteor gathers all JavaScript files in your tree, with the exception of the server, public, and private subdirectories, for the client. It minifies this bundle and serves it to each new client. You\'re free to use a single JavaScript file for your entire application, or create a nested tree of separate files, or anything in between.</p>\n\n<h3 id="public">public</h3>\n\n<p>Lastly, the Meteor server will serve any files under the public directory. This is the place for images, favicon.ico, robots.txt, and anything else.</p>\n\n<h3 id="morerules">More rules</h3>\n\n<ul>\n<li>Files in subdirectories are loaded before files in parent directories, so that files in the deepest subdirectory are loaded first, and files in the root directory are loaded last.</li>\n<li>Within a directory, files are loaded in alphabetical order by filename.</li>\n<li>After sorting as described above, all files under directories named <strong>lib</strong> are moved before everything else (preserving their order).</li>\n<li>Finally, all files that match main.* are moved after everything else (preserving their order).</li>\n</ul>\n\n<h1 id="angularjsfolderstructure">AngularJS folder structure</h1>\n\n<p>There are many ways to organize and structure an AngularJS app.</p>\n\n<p>The two main approaches are:</p>\n\n<ul>\n<li>Sorting by file type (controllers, views, etc..)</li>\n<li>Sorting based on functionality (users, parties, products, etc..)</li>\n</ul>\n\n<p>The first approach seems to work better with smaller applications and is also the current structure of the <a href="https://github.com/yeoman/generator-angular">yeoman-angular-generator</a>.</p>\n\n<p>The second approach seems to work better for large scale applications.</p>\n\n<p>As we are working close with the Meteor collections, we believe a better approach will be based on functionality, which also correlates to the Meteor\'s collection structure.</p>\n\n<p>For more AngularJS structuring and best practices please read this amazing <a href="https://github.com/johnpapa/angularjs-styleguide#application-structure">style-guide</a>.</p>\n\n<h1 id="restructuringourapp">Re-structuring our app</h1>\n\n<p>So now let\'s re-structure our app (to see the end result and all the steps in git diff you can click <a href="https://github.com/Urigo/meteor-angular-socially/compare/step_06...step_07">here</a>):</p>\n\n<ol>\n<li>Create a folder named <code>client</code> under the root folder.  This is where all the code inside <code>Meteor.isClient</code> will go (without the need of Meteor.isClient anymore)</li>\n<li>The first thing that needs to be loaded in the <code>client</code> folder is the Angular app declaration. After that, the rest of the client code can be loaded in any order. So create a <code>lib</code> folder inside the <code>client</code> folder and move <code>app.js</code> inside.</li>\n</ol>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("7.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<ol>\n<li>The parties Mongo collection needs to run on both client and server, so let\'s move it out of the <code>client</code> folder. Create a folder called <code>model</code> under the root folder. Inside create a file called <code>parties.js</code> and cut this line from <code>app.js</code> - <code>Parties = new Mongo.Collection("parties");</code> - and place it in <code>parties.js</code>.</li>\n</ol>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("7.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ol>\n<li>Remove the unnecessary <code>if (Meteor.isClient)</code> condition from <code>app.js</code>. Everything in the <code>client</code> folder runs only on the browser.</li>\n<li>Create a <code>server</code> folder under the root folder. Everything inside that folder will run only on the server. Now create a folder called <code>startup</code> under the <code>server</code> folder and create a file called <code>loadParties.js</code> under it. Now go to <code>app.js</code>, cut all the code inside the <code>if (Meteor.isServer)</code> statement and place it inside the <code>loadParties.js</code> file. Again, no need for the if statement anymore because all the code inside the <code>server</code> folder runs only on the server.</li>\n</ol>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("7.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ol>\n<li>Create a file called <code>routes.js</code> under the <code>client</code> folder. Cut the <code>.config</code> code that defines the routes and paste it inside that file.</li>\n</ol>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("7.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ol>\n<li>Create a folder called <code>parties</code> inside the <code>client</code> folder. and inside it create another two folders. one called <code>controllers</code> and one called <code>views</code>.</li>\n<li>Create a new file inside the <code>client-&gt;parties-&gt;controllers</code> folder called <code>partiesList.js</code>. Cut the code for the <code>PartiesListCtrl</code> from <code>app.js</code> and place it in there.</li>\n</ol>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("7.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ol>\n<li>Create a new file inside the <code>client-&gt;parties-&gt;controllers</code> folder called <code>partyDetails.js</code>. Cut the code for the <code>PartyDetailsCtrl</code> from <code>app.js</code> and place it in there.</li>\n</ol>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("7.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ol>\n<li>Move <code>index.html</code> into the <code>client</code> folder.</li>\n<li>Move <code>parties-list.ng.html</code> and <code>party-details.ng.html</code> into the <code>client-&gt;parties-&gt;views</code> folder.</li>\n</ol>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("7.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),"\n\n",Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("7.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ol>\n<li>Update the templateUrl in the routes to our templates to -  <code>templateUrl: 'client/parties/views/party-details.ng.html'</code> and <code>templateUrl: 'client/parties/views/parties-list.ng.html'</code></li>\n</ol>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("7.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>As you can see, everything is still working as before.\nWe haven't needed to change any references in <code>index.html</code> like other frameworks. Meteor just takes care of all this.</p>")]})}();

!function(){Template.__checkName("tutorial.step_08.md"),Template["tutorial.step_08.md"]=new Template("Template.tutorial.step_08.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_07")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>One of Meteor\'s most powerful packages is the Meteor account system.</p>\n\n<p>Right now, our app is publishing all the parties to all the clients, and all the clients can change those parties. The changes are then reflected back to all\nthe other clients automatically.</p>\n\n<p>This is super powerful and easy, but what about security?  We don\'t want any user to be able to change any party...</p>\n\n<p>First thing we should do is to remove the \'insecure\' package that automatically added to any new Meteor application.</p>\n\n<p>The \'insecure\' package makes the default behaviour of Meteor collections to permit all.</p>\n\n<p>By removing that package the default behaviour is changed to deny all.</p>\n\n<p>Execute this command in the command line:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> remove insecure\n</code></pre>\n\n<p>Now let\'s try to change the parties array or a specific party.  Nothing\'s working.</p>\n\n<p>Now, we will have to write an explicit security rule for each operation we want to make on the Mongo collection.</p>\n\n<p>So first, let\'s add the \'accounts-password\' Meteor package.\nIt\'s a very powerful package for all the user operations you can think of: Login, signup, change password, password recovery, email confirmation and more.</p>\n\n<pre><code class="hljs nginx"> <span class="hljs-title">meteor</span> add accounts-password\n</code></pre>\n\n<p>Now we will also add the \'accounts-ui\' package.  This package contains all the HTML and CSS we need for the user operation forms.</p>\n\n<p>Later on in this tutorial we will replace those default account-ui forms with custom Angular forms.</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> add accounts-ui\n</code></pre>\n\n<p>Now let\'s add the accounts-ui template ( <code ng-non-bindable="">&#123;&#123;> loginButtons &#125;&#125;</code> ) into our app, into index.html.</p>\n\n<p>To add Meteor\'s templates into AngularJS templates, angular-meteor provides us with the <a href="/api/blaze-template">blaze-template</a> directive.</p>\n\n<p>To start using, we need to add the <code>urigo:angular-blaze-template</code> <a href="https://github.com/Urigo/angular-blaze-template">package</a>:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">urigo</span><span class="hljs-pseudo">:angular-blaze-template</span>\n</code></pre>\n\n<p>So instead of adding <code ng-non-bindable="">&#123;&#123;> loginButtons &#125;&#125;</code> like in Meteor we will add:</p>\n\n<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">blaze-template</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"loginButtons"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">blaze-template</span>&gt;</span>\n</code></pre>\n\n<p>So the <code>index.html</code> will look like this:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("8.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Run the code, create an account, login, logout...</p>\n\n<p>Now that we have our account system, we can start defining our security rules for the parties.</p>\n\n<p>Let's go to the model folder and change the file to look like this:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("8.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>The <a href=\"http://docs.meteor.com/#/full/allow\">collection.allow Meteor function</a> defines the permissions that the client needs to write directly to the collection (like we did until now).</p>\n\n<p>In each callback of action type (insert, update, remove) the functions should return true if they think the operation should be allowed.\nOtherwise they should return false, or nothing at all (undefined).</p>\n\n<p>The available callbacks are:</p>\n\n<ul>\n<li><p>insert(userId, doc)</p>\n\n<p>The user userId wants to insert the document doc into the collection. Return true if this should be allowed.</p>\n\n<p>doc will contain the _id field if one was explicitly set by the client, or if there is an active transform. You can use this to prevent users from specifying arbitrary _id fields.</p></li>\n<li><p>update(userId, doc, fieldNames, modifier)</p>\n\n<p>The user userId wants to update a document doc. (doc is the current version of the document from the database, without the proposed update.) Return true to permit the change.</p>\n\n<p>fieldNames is an array of the (top-level) fields in doc that the client wants to modify, for example ['name', 'score'].</p>\n\n<p>modifier is the raw Mongo modifier that the client wants to execute; for example, {$set: {'name.first': \"Alice\"}, $inc: {score: 1}}.</p>\n\n<p>Only Mongo modifiers are supported (operations like $set and $push). If the user tries to replace the entire document rather than use $-modifiers, the request will be denied without checking the allow functions.</p></li>\n<li><p>remove(userId, doc)</p>\n\n<p>The user userId wants to remove doc from the database. Return true to permit this.</p></li>\n</ul>\n\n<p>In our example:</p>\n\n<ul>\n<li>insert - only if the user who makes the insert is the party owner.</li>\n<li>update - only if the user who makes the update is the party owner.</li>\n<li>remove - only if the user who deletes the party is the party owner.</li>\n</ul>\n\n<p>OK, right now none of the parties has an owner so we can't change any of them.</p>\n\n<p>So let's add the following simple code to define an owner for each party that gets created.</p>\n\n<p>Let's take our current user's id and set it as the owner id of the party we are creating.\nangular-meteor provides us with a $rootScope variable named currentUser that holds the current user record, or null if no user is logged in.</p>\n\n<p><a href=\"https://docs.angularjs.org/api/ng/service/$rootScope\">$rootScope</a> is the most upper scope in the application.\nEvery application has a single root scope. All other scopes are descendant scopes of the root scope.</p>\n\n<p>To access $rootScope inside a controller you add it through the dependency injection.\nTo access $rootScope in a template you simply write $root. and then the name of the property.</p>\n\n<p>Change the code for the add button in <code>parties-list.ng.html</code> to this:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("8.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>So first we set the new party\'s owner to our current user\'s id and then push it to the parties collection like before.</p>\n\n<p>Now, start the app in 2 different browsers and login with 2 different users.</p>\n\n<p>Test editing and removing your own parties, and try to do the same for parties owned by another user.</p>\n\n<h1 id="sociallogin">Social login</h1>\n\n<p>We also want to let users login with their Facebook and Twitter accounts.</p>\n\n<p>To do this, we simply need to add the right packages in the console:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> add accounts-facebook\nmeteor add accounts-twitter\n</code></pre>\n\n<p>Now run the app.  when you will first press the login buttons of the social login, meteor will show you a wizard that will help you define your app.</p>\n\n<p>You can also skip the wizard and configure it manually like the explanation here: <a href="http://docs.meteor.com/#meteor_loginwithexternalservice">http://docs.meteor.com/#meteor_loginwithexternalservice</a></p>\n\n<p>There are more social login services you can use:</p>\n\n<ul>\n<li>Facebook</li>\n<li>Github</li>\n<li>Google</li>\n<li>Meetup</li>\n<li>Twitter</li>\n<li>Weibo</li>\n<li>Meteor developer account</li>\n</ul>\n\n<h1 id="authenticationwithrouters">Authentication With Routers</h1>\n\n<p>Now that we prevented authorized users from changing parties they don\'t own,\nthere is no reason for them to go into the party details page.</p>\n\n<p>We can easily prevent them from going into that view using our routes.</p>\n\n<p>angular-meteor provide us with 3 functions that help us to do that:</p>\n\n<ul>\n<li><a href="/api/auth">waitForUser</a> - returns a promise with the current user if it\'s logged in or null if it\'s not.</li>\n<li><a href="/api/auth">requireUser</a> - same as waitForUser but in case the user is not logged in it rejects the promise instead of solving it with null.</li>\n<li><a href="/api/auth">requireValidUser</a> - same as requireUser but gets a function as a parameter that checks if the user is valid by custom logic.</li>\n</ul>\n\n<p>So let\'s add requireUser to our route in partyDetails so that it will prevent users from going inside there without logging in first.</p>\n\n<p>We are going to use the <a href="https://github.com/angular-ui/ui-router/wiki#resolve">resolve</a> object of ui-router and ngRoute:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("8.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now, if a user is not logged in to the system, it won't be able to access that route.</p>\n\n<p>We also want to handle that scenario and redirect the user to the main page.</p>\n\n<p>on the top of the routes file, let's add these lines:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("8.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h1 id="summary">Summary</h1>\n\n<p>Amazing, only a few lines of code and we have a secure application!</p>\n\n<p>Please note it is possible for someone with malicious intent to override your route on the client (in the client/routes.js). \nAs that is where we are validating the user is authenticated, they can remove the check and get access.\nYou should never restrict access to sensitive data, sensitive areas, using the client router. <br>\nThis is the reason we also made restrictions on the server using the allow/deny functionality, so even if someone gets in they cannot make updates.\nWhile this prevents writes from happening from unintended sources, reads can still be an issue.\nThe next step will take care of privacy, not showing users parties they are not allowed to see.</p>')]})}();

!function(){Template.__checkName("tutorial.step_09.md"),Template["tutorial.step_09.md"]=new Template("Template.tutorial.step_09.md",function(){var s=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_08")}},function(){return Spacebars.include(s.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>Publish and subscribe to data is very different from other methods, such as using REST APIs. So don't miss the articles in the section below for deeper understanding how they work. </p>\n\n<p>Right now our app has no privacy, every user can see all the parties on the screen.</p>\n\n<p>So let's add a <code>public</code> flag on parties - if a party is public we will let anyone see it, but if a party is private, only the owner can see it.</p>\n\n<p>First we need to remove the <code>autopublish</code> Meteor package.</p>\n\n<p><code>autopublish</code> is added to any new Meteor project. It pushes a full copy of the database to each client.\nIt helped us until now, but it's not so good for privacy...</p>\n\n<p>Write this command in the console:</p>\n\n<pre><code class=\"hljs nginx\"><span class=\"hljs-title\">meteor</span> remove autopublish\n</code></pre>\n\n<p>Now run the app.   You can't see any parties.</p>\n\n<p>So now we need to tell Meteor what parties should it publish to the clients.</p>\n\n<p>To do that we will use Meteor's <a href=\"http://docs.meteor.com/#/full/meteor_publish\">publish function</a>.</p>\n\n<p>Publish functions should go only in the server so the client won't have access to them.</p>\n\n<p>Let's create a new file named <code>parties.js</code> inside the server folder.</p>\n\n<p>Inside the file insert this code:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("9.1")}},function(){return Spacebars.include(s.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Let\'s see what\'s happening here:</p>\n\n<ul>\n<li>We have <code>Meteor.publish</code> - a function to define what to publish from the server to the client</li>\n<li>The first parameter is the name of the subscription. The client will subscribe to that name</li>\n<li>The second parameter is a function that defines what will be returned in the subscription</li>\n</ul>\n\n<p>You can find out more about MonngoDB <code>find()</code> method <a href="http://docs.mongodb.org/manual/reference/method/db.collection.find/">here</a></p>\n\n<p>That function will determine what data will be returned and the permissions needed.</p>\n\n<p>In our case the first name parameter is <strong>"parties"</strong>. So we will need to subscribe to the <strong>"parties"</strong> collection in the client.</p>\n\n<p>We have two ways of doing that:</p>\n\n<ol>\n<li>Using the <a href="/api/subscribe">$meteor.subscribe</a> service that also returns a promise when the subscribing is done</li>\n<li>Using <a href="/api/AngularMeteorCollection">AngularMeteorCollection\'s</a> subscribe function which is exactly the same, but it\'s\nhere just for syntactic sugar doesn\'t return a promise.</li>\n</ol>\n\n<p>Right now we don\'t need the promise, so let\'s use the second way:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("9.2")}},function(){return Spacebars.include(s.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>It is the same as:</p>\n\n<pre><code class="hljs perl"><span class="hljs-variable">$meteor</span>.subscribe(<span class="hljs-string">\'parties\'</span>);\n<span class="hljs-variable">$scope</span>.parties = <span class="hljs-variable">$meteor</span>.collection(Parties);\n</code></pre>\n\n<p>You can also resolve a subscription in state\'s resolve function:</p>\n\n<pre><code class="hljs php"> .state(<span class="hljs-string">\'parties\'</span>, {\n    url: <span class="hljs-string">\'/parties\'</span>,\n    templateUrl: <span class="hljs-string">\'client/parties/views/parties-list.ng.html\'</span>,\n    controller: <span class="hljs-string">\'PartiesListCtrl\'</span>,\n    resolve: {\n      <span class="hljs-string">\'subscribe\'</span>: [\n        <span class="hljs-string">\'$meteor\'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(<span class="hljs-variable">$meteor</span>)</span> </span>{\n          <span class="hljs-keyword">return</span> <span class="hljs-variable">$meteor</span>.subscribe(<span class="hljs-string">\'parties\'</span>);\n        }\n      ]\n    }\n });\n</code></pre>\n\n<blockquote>\n  <p>Our publish function can also take parameters.  In that case, we would also need to pass the parameters from the client.</p>\n  \n  <p>For more information about the <code>$meteor.subscribe</code> service <a href="/api/subscribe">click here</a></p>\n</blockquote>\n\n<p>In the second parameter, our function uses the Mongo API to return the wanted documents (document are the JSON-style data structure of MongoDB).</p>\n\n<p>So we create a query - start with the find method on the Parties collection.</p>\n\n<p>Inside the find method we use the <a href="http://docs.mongodb.org/manual/reference/operator/query/or/">$or</a>, <a href="http://docs.mongodb.org/manual/reference/operator/query/and/">$and</a> and <a href="http://docs.mongodb.org/manual/reference/operator/query/exists/">$exists</a> Mongo operators to pull our wanted parties:</p>\n\n<p>Either that the owner parameter exists and it\'s the current logged in user (which we have access to with the command <code>this.userId</code>), or that the party\'s public flag exists and it\'s set as true.</p>\n\n<p>So now let\'s add the public flag to the parties and see how it affects the parties the client gets.</p>\n\n<p>Let\'s add a checkbox to the new party form in <code>parties-list.ng.html</code>:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("9.3")}},function(){return Spacebars.include(s.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Notice how easy it is to bind a checkbox to a model with AngularJS!</p>\n\n<p>Let's add the same to the <code>party-details.ng.html</code> page:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("9.4")}},function(){return Spacebars.include(s.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's run the app.</p>\n\n<p>Log in with 2 different users in 2 different browsers.</p>\n\n<p>In each of the users create a few public parties and a few private ones.</p>\n\n<p>Now log out and see which user sees which parties.</p>\n\n<p>In the next step, we will want to invite users to private parties. For that, we will need to get all the users, but only their emails without other data which will hurt their privacy.</p>\n\n<p>So let's create another publish method for getting only the needed data on the user.</p>\n\n<p>Notice the we don't need to create a new Meteor collection like we did with parties. <strong>Meteor.users</strong> is a pre-defined collection which is defined by the <a href=\"http://docs.meteor.com/#accounts_api\">meteor-accounts</a> package.</p>\n\n<p>So let's start with defining our publish function.</p>\n\n<p>Create a new file under the <code>server</code> folder named <code>users.js</code> and place the following code in:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("9.5")}},function(){return Spacebars.include(s.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>So here again we use the Mongo API to return all the users (find with an empty object) but we select to return only the emails and profile fields.</p>\n\n<ul>\n<li>Notice that each object (i.e. each user) will automatically contain its <code>_id</code> field.</li>\n</ul>\n\n<p>The emails field holds all the user's email addresses, and the profile might hold more optional information like the user's name\n(in our case, if the user logged in with the Facebook login, the accounts-facebook package puts the user's name from Facebook automatically into that field).</p>\n\n<p>Now let's subscribe to that publish Method.  In the <code>client-&gt;parties-&gt;controllers-&gt;partyDetails.js</code> file add the following line inside the controller.\nIf you just add to the end you will get an uncaught reference $scope not defined:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("9.6")}},function(){return Spacebars.include(s.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ul>\n<li>We bind to the Meteor.users collection</li>\n<li>Binding the result to $scope.users</li>\n<li>Notice that we passes <code>false</code> in the second parameter. That means that we don't want to update that collection from the client</li>\n<li>Calling <a href=\"/api/AngularMeteorCollection\">AngularMeteorCollection's</a> subscribe function</li>\n</ul>\n\n<p>Also, let's add a subscription to the party in this controller as well.\nThis is because if we will get to this controller directly, the subscription in the other controller won't be called and we will have no data at all.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("9.7")}},function(){return Spacebars.include(s.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's add the list of users to the view to make sure it works.</p>\n\n<p>Add this ng-repeat list to the end of <code>party-details.ng.html</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("9.8")}},function(){return Spacebars.include(s.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Run the app and see the list of all the users\' emails that created a login and password and did not use a service to login.</p>\n\n<ul>\n<li>The structure of the Users collection is different between regular email-password, Facebook, Google etc.</li>\n</ul>\n\n<p>The Document structure looks like this (notice where the email is in each one):</p>\n\n<p><strong><code>Email-Password</code>:</strong></p>\n\n<pre><code class="hljs json">{\n  "<span class="hljs-attribute">_id</span>" : <span class="hljs-value"><span class="hljs-string">"8qJt6dRSNDHBuqpXu"</span></span>,\n  "<span class="hljs-attribute">createdAt</span>" : <span class="hljs-value">ISODate(<span class="hljs-string">"2015-05-26T00:29:05.109-07:00"</span>)</span>,\n  "<span class="hljs-attribute">services</span>" : <span class="hljs-value">{\n    "<span class="hljs-attribute">password</span>" : <span class="hljs-value">{\n      "<span class="hljs-attribute">bcrypt</span>" : <span class="hljs-value"><span class="hljs-string">"$2a$10$oSykELjSzcoFWXZTwI5.lOl4BsB1EfcR8RbEm/KsS3zA4x5vlwne6"</span>\n    </span>}</span>,\n    "<span class="hljs-attribute">resume</span>" : <span class="hljs-value">{\n      "<span class="hljs-attribute">loginTokens</span>" : <span class="hljs-value">[\n        {\n          "<span class="hljs-attribute">when</span>" : <span class="hljs-value">ISODate(<span class="hljs-string">"2015-05-26T00:29:05.112-07:00"</span>)</span>,\n          "<span class="hljs-attribute">hashedToken</span>" : <span class="hljs-value"><span class="hljs-string">"6edmW0Wby2xheFxyiUOqDYYFZmOtYHg7VmtXUxEceHg="</span>\n        </span>}\n      ]\n    </span>}\n  </span>}</span>,\n  "<span class="hljs-attribute">emails</span>" : <span class="hljs-value">[\n    {\n      "<span class="hljs-attribute">address</span>" : <span class="hljs-value"><span class="hljs-string">"email@email.com"</span></span>,\n      "<span class="hljs-attribute">verified</span>" : <span class="hljs-value"><span class="hljs-literal">false</span>\n    </span>}\n  ]\n</span>}\n</code></pre>\n\n<p><strong><code>Facebook</code>:</strong></p>\n\n<pre><code class="hljs json">{\n  "<span class="hljs-attribute">_id</span>" : <span class="hljs-value"><span class="hljs-string">"etKoiD8MxkQTjTQRY"</span></span>,\n  "<span class="hljs-attribute">createdAt</span>" : <span class="hljs-value">ISODate(<span class="hljs-string">"2015-05-25T17:42:16.850-07:00"</span>)</span>,\n  "<span class="hljs-attribute">services</span>" : <span class="hljs-value">{\n    "<span class="hljs-attribute">facebook</span>" : <span class="hljs-value">{\n      "<span class="hljs-attribute">accessToken</span>" : <span class="hljs-value"><span class="hljs-string">"CAAM10fSvI..."</span></span>,\n      "<span class="hljs-attribute">expiresAt</span>" : <span class="hljs-value"><span class="hljs-number">1437770457288.0000000000000000</span></span>,\n      "<span class="hljs-attribute">id</span>" : <span class="hljs-value"><span class="hljs-string">"10153317814289291"</span></span>,\n      "<span class="hljs-attribute">email</span>" : <span class="hljs-value"><span class="hljs-string">"email@email.com"</span></span>,\n      "<span class="hljs-attribute">name</span>" : <span class="hljs-value"><span class="hljs-string">"FirstName LastName"</span></span>,\n      "<span class="hljs-attribute">first_name</span>" : <span class="hljs-value"><span class="hljs-string">"FirstName"</span></span>,\n      "<span class="hljs-attribute">last_name</span>" : <span class="hljs-value"><span class="hljs-string">"LastName"</span></span>,\n      "<span class="hljs-attribute">link</span>" : <span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/app_scoped_user_id/foo"</span>\n      <span class="hljs-string">"gender"</span> : <span class="hljs-string">"male"</span></span>,\n      "<span class="hljs-attribute">locale</span>" : <span class="hljs-value"><span class="hljs-string">"en_US"</span>\n    </span>}</span>,\n    "<span class="hljs-attribute">resume</span>" : <span class="hljs-value">{\n      "<span class="hljs-attribute">loginTokens</span>" : <span class="hljs-value">[]\n    </span>}\n  </span>}</span>,\n  "<span class="hljs-attribute">profile</span>" : <span class="hljs-value">{\n    "<span class="hljs-attribute">name</span>" : <span class="hljs-value"><span class="hljs-string">"First Name LastName"</span>\n  </span>}\n</span>}\n</code></pre>\n\n<p><strong><code>Google</code>:</strong></p>\n\n<pre><code class="hljs json">{\n  "<span class="hljs-attribute">_id</span>" : <span class="hljs-value"><span class="hljs-string">"337r4wwSRWe5B6CCw"</span></span>,\n  "<span class="hljs-attribute">createdAt</span>" : <span class="hljs-value">ISODate(<span class="hljs-string">"2015-05-25T22:53:32.172-07:00"</span>)</span>,\n  "<span class="hljs-attribute">services</span>" : <span class="hljs-value">{\n    "<span class="hljs-attribute">google</span>" : <span class="hljs-value">{\n      "<span class="hljs-attribute">accessToken</span>" : <span class="hljs-value"><span class="hljs-string">"ya29.fwHSzHvC..."</span></span>,\n      "<span class="hljs-attribute">idToken</span>" : <span class="hljs-value"><span class="hljs-string">"eyJhbGciOiJSUzI1NiIs..."</span></span>,\n      "<span class="hljs-attribute">expiresAt</span>" : <span class="hljs-value"><span class="hljs-number">1432624691685.0000000000000000</span></span>,\n      "<span class="hljs-attribute">id</span>" : <span class="hljs-value"><span class="hljs-string">"107497376789285885122"</span></span>,\n      "<span class="hljs-attribute">email</span>" : <span class="hljs-value"><span class="hljs-string">"email@email.com"</span></span>,\n      "<span class="hljs-attribute">verified_email</span>" : <span class="hljs-value"><span class="hljs-literal">true</span></span>,\n      "<span class="hljs-attribute">name</span>" : <span class="hljs-value"><span class="hljs-string">"FirstName LastName"</span></span>,\n      "<span class="hljs-attribute">given_name</span>" : <span class="hljs-value"><span class="hljs-string">"FirstName"</span></span>,\n      "<span class="hljs-attribute">family_name</span>" : <span class="hljs-value"><span class="hljs-string">"LastName"</span></span>,\n      "<span class="hljs-attribute">picture</span>" : <span class="hljs-value"><span class="hljs-string">"https://lh5.googleusercontent.com/-foo.jpeg"</span>\n      <span class="hljs-string">"locale"</span> : <span class="hljs-string">"en"</span></span>,\n      "<span class="hljs-attribute">gender</span>" : <span class="hljs-value"><span class="hljs-string">"male"</span>\n    </span>}</span>,\n    "<span class="hljs-attribute">resume</span>" : <span class="hljs-value">{\n      "<span class="hljs-attribute">loginTokens</span>" : <span class="hljs-value">[\n        {\n          "<span class="hljs-attribute">when</span>" : <span class="hljs-value">ISODate(<span class="hljs-string">"2015-05-25T23:18:11.788-07:00"</span>)</span>,\n          "<span class="hljs-attribute">hashedToken</span>" : <span class="hljs-value"><span class="hljs-string">"NaKS2Zeermw+bPlMLhaihsNu6jPaW5+ucFDF2BXT4WQ="</span>\n        </span>}\n      ]\n    </span>}\n  </span>}</span>,\n  "<span class="hljs-attribute">profile</span>" : <span class="hljs-value">{\n    "<span class="hljs-attribute">name</span>" : <span class="hljs-value"><span class="hljs-string">"First Name LastName"</span>\n  </span>}\n</span>}\n</code></pre>\n\n<p>Right now it means that the emails of the users that logged in with with email-password will be displayed.</p>\n\n<p>In the chapter of Angular filters we will change the display code to show all emails.</p>\n\n<h1 id="understandingmeteorspublishsubscribe">Understanding Meteor\'s Publish-Subscribe</h1>\n\n<p>It is very important to understand Meteor\'s Publish-Subscribe mechanism so you don\'t get confused and use it to filter things in the view!</p>\n\n<p>Meteor accumulates all the data from the different subscription of a collection in the client, so adding a different subscription in a different\nview won\'t delete the data that is already in the client.</p>\n\n<p>More information about publications and subscription in [this blog article] (https://medium.com/angular-meteor/coll-pub-sub-with-angular-meteor-cb13fe48f570) and this  <a href="http://www.meteorpedia.com/read/Understanding_Meteor_Publish_and_Subscribe">meteorpedia article</a>.</p>\n\n<h1 id="summary">Summary</h1>\n\n<p>We\'ve added the support of privacy to our parties app.</p>\n\n<p>We also learned how to use the <code>Meteor.publish</code> command to control permissions and the data sent to the client\nand how to subscribe to it with the $meteor.collection publish function.</p>\n\n<p>In the next step we will learn how to filter the users list in the client side with AngularJS filters and create a custom filter for our own needs.</p>')]})}();

!function(){Template.__checkName("tutorial.step_10.md"),Template["tutorial.step_10.md"]=new Template("Template.tutorial.step_10.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_10")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>Now that we have a working app, we can go public!\nMeteor makes it really easy to put an app up on the internet where other people can use it.</p>\n\n<p>Simply type in the command line of your app directory\n(replace <code>myappname</code> with your own name and make sure there is no existing site already deployed in the same address):</p>\n\n<pre><code class=\"hljs nginx\"><span class=\"hljs-title\">meteor</span> deploy myappname.meteor.com\n</code></pre>\n\n<p>Once you answer all of the prompts and the upload completes, you can go to <code>http://myappname.meteor.com</code> and use your app from anywhere.</p>\n\n<p>Try opening the app on multiple devices such as your phone and your friend's computer.\nAdd, remove, and invite some parties and you will see that the UI of your app is really fast.\nThat's because Meteor doesn't wait for the server to respond before updating the interface - thanks to Meteor's latency compensation mechanism.</p>\n\n<h1 id=\"summary\">Summary</h1>\n\n<p>Congratulations, you've made a working app that you can now use with your friends!</p>\n\n<p>Now, we'll take a detour to see that while we were building a web app, we also created a pretty nice mobile app along the way.</p>")]})}();

!function(){Template.__checkName("tutorial.step_11.md"),Template["tutorial.step_11.md"]=new Template("Template.tutorial.step_11.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_11")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>So far, we\'ve been building our app and testing only in a web browser,\nbut Meteor has been designed to work across different platforms - your socially website can become an iOS or Android app in just a few commands.</p>\n\n<h2 id="angularjsinitialization">AngularJS initialization</h2>\n\n<p>Before we set up PhoneGap (which is super simple with Meteor) we will need to make a small adjustment in our Angular app initialization:</p>\n\n<p>In <code>app.js</code> file, we will manually bootstrap our AngularJS app according to the right platform:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("11.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>And then we will remove</p>\n\n<pre><code class="hljs ini"><span class="hljs-setting">ng-app=<span class="hljs-value"><span class="hljs-string">"socially"</span></span></span>\n</code></pre>\n\n<p>from <code>index.html</code>:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("11.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h2 id="phonegap">PhoneGap</h2>\n\n<p>Meteor makes it easy to set up all of the tools required to build mobile apps, but downloading all of the programs can take a while - for Android the download is about 300MB and for iOS you need to install Xcode which is about 2GB.\nIf you don\'t want to wait to download these tools, feel free to skip to the <a href="/tutorial/step_12">next step</a>.</p>\n\n<h3 id="runningonanandroidemulator">Running on an Android emulator</h3>\n\n<p>In the terminal, go to your app folder and type:</p>\n\n<pre><code class="hljs sql">meteor <span class="hljs-operator"><span class="hljs-keyword">install</span>-sdk android\n</span></code></pre>\n\n<p>This will help you install all of the necessary tools to build an Android app from your project.\nWhen you are done installing everything, type:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> add-platform android\n</code></pre>\n\n<p>After you agree to the license terms, type:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> run android\n</code></pre>\n\n<p>After some initialization, you will see an Android emulator pop up, running your app inside a native Android wrapper.\nThe emulator can be somewhat slow, so if you want to see what it\'s really like using your app, you should run it on an actual device.</p>\n\n<h3 id="runningonanandroiddevice">Running on an Android device</h3>\n\n<p>First, complete all of the steps above to set up the Android tools on your system.\nThen, make sure you have USB Debugging enabled on your phone and the phone is plugged into your computer with a USB cable.\nAlso, you must quit the Android emulator before running on a device.</p>\n\n<p>Then, run the following command:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> run android-device\n</code></pre>\n\n<p>The app will be built and installed on your device. If you want to point your app to the server you deployed in the previous step, run:</p>\n\n<pre><code class="hljs sql">meteor run android-device <span class="hljs-comment">--mobile-server my_app_name.meteor.com</span>\n</code></pre>\n\n<h3 id="runningonaniossimulatormaconly">Running on an iOS simulator (Mac Only)</h3>\n\n<p>If you have a Mac, you can run your app inside the iOS simulator.</p>\n\n<p>Go to your app folder and type:</p>\n\n<pre><code class="hljs sql">meteor <span class="hljs-operator"><span class="hljs-keyword">install</span>-sdk ios\n</span></code></pre>\n\n<p>This will run you through the setup necessary to build an iOS app from your project. When you\'re done, type:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> add-platform ios\nmeteor run ios\n</code></pre>\n\n<p>You will see the iOS simulator pop up with your app running inside.</p>\n\n<h3 id="runningonaniphoneoripadmaconlyrequiresappledeveloperaccount">Running on an iPhone or iPad (Mac Only; requires Apple developer account)</h3>\n\n<p>If you have an Apple developer account, you can also run your app on an iOS device. Run the following command:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> run ios-device\n</code></pre>\n\n<p>This will open Xcode with a project for your iOS app. You can use Xcode to then launch the app on any device or simulator that Xcode supports.</p>\n\n<p>If you want to point your app at the previously deployed server, run:</p>\n\n<pre><code class="hljs sql">meteor run ios-device <span class="hljs-comment">--mobile-server my_app_name.meteor.com</span>\n</code></pre>\n\n<p>Now that we have seen how easy it is to deploy our app and run it on mobile, let\'s get to adding some more features.</p>\n\n<h3 id="submityourandroidapptotheplaystore">Submit your Android app to the Play Store:</h3>\n\n<p><a href="https://github.com/meteor/meteor/wiki/How-to-submit-your-Android-app-to-Play-Store">https://github.com/meteor/meteor/wiki/How-to-submit-your-Android-app-to-Play-Store</a></p>\n\n<h3 id="submityouriosapptotheappstore">Submit your iOS app to the App Store:</h3>\n\n<p><a href="https://github.com/meteor/meteor/wiki/How-to-submit-your-iOS-app-to-App-Store">https://github.com/meteor/meteor/wiki/How-to-submit-your-iOS-app-to-App-Store</a></p>\n\n<h1 id="summary">Summary</h1>\n\n<p>Now you can see how easy and amazing it is to work with Meteor and PhoneGap together.</p>\n\n<p>But that\'s just the start - because of Meteor\'s hot code push, after you deploy your app to the stores, once you update your code, all your apps are\ninstantly updated, no need to go through the stores update process!</p>\n\n<p>More more detailed information:</p>\n\n<ul>\n<li><a href="https://github.com/meteor/meteor/wiki/Meteor-Cordova-Phonegap-integration">https://github.com/meteor/meteor/wiki/Meteor-Cordova-Phonegap-integration</a></li>\n</ul>\n\n<h1 id="troubleshoot">Troubleshoot</h1>\n\n<p>If your application does not work for any reason, first try running meteor with the verbose flag in order to get more information about your launch. In order to do that, run the following command:</p>\n\n<pre><code class="hljs javascript">meteor run ios --verbose\nNote: You can also run it <span class="hljs-keyword">with</span> <span class="hljs-string">"android"</span> platform.\n</code></pre>\n\n<p>The following are solution for common issues we encountered:</p>\n\n<h3 id="emulatorstartsbuttheapplicationdoesnotlaunch">Emulator starts, but the application does not launch</h3>\n\n<p>This issue caused because of permissions issue that prevents from Cordova to launch the APK/APP on the simulator.\nUsually you will see on the verbose log these errors:</p>\n\n<pre><code class="hljs javascript"><span class="hljs-string">"Timed out waiting for device to boot"</span>\n<span class="hljs-string">"You may not have the required environment or OS to run this project"</span>\n</code></pre>\n\n<p>In order to fix that issue you will need to fix the permission by running these commands:</p>\n\n<pre><code class="hljs perl">sudo <span class="hljs-keyword">chown</span> -R YOUR_USERNAME /usr/<span class="hljs-keyword">local</span>/lib/node_modules/\nsudo <span class="hljs-keyword">chmod</span> -R <span class="hljs-number">777</span> /usr/<span class="hljs-keyword">local</span>/lib/node_modules/\nsudo <span class="hljs-keyword">chown</span> -r YOUR_USERNAME ~<span class="hljs-regexp">/.meteor/</span>\nsudo <span class="hljs-keyword">chmod</span> -R <span class="hljs-number">777</span> ~<span class="hljs-regexp">/.meteor/</span>\nsudo <span class="hljs-keyword">chown</span> -r YOUR_USERNAME YOUR_PROJECT_FOLDER\nsudo <span class="hljs-keyword">chmod</span> -R <span class="hljs-number">777</span> YOUR_PROJECT_FOLDER\n\nReplace YOUR_PROJECT_FOLDER with your project folder <span class="hljs-keyword">and</span> YOUR_USERNAME with the user you <span class="hljs-keyword">use</span> to run the <span class="hljs-string">"meteor run"</span> command.\n</code></pre>')]})}();

!function(){Template.__checkName("tutorial.step_12.md"),Template["tutorial.step_12.md"]=new Template("Template.tutorial.step_12.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_11")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>Currently we are dealing with only a few parties, but we also need to support a large number of parties.</p>\n\n<p>Therefore, we want to have <code>pagination</code> support.</p>\n\n<p>With pagination we can break the array of parties down to pages so the user won't have to scroll down to find a party,\nbut also, and even more importantly, we can fetch only a few parties at a time instead of the entire parties collection for better performance.</p>\n\n<p>The interesting thing about pagination is that it is dependent on the filters we want to put on top of the collection. \nFor example, if we are in page 3, but we change how we sort the collection, we should get different results. \nSame thing with search: if we start a search, there might not be enough results for 3 pages.</p>\n\n<p>For AngularJS developers this chapter will show how powerful Meteor is.\nIn the official AngularJS tutorial, we added sorting and search that only worked on the client side, which in real world scenarios is not very helpful.\nNow, in this chapter we are going to perform a real-time search, sort and paginate that will run all the way to the server.</p>\n\n<h1 id=\"angularmeteorpaginationsupport\">angular-meteor pagination support</h1>\n\n<p>What we want to achieve with angular-meteor is <em>server-based reactive pagination</em>.\nThat is no simple task, but using angular-meteor could make life a lot simpler.</p>\n\n<p>To achieve server-based reactive pagination we need to have support for pagination on the server as well as on the client.\nThis means that our publish function for the parties collection would have to change and so does the way that we subscribe to that publication.\nSo first let's take care of our server-side:</p>\n\n<p>In our <code>parties.js</code> file in the server directory we are going to add the <code>options</code> variable to the publish method like this:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now our publish method receives an options argument which we then pass to the <code>Parties.find()</code> function call.\nThis will allow us to send arguments to the find function's modifier right from the subscribe call. The options object can\ncontain properties like <code>skip</code>, <code>sort</code> and <code>limit</code> which we will shortly use ourselves - <a href=\"http://docs.meteor.com/#/full/find\">Collection Find</a>.</p>\n\n<p>Let's get back to our client code. We now need to change our subscribe call with options we want to set for pagination.\nWhat are those parameters that we want to set on the options argument? In order to have pagination in our\nparties list we will need to save the current page, the number of parties per page and the sort order. So let's add these parameters to our scope in the top of the controller in <code>client/controllers/partiesList.js</code> file:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>That\'s cool, but let\'s do something more with these variables than just defining them. We want to use them when we call the subscribe method.</p>\n\n<p>But right now, we are subscribing to the collection in the short form which doesn\'t get parameters:</p>\n\n<pre><code class="hljs perl"><span class="hljs-variable">$scope</span>.parties = <span class="hljs-variable">$meteor</span>.collection(Parties).subscribe(<span class="hljs-string">\'parties\'</span>);\n</code></pre>\n\n<p>So first we need to add the <a href="/api/subscribe">$meteor.subscribe</a> service and call it separately:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's send the parameters in the options object:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now we\'ve built an object that contains 3 properties:</p>\n\n<ul>\n<li><strong>limit</strong> - how many parties to send per page</li>\n<li><strong>skip</strong>  - the number of parties we want to start with, which is the current page minus one, times the parties per page</li>\n<li><strong>sort</strong>  - the sorting of the collection in <a href="http://docs.mongodb.org/manual/reference/method/cursor.sort/">MongoDB syntax</a></li>\n</ul>\n\n<p>Now we also need to add the sort modifier to the way we get the collection data from the Minimongo.\nThat is because the sorting is not saved when the data is sent from the server to the client.\nSo to make sure our data is also sorted on the client, we need to define it again in the parties collection.\nTo do that we are going to replace the <code>Parties</code> collection parameter with a <a href="http://docs.meteor.com/#/full/mongo_cursor">cursor</a> for that parties collection:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h1 id="paginationdirective">pagination directive</h1>\n\n<p>Now we need a UI to change pages and move between them.</p>\n\n<p>In AngularJS\'s eco system there are a lot of directives for handling pagination.</p>\n\n<p>Our personal favorite is <a href="https://github.com/michaelbromley/angularUtils/tree/master/src/directives/pagination">angular-utils-pagination</a>.</p>\n\n<p>To add the directive add its Meteor package to the project:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">angularutils</span><span class="hljs-pseudo">:pagination</span>\n</code></pre>\n\n<p>Add it as a dependency to our Angular app in <code>app.js</code>:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's add the directive in <code>parties-list.ng.html</code>, change the ng-repeat of parties to this:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>and after the UL closes, add this directive:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>As you can see, dir-paginate list takes the number of objects in a page (that we defined before) but also takes the total number of items (we will get to that soon).\nWith this binding it calculates which page buttons it should display inside the dir-pagination-controls directive.</p>\n\n<p>On the dir-pagination-controls directive there is a method <code>on-page-change</code> and there we can call our own function.\nSo we call the <code>pageChanged</code> function with the new selection as a parameter.</p>\n\n<p>Let's create the pageChanged function inside the partiesList controller <code>(client/controllers/partiesList.js)</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now every time we change the page, the scope variable will change accordingly and update the bind method that watches it.</p>\n\n<ul>\n<li>Note that, at this point, the pagination will <em>not</em> work until we add the missing "partiesCount" variable in the next step of the tutorial.</li>\n</ul>\n\n<h1 id="gettingthetotalcountofacollection">Getting the total count of a collection</h1>\n\n<p>Getting a total count of a collection might seem easy, but there is a problem:\nThe client only holds the number of objects that it subscribed to. This means that, if the client is not subscribed to the whole array, calling find().count on a collection will result in a partial count.</p>\n\n<p>So we need access on the client to the total count even if we are not subscribed to the whole collection.</p>\n\n<p>For that we can use the <a href="https://github.com/percolatestudio/publish-counts">tmeasday:publish-counts</a> package. \nOn the command line:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">tmeasday</span><span class="hljs-pseudo">:publish-counts</span>\n</code></pre>\n\n<p>This package helps to publish the count of a cursor in real-time, without any dependency on the subscribe method.</p>\n\n<p>Inside the <code>server/parties.js</code> file, add the code that handles the count inside the <code>Meteor.publish("parties"</code> function, at the beginning of the function, before the existing return statement.\nSo the file should look like this now:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.10")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>As you can see, we query only the parties that should be available to that specific client, but without the options variable so we get the full number of parties.</p>\n\n<ul>\n<li>We are passing <code>{ noReady: true }</code> in the last argument so that the publication will be ready only after our main cursor is ready - <a href="https://github.com/percolatestudio/publish-counts#readiness">readiness</a>.</li>\n</ul>\n\n<p>With this, we have access to the Counts collection from our client.\nLet\'s save that in the <code>client/controllers/partiesList.js</code> file when the subscription finishes successfully (using the promise $meteor.subscribe returns):</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.11")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now the partiesCount will hold the number of parties and will send it to the directive in <code>parties-list.ng.html</code> (which we\'ve already defined earlier).</p>\n\n<p>But there is a problem: Try to create a few parties and then change pages...  the subscription won\'t run again!</p>\n\n<h1 id="reactivevariables">Reactive variables</h1>\n\n<p>Meteor is relying deeply on the concept of <a href="http://docs.meteor.com/#/full/reactivity">reactivity</a>.</p>\n\n<p>This means that, when a <a href="http://docs.meteor.com/#/full/reactivevar">reactive variable</a> changes, Meteor is made aware of it via its <a href="http://docs.meteor.com/#/full/tracker_autorun">Tracker object</a>.</p>\n\n<p>But Angular\'s scope variables are only watched by Angular and are not reactive vars for Meteor...</p>\n\n<p>For that, angular-meteor created <a href="/api/getReactively">getReactively</a> - a way to make an Angular scope variable also a reactive variable.</p>\n\n<p>In order to make the subscription run each time something changes in one of the parameters, we need to place it inside an autorun block.</p>\n\n<p>To do that, we are going to use the <a href="/api/utils">$meteor.autorun</a> function:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.12")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>But this still won't help us because there are no reactive variables inside, so let's use <a href=\"/api/getReactively\">getReactively</a>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.13")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>What's happening here is that <code>getReactively</code> returns a reactive variable that fires a changed event every time the scope variable changes, and then autorun knows to execute its given function again.\nThis will cause the subscription to re-run again with the new options parameter and we will get the correct data from the server.</p>\n\n<p>$meteor.collection is also listening to reactive variables so let's change our <code>$scope.parties</code> initialization as well:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.14")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now run the app.\nCreate lots of parties and notice how you can see only 3 at a time and you can scroll between the pages with the directive that populates the number of pages automatically.</p>\n\n<h1 id=\"changingthesortorderreactively\">Changing the sort order reactively</h1>\n\n<p>We haven't placed a way to change sorting anywhere in the UI, so let's do that right now:</p>\n\n<p>In our HTML template, let's add a sorting dropdown inside the UL:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.15")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>In the controller, let's associate that dropdown with <code>$scope.sort</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.16")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>...and also initialize it at the beginning:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.17")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And we don't have to do anything other than that. <code>$scope.getReactively</code> will take care of updating the subscription for us\nwhen <code>sort</code> changes. So all we have left is to sit back and enjoy our pagination working like a charm.</p>\n\n<p>We've made a lot of changes, so please check the step's code <a href=\"https://github.com/Urigo/meteor-angular-socially/compare/step_14...step_15\">here</a>\nto make sure you have everything needed and can run the application.</p>\n\n<h1 id=\"reactivesearch\">Reactive Search</h1>\n\n<p>Now that we have the basis for pagination, all we have left to do is add reactive server-side searching of parties. This means that we will be able to enter a search string, have the app search for parties that match that name in the server and return only the relevant results! This is pretty awesome, and we are going to do all that in only a few lines of code. So\nlet's get started!</p>\n\n<p>As before, let's add the server-side support. We need to add a new argument to our publish method which will hold the\nrequested search string. We will call it... <code>searchString</code>! Here it goes:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.18")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Yep, that was simple. Now we are going to filter the correct results using mongo\'s regex ability. We are going to add this\nline in those two places where we are using <code>find</code>: in publish Counts and in the return of the parties cursor:</p>\n\n<pre><code class="hljs javascript"><span class="hljs-string">\'name\'</span> : { <span class="hljs-string">\'$regex\'</span> : <span class="hljs-string">\'.*\'</span> + searchString || <span class="hljs-string">\'\'</span> + <span class="hljs-string">\'.*\'</span>, <span class="hljs-string">\'$options\'</span> : <span class="hljs-string">\'i\'</span> },\n</code></pre>\n\n<p>So <code>server/parties.js</code> should look like this:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.19")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>As you can see, this will filter all the parties whose name contains the searchString.</p>\n\n<ul>\n<li>we added also <code>if (searchString == null) searchString = '';</code>  so that, if we don't get that parameter, we will just return the whole collection.</li>\n</ul>\n\n<p>Now let's move on to the client-side.\nFirst let's place a search input into our template and bind it to a 'search' scope variable:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.20")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And all we have left to do is call the subscribe method with our reactive scope variable:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.21")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Wow, that is all that\'s needed to have a fully reactive search with pagination! Quite amazing, right?</p>\n\n<h1 id="stoppingasubscription">Stopping a subscription</h1>\n\n<p>There is only one problem in our app right now - if you navigate to the party details page and then go back, pagination and search will stop working.</p>\n\n<p>The reason is that we are calling a different subscription on the same collection inside the partyDetails controller.</p>\n\n<p>So in order to fix that, we will have to close that subscription after the partyDetails controller is destroyed.</p>\n\n<p>We can do this by calling the <code>$scope.$meteorSubscribe</code> method. It will <strong>automatically close</strong> the subscription when the scope gets destroyed.</p>\n\n<p>First, remove the subscription from <code>$meteor.object</code>:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.22")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And now add the subscribe function:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("12.23")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>That\'s it.</p>\n\n<p>If you want to stop it manually before the scope closes, you can use the subscription handle from the <code>$meteorSubscribe</code> function:</p>\n\n<pre><code class="hljs php"><span class="hljs-keyword">var</span> savedSubscriptionHandle = <span class="hljs-keyword">null</span>;\n\n<span class="hljs-variable">$scope</span>.<span class="hljs-variable">$meteorSubscribe</span>(<span class="hljs-string">\'parties\'</span>).then(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(subscriptionHandle)</span></span>{\n      <span class="hljs-comment">// You can use the subscription handle to stop the subscription if you want</span>\n  savedSubscriptionHandle = subscriptionHandle;\n});\n\n<span class="hljs-comment">// When you want to manually close the subscription</span>\nsavedSubscriptionHandle.stop();\n</code></pre>\n\n<p>For more information check out the <a href="/api/subscribe">$meteorSubscribe API</a>.</p>\n\n<h1 id="summary">Summary</h1>\n\n<p>So now we have full pagination with search and sorting for client and server-side, with the help of Meteor\'s options and Angular\'s directives.</p>')]})}();

!function(){Template.__checkName("tutorial.step_13.md"),Template["tutorial.step_13.md"]=new Template("Template.tutorial.step_13.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_12")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>Our next mission is to invite users to private parties.</p>\n\n<p>We have subscribed to list of all users, but we can\'t invite everyone.\nWe can\'t invite the owner of the party and we can\'t invite users who are already invited, so why not filter them out of the view?</p>\n\n<p>To do so we will use the powerful <a href="https://docs.angularjs.org/guide/filter">filter feature</a> of AngularJS.</p>\n\n<p>Filters can work on array as well as single values.\nWe can aggregate any number of filters on top of each other.</p>\n\n<p>Here is the list of all of AngularJS built-in filters:\n<a href="https://docs.angularjs.org/api/ng/filter">https://docs.angularjs.org/api/ng/filter</a></p>\n\n<p>And here is a 3rd party library with many more filters:\n<a href="https://github.com/a8m/angular-filter">angular-filter</a></p>\n\n<p>Now let\'s create a custom filter that will filter out users that are the owners of a certain party and that are already invited to it.</p>\n\n<p>Create a new folder named <code>filters</code> under the <code>client-&gt;parties</code> folder.</p>\n\n<p>Under that folder create a new file named <code>uninvited.js</code> and place that code inside:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("13.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ul>\n<li>First we define a filter to the 'socially' module (our app)</li>\n<li>The filter is named <code>uninvited</code></li>\n<li>Filters always get at least one parameter and the first parameter is always the object or array that we are filtering (like the parties in the previous example)\nHere we are filtering the users array, so that's the first parameter</li>\n<li>The second parameter is the party we want to check</li>\n<li>The first if statement is to make sure we passed the initializing phase of the party and it's not undefined</li>\n</ul>\n\n<p>At this point we need to return the filtered array.</p>\n\n<p>The great thing here is that thanks to Meteor we have access to the great <a href=\"http://docs.meteor.com/#underscore\">underscore</a> library.</p>\n\n<p>So we use underscore's <code>filter</code> method to remove each user that either isn't the party's owner or that\nis not already <code>_contains</code> (another underscore method) in the invited list.</p>\n\n<p>So now let's use our new filter</p>\n\n<p>Simply add the filter to the list of users and send the current party to the party parameter, inside <code>party-details.ng.html</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("13.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Run the app and see the users in each party.</p>\n\n<p>We still don't have invites but you can see that the filter already filters the party owners out of the list.</p>\n\n<p>But some of the users don't have emails (maybe some of them may have signed in with Facebook). In that case we want to display their name and not the empty email field.</p>\n\n<p>But it's only in the display so its perfect for a filter.</p>\n\n<p>We want the list to simply look like this:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("13.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>and that the filter <code>displayName</code> will handle to logic and display the user's name in the best way possible.</p>\n\n<p>So let's create another custom filter <code>displayName</code>.</p>\n\n<p>Create a new file under the filters folder named <code>displayName.js</code> and place that code inside:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("13.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Pretty simple logic but it's so much nicer to put it here and make the HTML shorter and more readable.</p>\n\n<p>AngularJS can also display the return value of a function in the HTML.</p>\n\n<p>To demonstrate let's add to each party in the parties list the creator's name:</p>\n\n<p>Add a line that displays the user information to the parties list in <code>parties-list.ng.html</code>,\nso it will look like this:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("13.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>and define the creator scope function in the partiesListCtrl in <code>partiesList.js</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("13.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ul>\n<li>Remember to add <code>$rootScope</code> to the controller's dependency injection</li>\n</ul>\n\n<p>As you can see, we are using the <code>Meteor.users</code> collection here but we haven't made sure that we are subscribing to it\n(If we visited the partyDetails controller before getting here, partyDetails controller would subscribe to the Meteor.users collection,\nbut if we weren't, we would get an empty array in Meteor.users).\nSo let's add a subscription to Meteor.users in the list controller as well:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("13.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now we get the user object to the HTML. But we want his name, so let's put the displayName filter on that as well:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("13.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h1 id="summary">Summary</h1>\n\n<p>In this chapter we learned about AngularJS filters and how easy they are to use and to read from the HTML.</p>\n\n<p>In the next step we will learn about Meteor methods, which enables us to run custom logic in the server, beyond the Mongo API and the allow/deny methods.</p>')]})}();

!function(){Template.__checkName("tutorial.step_14.md"),Template["tutorial.step_14.md"]=new Template("Template.tutorial.step_14.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_13")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>In this step we will learn how to use Meteor methods and how angular-meteor enhances them with the support of promises.</p>\n\n<p>Meteor methods are a way to perform more complex logic than the allow method does.\nThe Meteor methods are responsible for checking permissions, just like the allow method does.</p>\n\n<p>In our case, we will create an invite method that invites a user to a party.</p>\n\n<p>Paste the following code into the end of <code>parties.js</code> file in the model directory:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Let\'s look at the code.</p>\n\n<p>First, all Meteor methods are defined inside <code>Meteor.methods({});</code> object.</p>\n\n<p>Each property of that object is a method and the name of that property in the name of the method. In our case - invite.</p>\n\n<p>Then the value of the property is the function we call. In our case it takes 2 parameters - the party id and the invited user id.</p>\n\n<p>First, we check validation with the the <a href="http://docs.meteor.com/#check_package">check</a> function.</p>\n\n<p>The rest of the code is pretty much self explanatory, but important thing to notice is the Email function that sends email to the invited client.\nThis function can\'t be called from the client side so we have to put it inside an <code>isServer</code> statement.</p>\n\n<p>Don\'t forget to add the email package to your project in the command line:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> add email\n</code></pre>\n\n<p>Now let\'s call that method from the client.</p>\n\n<p>Add a scope method called invite:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ul>\n<li>Parameter 1 - Meteor method name</li>\n<li>Parameter 2 and 3 - The Meteor method's arguments</li>\n<li>Return value - A promise</li>\n</ul>\n\n<p>The promise we resolve with 'then' which defines 2 parameters:</p>\n\n<ul>\n<li>Parameter 1 - A function that handles success</li>\n<li>Parameter 2 - A function that handles failure</li>\n</ul>\n\n<p>Now let's add a button to invite each user we want. Edit the users lists in the partyDetails template to look like this:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now that we have the invite function working, we also want to publish the parties to the invited users.\nLet's add that permission to the publish parties method (and the Counts!):</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Great!</p>\n\n<p>Now test the app.  Create a private party with user1.  Then invite user2. Log in as user2 and check if he can see the party in his own parties list.</p>\n\n<p>Now let's add the RSVP functionality so invited users can respond to invitations.</p>\n\n<p>First let's add a Meteor.method to <code>parties.js</code> in the model folder (remember to place it as a property inside the Meteor.methods object):</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>The function gets the party's id and the response ('yes', 'maybe' or 'no').</p>\n\n<p>Like the invite method, first we check for all kinds of validations, then we do the wanted logic.</p>\n\n<p>Now let's call that function from the partiesList.\nAdd an rsvp scope function to the partiesListCtrl in <code>partiesList.js</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>and let's add action buttons to call the right rsvp in the HTML.</p>\n\n<p>Add this code into <code>parties-list.ng.html</code> inside the parties list itself (inside the ng-repeat):</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's display for each party who is coming.</p>\n\n<p>Just after the code you just added (still inside the parties ng-repeat) add the following code:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>First, take a look at the use of filter with length to find how many people responded with each response type.</p>\n\n<p>Then, look at using ng-repeat inside an ng-repeat - ng-repeat on revps inside party from the parties ng-repeat.</p>\n\n<p>Now let's add a list of the users who haven't responded yet just below the code we just added:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Again, an ng-repeat inside an ng-repeat.  This time we are calling a function that will give us all the users who haven't responded to that specific party.\nAdd that function inside the partiesListCtrl in the <code>partiesList.js</code> file:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.10")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Here we are using underscore\'s <code>_.filter</code>, <code>_.contains</code> and <code>_.findWhere</code> to extract the users who are invited to the party but are not exist in the rsvps array.</p>\n\n<p>Notice we are doing this check on $scope.users but we haven\'t initialized it yet in this controller. So add this code as well:</p>\n\n<p>Change</p>\n\n<pre><code class="hljs perl"><span class="hljs-variable">$meteor</span>.subscribe(<span class="hljs-string">\'users\'</span>);\n</code></pre>\n\n<p>With:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("14.11")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h1 id="summary">Summary</h1>\n\n<p>Run the application.</p>\n\n<p>Looks like we have all the functionality we need but there is a lot of mess in the display.\nThere are stuff that there is no need for them to show up if the user is not authorized to see or if they are empty.</p>\n\n<p>So in the next chapter we are going to learn about a few simple but very useful AngularJS directive to help us conditionally add or remove DOM.</p>')]})}();

!function(){Template.__checkName("tutorial.step_15.md"),Template["tutorial.step_15.md"]=new Template("Template.tutorial.step_15.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_14")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>AngularJS has great and very simple directives that help us show and hide DOM elements conditionally.\nYou can bind them to an expression, variables or functions.</p>\n\n<h1 id="ngshowandnghide">ng-show and ng-hide</h1>\n\n<p>First, let\'s learn about <a href="https://docs.angularjs.org/api/ng/directive/ngShow">ng-show</a> and <a href="https://docs.angularjs.org/api/ng/directive/ngHide">ng-hide</a>.</p>\n\n<p>So one thing we want to hide and show is the form for creating a new party. If a user is not logged in, they can\'t create a party, so why displaying the form for them?\nIf the user is not logged in, we want to display a message saying they need to log in to create a new party.</p>\n\n<p>In <code>parties-list.ng.html</code> add a ng-show directive to the form like that:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("15.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Note that <code>$root.currentUser</code> is the $rootScope variable that we use that is bound to the current logged-in user.</p>\n\n<p>If it is undefined, this means that there is no logged-in user.  So only if '$root.currentUser' exists will the form will be shown.</p>\n\n<p>Then right after the form, add this HTML:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("15.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>That is exactly the opposite - if <code>$root.currentUser</code> exists or we\'re in the processing of logging in, hide that div. Note that this statement is equivalent to <code>ng-show="!$root.currentUser &amp;&amp; !$root.loggingIn"</code>.</p>\n\n<p>Now add the same to the RSVP buttons:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("15.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Add let's add this the the end of the RSVP buttons:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("15.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Next thing we want to hide is the 'delete party' option, in case the logged-in user is not the party's owner.\nLets add ng-show to the delete button like that:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("15.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>In here you can see that <code>ng-show</code> can get a statement, in our case - the user exists (logged in) and is also the party\'s owner.</p>\n\n<h1 id="ngif">ng-if</h1>\n\n<p><a href="https://docs.angularjs.org/api/ng/directive/ngIf">ng-if</a> acts almost the same as <code>ng-show</code> but the difference between them\nis that <code>ng-show</code> hides the element by changing the display css property and <code>ng-if</code> simply removes it from the DOM completely.</p>\n\n<p>So let\'s use <code>ng-if</code> to hide the outstanding invitations from a party, if the party is public (everyone is invited!):</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("15.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<h1 id=\"assigningafunction\">Assigning a function</h1>\n\n<p>Now lets hide the 'Users to invite' inside <code>party-details.ng.html</code> is case the user is not logged in or can't invite to the party:</p>\n\n<p>To do that we will create a scope function that returns a boolean and associate it with <code>ng-show</code>:</p>\n\n<p>Create a new function inside partyDetailsCtrl inside the <code>partyDetails.js</code> file named <code>canInvite</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("15.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>and add the <code>ng-show</code> to the <code>ul</code> in <code>party-details.ng.html</code>, and lets add a <code>li</code> that tells the user that everyone is already invited, if that is the case:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("15.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Here, we are taking the result of the uninvited users and checking for its length.</p>\n\n<h1 id="ngdisabled">ng-disabled</h1>\n\n<p>Now lets disable the partyDetails input fields in case the user doesn\'t have permission to change them (currently, the server is stopping the user, but there is no visual feedback aside from the server overriding the local edit immediately after):</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("15.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h1 id="summary">Summary</h1>\n\n<p>So now our example looks much better after we hide things based on the current situation.</p>\n\n<p>In the next chapter we will add some CSS and styling to our app.</p>')]})}();

!function(){Template.__checkName("tutorial.step_16.md"),Template["tutorial.step_16.md"]=new Template("Template.tutorial.step_16.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_15")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>Let\'s add location to our parties.</p>\n\n<p>The most popular maps widget is Google Maps so let\'s use that.</p>\n\n<p>First, let\'s add the angular-google-maps Meteor package:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">angularui</span><span class="hljs-pseudo">:angular-google-maps</span>\n</code></pre>\n\n<p>Then let\'s define the module dependency in our app. go to <code>app.js</code> inside the <code>client-&gt;lib</code> folder:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("16.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's add a map the <code>party-details.ng.html</code> , first add this HTML snippet to the end of the template:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("16.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Here we created the google-map directive with attributes for biding the center, handling events and zoom of the map.\nSo let's define those variables in our scope. Go to <code>partyDetails.js</code>.</p>\n\n<p>Inside we will create the $scope.map variable to hold the properties on the map:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("16.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>To display a Google Map widget we have to define it's height and width. Let's do that now.\nCreate a new file named parties.css inside a new folder called <code>styles</code> placed like this <code>client-&gt;parties-&gt;styles</code> and place to following CSS code inside:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("16.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now run the app and go to the party details page. You should see a new Google Map widget, but it doesn't do anything yet.</p>\n\n<p>Let's add a marker that will be binded to the party's location.</p>\n\n<p>Inside <code>party-details.ng.html</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("16.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>The ui-gmap-marker directive represents a marker inside the map. We use the following attributes:</p>\n\n<ul>\n<li>coords - where is the scope the marker location will be binded to.</li>\n<li>options - object that holds the marker options. We are going to use the draggable option.</li>\n<li>events - handling the events on the marker. We will use the click event.</li>\n<li>idKey - where in the scope there exists the unique id of the object that the marker represent.</li>\n</ul>\n\n<p>Let's extend our $scope.map variable to include handling those options:</p>\n\n<p>Inside <code>partyDetails.js</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("16.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>What happened here:</p>\n\n<ul>\n<li>We added the click event to the map. Every time the user clicks the map, we take the location from the click event's params and save it as the party's new location.\nNotice that in the end we call $scope.$apply();  this is because that event comes outside of Angular and we need to let Angular know that something has change so it will run another $digest cycle.</li>\n<li>We defined the options object under the marker to specify the marker is draggable.</li>\n<li>We handled the dragend event that happens when the marker is droped in a new location. We take the location from the event's params and save it as the party's new location.</li>\n</ul>\n\n<p>Again, with the great Meteor platform there is no need for sync or save function. We just set it and it syncs in all other clients.</p>\n\n<p>Test it to see clicking and dragging works.</p>\n\n<h1 id=\"multiplemarkers\">Multiple markers</h1>\n\n<p>Now let's add a map to the parties list to show all the parties on the map.</p>\n\n<p>So let's add the directives to <code>parties-list.ng.html</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("16.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Add it under the search and sorting div.</p>\n\n<p>You can see that the difference between the directive we used in <code>party-details.ng.html</code> is that ui-gmap-markers is plural.\nThe attributes we use:</p>\n\n<ul>\n<li>models - the scope array that the markers represent.</li>\n<li>coords - the property the holds the location.</li>\n<li>click - handler for the click event on a marker</li>\n<li>fit - a boolean to automatically zoom the map to fit all the markers inside</li>\n<li>idKey - the property that holds the unique id of the array</li>\n<li>doRebuildAll - a refresh option, will help us to refresh the markers in search</li>\n</ul>\n\n<p>Now, inside <code>partiesList.js</code> let's add the following code to the parties subscription promise return:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("16.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ul>\n<li>Adding to each party a function that handles a click event with the party's specific information</li>\n<li>Initializing the map object</li>\n<li><p>Defining a function to handle the click. navigates to the party's page.</p></li>\n<li><p>Don't forget to add $state to our controller's dependencies.</p></li>\n</ul>\n\n<h1 id=\"summary\">Summary</h1>\n\n<p>Run the app.  Look at how little code we needed to add maps support to our app.</p>\n\n<p>AngularJS has a huge eco system full of great directives like the angular-google-maps one.</p>")]})}();

!function(){Template.__checkName("tutorial.step_17.md"),Template["tutorial.step_17.md"]=new Template("Template.tutorial.step_17.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_16")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>Meteor has a great support for CSS.</p>\n\n<p>Like other types of files, Meteor gathers all CSS files for the client will get a bundle with all the CSS in your app.</p>\n\n<p>Meteor also pre-process the CSS files and minifies them (in development it doesn't for easier debugging).</p>\n\n<p>Meteor also supports <a href=\"http://lesscss.org/\">LESS</a> as its default CSS pre-processor (the package is maintained by the Meteor team themselves).</p>\n\n<p>LESS extends CSS with dynamic behavior such as variables, mixins, operations and functions. It allows for more compact stylesheets and helps reduce code duplication in CSS files.</p>\n\n<p>With the less package installed, .less files in your application are automatically compiled to CSS and the results are included in the client CSS bundle.</p>\n\n<h1 id=\"addingsimplestyling\">Adding simple styling</h1>\n\n<p>Create a new folder called 'styles' under the 'client' folder and add a new file - main.css under that folder.</p>\n\n<p>Then change the background color of our app:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Run the app and see your background color changed.</p>\n\n<h1 id="cssframeworks">CSS Frameworks</h1>\n\n<p>There are many CSS frameworks that help us write less CSS.</p>\n\n<p>Right now the most popular one is <a href="http://getbootstrap.com/">Bootstrap</a> so we are going to use that in this tutorial.</p>\n\n<ul>\n<li>We are also keeping close watch on <a href="https://www.polymer-project.org/">Polymer</a> and <a href="http://famo.us/integrations/angular">Famo.us/angular</a> and might  update the tutorial to use those instead of Bootstrap in the future.</li>\n</ul>\n\n<p>Let\'s add Bootstrap Meteor package to our project:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">twbs</span><span class="hljs-pseudo">:bootstrap</span>\n</code></pre>\n\n<p>Now let\'s start organizing by putting the Home link and the login buttons inside a navbar and the rest of the content inside a Bootstrap .container class.</p>\n\n<p>Inside <code>index.html</code> surround the H1 and the loginButton with a header like that:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Converting to Bootstrap doesn\'t stop here. By applying bootstrap styles to various other parts of our Socially app, our website will look better on different screens. Have a look at <a href="https://github.com/Urigo/meteor-angular-socially/compare/step_16...step_17">Code Diff</a> to see how we changed the structure of the main files.</p>\n\n<h1 id="less">Less</h1>\n\n<p>OK, simple styling works, but we want to be able to use <a href="http://lesscss.org/">LESS</a>.</p>\n\n<p>First change the file name from main.css to <code>main.less</code>.  Now add the LESS package in the command line:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> add less\n</code></pre>\n\n<p>Test that everything still works as before.</p>\n\n<p>Now go to <code>main.less</code> and add a different background color to the navbar:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Notice that we nested the .navbar inside the body. This is part of the <a href=\"http://lesscss.org/features/#features-overview-feature-nested-rules\">LESS syntax for nested rules</a>.</p>\n\n<h1 id=\"designingthepartieslist\">Designing the parties list</h1>\n\n<p>Now we are going to design the parties list.</p>\n\n<p>Like the Javascript and HTML files, we want the specific styling of parties to be inside the 'client->parties' folder so create a folder named styles until the parties folder.</p>\n\n<p>Inside that folder create a new file named 'partiesList.less'.</p>\n\n<p>The first thing we need to do in a new LESS file is to import it from the main file:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now we can start writing specific LESS code inside that file.</p>\n\n<p>We will make some changes in the code now to make the code more readable, and and some CSS rules to take advantage of the power of Bootstrap.</p>\n\n<p>First, we need to make sure we have  the latest versions of Bootstrap and angular-ui-bootstrap, in order to to that, let\'s run this commands:</p>\n\n<pre><code class="hljs python">meteor add twbs:bootstrap<span class="hljs-decorator">@3.3.5</span>\nmeteor add angularui:angular-ui-bootstrap<span class="hljs-decorator">@0.13.0</span>\n</code></pre>\n\n<p>Now, let\'s start with some cool fonts and some CSS changes to make the <code>index.html</code> look better:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And verify that we have <code>angular-ui-bootstrap</code> dependency in the module definition, because we will use <code>$modal</code> service later.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now, we will move the logic of new party creation into a new service for better coding, so let's create a new controller named <code>AddNewPartyCtrl</code> and the HTML view for that. We will later add the logic to open this view inside a modal.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),"\n\n",Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now we will make some changes in the <code>PartiesCtrl</code> in order to match the new structure with the <code>$modal</code>, and add some style to the Google Maps object.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.10")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now, let's update the view of the parties list and match the new logic - we will use <code>$modal</code> to open the new party page, and change some of the layout using Bootstrap's grid system.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>I will add new some CSS rules to make all that new structure look better.\nThe style rules are located in <code>.less</code> files, and the actual changes that make are available in <a href="https://github.com/Urigo/meteor-angular-socially/commit/c189d59bb71aac2a60a9fc5db4f2a00f0239c68b">this commit to view</a>, because the CSS is not the most relevant part in this tutorial.</p>\n\n<p>And after creating those style, let\'s update the main <code>less</code> file to use those, and add some LESS variables to control the basic colors of the application.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.11")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>So now we have a good looking page with some style, the only thing we need to do is to update the page with the party details.\nLet's modify the controller and the view to fit the new structure.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.12")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),"\n\n",Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("17.13")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>That\'s it! Now we have a nice style with a better looking CSS using Bootstrap and LESS!</p>\n\n<h1 id="summary">Summary</h1>\n\n<p>We learned how to use CSS, LESS and Bootstrap in Meteor.</p>')]})}();

!function(){Template.__checkName("tutorial.step_18.md"),Template["tutorial.step_18.md"]=new Template("Template.tutorial.step_18.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_17")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>In this step we will consider switching from <em>Twitter Bootstrap</em> to <a href="https://material.angularjs.org/#/"><em>angular-material</em></a>.</p>\n\n<p>Angular-material is an AngularJS implementation of Google\'s <a href="http://www.google.com/design/spec/material-design/introduction.html">Material Design specifications</a>. Material Design is a mobile-first design language used in many new Google\'s applications, especially on the Android platform.</p>\n\n<p>To start, first we have to remove bootstrap from our application. Type in the console:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">remove</span> <span class="hljs-tag">twbs</span><span class="hljs-pseudo">:bootstrap</span>\n</code></pre>\n\n<p>Now we have to add the angular-material Meteor package:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">angular</span><span class="hljs-pseudo">:angular-material</span>\n</code></pre>\n\n<p>Next, we want to inject the angular-material module into our Angular application. Edit your <code>client/lib/app.js</code> and add <code>ngMaterial</code>:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Don't forget to remove the <code>ui.bootstrap</code> dependency! It's not longer needed!</p>\n\n<p>That's it, now we can use angular-material in our application layout.</p>\n\n<p>Our application will have some errors now because we used to use services like <code>$modal</code> that belong to bootstrap's core.</p>\n\n<p>So first, let's fix is by using <code>$mdDialog</code> instead of <code>$modal</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And update the usage in the <code>AddNewPartyCtrl</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Great! So now in order get rid of all the bootstrap change we make, we need to remove some and modify some CSS and LESS.\nI did that <a href="https://github.com/Urigo/meteor-angular-socially/commit/e9b9b795c5c250659b044da0a5134ac32aad8096">in this commit</a>, and this is not part of the tutorial because the CSS is just copy-and-paste piece of code.\nNote that most of the change in this commit includes deleting CSS rules that used to override the Bootstrap\'s design.</p>\n\n<p>Angular-material uses declarative syntax, i.e. directives, to utilize Material Design elements in HTML documents.</p>\n\n<p>First we want to change our <code>index.html</code> to make use of the flex grid layout provided by Material Design. So, change your <code>client/index.html</code> to look like this:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>You can see we use <code>layout="column"</code> in the <code>body</code> tag, which tells angular-material to lay all inner tags of <code>body</code> vertically.</p>\n\n<p>Next, we use the handy <code>md-toolbar</code> directive as a wrapper for our app\'s toolbar.\nWe tell it to shrink on vertical scroll with <code>md-scroll-shrink</code> attribute and to lay inner elements in a row.</p>\n\n<p>We also tell it <code>layout-align="start center"</code> to lay inner elements at <code>start</code> of the primary direction (row), meaning element should start at the left edge, and lay them at <code>center</code> of the secondary direction (column), so they are stacked centrally in the vertical direction.\nWe also tell it to put padding around all inner elements with <code>layout-padding</code>.</p>\n\n<p>Inside the <code>md-toolbar</code> you see we used</p>\n\n<pre><code class="hljs apache"><span class="hljs-tag">&lt;span flex&gt;</span><span class="hljs-tag">&lt;/span&gt;</span>\n</code></pre>\n\n<p>element which is actually a separator blank element which is used to fill all the available blank space between the first and third element in the toolbar.</p>\n\n<p>So, now we have a link to Parties to the left, a span to fill all space, and a login button.\nElement layout flex grid is very simple and intuitive in angular-material and you can read all about it <a href="https://material.angularjs.org/#/layout/grid">here</a>.</p>\n\n<p>Next, we need to convert our parties list and party detail views to angular-material.\nFirst, replace the code in your <code>client/views/parties-list.ng.html</code> with this code:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>What did we do:</p>\n\n<ul>\n<li>Wrapped everything into the <code>md-content</code> tag</li>\n<li>Replaced all the buttons with <code>md-button</code> tags</li>\n<li>Wrapped form inputs into <code>md-input-container</code> tags which enable the Material Design style labels for inputs</li>\n<li>Added material design Icons</li>\n<li>Use <code>md-card-content</code> to display each item in the list</li>\n</ul>\n\n<h2 id="materialdesignicons">Material Design Icons</h2>\n\n<p>One new thing we also have to add is usage of Material Design icon set. Google provides free icons for Material Design. You can install it by typing:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">planettraining</span><span class="hljs-pseudo">:material-design-icons</span>\n</code></pre>\n\n<p>We have to define the <code>$mdIconProvider</code> in the <code>client/lib/app.js</code>. Insert these lines after the <code>angular.module</code> declaration:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>You don\'t have to define all these icon sets.\nYou just need to define those you need to use.\nYou can see a full list of available icons <a href="http://google.github.io/material-design-icons/">here</a>.\nYou can see in the view code above that to use icons you write:</p>\n\n<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">md-icon</span> <span class="hljs-attribute">md-svg-icon</span>=<span class="hljs-value">"content:ic_clear_24px"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">md-icon</span>&gt;</span>\n</code></pre>\n\n<p>in the <code>md-svg-icon</code> attribute you list <code>&lt;iconset&gt;:&lt;icon_name&gt;</code> in our case <code>content:ic_clear_24px</code>.</p>\n\n<p>Now, replace the code in the <code>client/view/party-details.ng.html</code> with the following code:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And now replace the HTML in the new party modal to use angular-material:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Here, as you can see a specific type of button used by angular-material. We have a link button:</p>\n\n<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">md-button</span> <span class="hljs-attribute">ng-href</span>=<span class="hljs-value">"/parties"</span>&gt;</span>Cancel<span class="hljs-tag">&lt;/<span class="hljs-title">md-button</span>&gt;</span>\n</code></pre>\n\n<p>Angular-Material makes a regular button that points to a link using <code>ng-href</code>.</p>\n\n<h2 id="customangularformsandaccountsuimaterialdesign">Custom Angular forms and Accounts-UI Material Design</h2>\n\n<p>Next, we need to make our users management pages use Material Design.</p>\n\n<p>To do that we are going to define our accounts routes manually and use <a href="/api/auth">angular-meteor\'s auth methods</a> in our code.</p>\n\n<p>First we want to remove the Meteor\'s login button from the toolbar and insert our custom buttons. So, open <code>client/index.html</code> and remove the following code from the toolbar:</p>\n\n<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"navbar-right navbar-text"</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">meteor-include</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"loginButtons"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">meteor-include</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>\n</code></pre>\n\n<p>and replace it with:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now show <code>Login</code> and <code>Sign up</code> buttons when the user is not logged in, and we show user name and <code>Logout</code> button when the user is logged in.</p>\n\n<p>Having created these buttons we need to assign them corresponding routes as referenced in the <code>ng-href</code> attributes of our buttons.</p>\n\n<p>Open the <code>client/routes.js</code> and insert following routes below the <code>$stateProvider</code> line, and above the existing routes:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.10")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ul>\n<li>controllerAs -\nFirst thing of note here is that we're using <code>controllerAs</code> parameter in the route definition. This gives an alias to <code>$scope</code> and many other benefits. For detailed information, read <a href=\"http://toddmotto.com/digging-into-angulars-controller-as-syntax/\">this article</a>. You will see later how we use it.</li>\n<li>Routes -\nSecond thing is in the <code>logout</code> route. We use a <code>resolve</code> parameter to define a sort of inline action for this route, as there is not too much logic associated with it, and there is no template. We need this route to log the user out of the system and redirect to home page. So we use <code>$meteor.logout()</code> method which returns a promise, and on successful logout we redirect the user to the home page, i.e. <code>parties</code> state. On failure, we log an error to the browser console.\nFor each of our routes we have declared a template and a controller.</li>\n</ul>\n\n<p>So, let's go ahead and create them. Create a subfolder <code>users</code> in the <code>client/</code> folder, and in the <code>users</code> subfolder create subfolders <code>controllers</code>, and <code>views</code>. We now need to create a controller and a view for each of our routes.</p>\n\n<p>Create a file <code>client/users/controllers/login.js</code>. Paste the following code:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.11")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now, instead of using $scope, we\'re using <em>controller as</em> syntax, so we declare a variable <code>vm</code> and assign <code>this</code> to it.\nFrom now on, each <code>$scope.</code> variable or method will be declared as <code>vm.</code> variable or method.</p>\n\n<p>We created a <code>credentials</code> object containing email and password that will be passed to us from the view. We created a <code>login</code> method that will execute the user log in.</p>\n\n<p>You can see a list of API methods for users management provided by <code>angular-meteor</code> <a href="/api/auth">here</a>.</p>\n\n<p>Just as we did in the <code>logout</code> route, here we utilize an <code>angular-meteor</code> method <code>$meteor.loginWithPassword()</code> which takes two arguments</p>\n\n<ol>\n<li>username or email</li>\n<li>password</li>\n</ol>\n\n<p>It returns a promise, and on success we redirect the user <code>parties</code> state, or assign error message to our <code>vm.error</code> property of the controller.</p>\n\n<p>Now create a view file with login form in <code>client/users/views</code> folder and name it <code>login.ng.html</code>. Paste the following code:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.12")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>In our router file, we declared the login route controller to be <code>LoginCtrl</code> and a <code>controllerAs</code> parameter to be <code>lc</code>.</p>\n\n<p>This is an alias for our controller and it corresponds to the <code>vm</code> variable in our controller code.\nSo to address all variables/objects/methods of our controller, we prefix them with <code>lc.</code></p>\n\n<p>In our view. You can see in the view that we use <code>lc.error</code>, <code>lc.credentials</code>, and <code>lc.login()</code>.</p>\n\n<p>The procedure is the same for the <code>register</code> and <code>resetpw</code> routes, so now you create <code>client/users/controllers/register.js</code> and paste following code into it:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.13")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Create a file <code>client/users/views/register.ng.html</code> and paste the following code into it:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.14")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Create a file <code>client/users/controllers/reset.js</code> and paste the following code into it:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.15")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And, finally, create a corresponding view <code>client/users/views/reset-password.ng.html</code> and paste the following into it:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("18.16")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h1 id="summary">Summary</h1>\n\n<p>In this chapter we two main things:</p>\n\n<ol>\n<li>How to work with angular-material-design in our angular-meteor app</li>\n<li>How to create custom Angular forms for our application\'s auth</li>\n</ol>\n\n<p>I hope one of you will create an accounts-ui package based on that code and will save us all tons of code!</p>')]})}();

!function(){Template.__checkName("tutorial.step_19.md"),Template["tutorial.step_19.md"]=new Template("Template.tutorial.step_19.md",function(){var s=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_18")}},function(){return Spacebars.include(s.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>This part of the tutorial will cover the usage of third-party libraries with angular-meteor.</p>\n\n<p>Parts of this tutorial are also relevant for users who uses only Meteor, without angular-meteor, because the solution for third-party libraries comes from Meteor packaging manager - <strong>Atmosphere</strong>.</p>\n\n<p>In this part of the tutorial we will show multiple solution for the same problem - using third-party libraries with Meteor and angular-meteor.</p>\n\n<p>Every AngularJS developer knows and uses third-party libraries (like angular-ui-bootstrap, ui-router, etc..), but because we do not have the ability to easily include the ".js" file on our "head" tag - we need another solutions.</p>\n\n<p>In order to add third-party libraries to your Meteor project - you can use the <code>meteor add PACKAGE_NAME</code> command to add the package.</p>\n\n<p>Also, for <strong>most</strong> of the AngularJS third-party libraries - there\'s already a Meteor package (which is an equivalent to bower or NPM).</p>\n\n<p>You can search for those packages using the <a href="https://atmospherejs.com/">Atmosphere</a> website.</p>\n\n<p>For example, in order to use <strong><a href="https://atmospherejs.com/angularui/angular-ui-router">angular-ui-router</a></strong> in your project, easily run this command:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">angularui</span><span class="hljs-pseudo">:angular-ui-router</span>\n</code></pre>\n\n<p>And then just use the angular-ui-router on your angular-meteor project, by adding it to the AngularJS module initialization:</p>\n\n<pre><code class="hljs coffeescript">angular.<span class="hljs-built_in">module</span>(<span class="hljs-string">\'myModule\'</span>, [\n  <span class="hljs-string">\'angular-meteor\'</span>,\n  <span class="hljs-string">\'ui.router\'</span>\n]);\n</code></pre>\n\n<p><strong>But this is an easy one</strong> - because angular-ui-router is one of the most common library for AngularJS.</p>\n\n<p>In some cases, we want to use some packages that does not have an Atmosphere package exists - you can use the following instructions to solve your problem.</p>\n\n<p><strong>But First</strong>, we need to understand how Meteor and it\'s package manager - Atmosphere, works: Any package registered on Atmosphere has some meta-data and the real JS and CSS files that written on a file named "<strong>package.js</strong>".</p>\n\n<p>The meta-data contain there parameters:</p>\n\n<ul>\n<li>Package name</li>\n<li>Package version (based on the <a href="http://semver.org/">semver</a> standard)</li>\n<li>Package summary</li>\n<li>Package GIT repository</li>\n<li>Package documentation file (usually the README.md file)</li>\n</ul>\n\n<p>Also, each package declares these:</p>\n\n<ul>\n<li>Package dependencies (on other 3rdParty libraries).</li>\n<li>Meteor minimal version.</li>\n<li>Files in use (usually the CSS and the JS files of the library).</li>\n<li>JavaScript exports (In case that there are any).</li>\n</ul>\n\n<p>If you would like to know some more about Meteor packaging system and versioning, you can read <a href="https://meteorhacks.com/meteor-packaging-system-understanding-versioning">this</a> article by MeteorHacks.</p>\n\n<p>This is an example for angular-ui-router\'s package.js file:</p>\n\n<pre><code class="hljs php"><span class="hljs-comment">// package metadata file for Meteor.js</span>\n<span class="hljs-keyword">var</span> packageName = <span class="hljs-string">\'angularui:angular-ui-router\'</span>; <span class="hljs-comment">// https://atmospherejs.com/angularui/angular-ui-router</span>\n<span class="hljs-keyword">var</span> where = <span class="hljs-string">\'client\'</span>; <span class="hljs-comment">// where to install: \'client\' or \'server\'. For both, pass nothing.</span>\n<span class="hljs-keyword">var</span> version = <span class="hljs-string">\'0.2.14\'</span>;\n\n<span class="hljs-comment">// Meta-data</span>\nPackage.describe({\n  name: packageName,\n  version: version,\n  summary: <span class="hljs-string">\'angular-ui-router (official): Flexible routing with nested views in AngularJS\'</span>,\n  git: <span class="hljs-string">\'git@github.com:angular-ui/ui-router.git\'</span>,\n  documentation: <span class="hljs-keyword">null</span>\n});\n\nPackage.onUse(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(api)</span> </span>{\n  api.versionsFrom([<span class="hljs-string">\'METEOR@0.9.0\'</span>, <span class="hljs-string">\'METEOR@1.0\'</span>]); <span class="hljs-comment">// Meteor versions</span>\n\n  api.<span class="hljs-keyword">use</span>(<span class="hljs-string">\'angular:angular@1.0.8\'</span>, where); <span class="hljs-comment">// Dependencies</span>\n\n  api.addFiles(<span class="hljs-string">\'release/angular-ui-router.js\'</span>, where); <span class="hljs-comment">// Files in use</span>\n});\n</code></pre>\n\n<h1 id="solution1">Solution #1</h1>\n\n<p>This solution is the most helpful solution of all - because in the end of this solution, you achieve these results:</p>\n\n<ul>\n<li>The package will be listed on the Atmosphere package manager and you\'ll be able to use it with "meteor add" command.</li>\n<li>You will create a pull request to the package author in order to provide Meteor support for the package.</li>\n</ul>\n\n<p><strong>If you are not interested on this solution and just want to do some "monkey patch" in order to your an unlisted package - just the Solution #2.</strong></p>\n\n<p>In order to learn in this example, we will use <a href="https://github.com/dotansimha/angularjs-dropdown-multiselect">angularjs-dropdown-multiselect</a> as an example for a package.</p>\n\n<p>First, we want to fork the repository and clone it to our computer by using <code>git clone FORKED_REPOSITORY_LINK</code>.</p>\n\n<p>Then, create the "<code>package.js</code>" file on the root directory of the project, and use this basic template:</p>\n\n<pre><code class="hljs php"><span class="hljs-comment">// package metadata file for Meteor.js</span>\n<span class="hljs-keyword">var</span> packageName = <span class="hljs-string">\'PACKAGE_NAME\'</span>;\n<span class="hljs-keyword">var</span> where = <span class="hljs-string">\'client\'</span>; <span class="hljs-comment">// where to install: \'client\' or \'server\'. For both, pass nothing.</span>\n<span class="hljs-keyword">var</span> version = <span class="hljs-string">\'PACKAGE_VERSION\'</span>;\n<span class="hljs-keyword">var</span> summary = <span class="hljs-string">\'PACKAGE_SUMMARY\'</span>;\n<span class="hljs-keyword">var</span> gitLink = <span class="hljs-string">\'GIT_LINK\'</span>;\n<span class="hljs-keyword">var</span> documentationFile = <span class="hljs-string">\'README.md\'</span>;\n\n<span class="hljs-comment">// Meta-data</span>\nPackage.describe({\n  name: packageName,\n  version: version,\n  summary: summary,\n  git: gitLink,\n  documentation: documentationFile\n});\n\nPackage.onUse(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(api)</span> </span>{\n  api.versionsFrom([<span class="hljs-string">\'METEOR@0.9.0\'</span>, <span class="hljs-string">\'METEOR@1.0\'</span>]); <span class="hljs-comment">// Meteor versions</span>\n\n  api.<span class="hljs-keyword">use</span>(<span class="hljs-string">\'DEPENDENCY_NAME\'</span>, where); <span class="hljs-comment">// Dependencies</span>\n\n  api.addFiles(<span class="hljs-string">\'FILE_NAME\'</span>, where); <span class="hljs-comment">// Files in use</span>\n});   \n</code></pre>\n\n<p>Now, just fill the information inside the file, according to the package information, the <code>bower.json</code> could be helpful to fill missing information you can\'t find.</p>\n\n<p>So in our case, the final <code>package.js</code> file will look like that:</p>\n\n<pre><code class="hljs php"><span class="hljs-comment">// package metadata file for Meteor.js</span>\n<span class="hljs-keyword">var</span> packageName = <span class="hljs-string">\'dotansimha:angularjs-dropdown-multiselect\'</span>;\n<span class="hljs-keyword">var</span> where = <span class="hljs-string">\'client\'</span>; <span class="hljs-comment">// where to install: \'client\' or \'server\'. For both, pass nothing.</span>\n<span class="hljs-keyword">var</span> version = <span class="hljs-string">\'1.5.2\'</span>;\n<span class="hljs-keyword">var</span> summary = <span class="hljs-string">\'AngularJS Dropdown Multiselect directive\'</span>;\n<span class="hljs-keyword">var</span> gitLink = <span class="hljs-string">\'https://github.com/dotansimha/angularjs-dropdown-multiselect\'</span>;\n<span class="hljs-keyword">var</span> documentationFile = <span class="hljs-string">\'README.md\'</span>;\n\n<span class="hljs-comment">// Meta-data</span>\nPackage.describe({\n  name: packageName,\n  version: version,\n  summary: summary,\n  git: gitLink,\n  documentation: documentationFile\n});\n\nPackage.onUse(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(api)</span> </span>{\n  api.versionsFrom([<span class="hljs-string">\'METEOR@0.9.0\'</span>, <span class="hljs-string">\'METEOR@1.0\'</span>]); <span class="hljs-comment">// Meteor versions</span>\n\n  api.<span class="hljs-keyword">use</span>(<span class="hljs-string">\'angular:angular@1.2.0\'</span>, where); <span class="hljs-comment">// Dependencies</span>\n  api.<span class="hljs-keyword">use</span>(<span class="hljs-string">\'stevezhu:lodash@3.5.0\'</span>, where); <span class="hljs-comment">// Surprised?! Read the bower.json file!</span>\n\n  api.addFiles(<span class="hljs-string">\'src/angularjs-dropdown-multiselect.js\'</span>, where); <span class="hljs-comment">// Files in use</span>\n});   \n</code></pre>\n\n<p><strong>Important Notes:</strong></p>\n\n<ul>\n<li>The prefix for the package name should be the package author username - you can use YOUR username or create an Meteor organization and use that name you created.</li>\n<li>The dependencies are build in this form: AUTHOR_NAME:PACKAGE_NAME@VERSION, you can also FORCE a specific version by adding "=" before the version number.</li>\n<li>In this case, a dependency on <em>Lodash</em> is needed, so we will search the Atmposhere website for Lodash package and we will find the full package name.</li>\n<li>It\'s okay to use the source file and not the minified version of the package - because on production - Meteor minifies everything for you!</li>\n</ul>\n\n<p>So now, after we created the <code>package.js</code> file, we just need to run the Meteor\'s publish command on the folder with the package file:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> publish\n</code></pre>\n\n<p>And if the package does not exists, we need to add <code>--create</code> flag:</p>\n\n<pre><code class="hljs sql">meteor publish <span class="hljs-comment">--create</span>\n</code></pre>\n\n<p>So now - the package will be registered on Atmosphere package manager and you\'ll be able to use it.</p>\n\n<p>The last part of this solution is to commit the <code>package.js</code> file into your forked repository, and then create a Pull Request in order to help the package\'s author to maintain the Meteor package on a regular basis.</p>\n\n<p><strong>If you want to provide even some more helpful solution</strong> - you can use <a href="https://github.com/MeteorPackaging/grunt-gulp-meteor">these instructions</a> to create a Gulp/Grunt task that automatically published a new version of the package every time the developer publishes a new release.</p>\n\n<h1 id="solution2">Solution #2</h1>\n\n<p>This is a more simple solution - this solution will be useful in case you want just to create an Atmosphere package without helping the developer to integrate Meteor in his versions publishing process.</p>\n\n<p>You can just use <code>bower</code>, install the package locally on your computer, then create a <code>package.js</code> file and run <code>meteor publish</code>.</p>\n\n<p>But you can even be more lazy! there is a tool named <a href="https://github.com/dotansimha/meteor-package-publisher">angular-meteor-publisher</a> that provides a full solution for transferring a package from <code>bower</code> (will support NPM on the future) into <code>Atmosphere</code> just by providing the meta-data.</p>\n\n<p>You  just need to provide the basic information of the source package (the <code>bower</code> meta-data, usually it\'s <code>bower install angular-ui-router@0.2.14</code> and the destination meta-data (the information that Atmosphere requires), add the JS and CSS files and the package dependencies and just run it by using:</p>\n\n<pre><code class="hljs perl">node meteor-<span class="hljs-keyword">package</span>-publisher myJSONfile.json\n</code></pre>\n\n<p>For example, this is how the ngInfiniteScroll package will be published using this tool (the JSON meta-data file):</p>\n\n<pre><code class="hljs json">{\n  "<span class="hljs-attribute">source</span>": <span class="hljs-value">{\n    "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"bower"</span></span>,\n    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"ngInfiniteScroll"</span></span>,\n    "<span class="hljs-attribute">version</span>": <span class="hljs-value"><span class="hljs-string">"1.2.1"</span>\n  </span>}</span>,\n  "<span class="hljs-attribute">destination</span>": <span class="hljs-value">{\n    "<span class="hljs-attribute">atmospherePackageName</span>": <span class="hljs-value"><span class="hljs-string">"ng-infinite-scroll"</span></span>,\n    "<span class="hljs-attribute">atmosphereOrganizationName</span>": <span class="hljs-value"><span class="hljs-string">"srozegh"</span></span>,\n    "<span class="hljs-attribute">summary</span>": <span class="hljs-value"><span class="hljs-string">"Infinite Scrolling for AngularJS"</span></span>,\n    "<span class="hljs-attribute">git</span>": <span class="hljs-value"><span class="hljs-string">"https://github.com/sroze/ngInfiniteScroll"</span></span>,\n    "<span class="hljs-attribute">documentation</span>": <span class="hljs-value"><span class="hljs-literal">null</span></span>,\n    "<span class="hljs-attribute">versionsFrom</span>": <span class="hljs-value"><span class="hljs-string">"METEOR@0.9.0.1"</span></span>,\n    "<span class="hljs-attribute">filesToAdd</span>": <span class="hljs-value">[\n      {"<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"build/ng-infinite-scroll.js"</span></span>, "<span class="hljs-attribute">platforms</span>": <span class="hljs-value">[<span class="hljs-string">"client"</span>]</span>}\n    ]</span>,\n    "<span class="hljs-attribute">use</span>": <span class="hljs-value">[\n      {"<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"jquery@1.11.3_2"</span></span>, "<span class="hljs-attribute">platforms</span>": <span class="hljs-value">[<span class="hljs-string">"client"</span>]</span>},\n      {"<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"angular:angular@1.3.15_1"</span></span>, "<span class="hljs-attribute">platforms</span>": <span class="hljs-value">[<span class="hljs-string">"client"</span>]</span>}\n    ]\n  </span>}\n</span>}\n</code></pre>\n\n<h1 id="summary">Summary</h1>\n\n<p>As you can see, using existing packages in your angular-meteor application is simple, and when we encounter a third-party library without Meteor package support we can help by creating the "package.js" file and created a pull request (Solution #1).</p>\n\n<p>Also, you can use a automatic publisher that helps us to publish packages real quick (Solution #2).</p>\n\n<p><strong>We prefer that the first solution will be your choice in order to enrich the Meteor and angular-meteor community and help other developers to use third-party packages.</strong></p>')]})}();

!function(){Template.__checkName("tutorial.step_20.md"),Template["tutorial.step_20.md"]=new Template("Template.tutorial.step_20.md",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_19")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>In this step we are going to add the ability to upload images into our app, and also sorting and naming them.</p>\n\n<p>Angular-Meteor provides us with the <a href="/api/files">$meteor.collectionFS API</a> that wraps <a href="https://github.com/CollectionFS/Meteor-CollectionFS">CollectionFS</a>.</p>\n\n<p><a href="https://github.com/CollectionFS/Meteor-CollectionFS">CollectionFS</a> is a suite of Meteor packages that together provide a complete file management solution including uploading, downloading, storage, synchronization, manipulation, and copying.</p>\n\n<p>It supports several storage adapters for saving files to the local filesystem, GridFS, Amazon S3, or DropBox,  and additional storage adapters can be created.</p>\n\n<p>So let\'s add image upload to our app!\nWe will start by adding CollectionFS to our project, by running the following command:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">cfs</span><span class="hljs-pseudo">:standard-packages</span>\n</code></pre>\n\n<p>Now, we will decide the storage adapter we want to use. \nIn this example, we will use the GridFS as storage adapters, so we will add the adapter by running this command:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">cfs</span><span class="hljs-pseudo">:gridfs</span>\n</code></pre>\n\n<p>Note: you can find more information about Stores and Storage Adapters on the <a href="https://github.com/CollectionFS/Meteor-CollectionFS">CollectionFS</a>\'s GitHub repository.</p>\n\n<p>So now we have the CollectionFS support and the storage adapter installed - we still need to create a CollectionFS object to handle our files.\nNote that you will need to define the collection as shared resource because you will need to use the collection in both client and server side.</p>\n\n<h3 id="creatingthecollectionfs">Creating the CollectionFS</h3>\n\n<p>Let\'s start by creating <code>model/images.js</code> file, and define a regular CollectionFS object called "Images".\nAlso we will use the CollectionFS API that allows us to defined auth-rules.\nFinally, We will publish the collection just like any other collection, in order to allow the client to subscribe to those images:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And let's add the usage of $meteorCollectionFS to our core controller (<code>PartiesListCtrl</code>):</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>So now we have the collection, We can now create a client-side that handles the images upload.</p>\n\n<h3 id="imageupload">Image Upload</h3>\n\n<p>Note that for file upload you can use basic HTML <code>&lt;input type="file"&gt;</code>  or any other package - you only need the HTML5 File object to be provided.</p>\n\n<p>For our application, we would like to add ability to drag-and-drop images, so we use AngularJS directive that handles file upload and gives us more abilities such as drag &amp; drop, file validation on the client side.\nIn this example, I will use <a href="https://github.com/danialfarid/ng-file-upload">ng-file-upload</a>, which have many features for file upload.\nIn order to do this, lets add the package to our project:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">danialfarid</span><span class="hljs-pseudo">:ng-file-upload</span>\n</code></pre>\n\n<p>Now, lets add a dependency in the <code>app.js</code> file:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now, let's add the usage of ng-gile-upload to the add new party modal, note that we use ng-controller there and we create the controller in the next step.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And now we will create the <code>AddPhotoCtrl</code> controller.\nWe also implement the image uploading function - <code>addImages</code> in the <code>nfg-change</code> attribute on html file we just created.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And we need to make sure we also have the Images collection on the scope in order to save the photos:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Also, in order to make the "drop-zone" look like a dropable area in my page, I added this CSS in the <code>parties.import.less</code> stylesheet:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>And that\'s it! now we can upload images by using drag and drop!\nJust note that the Application UI still don\'t show the new images we upload... we will add this later.\nNow let\'s add some more cool features, And make the image uploaded image visible!</p>\n\n<h3 id="imagecrop">Image Crop</h3>\n\n<p>One of the most common actions we want to make with pictures is edit them before saving. \nWe will add to our example ability to crop images before uploading them to the server, using <a href="https://github.com/alexk111/ngImgCrop/">ngImgCrop</a> package.\nSo lets start by adding the package to our project:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">alexk111</span><span class="hljs-pseudo">:ng-img-crop</span>\n</code></pre>\n\n<p>And add a dependency in our module:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>We want to perform the crop on the client, before saving it to the CollectionFS, so lets get the uploaded image, and instead of saving it to the server - we will get the Data Url of it, and use it in the ngImgCrop:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>We took the file object and used HTML5 FileReader API to read the file from the user on the client side, without uploading it to the server.\nThen we saved the DataURI of the image into a $scope variable.\nNext, we will need to use this DataURI with the ngImgCrop directive as follow:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.10")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Moreover we add <code>ng-hide</code> to the upload control, in order to hide it, after the user picks an image to crop.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.11")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And add some CSS to make it look better:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.12")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And let's add a button that saves the new cropped image.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.13")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>In order to save, we need to implement <code>saveCroppedImage()</code> function. We will use the same <code>$meteorCollectionFS</code> API we used before, just use the <code>save</code> function.\nCollectionFS have the ability to receive DataURI and save it, just like a File object. So the implementation looks like that:</p>\n\n<p>So we take the image object and save it to the CollectionFS and put it in an array we called <code>newPartyImages</code> that will hold the images for the new party.\nThen we reset the form by updating the value of <code>imgSrc</code> variable (we used it in the <code>ng-hide</code>).</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.14")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And we need to add the <code>newPartyImages</code> array in the controller:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.15")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>And we are almost done, Now we have the ability to crop images and then save them using CollectionFS.\nWe are just missing the display!</p>\n\n<h3 id="displayuploadedimages">Display Uploaded Images</h3>\n\n<p>Let\'s add a simple gallery to list the images in the new party form:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.16")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Cool! We can now add all the images we want to attach to the new party!</p>\n\n<p>Now let\'s add description to our images!</p>\n\n<h3 id="imagesmetadatadescription">Images Metadata &amp; Description</h3>\n\n<p>Using CollectionFS, we can also save metadata on the files we store.\nIn order to to that, we just need to update the <code>metadata</code> property of the image object.</p>\n\n<p>In order to do that with really nice and user-friendly ui, I used <a href="https://github.com/vitalets/angular-xeditable">angular-xeditable</a>.\nLets add the angular-xeditable package to our project:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">vitalets</span><span class="hljs-pseudo">:angular-xeditable</span>\n</code></pre>\n\n<p>And add a dependency in our module:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.17")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now, let's use angular-xeditable and add usage under the image:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.18")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And, of course, implement <code>updateDescription</code> function on the parties list scope:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.19")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Due to problem with open issue in <a href="https://github.com/vitalets/angular-xeditable/issues/6">angular-xeditable</a> \nWe need to change the form on <code>add-new-party-modal.ng.html</code> into div to make the inline editing of <code>angular-xeditable</code> work.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.20")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And to keep the layout of form with angular-material, we can add these CSS rules to the div:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.21")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>That\'s it! Now we have a photo gallery with description for each image!</p>\n\n<h3 id="sortimages">Sort Images</h3>\n\n<p>After we learned how to use CollectionFS metadata and how to update metadata values, we can also add an ability to sort and update the images order.\nTo get the ability to sort the images, let\'s use <a href="https://github.com/kamilkp/angular-sortable-view">angular-sortable-view</a>.</p>\n\n<p>Add the package by running this command:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">netanelgilad</span><span class="hljs-pseudo">:angular-sortable-view</span>\n</code></pre>\n\n<p>And then add a dependency for the module:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.22")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>The basics of angular-sortable-view is to add the <code>sv-?</code> attributes to our page, just like the examples in the <code>angular-sortable-view</code> repository, So let's do that:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.23")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>I also added <code>draggable="false"</code> to prevent the browser\'s default behavior for dragging images.</p>\n\n<p>We can also add a highlight to the first image, which we will use as the main image, by adding an indication for that:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.24")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And some CSS to make it look better:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.25")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>So now we have image gallery with ability to add images, edit them, add a description and sort.\nNow we just need to add the logic that connect those images with the party we are creating!</p>\n\n<h3 id="linkimagetoobject">Link Image To Object</h3>\n\n<p>So as you know, we have all the images stored in <code>newPartyImages</code> array, Let\'s implement the <code>createParty</code> function, and save a link to the images with the right order:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.26")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And finally, to display the main image in the parties list, add the following code:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.27")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And implement the <code>getMainImage</code> function:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.28")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>With some CSS rules to make it look better:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.29")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>And that\'s it!</p>\n\n<h3 id="thumbnails">Thumbnails</h3>\n\n<p>Another common usage with image upload, is the ability to save thumbnails of the image as soon as we upload it.\nCollectionFS gives the ability to handle multiple Stores object, and perform manipulations before we save it in each store.\nYou can find the full information about image manipulation in the <a href="https://github.com/CollectionFS/Meteor-CollectionFS#image-manipulation">CollectionFS docs</a>.</p>\n\n<p>Also, make sure you add graphicsmagick package by inserting the following line in the terminal :</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">cfs</span><span class="hljs-pseudo">:graphicsmagick</span>\n</code></pre>\n\n<p>For more information, follow the instructions on the <a href="https://github.com/CollectionFS/Meteor-CollectionFS">CollectionFS</a> GitHub page.\nIn order to add ability to save thumbnails, lets add a new store in the <code>images.js</code> modal and use <code>transformWrite</code> ability:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.30")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>So now each image we upload will be saved also as thumbnail.\nAll we have to do in order to display the thumbnail instead of the original image is to add a param to <code>url()</code> method of File objects and decide which Store to use when creating the URL:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular-meteor"),step:Spacebars.call("20.31")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>That\'s it! Now we added the ability to save thumbnails for the images and use them in the view!</p>\n\n<p>In addition to the <a href="https://github.com/Urigo/meteor-angular-socially">angular-meteor-socially</a> tutorial, you can find simple examples of each step of the tutorial in the Angular-Meteor repository, under <a href="https://github.com/Urigo/angular-meteor/tree/master/examples">examples/</a> directory.</p>')]})}();

!function(){Template.__checkName("tutorialAngular2.step_00.html"),Template["tutorialAngular2.step_00.html"]=new Template("Template.tutorialAngular2.step_00.html",function(){var e=this;return[HTML.Raw('<blockquote>\n  <p>Disclaimer: Angular 2 is not yet production ready. The API will change. For now, consider this tutorial for educational purposes.</p>\n</blockquote>\n\n<p>Let\'s start building our Meteor Angular 2 Socially app.</p>\n\n<p>In this step, you will:</p>\n\n<ul>\n<li>Become familiar with the most important source code files</li>\n<li>Learn how to start the Meteor server</li>\n<li>Connect an Angular 2 FrontEnd</li>\n<li>Run the application in the browser</li>\n</ul>\n\n<h2 id="meteorsetup">Meteor Setup</h2>\n\n<p>First step - let\'s install Meteor!</p>\n\n<p>Open your command line and paste this command:</p>\n\n<pre><code class="hljs ruby"><span class="hljs-variable">$ </span>curl <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/install.meteor.com/</span> | sh\n</code></pre>\n\n<blockquote>\n  <p>If you are on a Windows machine, go <a href="https://www.meteor.com/install">here</a> to install</p>\n</blockquote>\n\n<p>Now let\'s create our app - write this in the command line:</p>\n\n<pre><code class="hljs sql">$ meteor <span class="hljs-operator"><span class="hljs-keyword">create</span> socially\n</span></code></pre>\n\n<p>Now let\'s see what we got. Go into the folder:</p>\n\n<pre><code class="hljs ruby"><span class="hljs-variable">$ </span>cd socially\n</code></pre>\n\n<p>and run the app like so:</p>\n\n<pre><code class="hljs ruby"><span class="hljs-variable">$ </span>meteor\n<span class="hljs-status">\n=&gt;</span> <span class="hljs-constant">Started</span> proxy\n<span class="hljs-status">=&gt;</span> <span class="hljs-constant">Started</span> <span class="hljs-constant">MongoDB</span>.\n<span class="hljs-status">=&gt;</span> <span class="hljs-constant">Started</span> your app.\n&gt;=&gt; <span class="hljs-constant">App</span> running <span class="hljs-symbol">at:</span> <span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/localhost:3000/</span>\n</code></pre>\n\n<p>Now go to <a href="http://localhost:3000/">http://localhost:3000/</a>\nand look at the amazing app that\'s running on your computer!</p>\n\n<p>So, as you can see, we have a full running app which includes a server and a client!</p>\n\n<p>The default Meteor app starts life with three files, one <code>js</code>, one <code>html</code> and one <code>css</code> file. Each named with the application name you used in the <code>create</code> command above. In our case this is <code>socially</code>.</p>\n\n<p>We are going to add our own files for this tutorial. So let\'s start by deleting the following files:</p>\n\n<pre><code class="hljs javascript">- socially.css    (<span class="hljs-keyword">delete</span>)\n- socially.html   (<span class="hljs-keyword">delete</span>)\n- socially.js     (<span class="hljs-keyword">delete</span>)\n</code></pre>\n\n<p>Now we can start building our app.</p>\n\n<p>Create a directory called <code>client</code>. It is important that the name is <code>client</code>. Meteor will run files inside this directory only on the client. More about that in step 7.</p>\n\n<p>First, let\'s create a new <code>index.html</code> file and place this code inside. Then run the app again:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("0.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>As you can see, there is no html tag, no head tag, very simple.</p>\n\n<p>The reason for this is the way Meteor structures and serves files to the client.</p>\n\n<p>Meteor scans all the HTML files in your application and concatenates them together.</p>\n\n<p>It will create the <code>HTML</code>, <code>HEAD</code> and <code>BODY</code> tags by itself and place in there everything it needs to run the app.</p>\n\n<p>Then it will search for all the HTML files containing <code>HEAD</code> or <code>BODY</code> tags and concatenate their content into the main file.</p>\n\n<p>So in our case, Meteor found our <code>index.html</code> file, recognized it was meant for the client only, found the <code>BODY</code> tag inside and added it\'s content to the <code>BODY</code> tag of the main generated file.</p>\n\n<blockquote>\n  <p>(right-click -> inspect element on the page to see the generated file)</p>\n</blockquote>\n\n<h2 id="angular2package">Angular 2 Package</h2>\n\n<p>Now it\'s time to add Angular 2 to our stack!</p>\n\n<p>First things first, let\'s add the Angular 2 package to Meteor (we will discuss more about Meteor packages later in this tutorial)</p>\n\n<p>Back in the command line, launch this command:</p>\n\n<pre><code class="hljs css">$ <span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">shmck</span><span class="hljs-pseudo">:angular2</span>\n</code></pre>\n\n<p>This package takes care of connecting Angular to Meteor and includes the latest Angular 2 library code into our app.</p>\n\n<h2 id="typescript">TypeScript</h2>\n\n<p>In this tutorial, we\'ll be using TypeScript. Don\'t worry if you\'re not familiar with TypeScript. Valid JavaScript is valid TypeScript.</p>\n\n<p>TypeScript just adds more optional features to JavaScript such as types &amp; interfaces. You\'ll be able to do this tutorial fine without understanding what these are yet; but if you\'d like to learn more try the [TypeScript tutorial] (<a href="http://www.typescriptlang.org/Tutorial">Learn more</a>).</p>\n\n<p>Why TypeScript? It\'s true, Angular 2 can be written in regular JavaScript (ES5), the new JavaScript (ES2015 aka ES6) or TypeScript. However, TypeScript is the recommended choice by the Angular team. As we progress, I hope you\'ll come to understand why.</p>\n\n<p>Install a TypeScript compiler with Angular 2 features enabled. In the command line:</p>\n\n<pre><code class="hljs css">$ <span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">netanelgilad</span><span class="hljs-pseudo">:angular2-typescript</span>\n</code></pre>\n\n<p>This compiler will convert our <code>.ts</code> files to valid <code>.js</code> files.</p>\n\n<p>ES2015 &amp; TypeScript both use modules. These are the <code>import</code> and <code>export</code> statements that have arrived in JavaScript.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("0.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h2 id="systemjs">System.js</h2>\n\n<p>System.js is a module loader built into the <code>shmck:angular2</code> package. We\'ll use it to load our root component.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("0.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Here we're telling System.js to load <code>app.js</code>, which is compiled from our <code>app.ts</code> file.</p>\n\n<p>Once we've created our <code>app.ts</code> file we can use Angular 2 in our Meteor app.</p>\n\n<h2 id=\"rootcomponent\">Root Component</h2>\n\n<p>A component is a controller with an attached view. Think of it like a brick in the castle of your app.</p>\n\n<p>We'll create a root component tag called <code>app</code>. Let's include that component into our main <code>index.html</code> file:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("0.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>But if you load this in your browser, <strong>you won't see anything</strong>. That's because we still need to <strong>create the actual Angular 2 component</strong>, which we'll do next.</p>\n\n<h1 id=\"angular2component\">Angular 2 Component</h1>\n\n<p>Angular 2 code is structured like a tree of components inside of each other. So let's create our root component which other components will stem out of.</p>\n\n<p>Create a new <code>app.ts</code> file inside of the <code>client</code> folder.</p>\n\n<p>Now you can see another example of Meteor's power and simplicity - no need to include this file anywhere. Meteor will take care of it by going through all the files in the folder and including them automatically.</p>\n\n<p>Let's continue defining our Angular 2 application module.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("0.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>First we\'re importing the dependencies we needed from <code>angular2/angular2</code>. This is not a folder and file in your directory, but referring to an alias provided to System.js in the <code>shmck:angular2</code> package.</p>\n\n<p>Notice the <code>@</code> syntax. In Angular 2, these are called Annotations. They are similar to a new feature coming to ES2016 called Decorators. You can read more about the differences between the two <a href="http://blog.thoughtram.io/angular/2015/05/03/the-difference-between-annotations-and-decorators.html">here</a>.</p>\n\n<p>Basically Annotations allow us to elegantly add metadata to classes. Just consider it pretty syntax for now.</p>\n\n<p>Also notice the component Selector matches the <code>&lt;app&gt;</code> tag we provided in index.html, and View template creates the view.</p>\n\n<p>The class, Socially, inherits from @Component and @View.</p>\n\n<p>Finally, we <code>bootstrap</code> our component, marking it as the root component in <code>index.html</code>. An Angular 2 app can have multiple root components, but components must exist together within the same root in order to communicate with each other.</p>\n\n<p>Now run the app.</p>\n\n<pre><code class="hljs ruby"><span class="hljs-variable">$ </span>meteor\n</code></pre>\n\n<h1 id="templates">Templates</h1>\n\n<p>Let\'s make one change. Create a new file called <code>index.ng.html</code> under the \'client\' folder, this will be our main <code>HTML</code> template page.</p>\n\n<ul>\n<li>We are using the <code>.ng.html</code> file extension so that Blaze - Meteor\'s templating system won\'t compile and override our Angular 2 expressions.</li>\n</ul>\n\n<p>Change your template in <code>app.ts</code> to target <code>index.ng.html</code>.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("0.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Then move the <code>p</code> tag into it:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("0.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now our component template will load from the given path. Let\'s use Angular inside of <code>index.ng.html</code> to see that\'s working:</p>\n\n<pre><code class="hljs perl">&lt;p&gt;Nothing here {<span class="hljs-string">{dstache}</span>} <span class="hljs-string">\'yet\'</span> + <span class="hljs-string">\'!\'</span> }}&lt;<span class="hljs-regexp">/p&gt;\n</span></code></pre>\n\n<p>Run the app again and the screen should look like this:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">Nothing</span> here yet!\n</code></pre>\n\n<p>Angular interpreted the expression like any other Angular application.</p>\n\n<blockquote>\n  <p>If the template doesn\'t change, it may be because your browser is caching the original template.\n  Learn <a href="https://developer.chrome.com/devtools/docs/settings">how to disable caching during development</a> with Chrome.</p>\n</blockquote>\n\n<h1 id="notes">Notes</h1>\n\n<p>Again, Angular 2 is still in development. It is not recommended for production yet.</p>\n\n<p>You may notice a <code>require</code> error in the console; however, the app will still run. This should be sorted out in the near future.</p>\n\n<h1 id="experiments">Experiments</h1>\n\n<p>Try adding a new expression to the index.ng.html that will do some math:</p>\n\n'),HTML.PRE(HTML.CODE({"class":"hljs xml"},HTML.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>'),"1 + 2 = ",Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))})," 1 + 2 }}",HTML.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>'),"\n")),HTML.Raw('\n\n<h1 id="summary">Summary</h1>\n\n<p>Now let\'s go to <a href="/tutorials/angular2/static-template">step 1</a> and add some content to our application.</p>')]})}();

!function(){Template.__checkName("tutorialAngular2.step_01.html"),Template["tutorialAngular2.step_01.html"]=new Template("Template.tutorialAngular2.step_01.html",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_00")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>Let's create a purely static HTML page and then examine how we can turn this HTML code into a template that Angular will use to dynamically display the same result with any set of data.</p>\n\n<p>Add this template HTML to <code>index.ng.html</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("1.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now, let's go to the next step and learn how to dynamically generate the same list using Angular 2.</p>")]})}();

!function(){Template.__checkName("tutorialAngular2.step_02.html"),Template["tutorialAngular2.step_02.html"]=new Template("Template.tutorialAngular2.step_02.html",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_01")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>Now it's time to make the web page dynamic — with Angular 2.</p>\n\n<p>This step will still be focusing on client side Angular tools. The next one will show you how to get the power of Meteor.</p>\n\n<h1 id=\"dataintheview\">Data in the View</h1>\n\n<p>In Angular, the view is a projection of the model through the HTML template. This means that whenever the model changes, Angular refreshes the appropriate binding points, which updates the view.</p>\n\n<p>Let's change our template to be dynamic:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("2.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>We replaced the hard-coded party list with the <a href="https://angular.io/docs/js/latest/api/directives/NgFor-class.html">NgFor</a> directive and two Angular expressions:</p>\n\n'),HTML.UL("\n",HTML.Raw('<li>The <code>*ng-for="party of parties"</code> attribute in the <code>li</code> tag is an Angular repeater directive. The repeater tells Angular to create a <code>li</code> element for each party in the list using the <code>li</code> tag as the template.</li>'),"\n",HTML.LI("The expressions wrapped in double-curly-braces ( ",HTML.CODE(Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"party.name}}")," and ",HTML.CODE(Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"party.description}}")," ) will be replaced by the value of the expressions."),"\n"),HTML.Raw("\n\n<p>To get this to work, we'll have to import NgFor and tell Angular 2 we are using it in the template.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("2.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Just to be clear, make sure you:</p>\n\n<ul>\n<li>added <code>NgFor</code> to the <code>import</code> statement.</li>\n<li>added <code>NgFor</code> as a directive in the view</li>\n</ul>\n\n<p>Why so much work setting up a new dependency? Angular 2 is trying to avoid namespace collisions, so dependencies are always imported and specified.</p>\n\n<h1 id="modelandcontroller">Model and Controller</h1>\n\n<p>Now we are going to create our controller and model. Think of the class as the controller, and the model as the data the control holds.</p>\n\n<p>The data will go inside of our Socially class <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/constructor"><code>constructor</code></a>. A constructor is a function run when a class is loaded, thus it loads the initial data for the class.</p>\n\n<p>This is not crazy TypeScript syntax, this is what JavaScript looks like now as of ES2015.</p>\n\n<p>We can attach data with the context \'this\', referring to the Socially class.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("2.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Run the app again.</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span>\n</code></pre>\n\n<p>You\'ll see the data model, parties, is now instantiated within the Socially component.</p>\n\n<p>Although the controller is not yet doing very much, it plays a crucial role. By providing context for our data model, the controller allows us to establish data-binding between the model and the view. We connected the dots between the presentation, the data, and the logic components as follows:</p>\n\n<ul>\n<li>The selector \'app\', located on the <code>body</code> tag, references the name of our class, <code>Socially</code> (located in the JavaScript file <code>app.js</code> which is compiled automatically from <code>app.ts</code>).</li>\n<li>The class Socially references the View using the templateUrl path to <code>client/index.ng.html</code></li>\n<li>The Socially class constructor loads the data into the class, using the context of the class itself (this).</li>\n<li>The template, <code>index.ng.html</code> accesses <code>parties</code> using the Socially class context</li>\n</ul>\n\n<h1 id="summary">Summary</h1>\n\n<p>You now have a dynamic app that features separate model, view and controller components.</p>\n\n<p>But, this is all client side, which is nice for tutorials, but in a real application we need to persist the data on the server and sync all the clients with it.</p>\n\n<p>So, let\'s go to <a href="/tutorial/step_03">step 3</a> to learn how to bind our application to the great power of Meteor.</p>')]})}();

!function(){Template.__checkName("tutorialAngular2.step_03.html"),Template["tutorialAngular2.step_03.html"]=new Template("Template.tutorialAngular2.step_03.html",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_02")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>OK, so we have a nice client side application that creates and renders it\'s own data.</p>\n\n<p>So, if we were in any framework other than Meteor, we would start implementing a series of REST endpoints to connect the server to the client.\nAlso, we would need to create a database and functions to connect to it.</p>\n\n<p>And we haven\'t talked about real-time, in which case we would need to add sockets, and a local DB for cache and handle latency compensation (or just ignore those features and create a not - so - good and modern app...)</p>\n\n<p>But luckily, we use Meteor!</p>\n\n<h1 id="reactivityinmeteor">Reactivity in Meteor</h1>\n\n<p>Meteor makes writing distributed client code as simple as talking to a local database.</p>\n\n<p>Every Meteor client includes an in-memory database cache. To manage the client cache, the server publishes sets of JSON documents, and the client subscribes to these sets. As documents in a set change, the server patches each client\'s cache automatically.</p>\n\n<p>That introduce us to a new concept - <strong>Full Stack Reactivity</strong>.</p>\n\n<p>In an Angularish language we might call it <strong>3 way data binding</strong>.</p>\n\n<p>The way to handle data in Meteor is through the <code>Mongo.Collection</code> class. It is used to declare MongoDB collections and to manipulate them.</p>\n\n<p>Thanks to minimongo, Meteor\'s client-side Mongo emulator, <code>Mongo.Collection</code> can be used from both client and server code.</p>\n\n<p>In short, Meteor\'s default setup has:</p>\n\n<ul>\n<li>real-time reactivity through web sockets</li>\n<li>two databases. One on the client for fast changes, another behind the server for official changes</li>\n<li>so much more!</li>\n</ul>\n\n<h1 id="declareacollection">Declare a collection</h1>\n\n<p>So first, let\'s define our first parties collection that will store all our parties.</p>\n\n<p>In a separate folder called "model", add a file called "parties.ts". Include this:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("3.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Because this file is located outside of a special folder name, like \'client\', this collection and the actions on it will run both on the client (minimongo) and the server (Mongo), you only have to write it once, and Meteor will take care of syncing both of them.</p>\n\n<h1 id="bindingtoangular">Binding to Angular</h1>\n\n<p>Now that we\'ve created the collection, our client needs to subscribe to it\'s changes and bind it to our parties Angular array.</p>\n\n<p>To bind them we will simply reference the parties in the constructor, then call fetch to retrieve them.</p>\n\n<p><strong><code>client/app.ts</code>:</strong></p>\n\n<pre><code class="hljs javascript">constructor() {\n  <span class="hljs-keyword">this</span>.parties = Parties.find().fetch();\n}\n</code></pre>\n\n<p>But what happens if the parties data changes on the server-side? How can we tell parties to update itself?</p>\n\n<p>For now, we can use Meteor <a href="https://www.meteor.com/tracker">Tracker</a>, a reactive wrapper that we will run data when a change occurs. We will bind it to Angular\'s change detection system, <a href="https://github.com/angular/zone.js">Zone.js</a>.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("3.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>The fat arrow syntax <code>=&gt;</code> is also from ES2015, and tells the function to run in it\'s parents context. In other words, it tells <code>this</code> to be the context of the class Socially.</p>\n\n<p>Our <code>app.ts</code> file should now look like this:</p>\n\n<p><strong><code>client/app.ts</code>:</strong></p>\n\n<pre><code class="hljs coffeescript"><span class="hljs-reserved">import</span> {Component, View, NgFor, bootstrap} from <span class="hljs-string">\'angular2/angular2\'</span>;\n\n<span class="hljs-property">@Component</span>({\n  <span class="hljs-attribute">selector</span>: <span class="hljs-string">\'app\'</span>\n})\n<span class="hljs-property">@View</span>({\n  <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">"client/index.ng.html"</span>,\n  <span class="hljs-attribute">directives</span>: [NgFor]\n})\n<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Socially</span> {</span>\n  constructor () {\n    Tracker.autorun(zone.bind(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {\n      <span class="hljs-keyword">this</span>.parties = Parties.find().fetch();\n    }));\n  }\n}\n\nbootstrap(Socially);\n</code></pre>\n\n<p>Now every change what happens to the <code>this.parties</code> variable will automatically be saved to the local minimongo DB and synced to the MongoDB server DB and all the other clients in realtime!</p>\n\n<p>But we still don\'t have data in that collection, so let\'s add some.\nLet\'s initialize our server with the same parties we had before.</p>\n\n<p>Create a new folder called \'server\' and create a file called \'loadParties.ts\' inside of it. Server is another special folder name in Meteor, it\'s contents will only run on the server.</p>\n\n<p>Add the following to the file:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("3.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>As you can probably understand, this code runs only on the server, and when Meteor starts it initializes the DB with these sample parties.</p>\n\n<p>Run the app and you should see the list of parties on the screen.</p>\n\n<p>In the next chapter we will see how easy it is to manipulate the data, save and publish changes to the server, and by doing so, all the connected clients will automatically get updated.</p>\n\n<h1 id="insertingpartiesfromtheconsole">Inserting parties from the console</h1>\n\n<p>Items inside collections are called documents. Let\'s use the server database console to insert some documents into our collection.\nIn a new terminal tab, go to your app directory and type:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> mongo\n</code></pre>\n\n<p>This opens a console into your app\'s local development database. At the prompt, type:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">db</span><span class="hljs-class">.parties</span><span class="hljs-class">.insert</span>(<span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">name</span>:<span class="hljs-value"> <span class="hljs-string">"A new party"</span>, description: <span class="hljs-string">"From the mongo console!"</span> </span></span></span>});\n</code></pre>\n\n<p>In your web browser, you will see the UI of your app immediately update to show the new party.\nYou can see that we didn\'t have to write any code to connect the server-side database to our front-end code — it just happened automatically.</p>\n\n<p>Insert a few more parties from the database console with different text.</p>\n\n<p>Now let\'s do the same but with remove. At the prompt, type the following command to look at all the parties and their properties:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">db</span><span class="hljs-class">.parties</span><span class="hljs-class">.find</span>(<span class="hljs-rules">{<span class="hljs-rule">}</span></span>);\n</code></pre>\n\n<p>Now choose one party you want to remove and copy it\'s id property.\nThen, remove it using that id (replace N4KzMEvtm4dYvk2TF with your party\'s id value):</p>\n\n<pre><code class="hljs javascript">db.parties.remove( {<span class="hljs-string">"_id"</span>: <span class="hljs-string">"N4KzMEvtm4dYvk2TF"</span>});\n</code></pre>\n\n<p>Again, you will see the UI of your app immediately update with that party removed.</p>\n\n<p>Try running more actions like updating an object from the console and so on.</p>\n\n<p>In the next step, we\'ll see how to add functionality to our app\'s UI so that we can add parties without using the database console.</p>\n\n<h1 id="summary">Summary</h1>\n\n<p>In this chapter you saw how easy and fast it is to create a full connection between our client data, the server and all the other connected clients.</p>')]})}();

!function(){Template.__checkName("tutorialAngular2.step_04.html"),Template["tutorialAngular2.step_04.html"]=new Template("Template.tutorialAngular2.step_04.html",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_03")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw("\n\n<p>Now that we have full data binding from server to client, let's interact with the data and see the updates in action.</p>\n\n<p>In this chapter you will add the ability to insert a new party and delete an existing one from the UI.</p>\n\n<p>First, let's create a simple form with a button that will add a new party.</p>\n\n<h1 id=\"componentarchitecture\">Component Architecture</h1>\n\n<p>In Angular 2, it's common practice to break your app into smaller components. Let's make a new component called <code>parties-form</code>, and put it inside it's own directory with the same name.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Notice that we are exporting the class <code>PartiesForm</code> using ES6 module syntax. This is how files and dependencies can be passed to each other without the use of script tags in the view.</p>\n\n<p>When data is <code>export</code>ed, it must also be <code>import</code>ed on the other end. We'll get to that soon.</p>\n\n<p>Also note that we aren't bootstrapping this component, as it is going inside of the bootstrapped root component.</p>\n\n<p>Inside <code>parties-form/parties-form.ng.html</code>, add the following form:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Link to the parties-form component in <code>index.ng.html</code></p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And finally let your Socially Component know it should import and use the <code>parties-form</code> component.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Again, first we import the class, then we add it to our list of View directives.</p>\n\n<h1 id=\"angular2forms\">Angular 2 Forms</h1>\n\n<p>Now let's get back to the form and make it functional.</p>\n\n<p>In Angular 2, there are two main ways to create forms: we will address 'model-driven' forms in this step, but we'll also look at <code>template-driven</code> forms in step 06.</p>\n\n<h2 id=\"modeldrivenforms\">Model Driven Forms</h2>\n\n<p>First up, import the form directives &amp; controls.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>By now you should have the hang of it. <code>import</code>, and add it to the View directives.</p>\n\n<p>Next, we can construct our form controls. For controls give you access to useful form features such as validators and much more.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>We are binding <code>this.partiesForm</code> here to a <a href="https://angular.io/docs/js/latest/api/forms/ControlGroup-class.html">Control Group</a>. Think of a control group as a wrapper for a group of form controls.</p>\n\n<p>Alternatively, form controls can be created one at a time using Control, but it\'s easier to create them as a group.</p>\n\n<pre><code class="hljs javascript"><span class="hljs-keyword">this</span>.partiesForm.controls.name = <span class="hljs-keyword">new</span> Control(<span class="hljs-string">\'\'</span>);\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code class="hljs javascript"><span class="hljs-keyword">this</span>.partiesForm = <span class="hljs-keyword">new</span> ControlGroup({\n  name: <span class="hljs-keyword">new</span> Control(<span class="hljs-string">\'\'</span>)\n});\n</code></pre>\n\n<p>The first value provided is the initial value for the form control. For example, <code>this.name = new Control(\'Bob\')</code> would initialize the form value to \'Bob\', or <code>this.name = new Control()</code> would initialize the value to null.</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">this</span><span class="hljs-class">.partiesForm</span><span class="hljs-class">.value</span>;\n&gt; <span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">name</span>:<span class="hljs-value"> <span class="hljs-string">\'\'</span>, description: <span class="hljs-string">\'\'</span></span></span></span>}\n</code></pre>\n\n<p>We could also access the control values individually.</p>\n\n<pre><code class="hljs cs"><span class="hljs-keyword">this</span>.partiesForm.controls.name.<span class="hljs-keyword">value</span>;\n&gt; <span class="hljs-string">\'\'</span>\n</code></pre>\n\n<p>A control can also take a Validator, which binds to the form. Name &amp; description are both required, so let\'s specify that.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>The required validator here specifies that the form isn\'t valid if name or description are empty.</p>\n\n<pre><code class="hljs cs"><span class="hljs-keyword">this</span>.partiesForm.<span class="hljs-keyword">value</span> = <span class="hljs-string">\'\'</span>;\n<span class="hljs-keyword">this</span>.partiesForm.valid\n&gt; <span class="hljs-keyword">false</span>\n</code></pre>\n\n<p>First things first, let\'s bind the control group to the form and the controls to the input values.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now each time the user types inside these inputs, the value of the partiesForm and its controls will be automatically updated.  Conversely, if <code>this.partiesForm.value</code> is changed outside of the HTML, the input values will be updated accordingly.</p>\n\n<p>Alternatively we can bind to the form by using a local variable in the template, indicated by the \'#\' symbol.</p>\n\n<p><strong><code>client/parties-form/parties-form.ng.html</code>:</strong></p>\n\n<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form</span> [<span class="hljs-attribute">ng-form-model</span>]=<span class="hljs-value">"partiesForm"</span> #<span class="hljs-attribute">f</span>=<span class="hljs-value">"form"</span>&gt;</span>\n</code></pre>\n\n'),HTML.P("Now calling ",HTML.Raw("<code>f.value</code>"),", or displaying ",Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"f.value}} will give us the value of our form."),HTML.Raw('\n\n<pre><code class="hljs css"><span class="hljs-tag">f</span><span class="hljs-class">.value</span>\n&gt; <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">name</span>:<span class="hljs-value"> <span class="hljs-string">\'\'</span>, description: <span class="hljs-string">\'\'</span></span></span></span>}\n</code></pre>\n\n<h2 id="submit">(submit)</h2>\n\n<p>In Angular 2, the model determines the view. Change the model, and the view automatically updates thanks to Angular 2\'s change detection with Zone.js.</p>\n\n<p>But then how does the view trigger changes in the model? It does this through events, which are indicated by the round bracket () syntax. <code>(submit)</code> or <code>(click)</code> are examples of events.</p>\n\n<p>Now let\'s bind a submit event to the add button provided to us by the <a href="https://angular.io/docs/js/latest/api/forms/NgForm-class.html">NgForm</a> directive. This will trigger if the button is clicked, or if the user presses enter on the final field.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>In Angular 2, events are indicated by the round bracket () syntax. Here we are telling Angular to call a method <code>add</code> on submit and pass in the value of the form, <code>f</code>. Let's add the add method to our PartiesForm class.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.10")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Open a different browser, fill out the form, submit and see how the party is added on both clients. So simple!</p>\n\n<blockquote>\n  <p>As a note, if you are dealing with more complex forms, use <a href="https://github.com/angular/angular/blob/master/modules/angular2/src/forms/form_builder.ts">Form Builder</a>, which further simplifies the use of Controls &amp; ControlGroups.</p>\n</blockquote>\n\n<h2 id="click">(click)</h2>\n\n<p>Now, let\'s add the ability to delete parties.</p>\n\n<p>Let\'s add an X button to each party:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.11")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Here again, we are binding an event to the class context and passing in the party as a parameter.</p>\n\n<p>Let's go into the class and add that function.</p>\n\n<p>Add the function inside the Socially class in <code>app.ts</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("4.12")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>The Mongo Collection Parties has a function called \'remove\'. We search for the relevant party by its identifier, <code>_id</code>, and delete it.</p>\n\n<p>And this is how the class should now look:</p>\n\n<p><strong><code>client/app.ts</code>:</strong></p>\n\n<pre><code class="hljs coffeescript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Socially</span> {</span>\n  constructor() {\n    Tracker.autorun(zone.bind(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {\n      <span class="hljs-keyword">this</span>.parties = Parties.find().fetch();\n    }));\n  }\n  remove(party) {\n    Parties.remove(party._id);\n  }\n}\n</code></pre>\n\n<p>Now try to delete a few parties and also watch them being removed from other browser clients.</p>\n\n<h1 id="summary">Summary</h1>\n\n<p>So now you\'ve seen how easy it is to manipulate the data using Angular\'s powerful directives and sync that data with Meteor\'s powerful Mongo.collection API.</p>')]})}();

!function(){Template.__checkName("tutorialAngular2.step_05.html"),Template["tutorialAngular2.step_05.html"]=new Template("Template.tutorialAngular2.step_05.html",function(){var e=this;return[Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_04")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),HTML.Raw('\n\n<p>In this step, you will learn how to create a layout template and how to build an app that has multiple views by adding routing, using the new Angular router.</p>\n\n<p>The goals for this step:</p>\n\n<ul>\n<li>When you navigate to <code>index.html</code>, you will be redirected to the <code>Socially</code> component and the party list should appear in the browser.</li>\n<li>When you click on a party link the URL should change to one specific to that party and the stub of a party detail page is displayed.</li>\n</ul>\n\n<h1 id="dependencies">Dependencies</h1>\n\n<p>The routing functionality added by this step is provided by the new <a href="https://angular.io/docs/js/latest/api/router/">angular-router</a> module, aka the "Component router", which is distributed separately from the core Angular framework.</p>\n\n<p>We will install angular-router with the help of <a href="https://atmospherejs.com/shmck/angular2-router">a package I\'ve put together</a>.</p>\n\n<blockquote>\n  <p>The API for the new Angular router is changing rapidly. I will try to keep this tutorial updated, but expect possible breaking changes.</p>\n</blockquote>\n\n<p>Type in the command line:</p>\n\n<pre><code class="hljs css">$ <span class="hljs-tag">meteor</span> <span class="hljs-tag">add</span> <span class="hljs-tag">shmck</span><span class="hljs-pseudo">:angular2-router</span>\n</code></pre>\n\n<p>It will now be added to our list of packages.    </p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Let's import and add the package dependencies into our app.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Let's make a checklist of what we need to get our router working. We'll go over each of these soon enough:</p>\n\n<ul>\n<li>imports from <code>'angular2/router'</code></li>\n<li><code>@RouteConfig()</code> which will specify our routes soon</li>\n<li>View directives adding <code>ROUTER_DIRECTIVES</code>, which include <code>RouterOutlet</code> and <code>RouterLink</code></li>\n<li>inject <code>ROUTER_BINDINGS</code> into the child components</li>\n<li>a location in the view where components will be created, the <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code></li>\n</ul>\n\n<p>Be sure to declare the base route in <code>index.html</code> (required when using the HTML5LocationStrategy, rather than the HashLocationStategy). </p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h1 id="multipleviewsroutingandlayouttemplate">Multiple Views, Routing and Layout Template</h1>\n\n<p>Our app is slowly growing and becoming more complex.\nUntil now, the app provided our users with a single view (the list of all parties), and all of the template code was located in the <code>index.ng.html</code> file.</p>\n\n<p>The next step in building the app is to add a view that will show detailed information about each of the parties in our list.</p>\n\n<p>To add the detailed view, we could expand the <code>index.ng.html</code> file to contain template code for both views, but that would get messy very quickly.</p>\n\n<p>Instead, we are going to turn the Socially component into what we call a "layout template". This is a template that is common for all views in our application.\nOther "partial templates" are then included into this layout template depending on the current "route" — the view that is currently displayed to the user.</p>\n\n<p>Application routes in Angular 2 are declared via the <a href="https://angular.io/docs/js/latest/api/router/RouteConfig-var.html">RouteConfig</a> annotation.\nThis service makes it easy to wire together components and the current URL location in the browser.\nUsing this feature we can implement deep linking, which lets us utilize the browser\'s history (back and forward navigation) and bookmarks.</p>\n\n<h2 id="rootapp">Root App</h2>\n\n<p>In the new Angular router, we don\'t route to templates or controllers. Instead, we route directly to components. Because of this, we\'re going to have to re-factor our app a bit.</p>\n\n<p>Let\'s move the content of Socially out into a <code>party-list</code> component. Create a new file called <code>parties-list.ts</code> and put it in its own component folder. We\'ll also import some router directives to use later.</p>\n\n'),HTML.P("_",Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))})),HTML.Raw("\n\n<p><code>app.ts</code> should be looking a lot cleaner now.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Notice the View is now point to a <code>template</code> declared within the <code>.ts</code> file. This is an alternative to specifying our <code>templateUrl</code> path.</p>\n\n<p>Our template here is the <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>. This is where the route components will be located on the page when the url changes.</p>\n\n<p>Move the <code>index.ng.html</code> file into the parties-list folder and rename it <code>parties-list.ng.html</code>.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Good. Now our app structure looks like this:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">Socially</span>\n  \\- PartiesList\n  \\- PartiesForm\n</code></pre>\n\n<p>Think of dependencies in Angular as a trees. The final line:</p>\n\n<pre><code class="hljs undefined">bootstrap(Socially, [\n  ROUTER_BINDINGS\n]);\n</code></pre>\n\n<p>Here, the dependencies such as <code>ROUTER_BINDINGS</code> are passed to all of Socially\'s components on bootstrapping.</p>\n\n<h2 id="partydetails">Party Details</h2>\n\n<p>Before configuring our routes, let\'s setup one more component: <code>party-details</code>. When you click on a party in the list, it should route to this PartyDetails component for more party information.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>And a template with placeholders for the component:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h1 id="configuringroutes">Configuring Routes</h1>\n\n<p>Let\'s configure our routes. This is how we map url paths to components.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.10")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Here the default path url will launch PartyList within the <code>&lt;router-outlet&gt;</code> and redirect to the '/parties' url.</p>\n\n<p>If <code>party-details</code> is targeted, with a <code>partyId</code> parameter, it will route to the PartyDetails component with access to that parameter.</p>\n\n<h1 id=\"routerlink\">Router-Link</h1>\n\n<p>Let's see how we move around different urls using the <code>&lt;router-link&gt;</code>. First we'll have to import and declare our dependencies.</p>\n\n<p>Now we can wrap our party in a <code>router-link</code> and pass in the <code>_id</code> as a parameter. Note that the id is auto-generated when an item is inserted into a Mongo Collection.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.11")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>This route syntax may look complicated, but that is because it is very flexible.</p>\n\n<ul>\n<li>The preceding <code>/</code> indicates that the route path we are linking to is an absolute path (routing supports multiple hierarchies of routers, but we don't need that in our simple app).</li>\n<li>Routes are placed in an array to allow for more complicated route paths and mixing route paths and parameters.</li>\n</ul>\n\n<p>Make sure you imported the <code>RouterLink</code> and specified it as a view directive.</p>\n\n"),HTML.P(Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.12")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))})," "),HTML.Raw("\n\n<p>Let's update our party-details view to use dynamic bindings to see if everything is working.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.13")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Great, now we just have to pass in the route params from the RouterLink.</p>\n\n<h1 id=\"injectingrouteparams\">Injecting Route Params</h1>\n\n<p>As we are moving from the <code>party-list</code> to a specific party's <code>party-details</code>, we will need to grab the route parameters and load the correct party. Let's do this in <code>party-details.ts</code>.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("5.14")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Several things are happening here.</p>\n\n<ul>\n<li>First we must import our dependencies for <code>Inject</code> and <code>RouteParams</code>.</li>\n<li>Next, we inject <code>RouteParams</code> into our <code>PartyDetails</code> class and give it an alias of <code>routeParams</code>.</li>\n<li>We catch the <code>partyId</code> from the routeParams</li>\n<li>Finally, we set <code>this.party</code> to fetch the selected party from the Mongo Collection <code>Parties</code>.</li>\n</ul>\n\n<p>So now we can route to pages with the data loading. But if you route to a party-details page and press 'reload', the data fails.</p>\n\n<p>We will see a better way to handle this kind of routing in the next step.</p>\n\n<h1 id=\"challenge\">Challenge</h1>\n\n<p>Add a link back to the <code>PartyList</code> component from <code>PartyDetails</code>.</p>\n\n<h1 id=\"summary\">Summary</h1>\n\n<p>We've seen only a glimpse of the power &amp; flexibility of Angular 2's new router.</p>\n\n<p>In the next unit we'll look at another router feature: <strong>LifeCycle Hooks</strong>.</p>")]})}();

!function(){Template.__checkName("tutorialAngular2.step_06.html"),Template["tutorialAngular2.step_06.html"]=new Template("Template.tutorialAngular2.step_06.html",function(){var a=this;return[HTML.P(Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_05")}},function(){return Spacebars.include(a.lookupTemplate("downloadPreviousStep"))}),"  "),HTML.Raw('\n\n<p>In this step we\'ll continue looking at the Angular router &amp; forms.</p>\n\n<p>By the end, you should have an understanding of:</p>\n\n<ul>\n<li><strong>Router lifecycle hooks</strong></li>\n<li>The difference between <strong>template driven</strong> &amp; <strong>model driven</strong> forms</li>\n<li>How to use <strong>ng-model</strong> for two way binding</li>\n</ul>\n\n<h1 id="routerlifecyclehooks">Router Lifecycle Hooks</h1>\n\n<p>The new Angular router offers a lot more options. Many of these stem out of the <a href="https://angular.github.io/router/lifecycle">lifecycle hooks</a>. These hooks are places where you can run code during different stages of a route being requested, activated, de-activated and removed.</p>\n\n<p>Hooks take a function and return false if Let\'s have a look at our choices:</p>\n\n<ul>\n<li><code>canActivate</code> - Can the route be loaded? Does the user have permission?</li>\n<li><code>canReuse</code> - Can the component be re-used?</li>\n<li><code>canDeactivate</code> - Is it okay to route away from this component? Do you want to save the data first?</li>\n<li><code>onActivate</code> - The route is being loaded, we can also load additional data here</li>\n<li><code>onReuse</code> - Reusing a cached component</li>\n<li><code>onDeactivate</code> - A chance to clean up after the user has routed away from the component</li>\n</ul>\n\n<p>Wow, that\'s a lot. Now let\'s see how easy it is to implement these router hooks.</p>\n\n<p>In our previous example, we began loading our data in the constructor.</p>\n\n<p><strong><code>client/party-details/party-details.ts</code>:</strong></p>\n\n<pre><code class="hljs coffeescript"><span class="hljs-reserved">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyDetails</span> {</span>\n\n  constructor(<span class="hljs-property">@Inject</span>(RouteParams) <span class="hljs-attribute">routeParams</span>:RouteParams) {\n    <span class="hljs-keyword">this</span>.partyId = routeParams.params.partyId;\n\n      Tracker.autorun(zone.bind(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {\n        <span class="hljs-keyword">this</span>.party = Parties.find(<span class="hljs-keyword">this</span>.partyId).fetch()[<span class="hljs-number">0</span>];\n      }));\n    }\n  }\n</code></pre>\n\n<p>We\'ll move the data into an <code>onActivate</code> hook instead. But why? It works.</p>\n\n<p>What if the <code>Parties.find()</code> was unsuccessful? The users page would return nothing.</p>\n\n<p>By using a router lifecycle hook, the route will not change unless the data is collected.</p>\n\n<p>Router lifecycle hooks are easy to use. Simply add a method to the component class with the name of the hook.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("6.1")}},function(){return Spacebars.include(a.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>If no party is found, our hook will return <code>undefined</code> and fail.</p>\n\n<blockquote>\n  <p>Issue: routes currently fail if you reload while using the <code>HTML5LocationStrategy</code></p>\n</blockquote>\n\n<p>Now we can take the loaded data, add it into it's own model, and save or cancel any changes.</p>\n\n<h1 id=\"templatedrivenforms\">Template Driven Forms</h1>\n\n<p>Earlier we mentioned there are two kinds of forms in Angular 2: template-driven &amp; model-driven.</p>\n\n<p>Let's change <code>party-details.ng.html</code> to a form, so that we can edit the party details.</p>\n\n<p>If you completed the challenge in part 5, you should have a router-link button pointing to party-details, with a corresponding alias in the RouteConfig of <code>app.ts</code>.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("6.2")}},function(){return Spacebars.include(a.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h2 id="ngmodel">ng-model</h2>\n\n<p><a href="https://angular.io/docs/js/latest/api/forms/NgModel-class.html">ng-model</a> binds a view\'s model to the controller\'s model. Think of it as a kind of two-way binding. Let\'s setup the dependencies and look at an example.</p>\n\n<p>The NgModel dependency can be found in <code>FORM_DIRECTIVES</code>. First, import it and add it to your list of View directives.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("6.3")}},function(){return Spacebars.include(a.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now that Angular knows about NgModel, we can use it in our template.</p>\n\n<p>The syntax looks a bit different: <code>[(ng-model)]</code>. Ng-model binds to <code>this.party</code> loaded in <code>onActivate</code> and the data should fill out the inputs.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("6.4")}},function(){return Spacebars.include(a.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Let's do a little test to see how form controls and events work in Angular 2. Bind to <code>party.name</code> below the input, and change the input text.</p>\n\n"),HTML.PRE(HTML.CODE({"class":"hljs xml"},HTML.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"name"</span>&gt;</span>'),"Name",HTML.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>'),"\n",HTML.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> [(<span class="hljs-attribute">ng-model</span>)]=<span class="hljs-value">"party.name"</span>&gt;</span>'),"\n\n",HTML.Raw('<span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>'),Blaze.View("lookup:dstache",function(){return Spacebars.mustache(a.lookup("dstache"))}),"party.name}}",HTML.Raw('<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>'),"\n")),HTML.Raw('\n\n<p>Notices it updates automatically. You can contrast this to form Controls which only update on events. So essentially, ng-model is emitting an event when changed.</p>\n\n<p>But unlike a form control, NgModel doesn\'t come with built in control or form validators. If you need to validate your form, you can still use the two input binding approaches together.</p>\n\n<p><strong><code>client/party-details/party-details.ng.html</code>:</strong></p>\n\n<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">form</span> #<span class="hljs-attribute">f</span>=<span class="hljs-value">"form"</span> [<span class="hljs-attribute">ng-form-model</span>]=<span class="hljs-value">"partyDetailsForm"</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">ng-control</span>=<span class="hljs-value">"name"</span> [(<span class="hljs-attribute">ng-model</span>)]=<span class="hljs-value">"party.name"</span>&gt;</span>\n\n  <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"description"</span>&gt;</span>Description<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">ng-control</span>=<span class="hljs-value">"description"</span> [(<span class="hljs-attribute">ng-model</span>)]=<span class="hljs-value">"party.description"</span>&gt;</span>\n\n  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span>&gt;</span>Save<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">button</span>&gt;</span>Reset form<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> [<span class="hljs-attribute">router-link</span>]=<span class="hljs-value">"[\'/parties-list\']"</span>&gt;</span>Cancel<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>\n</code></pre>\n\n<p>To get this to work, you\'ll also have to add the corresponding ControlGroup in <code>party-details.ts</code> that matches the <code>[ng-form-model]</code>.</p>\n\n<p>We\'ll keep our example simple for now, without using form controls.</p>\n\n<h1 id="challenges">Challenges</h1>\n\n<ul>\n<li><p>Add a submit button that saves your data changes.</p></li>\n<li><p>Create a reset button that resets the form to it\'s original value.<br>\n<strong>Hint: A functional programming library, <a href="http://underscorejs.org/">Underscore</a>,  comes built into Meteor. Use <code>_.clone(obj)</code> to make a copy of another object.</strong></p></li>\n<li><p>Use the <code>canDeactivate</code> hook to prompt the user if they want to save any changes before leaving.\nThat is, if the user presses the "cancel" button when changes haven\'t been saved yet, the user should see an alert:</p>\n\n<p>"Would you like to save changes?"\n  - "ok" -> save changes and complete the route\n  - "cancel" -> stay on the same page</p></li>\n</ul>\n\n<p><strong>Hint: use <code>_.isEqual(obj1, obj2)</code> to compare two objects with Underscore.</strong></p>')]})}();

!function(){Template.__checkName("tutorialAngular2.step_07.html"),Template["tutorialAngular2.step_07.html"]=new Template("Template.tutorialAngular2.step_07.html",function(){var e=this;return[HTML.P(Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_06")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))}),"  "),HTML.Raw('\n\n<p>In this article, we\'ll look at two things:</p>\n\n<ul>\n<li>Meteor\'s file structure with Angular 2</li>\n<li>Using TypeScript features</li>\n</ul>\n\n<h1 id="filestructure">File Structure</h1>\n\n<p>As we are using the ES2015 module loading, Meteor\'s file loading conventions don\'t have much effect.</p>\n\n<p>Instead, just keep in mind the power of a few folders:</p>\n\n<ul>\n<li>client: on the client</li>\n<li>server: on the server</li>\n<li>anywhere else: both</li>\n</ul>\n\n<p>If your app grows in size, you may consider breaking it into smaller parts with these sections included inside. For example:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">parties</span>\n  \\- client\n  \\- server\n  \\- model, etc.\nevents\n  \\- client\n  \\- server\n  \\- model, etc\n</code></pre>\n\n<p>Meteor will combine these together auto-magically.</p>\n\n<h1 id="typescript">TypeScript</h1>\n\n<p>Earlier I mentioned that TypeScript has features which make it more powerful than ES2015 alone. We\'ll look at some of these.</p>\n\n<p>We don\'t have time to cover the uses and benefits of types here in detail, but I\'d encourage you to <a href="http://www.typescriptlang.org/">learn more</a>.</p>\n\n<h2 id="typescriptsupportededitors">TypeScript: Supported editors</h2>\n\n<p>TypesScript runs during development time, giving you better code completion and informing you of potential errors in your code.</p>\n\n<p>To get the power of TypeScript, use a TypeScript friendly editor. These include:</p>\n\n<ul>\n<li><a href="https://www.visualstudio.com/">Visual Studio or VS Code</a></li>\n<li><a href="https://www.jetbrains.com/webstorm/">Webstorm</a></li>\n<li><a href="https://atom.io/packages/atom-typescript">Atom</a></li>\n<li><a href="https://github.com/Microsoft/TypeScript-Sublime-Plugin">Sublime Text</a></li>\n<li><a href="https://github.com/palantir/eclipse-typescript">Eclipse</a></li>\n</ul>\n\n<p>Let\'s look at some of the features of TypeScript in brief detail.</p>\n\n<h2 id="typescripttypes">TypeScript: Types</h2>\n\n<p><a href="http://www.typescriptlang.org/Handbook#basic-types">Types</a> help you find mistakes. For example, we can let the TypeScript compiler know that the <code>partyId</code> should be a string, and that routeParams should have the type of RouteParams. If partyId ever returns a number, or array, we know something went wrong right away. It will become highlighted by your IDE or text editor.</p>\n\n<p>Keep in mind, type-checking is not delivered in the outputted JavaScript. It is only extra sugar for your development environment, and adds no weight to the outputted <code>.js</code> file.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("7.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h2 id="typescriptinterfaces">TypeScript: Interfaces</h2>\n\n<p><a href="http://www.typescriptlang.org/Handbook#interfaces">Interfaces</a> sound complicated, but I can assure you, they are very simple. They are just groups of types in an object.</p>\n\n<p>We could declare a party as:</p>\n\n<pre><code class="hljs css"><span class="hljs-tag">party</span>: <span class="hljs-rules">{\n  <span class="hljs-rule"><span class="hljs-attribute">name</span>:<span class="hljs-value"> string</span></span>;\n  <span class="hljs-rule"><span class="hljs-attribute">description</span>:<span class="hljs-value"> string</span></span>;\n<span class="hljs-rule">}</span></span>\n</code></pre>\n\n<p>But that would get repetitive. Instead, we can call it an interface once, and re-use the type. Let\'s call it IParty, I for interface.</p>\n\n<p>Put IParty in a folder <code>typings/socially</code> and call it <code>socially.d.ts</code>. Now it can be shared across the app.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("7.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Note that <code>_id</code> is marked as optional, as parties won't get the id until they are passed into a Mongo collection.</p>\n\n<p>We can use IParty to declare some types in our app. For example, in <code>party-details.ts</code> I've made several type declarations.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("7.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Identifying that both party &amp; resetToParty should have strings for a name and description. Otherwise, the IDE or text editor should let me know something is wrong. Maybe I made a typo.</p>\n\n<p>We can also specify that any declaration of parties is an array of IParty.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("7.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>As well as on the server within Meteor. TypeScript works everywhere.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("7.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>This all keeps you notified about mistakes or typos. TypeScript's power is seen more and more as your project and team grow.</p>\n\n<h2 id=\"typescriptdeclare\">TypeScript: Declare</h2>\n\n<p>You may have noticed that Meteor's global variables are being highlighted by your TypeScript checker. This is because we haven't yet declared them. Let's fix that.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("7.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Declaring items let\'s TypeScript know that <code>Parties</code> is an accepted variable.</p>\n\n<h2 id="typescripttypedefinitionfiles">TypeScript: Type Definition Files</h2>\n\n<p><a href="https://github.com/DefinitelyTyped/tsd">TSD</a> is a package manager for type definition files from <a href="http://definitelytyped.org/">Definitely Typed</a>.</p>\n\n<pre><code class="hljs sql">npm <span class="hljs-operator"><span class="hljs-keyword">install</span> tsd -g\n</span></code></pre>\n\n<p>You can use <code>tsd query NAME</code> to search for a specific package NAME. For example:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">tsd</span> query angular2\n&gt; - angular2 / angular2\n</code></pre>\n\n<p>Let\'s install type definition files for Angular 2 &amp; Meteor.</p>\n\n<pre><code class="hljs sql">tsd <span class="hljs-operator"><span class="hljs-keyword">install</span> angular2\ntsd <span class="hljs-keyword">install</span> meteor\n</span></code></pre>\n\n<p>These files are loaded into the <code>typings</code> directory.</p>\n\n<ul>\n<li>client</li>\n<li>server</li>\n<li>typings\n  - socially\n  - angular2\n  - es6-promise\n  - meteor\n  - rx</li>\n</ul>\n\n<p>Now we will have the interfaces from these different frameworks.</p>\n\n<ul>\n<li>Note: The Angular 2 typescript files may not be currently up to date as the API is changing. *</li>\n</ul>\n\n<p>Let\'s specify that <code>Parties</code> is actually a Mongo collection, which will be picked up by TypeScript.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("7.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Now if Parties is returning anything other than a valid Mongo Collection, we\'ll get an error.</p>\n\n<h2 id="typescriptgenerics">TypeScript: Generics</h2>\n\n<p>A <a href="http://www.typescriptlang.org/Handbook#generics">generic</a> is a varable that can be passed into an interface. You can recognize it from the <code>&lt;T&gt;</code> syntax. Let\'s look back at <code>Parties</code> again.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("7.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now we've told TypeScript that Parties is a Mongo Collection made up of not just anything, but only IParty elements.</p>\n\n<h1 id=\"challenge\">Challenge</h1>\n\n<ul>\n<li>Add types, interfaces, generics, declarations &amp; type Definition files to your project.</li>\n<li>Or not, as mentioned previously, TypeScript features are optional. Without them, you're basically just writing ES2015 code and compiling it to ES5.</li>\n</ul>")]})}();

!function(){Template.__checkName("tutorialAngular2.step_08.html"),Template["tutorialAngular2.step_08.html"]=new Template("Template.tutorialAngular2.step_08.html",function(){var e=this;return[HTML.P(Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_07")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))})," "),HTML.Raw('\n\n<p>In this section we\'ll look at using Meteor Accounts &amp; take a quick detour into using Services in Angular 2.</p>\n\n<h1 id="useraccounts">User Accounts</h1>\n\n<p>One of Meteor\'s most powerful packages is the Meteor account system.</p>\n\n<p>Right now, our app is publishing all the parties to all the clients, and all the clients can change those parties. The changes are then reflected back to all\nthe other clients automatically.</p>\n\n<p>This is super powerful and easy, but what about security?  We don\'t want any user to be able to change any party...</p>\n\n<p>First thing we should do is to remove the \'insecure\' package that automatically added to any new Meteor application.</p>\n\n<p>The \'insecure\' package makes the default behaviour of Meteor collections to permit all.</p>\n\n<p>By removing that package the default behaviour is changed to deny all.</p>\n\n<p>Execute this command in the command line:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> remove insecure\n</code></pre>\n\n<p>Now let\'s try to change the parties array or a specific party.  Nothing\'s working.</p>\n\n<p>Now, we will have to write an explicit security rule for each operation we want to make on the Mongo collection.</p>\n\n<p>So first, let\'s add the \'accounts-password\' Meteor package.\nIt\'s a very powerful package for all the user operations you can think of: Login, signup, change password, password recovery, email confirmation and more.</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> add accounts-password\n</code></pre>\n\n<p>Now we will also add the \'accounts-ui\' package.  This package contains all the HTML and CSS we need for the user operation forms.</p>\n\n<p>Later on in this tutorial we will replace those default account-ui forms with custom Angular forms.</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> add accounts-ui\n</code></pre>\n\n<p>Now let\'s add the accounts-ui template ( <code ng-non-bindable="">&#123;&#123;> loginButtons &#125;&#125;</code> ) into our app, into index.html.</p>\n\n<p>Unfortunately, Angular 2 doesn\'t currently play well with Blaze. This means that any Blaze component must be placed outside of our root app.</p>\n\n<p>Note: An Angular 2 component version of <code>loginButtons</code> is in the works, and can be found <a href="https://github.com/ShMcK/Angular2-Meteor-Demos/tree/master/ng2-accounts-ui">here</a>.</p>\n\n<p>For now, we can add <code>loginButtons</code> to our <code>index.html</code>, which will still work.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Run the code, create an account, login, logout...</p>\n\n<h2 id="meteorallow">Meteor.allow()</h2>\n\n<p>Now that we have our account system, we can start defining our security rules for the parties.</p>\n\n<p>Let\'s go to the model folder and change the file to look like this:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<h2 id=\"mongocommandsinsertupdateremove\">Mongo Commands (insert, update, remove)</h2>\n\n<p>The <a href=\"http://docs.meteor.com/#/full/allow\">collection.allow Meteor function</a> defines the permissions that the client needs to write directly to the collection (like we did until now).</p>\n\n<p>In each callback of action type (insert, update, remove) the functions should return true if they think the operation should be allowed.\nOtherwise they should return false, or nothing at all (undefined).</p>\n\n<p>The available callbacks are:</p>\n\n<ul>\n<li>insert(userId, doc)</li>\n</ul>\n\n<p>The user userId wants to insert the document doc into the collection. Return true if this should be allowed.</p>\n\n<p>doc will contain the _id field if one was explicitly set by the client, or if there is an active transform. You can use this to prevent users from specifying arbitrary _id fields.</p>\n\n<ul>\n<li>update(userId, doc, fieldNames, modifier)</li>\n</ul>\n\n<p>The user userId wants to update a document doc. (doc is the current version of the document from the database, without the proposed update.) Return true to permit the change.</p>\n\n<p>fieldNames is an array of the (top-level) fields in doc that the client wants to modify, for example ['name', 'score'].</p>\n\n<p>modifier is the raw Mongo modifier that the client wants to execute; for example, {$set: {'name.first': \"Alice\"}, $inc: {score: 1}}.</p>\n\n<p>Only Mongo modifiers are supported (operations like $set and $push). If the user tries to replace the entire document rather than use $-modifiers, the request will be denied without checking the allow functions.</p>\n\n<ul>\n<li>remove(userId, doc)</li>\n</ul>\n\n<p>The user userId wants to remove doc from the database. Return true to permit this.</p>\n\n<p>In our example:</p>\n\n<ul>\n<li>insert - only if the user who makes the insert is the party owner.</li>\n<li>update - only if the user who makes the update is the party owner.</li>\n<li>remove - only if the user who deletes the party is the party owner.</li>\n</ul>\n\n<h2 id=\"meteoruserid\">Meteor.userId()</h2>\n\n<p>OK, right now none of the parties has an owner so we can't change any of them.</p>\n\n<p>So let's add the following simple code to define an owner for each party that gets created.</p>\n\n<p>Let's take our current user's id and set it as the owner id of the party we are creating.</p>\n\n<p>If you're using TypeScript, you'll have to adjust your IParty interface:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Change the code for the add button in <code>parties-form.ts</code> to to also insert a user:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Do the same to <code>party-details.ts</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>So first we set the new party's owner to our current user's id and then push it to the parties collection like before.</p>\n\n<p>Now, start the app in 2 different browsers and login with 2 different users.</p>\n\n<p>Test editing and removing your own parties, and try to do the same for parties owned by another user.</p>\n\n<p>This could get dangerously repetitive. This is an opportunity to see how services work in Angular 2.</p>\n\n<h2 id=\"angular2services\">Angular 2 Services</h2>\n\n<p>Let's create a <code>PartyService</code> for handling party changes:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Looking at this code later, it may not be clear what these parameters are, so using types can help.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Finally, let's refactor our party object calls into a function.</p>\n\n<p>We can use a function in the service to create our clean party objects.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>The resulting service should look like this:</p>\n\n"),HTML.P("_",Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.10")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))})),HTML.Raw('\n\n<p>Much cleaner.</p>\n\n<blockquote>\n  <p>Note: these methods are still client-side and thus insecure. We\'ll talk about Meteor methods &amp; calls later.</p>\n</blockquote>\n\n<h2 id="injectinganangular2service">Injecting an Angular 2 Service</h2>\n\n<p>This process should get easier, in fact, it should look this:</p>\n\n<pre><code class="hljs cs">constructor(<span class="hljs-keyword">public</span> partyService:PartyService) {\nadd() {\n  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.partiesForm.valid) {\n    partyService.add(<span class="hljs-keyword">this</span>.partiesForm.<span class="hljs-keyword">value</span>);\n    ...\n</code></pre>\n\n<p>A note about the constructor syntax here:</p>\n\n<ul>\n<li>public - binds this.partyService to partyService (you can also use \'private\', though it acts the same)</li>\n<li>partyService - the optional alias we use for PartyService</li>\n<li>PartyService - the target we are injecting into the class</li>\n</ul>\n\n<p>Unfortunately, the syntax listed above isn\'t currently working. Keep in mind, Angular 2 is under development. To get things working, we can use the <code>Inject</code> annotation instead.</p>\n\n<p>In <code>parties-list.ts</code>, <code>party-details.ts</code> and <code>party-form.ts</code> follow the instructions below.</p>\n\n<ul>\n<li><code>import {Inject} from \'angular2/angular2\';</code></li>\n<li><code>import {PartyService} from \'client/lib/party-service\';</code></li>\n<li>In the component, add  <code>viewBindings: [PartyService]</code></li>\n</ul>\n\n<pre><code class="hljs python">    <span class="hljs-decorator">@Component({</span>\n        selector: <span class="hljs-string">\'parties-list\'</span>,\n        viewBindings: [PartyService]\n    })\n</code></pre>\n\n<ol>\n<li>Inject partyService into the constructor and set <code>this.partyService</code> to the injected.</li>\n</ol>\n\n<pre><code class="hljs coffeescript">    constructor(<span class="hljs-property">@Inject</span>(PartyService) <span class="hljs-attribute">partyService</span>:PartyService) {\n      <span class="hljs-keyword">this</span>.partyService = partyService;\n</code></pre>\n\n<ol>\n<li>Access the service through <code>this.partyService</code> in your methods.</li>\n</ol>\n\n<pre><code class="hljs javascript">    <span class="hljs-keyword">this</span>.partyService.remove(party._id)\n</code></pre>\n\n<p>I hope this syntax will clean up in the future.</p>\n\n<p>In the end, it should look like this:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.11")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h1 id="challenge">Challenge</h1>\n\n<p>Inject the PartyService into the three places it\'s needed.</p>\n\n<p>If you have difficulties, please checkout steps <a href="https://github.com/ShMcK/ng2-socially-tutorial/commit/84379e8326e7bb392d9aebea5fd25dd782a6b684">8.12</a> or <a href="https://github.com/ShMcK/ng2-socially-tutorial/commit/b87c18b8b61a026d0d2f44691c946c2c158e03b2">8.13</a> in the tutorial-repo.</p>\n\n<h1 id="sociallogin">Social login</h1>\n\n<p>We also want to let users login with their Facebook and Twitter accounts.</p>\n\n<p>To do this, we simply need to add the right packages in the console:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> add accounts-facebook\nmeteor add accounts-twitter\n</code></pre>\n\n<p>Now run the app.  when you will first press the login buttons of the social login, meteor will show you a wizard that will help you define your app.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.14")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>You can also skip the wizard and configure it manually like the explanation here: <a href="http://docs.meteor.com/#meteor_loginwithexternalservice">http://docs.meteor.com/#meteor_loginwithexternalservice</a></p>\n\n<p>There are more social login services you can use:</p>\n\n<ul>\n<li>Facebook</li>\n<li>Github</li>\n<li>Google</li>\n<li>Meetup</li>\n<li>Twitter</li>\n<li>Weibo</li>\n<li>Meteor developer account</li>\n</ul>\n\n<h1 id="authenticationwithrouters">Authentication With Routers</h1>\n\n<p>Now that we prevented authorized users from changing parties they don\'t own,\nthere is no reason for them to go into the party details page.</p>\n\n<p>We can easily prevent them from going into that view using our routes.</p>\n\n<p>We are going to use the <code>canActivate</code> router hook.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.15")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now, if a user is not logged in to the system, it won't be able to access that route.</p>\n\n<p>The call to <code>Meteor.userId()</code> will return null if none is found, and will return a value if it is found, thus allowing the route to be activated.</p>\n\n<p>We could even add a helpful alert here.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("8.16")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ul>\n<li>NOTE: This approach is currently not working. *</li>\n</ul>\n\n<p>We don't need to handle any redirect because the route request was denied early on.</p>\n\n<p>on the top of the routes file, let's add these lines:</p>\n\n<h1 id=\"summary\">Summary</h1>\n\n<p>Amazing, only a few lines of code and we have a secure application!</p>\n\n<p>Please note it is possible for someone with malicious intent to override your route configuration on the client.\nAs that is where we the user is authenticated, they can remove the check to get access.</p>\n\n<p>You should never restrict access to sensitive data, sensitive areas, using the client router only.\nThis is the reason we also made restrictions on the server using the allow/deny functionality, so even if someone gets in they cannot make updates.\nWhile this prevents writes from happening from unintended sources, reads can still be an issue.\nThe next step will take care of privacy, not showing users parties they are not allowed to see.</p>")]})}();

!function(){Template.__checkName("tutorialAngular2.step_09.html"),Template["tutorialAngular2.step_09.html"]=new Template("Template.tutorialAngular2.step_09.html",function(){var e=this;return[HTML.P(Blaze._TemplateWith(function(){return{stepName:Spacebars.call("step_08")}},function(){return Spacebars.include(e.lookupTemplate("downloadPreviousStep"))})," "),HTML.Raw('\n\n<p>Right now our app has no privacy, every user can see all the parties on the screen.</p>\n\n<p>So let\'s add a <code>isPublic</code> flag on parties - if a party is public we will let anyone see it, but if a party is private, only the owner can see it.</p>\n\n<h2 id="autopublish">Autopublish</h2>\n\n<p>First we need to remove the <code>autopublish</code> Meteor package.</p>\n\n<p><code>autopublish</code> is added to any new Meteor project. It pushes a full copy of the database to each client.\nIt helped us until now, but it\'s not so good for privacy...</p>\n\n<p>Write this command in the console:</p>\n\n<pre><code class="hljs nginx"><span class="hljs-title">meteor</span> remove autopublish\n</code></pre>\n\n<p>Now run the app.   You can\'t see any parties.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.1")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h2 id="meteorpublish">Meteor.publish</h2>\n\n<p>So now we need to tell Meteor what parties should it publish to the clients.</p>\n\n<p>To do that we will use Meteor\'s <a href="http://docs.meteor.com/#/full/meteor_publish">publish function</a>.</p>\n\n<p>Publish functions should go only in the server so the client won\'t have access to them.</p>\n\n<p>Let\'s create a new file named <code>parties.ts</code> inside the server folder.</p>\n\n<p>Inside the file insert this code:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.2")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Let\'s see what\'s happening here:</p>\n\n<ul>\n<li>We have <code>Meteor.publish</code> - a function to define what to publish from the server to the client</li>\n<li>The first parameter is the name of the subscription. the client will subscribe to that name</li>\n<li>The second parameter is a function that defines what will be returned in the subscription</li>\n</ul>\n\n<p>That function will determine what data will be returned and the permissions needed.</p>\n\n<h2 id="meteorsubscribe">Meteor.subscribe</h2>\n\n<p>In our case the first name parameter is <strong>"parties"</strong>. So we will need to subscribe to the <strong>"parties"</strong> collection in the client.</p>\n\n<p>Using <a href="http://docs.meteor.com/#/full/meteor_subscribe">Meteor.subscribe</a> we can subscribe to our publications; which will then give us access to the published collections.</p>\n\n<pre><code class="hljs javascript">Meteor.subscribe(<span class="hljs-string">\'parties\'</span>);\n</code></pre>\n\n<p>You can add this to our PartiesList component.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.3")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's limit the data sent to client.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.4")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Our publish function can also take parameters.  In that case, we would also need to pass the parameters from the client.</p>\n\n<p>Run the app again and you will see nothing. We have to change our data.</p>\n\n<p>Reset the database from the console:</p>\n\n<pre><code class="hljs sql">meteor <span class="hljs-operator"><span class="hljs-keyword">reset</span>\n</span></code></pre>\n\n<p>We\'ll add a different set of data in <code>loadParties.ts</code>:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.5")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Run the app again, and you should see only two items. The third being <code>public: false</code> and hidden.</p>\n\n<p>Let's also update our IParty interface to include the new key: <code>isPublic</code>.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.6")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<h2 id="meteorsubscribewithparams">Meteor subscribe with params</h2>\n\n<p>We can use these parameters to limit the items we are subscribing to.</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.7")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>In the second parameter, our function uses the Mongo API to return the wanted documents (document are the JSON-style data structure of MongoDB).</p>\n\n<p>So we create a query - start with the find method on the Parties collection.</p>\n\n<p>Inside the find method we use the <a href=\"http://docs.mongodb.org/manual/reference/operator/query/or/\">$or</a>, <a href=\"http://docs.mongodb.org/manual/reference/operator/query/and/\">$and</a> and <a href=\"http://docs.mongodb.org/manual/reference/operator/query/exists/\">$exists</a> Mongo operators to pull our wanted parties:</p>\n\n<p>Either that the owner parameter exists and it's the current logged in user (which we have access to with the command <code>this.userId</code>), or that the party's <code>isPublic</code> flag exists and it's set as true.</p>\n\n<blockquote>\n  <p>Note: <code>public</code> is a reserved future word in JavaScript, and also used in TypeScript. So we've instead named the property <code>isPublic</code></p>\n</blockquote>\n\n<p>So now let's add the <code>isPublic</code> flag to the parties and see how it affects the parties the client gets.</p>\n\n<p>Let's add a checkbox to the new party form in <code>parties-form.ng.html</code>:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.8")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),"\n\n",Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<blockquote>\n  <p>Checkbox currently not working. You can use <code>[checked]="isPublic" (click)="toggleCheck()"</code> for now if you need a work around.</p>\n</blockquote>\n\n<p>Notice how easy it is to bind a checkbox to a model with Angular 2!</p>\n\n<p>Let\'s add the same to the <code>party-details.ng.html</code> page:</p>\n\n'),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.9")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>Now let's run the app.</p>\n\n<p>Log in with 2 different users in 2 different browsers.</p>\n\n<p>In each of the users create a few public parties and a few private ones.</p>\n\n<p>Now log out and see which user sees which parties.</p>\n\n<p>In the next step, we will want to invite users to private parties. For that, we will need to get all the users, but only their emails without other data which will hurt their privacy.</p>\n\n<p>So let's create another publish method for getting only the needed data on the user.</p>\n\n<p>Notice the we don't need to create a new Meteor collection like we did with parties. <strong>Meteor.users</strong> is a pre-defined collection which is defined by the <a href=\"http://docs.meteor.com/#accounts_api\">meteor-accounts</a> package.</p>\n\n<p>So let's start with defining our publish function.</p>\n\n<p>Create a new file under the <code>server</code> folder named <code>users.ts</code> and place the following code in:</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.11")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<p>So here again we use the Mongo API to return all the users (find with an empty object) but we select to return only the emails and profile fields.</p>\n\n<ul>\n<li>Notice that each object (i.e. each user) will automatically contain its <code>_id</code> field.</li>\n</ul>\n\n<p>The emails field holds all the user's email addresses, and the profile might hold more optional information like the user's name\n(in our case, if the user logged in with the Facebook login, the accounts-facebook package puts the user's name from Facebook automatically into that field).</p>\n\n<p>Now let's subscribe to that publish method in our PartyDetails component.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.12")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw("\n\n<ul>\n<li>We bind to the Meteor.users collection</li>\n<li>Binding the result to this.users</li>\n</ul>\n\n<p>Now let's add the list of users to the view to make sure it works.</p>\n\n<p>Add this ng-for list to the end of <code>parties-details.ng.html</code>. Don't forget to import <code>NgFor</code> and add it as a directive.</p>\n\n"),Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.13")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),"\n\n",Blaze._TemplateWith(function(){return{tutorialName:Spacebars.call("angular2-meteor"),step:Spacebars.call("9.14")}},function(){return Spacebars.include(e.lookupTemplate("DiffBox"))}),HTML.Raw('\n\n<p>Run the app and see the list of all the users\' emails that created a login and password and did not use a service to login.</p>\n\n<ul>\n<li>The structure of the Users collection is different between regular email-password, Facebook, Google etc.</li>\n</ul>\n\n<p>The Document structure looks like this (notice where the email is in each one):</p>\n\n<p><strong><code>Email-Password</code>:</strong></p>\n\n<pre><code class="hljs json">{\n"<span class="hljs-attribute">_id</span>" : <span class="hljs-value"><span class="hljs-string">"8qJt6dRSNDHBuqpXu"</span></span>,\n"<span class="hljs-attribute">createdAt</span>" : <span class="hljs-value">ISODate(<span class="hljs-string">"2015-05-26T00:29:05.109-07:00"</span>)</span>,\n"<span class="hljs-attribute">services</span>" : <span class="hljs-value">{\n  "<span class="hljs-attribute">password</span>" : <span class="hljs-value">{\n    "<span class="hljs-attribute">bcrypt</span>" : <span class="hljs-value"><span class="hljs-string">"$2a$10$oSykELjSzcoFWXZTwI5.lOl4BsB1EfcR8RbEm/KsS3zA4x5vlwne6"</span>\n  </span>}</span>,\n  "<span class="hljs-attribute">resume</span>" : <span class="hljs-value">{\n    "<span class="hljs-attribute">loginTokens</span>" : <span class="hljs-value">[\n      {\n        "<span class="hljs-attribute">when</span>" : <span class="hljs-value">ISODate(<span class="hljs-string">"2015-05-26T00:29:05.112-07:00"</span>)</span>,\n        "<span class="hljs-attribute">hashedToken</span>" : <span class="hljs-value"><span class="hljs-string">"6edmW0Wby2xheFxyiUOqDYYFZmOtYHg7VmtXUxEceHg="</span>\n      </span>}\n    ]\n    </span>}\n  </span>}</span>,\n  "<span class="hljs-attribute">emails</span>" : <span class="hljs-value">[\n    {\n    "<span class="hljs-attribute">address</span>" : <span class="hljs-value"><span class="hljs-string">"email@email.com"</span></span>,\n    "<span class="hljs-attribute">verified</span>" : <span class="hljs-value"><span class="hljs-literal">false</span>\n    </span>}\n  ]\n</span>}\n</code></pre>\n\n<p><strong><code>Facebook</code>:</strong></p>\n\n<pre><code class="hljs json">{\n"<span class="hljs-attribute">_id</span>" : <span class="hljs-value"><span class="hljs-string">"etKoiD8MxkQTjTQRY"</span></span>,\n"<span class="hljs-attribute">createdAt</span>" : <span class="hljs-value">ISODate(<span class="hljs-string">"2015-05-25T17:42:16.850-07:00"</span>)</span>,\n"<span class="hljs-attribute">services</span>" : <span class="hljs-value">{\n  "<span class="hljs-attribute">facebook</span>" : <span class="hljs-value">{\n    "<span class="hljs-attribute">accessToken</span>" : <span class="hljs-value"><span class="hljs-string">"CAAM10fSvI..."</span></span>,\n    "<span class="hljs-attribute">expiresAt</span>" : <span class="hljs-value"><span class="hljs-number">1437770457288.0000000000000000</span></span>,\n    "<span class="hljs-attribute">id</span>" : <span class="hljs-value"><span class="hljs-string">"10153317814289291"</span></span>,\n    "<span class="hljs-attribute">email</span>" : <span class="hljs-value"><span class="hljs-string">"email@email.com"</span></span>,\n    "<span class="hljs-attribute">name</span>" : <span class="hljs-value"><span class="hljs-string">"FirstName LastName"</span></span>,\n    "<span class="hljs-attribute">first_name</span>" : <span class="hljs-value"><span class="hljs-string">"FirstName"</span></span>,\n    "<span class="hljs-attribute">last_name</span>" : <span class="hljs-value"><span class="hljs-string">"LastName"</span></span>,\n    "<span class="hljs-attribute">link</span>" : <span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/app_scoped_user_id/foo"</span>\n    <span class="hljs-string">"gender"</span> : <span class="hljs-string">"male"</span></span>,\n    "<span class="hljs-attribute">locale</span>" : <span class="hljs-value"><span class="hljs-string">"en_US"</span>\n  </span>}</span>,\n  "<span class="hljs-attribute">resume</span>" : <span class="hljs-value">{\n    "<span class="hljs-attribute">loginTokens</span>" : <span class="hljs-value">[]\n  </span>}\n</span>}</span>,\n"<span class="hljs-attribute">profile</span>" : <span class="hljs-value">{\n  "<span class="hljs-attribute">name</span>" : <span class="hljs-value"><span class="hljs-string">"First Name LastName"</span>\n  </span>}\n</span>}\n</code></pre>\n\n<p><strong><code>Google</code>:</strong></p>\n\n<pre><code class="hljs perl">{\n<span class="hljs-string">"_id"</span> : <span class="hljs-string">"337r4wwSRWe5B6CCw"</span>,\n<span class="hljs-string">"createdAt"</span> : ISODate(<span class="hljs-string">"2015-05-25T22:53:32.172-07:00"</span>),\n<span class="hljs-string">"services"</span> : {\n  <span class="hljs-string">"google"</span> : {\n    <span class="hljs-string">"accessToken"</span> : <span class="hljs-string">"ya29.fwHSzHvC..."</span>,\n    <span class="hljs-string">"idToken"</span> : <span class="hljs-string">"eyJhbGciOiJSUzI1NiIs..."</span>,\n    <span class="hljs-string">"expiresAt"</span> : <span class="hljs-number">1432624691685.0000000000000000</span>,\n    <span class="hljs-string">"id"</span> : <span class="hljs-string">"107497376789285885122"</span>,\n    <span class="hljs-string">"email"</span> : <span class="hljs-string">"email<span class="hljs-variable">@email</span>.com"</span>,\n    <span class="hljs-string">"verified_email"</span> : true,\n    <span class="hljs-string">"name"</span> : <span class="hljs-string">"FirstName LastName"</span>,\n    <span class="hljs-string">"given_name"</span> : <span class="hljs-string">"FirstName"</span>,\n    <span class="hljs-string">"family_name"</span> : <span class="hljs-string">"LastName"</span>,\n    <span class="hljs-string">"picture"</span> : <span class="hljs-string">"https://lh5.googleusercontent.com/-foo.jpeg\n    "</span>locale<span class="hljs-string">" : "</span>en<span class="hljs-string">",\n    "</span>gender<span class="hljs-string">" : "</span>male<span class="hljs-string">"\n  },\n  "</span>resume<span class="hljs-string">" : {\n    "</span>loginTokens<span class="hljs-string">" : [\n    {\n    "</span><span class="hljs-keyword">when</span><span class="hljs-string">" : ISODate("</span><span class="hljs-number">2015</span>-<span class="hljs-number">05</span>-<span class="hljs-number">25</span>T23:<span class="hljs-number">18</span>:<span class="hljs-number">11.788</span>-<span class="hljs-number">07</span>:<span class="hljs-number">00</span><span class="hljs-string">"),\n    "</span>hashedToken<span class="hljs-string">" : "</span>NaKS2Zeermw+bPlMLhaihsNu6jPaW5+ucFDF2BXT4WQ=<span class="hljs-string">"\n    }\n    ]\n  }\n},\n"</span>profile<span class="hljs-string">" : {\n  "</span>name<span class="hljs-string">" : "</span>First Name LastName<span class="hljs-string">"\n  }\n}\n</span></code></pre>\n\n<p>Right now it means that the emails of the users that logged in with with email-password will be displayed.</p>\n\n<p>In the chapter of Angular filters we will change the display code to show all emails.</p>\n\n<h1 id="understandingmeteorspublishsubscribe">Understanding Meteor\'s Publish-Subscribe</h1>\n\n<p>It is very important to understand Meteor\'s Publish-Subscribe mechanism so you don\'t get confused and use it to filter things in the view!</p>\n\n<p>Meteor accumulates all the data from the different subscription of a collection in the client, so adding a different subscription in a different\nview won\'t delete the data that is already in the client.</p>\n\n<p>Please read more <a href="http://www.meteorpedia.com/read/Understanding_Meteor_Publish_and_Subscribe">here</a>.</p>\n\n<h1 id="summary">Summary</h1>\n\n<p>We\'ve added the support of privacy to our parties app.</p>\n\n<p>We also learned how to use the <code>Meteor.publish</code> command to control permissions and the data sent to the client\nand how to subscribe to it with <code>Meteor.subscribe</code>.</p>\n\n<p>If you are not quite sure what is the difference between collection and publication - you may want to check this article on the [blog] (https://medium.com/angular-meteor/coll-pub-sub-with-angular-meteor-cb13fe48f570)</p>\n\n<p>In the next step we will learn how to filter the users list in the client side with Angular pipes and create a custom pipe for our own needs.</p>')]})}();

!function(){Template.__checkName("tutorialAngular2.step_10.html"),Template["tutorialAngular2.step_10.html"]=new Template("Template.tutorialAngular2.step_10.html",function(){var e=this;return HTML.Raw("<p>Now that we have a working app, we can go public!\nMeteor makes it really easy to put an app up on the internet where other people can use it.</p>\n\n<p>Simply type in the command line of your app directory\n(replace <code>myappname</code> with your own name and make sure there is no existing site already deployed in the same address):</p>\n\n<pre><code class=\"hljs nginx\"><span class=\"hljs-title\">meteor</span> deploy myappname.meteor.com\n</code></pre>\n\n<p>Once you answer all of the prompts and the upload completes, you can go to <code>http://myappname.meteor.com</code> and use your app from anywhere.</p>\n\n<p>Try opening the app on multiple devices such as your phone and your friend's computer.\nAdd, remove, and invite some parties and you will see that the UI of your app is really fast.\nThat's because Meteor doesn't wait for the server to respond before updating the interface - thanks to Meteor's latency compensation mechanism.</p>\n\n<h1 id=\"summary\">Summary</h1>\n\n<p>Congratulations, you've made a working app that you can now use with your friends!</p>\n\n<p>Now, we'll take a detour to see that while we were building a web app, we also created a pretty nice mobile app along the way.</p>")})}();

!function(){Template.__checkName("server-base"),Template["server-base"]=new Template("Template.server-base",function(){var e=this;return HTML.DIV({"class":"container tutorial-container"},"\n    ",HTML.DIV({"class":"row"},"\n      ",HTML.Raw('<div class="col-md-3 left-menu">\n        <h2><a href="/server">Angular-Server</a></h2>\n        <ul class="nav">\n          <li><a href="/server/base/bootstrapping">Bootstrapping</a></li>\n          <li><a href="/server/base/di">Dependency Injection</a></li>\n          <li><a href="/server/base/api">Server Side API</a></li>\n        </ul>\n      </div>'),"\n      ",HTML.DIV({"class":"col-md-9 main-content"},"\n        ",HTML.DIV("\n          ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("mdContent"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        "),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("server.api"),Template["server.api"]=new Template("Template.server.api",function(){var e=this;return HTML.DIV("\n    ",HTML.getTag("do-nothing")("\n      ",Spacebars.include(e.lookupTemplate("markdown"),function(){return"\n# Building Server Side API\n\nAngular services on the server side can be used to expose api to the client side just like\n`Meteor.methods` are used. Using Angular services to expose server side api is more modular since the methods\nare inherently namespaced unlike `Meteor.methods`. Apart from being more modular, calling server methods using\nAngular services is more angular-friendly and easier when coming from the world of angular.\n\nTo expose API from the server to the clients we first have to create a service that will hold the\nfunctions we want to expose to the world:\n\n    // server/api/calculator.js\n    angular.module('myApp').service('Calculator', function() {\n      this.add = function(a, b) {\n        return a + b;\n      };\n    });\n\nThe service does not have to do anything special in it's definition to become an API to the client. The\n`Calculator` service can be called from server side code just like any other service.\n\nNow we need to tell angular-meteor to expose this service as an API to our client. We do that using the\n`ServerAPIProvider`. Using this provider we register our service as an API:\n\n    // server/api/apis.js\n    angular.module('myApp').config(function(ServerAPIProvider) {\n      ServerAPIProvider.register('Calculator');\n    });\n\nAfter that is done the service is now exposed to clients as an API. That means that in our client side\nwe now have a service called `Calculator` that has the exact same methods as the service in the server,\nbut when calling the functions of the service we will get a promise as the return value and not the actual\nreturn value of the server function. The promise that we get will resolve with the value that the server\nfunction returns.\n\nExample usage:\n\n    // client/controllers/main.js\n    angular.module('myApp').controller('MainCtrl', function(Calculator) {\n      $scope.currentResult = 0;\n\n      $scope.add = function(value) {\n        Calculator.add($scope.currentResult, value).then(function(result) {\n          $scope.currentResult = result;\n        });\n      };\n    });\n\nAn important note is that if the service that was registered as an API is in common code (also defined on the client)\nthe call to the service function will call the client function and the server function both using the client function\nas a stub. That is the same expected result when using a `Meteor.method`.\n\n      "}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("server.bootstrapping"),Template["server.bootstrapping"]=new Template("Template.server.bootstrapping",function(){var e=this;return HTML.DIV("\n    ",HTML.getTag("do-nothing")("\n      ",Spacebars.include(e.lookupTemplate("markdown"),function(){return"\n# Bootstrapping Angular-Server\n\nTo enjoy the benefits of Angular on the server side, the first thing we have to do\nis bootstrap our application.\n\nThat is no different from bootstrapping an Angular application on the client side, though\nthe only exception is that we cannot use the `ng-app` directive to bootstrap our application\nautomatically. So we will need use the `angular.bootstrap` function to manually bootstrap\nour application. Anywhere in your server code, just call `angular.bootstrap` but without specifying\nan element to bootstrap with (because we are on the server of course).\n\nFor example:\n\n    // server/startup.js\n    angular.bootstrap(['todoMVC']);\n\nOnce the application is bootstrapped the application runs the same as it would in the client side.\nMeaning you would first have the `config` phase of the application bootstrap and then the `run` phase.\nYou can use these phases for server configuration and startup logic, but with the advantage of running inside\nAngular's context giving you access to dependency injection.\n      "}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("server.di"),Template["server.di"]=new Template("Template.server.di",function(){var e=this;return HTML.DIV("\n    ",HTML.getTag("do-nothing")("\n      ",Spacebars.include(e.lookupTemplate("markdown"),function(){return"\n# Dependency Injection\n\nHaving Angular on the server gives us access to an awesome part of Angular, that is still missing in Meteor -\nDependency Injection. We can now use Angular services on the server to make modular code with more explicit\ndependencies. We can use the things we know and love like provides, factories and services.\n\nTo create a service just do it the same as you would in a regular angular app. For example:\n\n    // server/math.js\n    angular.module('myApp').service('Math', function() {\n      this.add = function(a, b) {\n        return a + b;\n      }\n    });\n\nNow that we have a service set up we can use it through injection in other services.\n\n    // server/calculator.js\n    angular.module('myApp').service('Calculator', function(Math) {\n      this.add = function(a, b) {\n        return 'Result: ' + Math.add(a, b);\n      }\n    });\n\nWe can use dependency injection even in Meteor's world if we wrap it in a `run` section:\n\n    // server/publications/cool-users.js\n    angular.module('myApp').run(function(Users) {\n      Meteor.publish('cool-users', function() {\n        return Meteor.users.find({\n          _id : { $in : Users.getCoolUsersIds() }\n        });\n      });\n    });\n      "}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("angular-server"),Template["angular-server"]=new Template("Template.angular-server",function(){var e=this;return HTML.getTag("ui-view")("\n    ",HTML.DIV({"class":"main-unit container"},"\n      ",HTML.DIV({"class":"ng-server"},"\n        ",HTML.H1({"class":"title"},"FullStack Angular applications with Angular-Server"),"\n        ",HTML.IMG({src:"/images/angular-server-shield-large.png",height:"200"}),"\n        ",HTML.P("\n          As we got to working on bringing angular to the client side of meteor applications, we believed angular\n          could be used on the server side to create a full stack Angular experience and so Angular-Server was born.\n        "),"\n        ",HTML.P("Start learning about a new way to develop angular applications with angular meteor on the server side."),"\n        ",HTML.DIV({"class":"ctas"},"\n          ",HTML.A({"class":"btn btn-default",href:"https://github.com/netanelgilad/angular-meteor-server",title:"Angular Meteor Server Github Repository"},"\n            ",HTML.I({"class":"fa fa-github"}),"\n            View Repo\n          "),"\n          ",HTML.A({"class":"btn btn-default",href:"https://github.com/netanelgilad/angular-server-example",title:"Angular Meteor Server Example"},"\n            ",HTML.I({"class":"fa fa-play"}),"\n            Example App\n          "),"\n          ",HTML.A({"class":"btn btn-default",href:"/server/base",title:"Angular Meteor Server API"},"\n            ",HTML.I({"class":"fa fa-list-ul"}),"\n            Browse API\n          "),"\n        "),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("api.AngularMeteorCollection"),Template["api.AngularMeteorCollection"]=new Template("Template.api.AngularMeteorCollection",function(){var e=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.AngularMeteorCollection.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(e.lookupTemplate("markdown"),function(){return'\n\n# AngularMeteorCollection\n\nAn object that binds a [Meteor Collection](http://docs.meteor.com/#/full/collections) to an AngularJS scope variable. This is the object that is returned when [$meteor.collection service](http://angular-meteor.com/api/meteorCollection) is called. It represents the documents that exist in the Meteor local collection.\n\n----\n\n## Usage\n\nSee [$meteor.collection](/api/meteorCollection)\n\n----\n\n## Methods\n\n<h3><p><code><span class="pln">save( :docs );</span></code></p></h3>\n<br>\n\n#### Parameters\n\n<table class="variables-matrix input-arguments">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>docs</td>\n  <td>\n    <a href="" class="label type-hint type-hint-string">empty</a>/\n    <a href="" class="label type-hint type-hint-array">array</a>/\n    <a href="" class="label type-hint type-hint-object">object</a>\n  </td>\n  <td><p>The docs to save to the Meteor Collection.\n    <ul>\n     <li>If nothing is passed, the method saves everything in the AngularMeteorCollection as is.</li>\n     <li>If an object is passed, the method pushes that object into the AngularMeteorCollection.</li>\n     <li>If an array of objects is passed, the method pushes all objects into the AngularMeteorCollection.</li>\n     </ul>\n  </p></td>\n  <td><a href="" class="label type-hint type-hint-object">No</a></td>\n</tr>\n</tbody>\n</table>\n\n### Returns\n\n<table class="variables-matrix return-arguments">\n<tbody><tr>\n  <td><a href="" class="label type-hint type-hint-object">object</a></td>\n  <td><p>Returns a promise on success with the array of ids and the actions happened: "inserted" or "updated" for each one of the docs </p>\n  </td>\n</tr>\n</tbody></table>\n<br>\n<h3><p><code><span class="pln">remove( :keys );</span></code></p></h3>\n<br>\n\n<h4>Parameters</h4>\n\n<table class="variables-matrix input-arguments">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>keys</td>\n  <td>\n    <a href="" class="label type-hint type-hint-string">empty</a>/\n    <a href="" class="label type-hint type-hint-array">array</a>/\n    <a href="" class="label type-hint type-hint-object">object</a>\n  </td>\n  <td><p>The keys of the object to remove from the Meteor Collection.\n    <ul>\n     <li>If nothing is passed, the method removes all the documents from the AngularMeteorCollection.</li>\n     <li>If an object is passed, the method removes the object with that key from the AngularMeteorCollection.</li>\n     <li>If an array is passed, the method removes all objects that matches the keys in the array from the AngularMeteorCollection.</li>\n    </li>\n  </p></td>\n  <td><a href="" class="label type-hint type-hint-object">No</a></td>\n</tr>\n</tbody>\n</table>\n\n### Returns\n<table class="variables-matrix return-arguments">\n<tbody><tr>\n  <td><a href="" class="label type-hint type-hint-object">object</a></td>\n  <td><p>Returns a promise on success with the array of ids and the "removed" action</p>\n  </td>\n</tr>\n</tbody></table>\n<br>\n<h3><p><code><span class="pln">subscribe( :subscriptionName );</span></code></p></h3>\n<br>\nA shorter (\'syntactic sugar\') function for <a href="/api/subscribe">$meteor.subscribe</a>.\n\nTakes only one parameter and doesn\'t return a promise like <a href="/api/subscribe">$meteor.subscribe</a> does.\n\nWhen called after $scope.meteorCollection, it acts the same but in addition it automatically closes the subscription when the scope is destroyed.\n\n<h4>Parameters</h4>\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>subscriptionName</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">subscriptionName</a>\n    </td>\n    <td><p>The subscription name to subscribe to. Exactly like the first parameter in the $meteor.subscribe service.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">Yes</a></td>\n  </tr>\n  </tbody>\n</table>\n#### Returns\nNone\n<br>\n<h3><p><code><span class="pln">stop();</span></code></p></h3>\n<br>\nStops watching the current collection for changes made in the scope variable or meteor collection. \n\n#### Parameters\nNone\n#### Returns\nNone\n<br>\n----\n## Example\n\n    // Bind all the todos to $scope.todos without auto-save\n    $scope.todos = $meteor.collection(Todos, false);\n\n    // Add a single todo to the collection\n    var todoObject = {name:\'first todo\'};\n    $scope.todos.save(todoObject);  // todos equals [{name:\'first todo\'}]\n\n    // Add multiple todos to the collection\n    var todoArray = [{name:\'second todo\'}, {name:\'third todo\'}];\n    $scope.todos.save(todosArray);  // todos equals [{name:\'first todo\'}, {name:\'second todo\'}, {name:\'third todo\'}]\n\n    // Add another todo to the collection\n    var anotherTodoObject = {name:\'fourth todo\'};\n    $scope.todos.push(anotherTodoObject);  \n\n    /*\n     * The scope variable now holds:\n     * [{name:\'first todo\'}, {name:\'second todo\'}, {name:\'third todo\'}, {name:\'fourth todo\'}]\n     * \n     * but the collection holds:\n     * [{name:\'first todo\'}, {name:\'second todo\'}, {name:\'third todo\'}]\n     *\n     * that\'s because auto-save was set to false (the 2nd parameter in the $meteor.collection call).\n     * \n     * To save the data we need to explicitly call the save() function:\n     */\n    $scope.todos.save();\n\n    $scope.todos.remove(firstTodoId); // scope and collection equals to [{name:\'second todo\'}, {name:\'third todo\'}, {name:\'fourth todo\'}]\n\n    $scope.todos.remove(todoIdsArray); // removes everything matches the array of IDs both in scope and in collection\n\n    $scope.todos.pop();  // removes only in scope\n\n    $scope.todos.remove(); // syncs also in Meteor collection\n\n    // Using the subscribe function\n    $scope.parties = $meteor.collection(Parties).subscribe(\'partiesSubscription\');\n\n    // With a callback to do something after the todo was saved and to catch errors\n    $scope.todos.save(todoObject)\n      .then( function() {\n\n        // todos were successfully saved\n        console.log(\'The todo was saved\');\n\n      }, function(err) {\n\n        // an error occurred while saving the todos: maybe you\'re not authorized\n        console.error( \'An error occurred. The error message is: \' + err.message);\n\n      });\n        '}),"\n\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.AngularMeteorObject"),Template["api.AngularMeteorObject"]=new Template("Template.api.AngularMeteorObject",function(){var e=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.AngularMeteorObject.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(e.lookupTemplate("markdown"),function(){return'\n\n# AngularMeteorObject\n\nAn object that connects a [Meteor Object](http://docs.meteor.com/#/full/collections) to an AngularJS scope variable\n\n----\n\n## Usage\n\nSee [$meteor.object](/api/meteorObject)\n\n----\n\n## Methods\n\n<h3><p><code><span class="pln">save( :doc );</span></code></p></h3>\n<br>\n\n#### Parameters\n\n<table class="variables-matrix input-arguments">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>doc</td>\n  <td>\n    <a href="" class="label type-hint type-hint-string">empty</a>/\n    <a href="" class="label type-hint type-hint-object">object</a>\n  </td>\n  <td><p> Document properties to save to the meteor object data. </p>\n         \n  </td>\n  <td><a href="" class="label type-hint type-hint-object">No</a></td>\n</tr>\n</tbody>\n</table>\n\nIf a document is passed, the method will compare between the document and the data, and will save the necessary changes into AngularMeteorObject.\nIf no document argument is passed, the method saves all current data on the AngularMeteorObject,\neven unchanged properties will be overridden with their current values, hence hooks may be triggered on them. \nReturns a promise with value of 1 when successful (this is the number of docs successfully updated) or an error. \n\n<br>\n<h3><p><code><span class="pln">reset();</span></code></p></h3>\n\nReset the current value of the object to the one in the server.\n\n<br>\n<h3><p><code><span class="pln">subscribe( :subscriptionName );</span></code></p></h3>\n<br>\n\nA shorten (Syntactic sugar) function for the <a href="/api/subscribe">$meteor.subscribe function</a>.\n\nThe function takes only one parameter and does not return a promise like <a href="/api/subscribe">$meteor.subscribe</a> does.\n\nWhen called after $scope.meteorObject, it acts the same but in addition it automatically closes the subscription when the scope is destroyed.\n\n#### Parameters\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>subscriptionName</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">subscriptionName</a>\n    </td>\n    <td><p>The subscription name to subscribe to.  exactly like the first parameter in $meteor.subscribe service.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n  </tr>\n  </tbody>\n</table>\n\n<br>\n<h3><p><code><span class="pln">getRawObject();</span></code></p></h3>\n#### Parameters\nNone\n\nReturns a copy of the AngularMeteorObject with all the AngularMeteor-specific\ninternal properties removed. The returned object is then safe to use as a parameter\nfor <a href="/api/methods">method calls</a>, or anywhere else where the data needs\nto be converted to JSON.\n\n<br>\n<h3><p><code><span class="pln">stop();</span></code></p></h3>\n#### Parameters\nNone\n\nStops watching the object for changes. \n\n\n----\n\n\n## Example\n\n\n    // Define a new Meteor Mongo Collection\n    Parties = new Mongo.Collection(\'parties\');\n\n    // Define the Schema using aldeed:collection2 package for the Parties\n    PartySchema = new SimpleSchema({\n      name: {\n        type: String\n      },\n      description: {\n        type: String\n      },\n      nameModified: {\n        type: Date,\n        autoValue: function() {\n          if (this.field("name").isSet) {\n            return new Date(); // automatically set nameModified with new Date only when name is modified\n          }\n        },\n        denyInsert: true,\n        optional: true\n      }\n    });\n\n    Parties.attachSchema(PartySchema);\n\n    Meteor.methods({\n      doFancyStuff: function(party) {\n        var id = party._id;\n        // Do something fancy, like link with partygoers.\n\n        party.description = "Set to fancy description!";\n\n        delete party._id;\n\n        Parties.update({_id: id}, {$set: { party }});\n      }\n    });\n\n    if (Meteor.isClient) {\n\n      angular.module("socially").controller("PartyDetailsCtrl", [\'$scope\', \'$stateParams\', \'$meteor\',\n        function($scope, $stateParams, $meteor){\n\n          $scope.party = $meteor.object(Parties, $stateParams.partyId);\n\n          $scope.partyNotAuto = $meteor.object(Parties, $stateParams.partyId, false);\n\n          $scope.save = function(docs) {\n            $scope.partyNotAuto.save(docs).then(function(numberOfDocs){\n              console.log(\'save success doc affected \', numberOfDocs);\n            }, function(error){\n              console.log(\'save error\', error);\n            });\n          };\n\n          // all values will be rewritten with their current values\n          // nameModified will change\n          $scope.save()\n\n          // only description will change\n          $scope.save({description: \'wine and cheese\'})\n\n          $scope.reset = function() {\n            $scope.partyNotAuto.reset();\n          };\n\n          // Call a method that does fancy stuff to the object.\n          $scope.callMethod = function() {\n            $meteor.call(\'doFancyStuff\', $scope.party.getRawObject());\n          };\n      }]);\n    }\n\n        '}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.auth"),Template["api.auth"]=new Template("Template.api.auth",function(){var e=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.auth.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(e.lookupTemplate("markdown"),function(){return'\n\n# Accounts, users and authentication\n\nMethods and [$rootScope](https://docs.angularjs.org/api/ng/service/$rootScope) variables to support [Meteor.user](http://docs.meteor.com/#/full/meteor_user) and [Meteor\'s accounts system](http://docs.meteor.com/#/full/accounts_api)\n\n----\n\n## Usage\n\n    $rootScope.currentUser\n\n    $rootScope.loggingIn\n\n    $meteor.waitForUser()\n\n    $meteor.requireUser()\n\n    $meteor.requireValidUser(validatorFn)\n\n    $meteor.loginWithPassword(user, password)\n\n    $meteor.createUser(options)\n\n    $meteor.changePassword(oldPassword, newPassword)\n\n    $meteor.forgotPassword(options)\n\n    $meteor.resetPassword(token, newPassword)\n\n    $meteor.verifyEmail(token)\n\n    $meteor.logout()\n\n    $meteor.logoutOtherClients()\n\n    $meteor.loginWithMeteorDeveloperAccount(options)\n    $meteor.loginWithFacebook(options)\n    $meteor.loginWithGithub(options)\n    $meteor.loginWithGoogle(options)\n    $meteor.loginWithMeetup(options)\n    $meteor.loginWithTwitter(options)\n    $meteor.loginWithWeibo(options)\n\n## Variables\n\n<table class="variables-matrix return-arguments">\n<tbody><tr>\n  <td><a href="" class="label type-hint type-hint-expression">$rootScope</a></td>\n  <td><p>Adding to $rootScope support for Meteor\'s <a href="http://docs.meteor.com/#/full/template_currentuser">currentUser</a>\n         and <a href="http://docs.meteor.com/#/full/template_loggingin">loggingIn</a>\n  </p>\n    <ul>\n      <li><code><span class="pln">$rootScope.currentUser</span></code>\n        — The <a href="http://docs.meteor.com/#/full/template_currentuser">current logged in user</a> and it\'s data.\n        it is <strong>null</strong> if the user is not logged in. A reactive data source.\n      </li>\n      <li><code><span class="pln">$rootScope.loggingIn</span></code>\n        — True if a login method (such as Meteor.loginWithPassword, Meteor.loginWithFacebook, or Accounts.createUser) is currently in progress.\n        A reactive data source. Can be use to display animation while user is logging in.\n      </li>\n    </ul>\n  </td>\n</tr>\n</tbody></table>\n\n----\n\n#### Example\n\n    // In templates\n    ng-if="$root.currentUser"\n\n    // In controllers\n    if ($rootScope.currentUser)\n\n        '}),"\n\n      ",Spacebars.include(e.lookupTemplate("markdown"),function(){return'\n\n<hr>\n<h2 id="methods">Methods</h2>\n\nThose methods are provided by the accounts-password package.\nSee the <a href="http://docs.meteor.com/#/full/accounts_passwords">Meteor\'s Passwords section</a>\n\n<br>\n<h3><p><code><span class="pln">waitForUser();</span></code></p></h3>\n\nReturns a promise fulfilled with the <a href="http://docs.meteor.com/#/full/meteor_user">currentUser</a> when the user subscription is ready.\n<br>\nThis is useful when you want to grab the current user before the route is rendered.\n<br>\nIf there is no logged in user, it will return null.\n<br>\nSee the <a href="/tutorial/step_08#authenticationwithrouters">“Authentication with Routers”</a> section of our tutorial for more information and a full example.\n\n----\n\n#### Example\n\n    // In route config (\'ui-router\' in the example, but works with \'ngRoute\' the same way)\n    $stateProvider\n      .state(\'home\', {\n        url: \'/\',\n        templateUrl: \'client/views/home.ng.html\',\n        controller: \'HomeController\'\n        resolve: {\n          "currentUser": ["$meteor", function($meteor){\n            return $meteor.waitForUser();\n          }]\n        }\n    });\n\n<br>\n<h3><p><code><span class="pln">requireUser();</span></code></p></h3>\n\nResolves the promise successfully if a user is authenticated and rejects otherwise.\n<br>\nThis is useful in cases where you want to require a route to have an authenticated user.\n<br>\nYou can catch the rejected promise and redirect the unauthenticated user to a different page, such as the login page.\n<br>\nSee the <a href="/tutorial/step_08#authenticationwithrouters">“Authentication with Routers”</a> section of our tutorial for more information and a full example.\n\n\n\n----\n\n#### Example\n\n    // In route config (\'ui-router\' in the example, but works with \'ngRoute\' the same way)\n    $stateProvider\n      .state(\'home\', {\n        url: \'/\',\n        templateUrl: \'client/views/home.ng.html\',\n        controller: \'HomeController\'\n        resolve: {\n          "currentUser": ["$meteor", function($meteor){\n            return $meteor.requireUser();\n          }]\n        }\n      });\n\n    app.run(["$rootScope", "$state", function($rootScope, $state) {\n      $rootScope.$on("$stateChangeError", function(event, toState, toParams, fromState, fromParams, error) {\n        // We can catch the error thrown when the $meteor.requireUser() promise is rejected\n        // and redirect the user back to the login page\n        if (error === "AUTH_REQUIRED") {\n            // It is better to use $state instead of $location. See Issue #283.\n            $state.go(\'logIn\');\n        }\n      });\n    }]);\n\n<br>\n<h3><p><code><span class="pln">requireValidUser(validatorFn);</span></code></p></h3>\n\nResolves the promise successfully if a user is authenticated and the validatorFn returns true; rejects otherwise.\n<br>\nThis is useful in cases where you want to require a route to have an authenticated user and do extra validation like the user\'s role or group.\n<br>\nYou can catch the rejected promise and redirect the unauthenticated user to a different page, such as the login page.\n<br>\nSee the <a href="/tutorial/step_08#authenticationwithrouters">“Authentication with Routers”</a> section of our tutorial for more information and a full example.\n<br>\nThe mandatory validator function will be called with the authenticated user as the single param and it\'s expected to return true in order to resolve. If it returns a string, the promise will be rejected using said string as the reason. Any other return (false, null, undefined) will be rejected with the default "FORBIDDEN" reason.\n\n\n\n----\n\n#### Example\n\n    // In route config (\'ui-router\' in the example, but works with \'ngRoute\' the same way)\n    $stateProvider\n      .state(\'home\', {\n        url: \'/\',\n        templateUrl: \'client/views/home.ng.html\',\n        controller: \'HomeController\'\n        resolve: {\n          "currentUser": ["$meteor", function($meteor){\n            return $meteor.requireUser();\n          }]\n        }\n       })\n       .state(\'admin\', {\n         url: \'/admin\',\n         templateUrl: \'client/views/admin.ng.html\',\n         controller: \'AdminController\'\n         resolve: {\n           "currentUser": ["$meteor", function($meteor){\n             return $meteor.requireValidUser(function(user) {\n               return user.username===\'admin\';\n             });\n           }]\n         }\n       })\n       .state(\'admin2\', {\n         url: \'/admin2\',\n         templateUrl: \'client/views/admin2.ng.html\',\n         controller: \'Admin2Controller\'\n         resolve: {\n           "currentUser": ["$meteor", function($meteor){\n             return $meteor.requireValidUser(function(user) {\n               if (user.username===\'admin2\') {\n                 return true;\n               }\n\n               return \'UNAUTHORIZED\';\n             });\n           }]\n         }\n      });\n\n    app.run(["$rootScope", "$state", function($rootScope, $state) {\n      $rootScope.$on("$stateChangeError", function(event, toState, toParams, fromState, fromParams, error) {\n        // We can catch the error thrown when the $meteor.requireUser() promise is rejected\n        // or the custom error, and redirect the user back to the login page\n        switch(error) {\n          case "AUTH_REQUIRED":\n            $state.go(\'logIn\');\n            break;\n          case "FORBIDDEN":\n            $state.go(\'forbidden\');\n            break;\n          case "UNAUTHORIZED":\n            $state.go(\'unauthorized\');\n            break;\n          default:\n            $state.go(\'internal-client-error\');\n        }\n      });\n    }]);\n\n<br>\n<h3><p><code><span class="pln">loginWithPassword( :user, :password );</span></code></p></h3>\n\nLog the user in with a password.\n\n<br>\n<h4>Parameters</h4>\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>user</td>\n    <td>\n      <a href="" class="label type-hint type-hint-object">Object</a> /\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>Either a string interpreted as a username or an email; or an object with a single key: email, username or id.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">Yes</a></td>\n  </tr>\n  <tr>\n    <td>password</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>The user\'s password.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">Yes</a></td>\n  </tr>\n  </tbody>\n</table>\n<br>\n\n\n#### Example\n\n    $meteor.loginWithPassword(user, password).then(function(){\n        console.log(\'Login success\');\n      }, function(err){\n        console.log(\'Login error - \', err);\n      });\n    }\n\n\n<br>\n<h3><p><code><span class="pln">createUser( :options );</span></code></p></h3>\n\nCreate a new user. <a href="http://docs.meteor.com/#/full/accounts_createuser">More information</a>.\n\n<br>\n<h4>Options</h4>\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>username</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>A unique name for this user.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">must provide username or email</a></td>\n  </tr>\n  <tr>\n    <td>email</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>The user\'s email address.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">must provide username or email</a></td>\n  </tr>\n  <tr>\n    <td>password</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>The user\'s password. This is <strong>not</strong> sent in plain text over the wire.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">Yes</a></td>\n  </tr>\n  <tr>\n    <td>profile</td>\n    <td>\n      <a href="" class="label type-hint type-hint-object">Object</a>\n    </td>\n    <td><p>The user\'s profile, typically including the name field.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">No</a></td>\n  </tr>\n  </tbody>\n</table>\n<br>\n\n\n#### Example\n\n    $meteor.createUser({\n          username:\'moma\',\n          email:\'example@gmail.com\',\n          password: \'Bksd@asdf\',\n          profile: {expertize: \'Developer\'}\n        }).then(function(){\n        console.log(\'Login success\');\n      }, function(err){\n        console.log(\'Login error - \', err);\n      });\n    }\n\n\n<br>\n<h3><p><code><span class="pln">changePassword( :oldPassword, :newPassword );</span></code></p></h3>\n\nChange the current user\'s password. Must be logged in.\n\n<br>\n<h4>Options</h4>\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>oldPassword</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>The user\'s current password. This is <strong>not</strong> sent in plain text over the wire.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">Yes</a></td>\n  </tr>\n  <tr>\n    <td>newPassword</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>A new password for the user. This is <strong>not</strong> sent in plain text over the wire.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">Yes</a></td>\n  </tr>\n  </tbody>\n</table>\n<br>\n\n\n#### Example\n\n    $meteor.changePassword(\'old\', \'new232f3\').then(function(){\n        console.log(\'Change password success\');\n      }, function(err){\n        console.log(\'Error changing password - \', err);\n      });\n    }\n\n\n<br>\n<h3><p><code><span class="pln">forgotPassword( :options );</span></code></p></h3>\n\nRequest a forgot password email.\n\n<br>\n<h4>Options</h4>\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>email</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>The email address to send a password reset link.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">Yes</a></td>\n  </tr>\n  </tbody>\n</table>\n<br>\n\n\n#### Example\n\n    $meteor.forgotPassword({email: \'sample@gmail.com\'}).then(function(){\n        console.log(\'Success sending forgot password email\');\n      }, function(err){\n        console.log(\'Error sending forgot password email - \', err);\n      });\n    }\n\n\n<br>\n<h3><p><code><span class="pln">resetPassword( :token, :newPassword );</span></code></p></h3>\n\nReset the password for a user using a token received in email. Logs the user in afterwards.\n\n<br>\n<h4>Parameters</h4>\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>token</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>The token retrieved from the reset password URL.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">Yes</a></td>\n  </tr>\n  <tr>\n    <td>newPassword</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>A new password for the user. This is <strong>not</strong> sent in plain text over the wire.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">Yes</a></td>\n  </tr>\n  </tbody>\n</table>\n<br>\n\n\n#### Example\n\n    $meteor.resetPassword($stateParams.token, \'new232f3\').then(function(){\n        console.log(\'Reset password success\');\n      }, function(err){\n        console.log(\'Error resetting password - \', err);\n      });\n    }\n\n\n\n<br>\n<h3><p><code><span class="pln">verifyEmail( :token );</span></code></p></h3>\n\nMarks the user\'s email address as verified. Logs the user in afterwards.\n\n<br>\n<h4>Parameters</h4>\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>token</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>The token retrieved from the reset password URL.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">Yes</a></td>\n  </tr>\n  </tbody>\n</table>\n<br>\n\n\n#### Example\n\n    $meteor.verifyEmail($stateParams.token).then(function(){\n        console.log(\'Success verifying password \');\n      }, function(err){\n        console.log(\'Error verifying password - \', err);\n      });\n    }\n\n\n<br>\n<h3><p><code><span class="pln">loginWith\'ExternalService\'( :options );</span></code></p></h3>\n\nLog the user in using an external service.\n\nAvailable functions are:\n<br>\n<ul>\n  <li>$meteor.loginWithFacebook</li>\n  <li>$meteor.loginWithTwitter</li>\n  <li>$meteor.loginWithGoogle</li>\n  <li>$meteor.loginWithGithub</li>\n  <li>$meteor.loginWithMeetup</li>\n  <li>$meteor.loginWithWeibo</li>\n</ul>\n\n<br>\n<h4>options</h4>\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>requestPermissions</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">Array of Strings</a>\n    </td>\n    <td><p>A list of permissions to request from the user.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">No</a></td>\n  </tr>\n  <tr>\n    <td>requestOfflineToken</td>\n    <td>\n      <a href="" class="label type-hint type-hint-boolean">Boolean</a>\n    </td>\n    <td><p>If true, asks the user for permission to act on their behalf when offline. This stores an additional offline token in the services field of the user document. Currently only supported with Google.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">No</a></td>\n  </tr>\n  <tr>\n    <td>forceApprovalPrompt</td>\n    <td>\n      <a href="" class="label type-hint type-hint-boolean">Boolean</a>\n    </td>\n    <td><p>If true, forces the user to approve the app\'s permissions, even if previously approved. Currently only supported with Google.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">No</a></td>\n  </tr>\n  <tr>\n    <td>userEmail</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>An email address that the external service will use to pre-fill the login prompt. Currently only supported with Meteor developer accounts.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">No</a></td>\n  </tr>\n  <tr>\n    <td>loginStyle</td>\n    <td>\n      <a href="" class="label type-hint type-hint-string">String</a>\n    </td>\n    <td><p>Login style ("popup" or "redirect", defaults to the login service configuration).\n      The "popup" style opens the login page in a separate popup window, which is generally preferred because the Meteor application doesn\'t need to be reloaded.\n      The "redirect" style redirects the Meteor application\'s window to the login page, and the login service provider redirects back to the Meteor application which is then reloaded.\n      The "redirect" style can be used in situations where a popup window can\'t be opened, such as in a mobile UIWebView.\n      The "redirect" style however relies on session storage which isn\'t available in Safari private mode, so the "popup" style will be forced if session storage can\'t be used.\n    </p></td>\n    <td><a href="" class="label type-hint type-hint-object">No</a></td>\n  </tr>\n  </tbody>\n</table>\n<br>\n\n\n#### Example\n\n    $meteor.loginWithFacebook({requestPermissions: [\'email\']}).then(function(){\n        console.log(\'Login success\');\n      }, function(err){\n        console.log(\'Login error - \', err);\n      });\n    }\n\n\n<br>\n<h3><p><code><span class="pln">logout();</span></code></p></h3>\n\nLog the user out.\n\n<br>\n\n#### Returns\n\n<table class="variables-matrix return-arguments">\n  <tbody><tr>\n    <td><a href="" class="label type-hint type-hint-object">promise</a></td>\n    <td><p>Resolves with no arguments on success, or reject with a Error argument on failure.</p></td>\n  </tr>\n  </tbody></table>\n\n#### Example\n\n    $meteor.logout().then(function(){\n        console.log(\'Logout success\');\n      }, function(err){\n        console.log(\'logout error - \', err);\n      });\n    }\n\n\n<br>\n<h3><p><code><span class="pln">logoutOtherClients();</span></code></p></h3>\n\nLog out other clients logged in as the current user, but does not log out the client that calls this function.\n<br>\nFor example, when called in a user\'s browser, connections in that browser remain logged in, but any other browsers or DDP clients logged in as that user will be logged out.\n\n<br>\n\n#### Returns\n\n<table class="variables-matrix return-arguments">\n  <tbody><tr>\n    <td><a href="" class="label type-hint type-hint-object">promise</a></td>\n    <td><p>Resolves with no arguments on success, or reject with a Error argument on failure.</p></td>\n  </tr>\n  </tbody></table>\n\n#### Example\n\n    $meteor.logoutOtherClients().then(function(){\n        console.log(\'Logout success\');\n      }, function(err){\n        console.log(\'logout error - \', err);\n      });\n    }\n\n\n\n\n        '}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.blaze-template"),Template["api.blaze-template"]=new Template("Template.api.blaze-template",function(){var e=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.blaze-template.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(e.lookupTemplate("markdown"),function(){return['\n\n# blaze-template directive\n\nIncluded with the `urigo:angular-blaze-template` [package](https://github.com/Urigo/angular-blaze-template)\n\nA directive to include Meteor native Blaze [templates](http://docs.meteor.com/#/full/templates_api)\n\nHolds the current Angular [scope](https://docs.angularjs.org/guide/scope) as [Template.currentData](http://docs.meteor.com/#/full/template_currentdata).\n\n----\n\n## Usage\n\n    meteor add urigo:angular-blaze-template\n\n    <blaze-template\n        name="">\n    </blaze-template>\n\n### Arguments\n\n<table class="variables-matrix input-arguments">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>Template name</td>\n  <td><a href="" class="label type-hint type-hint-string">string</a></td>\n  <td><p>The name of the template to include</p></td>\n  <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n</tr>\n</tbody>\n</table>\n\n----\n\n### Simple Example\n\n\n    <blaze-template name="loginButtons"></blaze-template>\n\n----\n\n### Using Angular Scope inside Meteor template\n\n\nThe `blaze-template` directive holds the Angular scope of the directive as the\nas [Template.currentData](http://docs.meteor.com/#/full/template_currentdata) of the Meteor template.\n\n\n#### Example using scope data\n\n\n__`blaze-angular.html`:__\n\n    <head></head>\n    <body ng-app="blaze-angular-scope"\n          ng-controller="AngularCtrl"\n          ng-include="\'blaze-angular-scope.ng.html\'">\n    </body>\n\n    <template name="partiesBlazeTemplate">\n      <div>\n        Angular parties inside Blaze:\n        ',Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"#each parties}}\n          ",Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"> party}}\n        ",Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"/each}}\n      </div>\n    ",Blaze.View("lookup:lt",function(){return Spacebars.mustache(e.lookup("lt"))}),'/template>\n\n    <template name="party">\n      <li>Name: ',Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"name}} , Description: ",Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),"description}}</li>\n    ",Blaze.View("lookup:lt",function(){return Spacebars.mustache(e.lookup("lt"))}),"/template>\n\n__`blaze-angular-scope.ng.html`:__\n\n    <h1>Inside Angular</h1>\n\n    <form>\n      <label>Name</label>\n      <input ng-model=\"newParty.name\">\n      <label>Description</label>\n      <input ng-model=\"newParty.description\">\n      <button ng-click=\"parties.push(newParty); newParty='';\">Add</button>\n    </form>\n\n    <blaze-template name=\"partiesBlazeTemplate\"></blaze-template>\n\n__`blaze-angular.js`:__\n\n    if (Meteor.isClient) {\n\n      angular.module('blaze-angular-scope',['angular-meteor']);\n\n      angular.module(\"blaze-angular-scope\").controller(\"AngularCtrl\", ['$scope',\n        function($scope){\n\n          $scope.parties = [\n            {'name': 'Dubstep-Free Zone',\n             'description': 'Can we please just for an evening not listen to dubstep.'},\n            {'name': 'All dubstep all the time',\n             'description': 'Get it on!'}\n          ];\n\n      }]);\n\n      Template.partiesBlazeTemplate.helpers({\n        parties: function() {\n          return Template.currentData().getReactively('parties', true);\n        }\n      });\n    }\n\n\n\n### Passing arguments to blaze-template\n\nTo pass parameters to a `blaze-template` directive:\n\n1. Create a new Blaze template that includes the template you want to include\n2. Add the parameters to the new template\n3. Include that new template with blaze-template\n\n```\n<template name=\"quickFormWithParameters\">\n  ",Blaze.View("lookup:dstache",function(){return Spacebars.mustache(e.lookup("dstache"))}),'> quickForm collection="Books" id="insertBookForm" type="insert"}}\n',Blaze.View("lookup:lt",function(){return Spacebars.mustache(e.lookup("lt"))}),'/template>\n\n<blaze-template name="quickFormWithParameters"></blaze-template>\n```\n        ']}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.camera"),Template["api.camera"]=new Template("Template.api.camera",function(){var t=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.camera.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n      ",Spacebars.include(t.lookupTemplate("markdown"),function(){return['\n\n# $meteor.camera\n\nA helper service for taking pictures across platforms.\n\nMust add [mdg:camera package](https://atmospherejs.com/mdg/camera) to use!\n\n----\n\n## Usage\n\n        meteor add mdg:camera\n\n        $meteor.getPicture(:options);\n\n### Arguments\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>options</td>\n    <td><a href="https://docs.angularjs.org/guide/scope" class="label type-hint type-hint-objectstring">Object</a></td>\n    <td>\n      <p>options is an optional argument that is an Object with the following possible keys:</p>\n      <p>* width - An integer that specifies the minimum width of the returned photo.</p>\n      <p>* height - An integer that specifies the minimum height of the returned photo.</p>\n      <p>* quality - A number from 0 to 100 specifying the desired quality of JPEG encoding.</p></td>\n    <td><a href="" class="label type-hint type-hint-array">no</a></td>\n  </tr>\n  </tbody>\n</table>\n\n## Returns\n\n<table class="variables-matrix return-arguments">\n  <tbody><tr>\n    <td><a href="" class="label type-hint type-hint-expression">promise(data)</a></td>\n    <td><p>The promise solved successfully when the picture is taken with the data as a parameter\n      or rejected with an error as a parameter in case of error.</p></td>\n  </tr>\n  </tbody></table>\n\n----\n\n## Example\n\n    if (Meteor.isClient) {\n\n      app.controller("cameraCtrl", [\'$scope\', \'$meteor\',\n        function($scope, $meteor){\n\n          $scope.takePicture = function(){\n            $meteor.getPicture().then(function(data){\n              $scope.party.imageData = data;\n            });\n          };\n\n        }]);\n      }\n\n    }\n\n    HTML\n\n        <div ng-controller="cameraCtrl">\n          <button ng-click="takePicture()">Picture</button>\n          <img ng-src="',Blaze.View("lookup:dstache",function(){return Spacebars.mustache(t.lookup("dstache"))}),'party.imageData}}">\n        </div>\n\n      ']}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.collectionfs"),Template["api.collectionfs"]=new Template("Template.api.collectionfs",function(){var e=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.collectionfs.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(e.lookupTemplate("markdown"),function(){return"\n\n# CollectionFS\n\nCollectionFS works a bit different from regular Meteor.Collection object, and in order to use these special collections we need to use `$meteorCollectionFS` (or `$meteor.collectionFS`).\nThe API is the same of $meteor.collection, the only difference is the handling of this collection behind-the-scenes.\n\n----\n\n## Usage\n\n    $meteor.collectionFS(Images, false);\n\n    // Or in case you want a different query\n    $meteor.collectionFS(function() {\n      return Images.find();\n    }, false);\n\n----\n\n        "}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.getReactively"),Template["api.getReactively"]=new Template("Template.api.getReactively",function(){var e=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.getReactively.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(e.lookupTemplate("markdown"),function(){return"\n\n# $scope.getReactively\n\nA method to get a $scope variable and watch it reactively\n\n----\n\n## Usage\n\n    $scope.getReactively(scopeVariableName, objectEquality)\n\n### Arguments\n\n<table class=\"variables-matrix input-arguments\">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n	<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>scopeVariableName</td>\n  <td><a href=\"\" class=\"label type-hint type-hint-string\">string</a></td>\n  <td><p>The name of the scope's variable to bind to</p></td>\n  <td><a href=\"\" class=\"label type-hint type-hint-array\">Yes</a></td>\n	<td></td>\n</tr>\n<tr>\n	<td>objectEquality</td>\n	<td><a href=\"\" class=\"label type-hint type-hint-boolean\">boolean</a></td>\n	<td><p>Watch the object equality using angular.equals instead of comparing for reference equality, deeper watch but also slower</p></td>\n	<td><a href=\"\" class=\"label type-hint type-hint-array\">No</a></td>\n	<td><a href=\"\" class=\"label type-hint type-hint-object\">false</a></td>\n</tr>\n</tbody>\n</table>\n\n\n## Returns\n\n<table class=\"variables-matrix return-arguments\">\n<tbody><tr>\n  <td><a href=\"\" class=\"label type-hint type-hint-expression\">Reactive variable</a></td>\n  <td><p>A reactive variable that is binded to the scope variable and fires a changed event every time\n  the scope variable changed</p></td>\n</tr>\n</tbody></table>\n\n----\n\n## Example\n\n\n    $scope.sort = { name: 1 };\n\n    $scope.parties = $meteor.collection(function() {\n      return Parties.find({}, {\n        sort : $scope.getReactively('sort')     // Every time $scope.sort will change,\n                                               // the reactive function will re-run again\n      });\n    });\n\n\n    // Everytime one of the getReactively variables will change,\n    // the autorun will fire and the subscription will re-run\n    $meteor.autorun($scope, function() {\n      $meteor.subscribe('parties', {\n        limit: parseInt($scope.getReactively('perPage')),\n        skip: (parseInt($scope.getReactively('page')) - 1) * parseInt($scope.getReactively('perPage')),\n        sort: $scope.getReactively('sort')\n      }).then(function() {\n\n        console.log('new parties in page equals - ', $scope.parties);\n      });\n    });\n\n## Example 2 - controllerAs syntax\n\nWhen using the `controllerAs` syntax for controller naming and referencing in templates, also if you are using the\n[angular2-now](https://github.com/pbastowski/angular2-now) library, you will need to prefix the variable name\nwith the name of your controller. That is, whatever name you supplied in controllerAs.\n\nSo, if controllerAs is `vm` then the following will work.\n\n        limit: parseInt($scope.getReactively('vm.perPage')),\n        skip: (parseInt($scope.getReactively('vm.page')) - 1) * parseInt($scope.getReactively('vm.perPage')),\n        sort: $scope.getReactively('vm.sort')\n\n\nAngular2-now always uses the controllerAs syntax internally and prefixes it's controllers with the camelCased version\nof your component's selector. If your component's selector is `parties-list` then the prefix will be `partiesList`\nand the code should look like this.\n\n        limit: parseInt($scope.getReactively('partiesList.perPage')),\n        skip: (parseInt($scope.getReactively('partiesList.page')) - 1) * parseInt($scope.getReactively('partiesList.perPage')),\n\n        "}),"\n    "),"\n\n      ",HTML.getTag("do-nothing")("\n        ",Spacebars.include(e.lookupTemplate("markdown"),function(){return'\n# $scope.getCollectionReactively\n\nA method to get a $scope variable the will be a collection (__not__ in terms of an ```AngularMeteorCollection```).\n\nThis means dependencies will rerun if:\n\n- the variable is an object and properties are added or removed from the project\n- the variable is an array and elements are pushed or removed from the array.\n\nThis is more expensive than a simple ```getReactively("myVar")``` but still better than ```getReactively("myVar", true)``` as it does not need to compare the collection deeply during every digest. See the [angular docs](https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watchCollection) for further information.\n\n----\n\n## Usage\n\n    $scope.getCollectionReactively(scopeVariableName)\n### Arguments\n\n<table class="variables-matrix input-arguments">\n    <thead>\n    <tr>\n        <th>Param</th>\n        <th>Type</th>\n        <th>Details</th>\n        <th>Required</th>\n        <th>Default</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n        <td>scopeVariableName</td>\n        <td><a href="" class="label type-hint type-hint-string">string</a></td>\n        <td><p>The name of the scope\'s variable to bind to</p></td>\n        <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n        <td></td>\n    </tr>\n\n    </tbody>\n</table>\n\n\n## Returns\n\n<table class="variables-matrix return-arguments">\n    <tbody><tr>\n        <td><a href="" class="label type-hint type-hint-expression">Reactive variable</a></td>\n        <td><p>A reactive variable that is binded to the scope variable and fires a changed event every time\n            the scope variable changes or if new elements are added to or removed from the resolved object or array </p></td>\n    </tr>\n    </tbody></table>\n\n----\n\n## Example\n\n\n    $scope.things = ["foo"];\n    $scope.$meteorAutorun(function(){\n     var values = $scope.$getCollectionReactively("things");\n     console.log("values",values);\n     //this runs everytime $scope.things.push(...)\n    });\n\n\n        '}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api"),Template.api=new Template("Template.api",function(){var e=this;return HTML.DIV({"class":"container api-container"},"\n    ",HTML.DIV({"class":"row"},"\n      ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("api"))},function(){return Spacebars.include(e.lookupTemplate("sidebarAPI"))}),"\n      ",HTML.DIV({"class":"col-md-9 main-content"},"\n        ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("mdContent"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("api.meteorCollection"),Template["api.meteorCollection"]=new Template("Template.api.meteorCollection",function(){var t=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.meteorCollection.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(t.lookupTemplate("markdown"),function(){return'\n\n# $meteor.collection   /   $scope.$meteorCollection\n\nA service that wraps the [Meteor collections](http://docs.meteor.com/#/full/collections) to enable reactivity within Angular.\n\nThis service binds between the Angular `$scope` variables and the meteor collection.\n\nService binding include 3 parts:\n\n* watching the changes in **Angular $scope** and updating the **Meteor Collection**. (called "autobind")\n* watching the changes in the **Meteor Collection** and updating the **Angular $scope** variables (called "observe")\n\nThe autobinding is optional, and can be set to false, so changes in the Angular $scope variables will have to be explicitly saved to the collection to be updated to the Meteor Collection.\n\nThe AngularMeteor collection can be explicitly stopped by calling the `stop()` function. It is important to stop the collection to avoid the increase in number of watchers.\n\nCalling `$scope.$meteorCollection` is exactly the same as calling `$meteor.collection` but additionally it will automatically stop the collection when the scope is destroyed.\n\nTherefore **using `$scope.$meteorCollection` is recommended use** over `$meteor.collection`.\n\n----\n\n## Usage\n\n    $meteor.collection(collection, autobind)\n\n    $scope.$meteorCollection(collection, autobind)\n\n### Arguments\n\n\n\n<table class="variables-matrix input-arguments">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n  <th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>collection</td>\n  <td>\n    <a href="http://docs.meteor.com/#/full/collections" class="label type-hint type-hint-string">Meteor Collection Object</a>/\n    <a href="http://docs.meteor.com/#/full/mongo_cursor" class="label type-hint type-hint-regexp">Reactive Function</a>\n  </td>\n  <td><p>A Meteor Collection or a reactive function to bind to.\n    reactive function can be used with $scope.getReactively to add $scope variable as reactive variable to the cursor.</p></td>\n  <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n  <td></td>\n</tr>\n<tr>\n  <td>autoClientSave</td>\n  <td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td>\n  <td><p>By default, changes in the Angular collection will automatically update the Meteor collection.\n    However if set to false, changes in the client won\'t be automatically propagated back to the Meteor collection.</p></td>\n  <td><a href="" class="label type-hint type-hint-object">No</a></td>\n  <td><a href="" class="label type-hint type-hint-boolean">True</a></td>\n</tr>\n<tr>\n  <td>updateCollection</td>\n  <td><a href="http://docs.meteor.com/#/full/collections" class="label type-hint type-hint-string">Meteor Collection Object</a></td>\n  <td><p>A collection object which will be used for updates (insert, update, delete).</p></td>\n  <td><a href="" class="label type-hint type-hint-object">No</a></td>\n  <td></td>\n</tr>\n</tbody>\n</table>\n\n\n## Returns\n\n<table class="variables-matrix return-arguments">\n<tbody><tr>\n  <td><a href="" class="label type-hint type-hint-object">object</a></td>\n  <td><p>Newly created <a href="/api/AngularMeteorCollection">AngularMeteorCollection</a> object.  \n  </td>\n</tr>\n</tbody></table>\n\n\n----\n\n## Example\n\n\n    // Define a new Meteor Mongo Collection\n    Todos = new Mongo.Collection(\'todos\');\n\n    if (Meteor.isClient) {\n\n      app.controller("mainCtrl", [\'$scope\', \'$meteor\',\n        function($scope, $meteor){\n\n          // Bind all the todos to $scope.todos\n          $scope.todos = $meteor.collection(Todos);\n\n          $scope.sticky = true;\n          // Bind all sticky todos to $scope.stickyTodos\n          // Binds the query to $scope.sticky so that if it changes,\n          // Meteor will re-run the query and bind it to $scope.stickyTodos\n          $scope.stickyTodos = $meteor.collection(function(){\n            return Todos.find({sticky: $scope.getReactively(\'sticky\')});\n          });\n\n          // Bind without auto-save all todos to $scope.notAutoTodos\n          $scope.notAutoTodos = $scope.$meteorCollection(Todos, false).subscribe("publicTodos");\n\n          // todo might be an object like this {text: "Learn Angular", sticky: false}\n          // or an array like this:\n          // [{text: "Learn Angular", sticky: false}, {text: "Hello World", sticky: true}]\n\n          $scope.save = function(todo) {\n            $scope.notAutoTodos.save(todo);\n          };\n\n          $scope.saveAll = function() {\n            $scope.notAutoTodos.save();\n          };\n\n          $scope.autoSave = function(todo) {\n            $scope.todos.push(todo);\n          };\n\n          // todoId might be an string like this "WhrnEez5yBRgo4yEm"\n          // or an array like this ["WhrnEez5yBRgo4yEm","gH6Fa4DXA3XxQjXNS"]\n          $scope.remove = function(todoId) {\n            $scope.notAutoTodos.remove(todoId);\n          };\n\n          $scope.removeAll = function() {\n            $scope.notAutoTodos.remove();\n          };\n\n          $scope.removeAuto = function(todo) {\n            $scope.todos.splice( $scope.todos.indexOf(todo), 1 );\n          }\n\n          $scope.toSticky = function(todo) {\n            if (angular.isArray(todo)){\n              angular.forEach(todo, function(object) {\n                object.sticky = true;\n            });\n            } else {\n              todo.sticky = true;\n            }\n\n            $scope.stickyTodos.save(todo);\n          };\n        }\n      ]);\n    }\n\n    if (Meteor.isServer) {\n\n      // Returns all objects in the Todos collection with public set to true.\n      Meteor.publish(\'publicTodos\', function(){\n        return Todos.find({public: true});\n      });\n\n      // Returns all objects in the Todos collection with public set to false.\n      Meteor.publish(\'privateTodos\', function(){\n        return Todos.find({public: false});\n      });\n\n    }\n\n\n        '}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.meteorObject"),Template["api.meteorObject"]=new Template("Template.api.meteorObject",function(){var e=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.meteorObject.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(e.lookupTemplate("markdown"),function(){return'\n\n# $meteor.object   /    $scope.$meteorObject\n\nA service that wraps a Meteor object to enable reactivity within AngularJS.\nFinds the first document that matches the selector, as ordered by sort and skip options.\nWraps [collection.findOne](http://docs.meteor.com/#/full/findone)\n\nCalling `$scope.$meteorObject` is exactly the same but additionally it will automatically stop the object when the scope is destroyed; therefore this is the **recommended method**.\n\n----\n\n## Usage\n\n    $meteor.object(collection, selector, auto)\n\n    $scope.$meteorObject(collection, selector, auto)\n\n  If you documents are saved with objects IDs (and not strings:  <a href="http://docs.meteor.com/#/full/mongo_collection" >see here </a>),\nyou should use <code> new Mongo.objectID  </code> to retrieve the object.\n\n    $meteor.object (collection, new Mongo.ObjectID (stringId), auto); // you can also use Meteor.Collection.ObjectID\n\n\n### Arguments\n\n\n\n<table class="variables-matrix input-arguments">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n  <th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>collection</td>\n  <td>\n    <a href="http://docs.meteor.com/#/full/collections" class="label type-hint type-hint-string">Meteor Collection Object</a>\n  </td>\n  <td><p>A Meteor Collection to bind to.</p></td>\n  <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n  <td></td>\n</tr>\n<tr>\n  <td>selector</td>\n  <td><a href="" class="label type-hint type-hint-string">Mongo Selector, Object ID, or String</a></td>\n  <td><p>A query describing the documents to find or just the ID of the document.\n    $meteor.object will find the first document that matches the selector,\n	  as ordered by sort and skip options, exactly like Meteor\'s <a href="http://docs.meteor.com/#/full/findone">collection.findOne</a>\n  </p></td>\n  <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n  <td></td>\n</tr>\n<tr>\n  <td>autoClientSave</td>\n  <td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td>\n  <td><p>By default, changes in the Angular object will automatically update the Meteor object.\n    However if set to false, changes in the client won\'t be automatically propagated back to the Meteor object.</p></td>\n  <td><a href="" class="label type-hint type-hint-object">No</a></td>\n  <td><a href="" class="label type-hint type-hint-boolean">True</a></td>\n</tr>\n</tbody>\n</table>\n\n\n## Returns\n\n<table class="variables-matrix return-arguments">\n<tbody><tr>\n  <td><a href="" class="label type-hint type-hint-object">object</a></td>\n  <td><p>Newly created <a href="/api/AngularMeteorObject">AngularMeteorObject</a> object with the following set of methods:</p>\n    <ul>\n      <li><code><span class="pln">save</span></code> — saves the current value of the object to the server.\n        returns a promise with an error in case for an error or a number of successful docs changed in case of success.</li>\n      <li><code><span class="pln">reset</span></code> — reset the current value of the object to the one in the server.</li>\n	    <li><code><span class="pln">subscribe</span></code> — <a href="/api/AngularMeteorObject">Go to reference</a></li>\n	    <li><code><span class="pln">getRawObject</span></code> — <a href="/api/AngularMeteorObject">Go to reference</a></li>\n    </ul>\n  </td>\n</tr>\n</tbody></table>\n\n\n----\n\n## Example\n\n\n    // Define a new Meteor Mongo Collection\n    Parties = new Mongo.Collection(\'parties\');\n\n    if (Meteor.isClient) {\n\n      angular.module("socially").controller("PartyDetailsCtrl", [\'$scope\', \'$stateParams\', \'$meteor\',\n        function($scope, $stateParams, $meteor){\n\n          $scope.party = $meteor.object(Parties, $stateParams.partyId);\n\n\n          $scope.partyNotAuto = $scope.$meteorObject(Parties, $stateParams.partyId, false);\n\n          $scope.save = function() {\n            $scope.partyNotAuto.save().then(function(numberOfDocs){\n              console.log(\'save success doc affected \', numberOfDocs);\n            }, function(error){\n              console.log(\'save error\', error);\n            });\n          };\n\n          $scope.reset = function() {\n            $scope.partyNotAuto.reset();\n          };\n\n          // Query selector example\n          $scope.partyOfUser = $meteor.object(Parties, {userId: Meteor.userId()});\n\n      }]);\n    }\n\n        '}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.methods"),Template["api.methods"]=new Template("Template.api.methods",function(){var t=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.methods.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(t.lookupTemplate("markdown"),function(){return'\n\n# $meteor.call\n\nA service service which wraps up [Meteor.methods](http://docs.meteor.com/#/full/methods_header) with [AngularJS promises](https://docs.angularjs.org/api/ng/service/$q).\n\n----\n\n## Usage\n\n    $meteor.call(name, methodArguments)\n\n### Arguments\n\n<table class="variables-matrix input-arguments">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>name</td>\n  <td><a href="" class="label type-hint type-hint-string">string</a></td>\n  <td><p>Name of method to invoke</p></td>\n  <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n</tr>\n<tr>\n  <td>methodArguments</td>\n  <td><a href="" class="label type-hint type-hint-object">any</a></td>\n  <td><p>Optional method arguments</p></td>\n  <td><a href="" class="label type-hint type-hint-object">No</a></td>\n</tr>\n</tbody>\n</table>\n\n\n## Returns\n\n<table class="variables-matrix return-arguments">\n<tbody><tr>\n  <td><a href="" class="label type-hint type-hint-expression">promise</a></td>\n  <td><p>The promise solves successfully with the return value of the method\n         or return reject with the error from the method</p></td>\n</tr>\n</tbody></table>\n\n----\n\n## Example\n\n\n    $scope.invite = function(party, user){\n\n      $meteor.call(\'invite\', party._id, user._id).then(\n        function(data){\n\n          // Handle success\n          console.log(\'success inviting\', data.userId);\n        },\n        function(err){\n          // Handle error\n          console.log(\'failed\', err);\n        }\n      );\n\n    };\n\n        '}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.ngFileExtension"),Template["api.ngFileExtension"]=new Template("Template.api.ngFileExtension",function(){var n=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.ngFileExtension.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.DIV("\n      ",Spacebars.include(n.lookupTemplate("markdown"),function(){return"\n\n# .ng.js and .ng.html files\n\n## ng-annotate and .ng.js\n\nIf you want to avoid minification problems with Angular's [dependency annotations](https://docs.angularjs.org/guide/di#dependency-annotation), you normally need to use a syntax that you're probably already familiar with:\n\n    angular.module('socially').controller('PartiesListCtrl', ['$scope',\n      function($scope){\n        // ...\n    }]);\n\nThere is a very popular Angular tool called [ng-annotate](https://github.com/olov/ng-annotate) that automatically adds and removes AngularJS dependency injection annotations. Angular-meteor uses that process automatically. All you need to do is to change your `.js` files to end with `.ng.js`. Those files will be recognised by Angular-meteor and automatically corrected, so you can simply write your dependency injection like this:\n\n    angular.module('socially').controller('PartiesListCtrl',\n      function($scope){\n        // ...\n    });\n\n## AngularJS templates: .ng.html\n\nBoth [Blaze](https://www.meteor.com/blaze) (Meteor's templating system) and AngularJS use the same braces or 'double curley brackets' syntax for expressions. That causes issues when you're working with AngularJS in Meteor: Blaze will compile and override your AngularJS expression. To disable that behaviour, you can use the `.ng.html` file extension.\n      "}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.session"),Template["api.session"]=new Template("Template.api.session",function(){var n=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.session.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n      ",Spacebars.include(n.lookupTemplate("markdown"),function(){return'\n\n# $meteor.session\n\nA service that binds an angular $scope variable to a Meteor Session variable, so it can be interacted (get, set) from within Angular modules as well as Meteor modules (templates).\n\n----\n\n## Usage\n\n        $meteor.session(sessionKey).bind(scope, model)\n\n### Arguments\n\n<table class="variables-matrix input-arguments">\n  <thead>\n  <tr>\n    <th>Param</th>\n    <th>Type</th>\n    <th>Details</th>\n    <th>Required</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>sessionKey</td>\n    <td><a href="https://docs.angularjs.org/guide/scope" class="label type-hint type-hint-string">string</a></td>\n    <td><p>The name of the session variable</p></td>\n    <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n  </tr>\n  <tr>\n    <td>scope</td>\n    <td><a href="https://docs.angularjs.org/guide/scope" class="label type-hint type-hint-regexp">Scope</a></td>\n    <td><p>The scope the document will be bound to</p></td>\n    <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n  </tr>\n  <tr>\n    <td>model</td>\n    <td><a href="" class="label type-hint type-hint-string">String</a></td>\n    <td><p>The name of the scope\'s model variable that the document will be bound to</p></td>\n    <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n  </tr>\n  </tbody>\n</table>\n\n----\n\n## Example\n\n    if (Meteor.isClient) {\n\n      app.controller("MainCtrl", [\'$scope\', \'$meteor\',\n        function($scope, $meteor){\n\n          $meteor.session(\'counter\').bind($scope, \'counter\');\n\n          Tracker.autorun(function () {\n            console.log(\'angular counter changed\', Session.get(\'counter\'));\n          });\n\n        }]);\n\n      }\n\n      Template.hello.events({ // change to variable from outside angular\n        \'click button\': function () {\n          // increment the counter when button is clicked\n          Session.set("counter", Session.get("counter") + 1);\n        }\n      });\n\n    }\n\n    HTML\n\n        <div ng-controller="MainCtrl">\n          angular counter = [[ counter ]]\n          <button ng-click="counter=counter+1">Add angular counter</button>\n          <button>Add Meteor counter</button>\n        </div>\n\n      '}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.subscribe"),Template["api.subscribe"]=new Template("Template.api.subscribe",function(){var e=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.subscribe.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(e.lookupTemplate("markdown"),function(){return'\n\n# $meteor.subscribe   /    $scope.$meteorSubscribe\n\nA service which is a wrapper for [Meteor.subscribe](http://docs.meteor.com/#/full/meteor_subscribe).\nIt subscribes to a [Meteor.publish](http://docs.meteor.com/#/full/publishandsubscribe) method in the client and returns a [AngularJS promise](https://docs.angularjs.org/api/ng/service/$q) when ready.\n\nCalling $scope.$meteorSubscribe will automatically stop the subscription when the scope is destroyed.\n\n----\n\n## Usage\n\n    $meteor.subscribe(name, publisherArguments)\n\n    $scope.$meteorSubscribe(name, publisherArguments)\n\n### Arguments\n\n<table class="variables-matrix input-arguments">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>name</td>\n  <td><a href="" class="label type-hint type-hint-string">string</a></td>\n  <td><p>Name of the subscription. Matches the name of the server\'s <em>publish()</em> call.</p></td>\n  <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n</tr>\n<tr>\n  <td>publisherArguments</td>\n  <td><a href="" class="label type-hint type-hint-object">any</a></td>\n  <td><p>Optional arguments passed to publisher function on server.</p></td>\n  <td><a href="" class="label type-hint type-hint-object">No</a></td>\n</tr>\n</tbody>\n</table>\n\n\n## Returns\n\n<table class="variables-matrix return-arguments">\n<tbody><tr>\n  <td><a href="" class="label type-hint type-hint-expression">promise(subscriptionHandle)</a></td>\n  <td><p>The promise solved successfully when subscription is ready.\n    The success promise holds the <a href="http://docs.meteor.com/#/full/meteor_subscribe">subscription handle</a>.</p></td>\n</tr>\n</tbody></table>\n\n----\n\n## Example\n\n\n    // Define a new Meteor Mongo Collection\n    Todos = new Mongo.Collection(\'todos\');\n\n    if (Meteor.isClient) {\n\n      app.controller("mainCtrl", [\'$scope\', \'$meteor\',\n        function($scope, $meteor){\n\n          $meteor.subscribe(\'todos\').then(function(subscriptionHandle){\n            // Bind all the todos to $scope.todos\n            $scope.todos = $meteor.collection(Todos);\n\n            console.log($scope.todos + \' is ready\');\n\n            // You can use the subscription handle to stop the subscription if you want\n            subscriptionHandle.stop();\n          });\n\n          $scope.$meteorSubscribe(\'books\').then(function(subscriptionHandle){\n            // Bind all the todos to $scope.books\n            $scope.books = $meteor.collection(Books);\n\n            console.log($scope.books + \' is ready\');\n\n            // No need to stop the subscription, it will automatically close on scope destroy\n          });\n        }\n      ]);\n    }\n\n    if (Meteor.isServer) {\n\n      Meteor.publish(\'todos\', function(){\n        return Todos.find({});\n      });\n\n      Meteor.publish(\'books\', function(){\n        return Books.find({});\n      });\n\n    }\n\n        '}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("api.utils"),Template["api.utils"]=new Template("Template.api.utils",function(){var n=this;return HTML.DIV(HTML.Raw('\n    <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/api/api.utils.html" class="btn btn-default btn-lg improve-button">\n      <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n    </a>\n\n    '),HTML.getTag("do-nothing")("\n        ",Spacebars.include(n.lookupTemplate("markdown"),function(){return'\n\n# $meteorUtils\n\nA service which contains helpful utilities for angular-meteor applications\n\n----\n\n## Usage\n\n    $meteor.autorun( :scope, :function );  /  $scope.$meteorAutorun( :function );\n\n    $meteor.getCollectionByName( :collectionName );\n\n----\n\n## Methods\n\n<h3><p><code><span class="pln">autorun( :scope, :function );</span></code></p></h3>\n<h3><p><code><span class="pln">$scope.$meteorAutorun( :function );</span></code></p></h3>\n\nWrapper function to Meteor\'s [Tracker.autorun](http://docs.meteor.com/#/full/tracker_autorun).\n\nKeeps the changes in Angular\'s scope context and closes the autorun when scope automatically destroys.\n\nThe two types of syntax works the same way.\n\n<br>\n\n#### Parameters\n\n<table class="variables-matrix input-arguments">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>scope</td>\n  <td>\n    <a href="" class="label type-hint type-hint-regexp">scope</a>\n  </td>\n  <td><p>The AngularJS scope you use the autorun on.\n  </p></td>\n  <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n</tr>\n<tr>\n  <td>fn</td>\n  <td>\n    <a href="" class="label type-hint type-hint-string">function</a>\n  </td>\n  <td><p>The function that will re-run every time a reactive variable changes inside it.\n  </p></td>\n  <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n</tr>\n</tbody>\n</table>\n\n\n----\n## Example\n\n			$meteor.autorun($scope, function() {\n          if ($scope.getReactively(\'currentUser\')) {\n              $scope.userForScore = $scope.$meteorObject(Userinfo, {user_id: $scope.getReactively(\'currentUser\')._id});//$rootScope.currentUser._id\n          }\n      });\n\n\n## Method\n\n<br>\n<h3><p><code><span class="pln">getCollectionByName( :collectionName );</span></code></p></h3>\n<br>\n\n#### Parameters\n\n<table class="variables-matrix input-arguments">\n<thead>\n<tr>\n  <th>Param</th>\n  <th>Type</th>\n  <th>Details</th>\n  <th>Required</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <td>collectionName</td>\n  <td>\n    <a href="" class="label type-hint type-hint-string">string</a>\n  </td>\n  <td><p>The name of the collection you want to get back\n  </p></td>\n  <td><a href="" class="label type-hint type-hint-array">Yes</a></td>\n</tr>\n</tbody>\n</table>\n\n<br>\n\n        '}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("tutorialIntro"),Template.tutorialIntro=new Template("Template.tutorialIntro",function(){var t=this;return HTML.DIV({"class":"container tutorial-container"},"\n    ",HTML.DIV({"class":"row"},"\n      ",HTML.DIV({"class":"col-md-12 main-content"},"\n        ",HTML.Raw('<div class="row">\n          <div class="col-md-12">\n            <a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/views/steps/tutorial-intro.html" class="btn btn-default btn-lg improve-button">\n              <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n            </a>\n            <ul class="btn-group tutorial-nav">\n              <a href="/tutorials/angular1/bootstrapping"><li class="btn btn-primary">Get Started <i class="glyphicon glyphicon-step-forward"></i></li></a>\n            </ul>\n          </div>\n        </div>'),"\n        ",HTML.DIV({"class":"row"},"\n          ",HTML.DIV({"class":"col-md-12"},"\n\n",Spacebars.include(t.lookupTemplate("markdown"),function(){return"\n\n# Socially - A Meteor-Angular Tutorial App\n\nThis tutorial serves as a comprehensive introduction to writing applications with Meteor and Angular.\n\nWe will tap into the power of both frameworks and their eco-systems to write quality applications in a fraction of the time.\n\nEach step in the tutorial is written both in Angular 1.x and Angular 2.0 side by side.\n\nNo previous knowledge in Angular or Meteor is necessary.\n\nWe will walk you through building an Angular-Meteor app. Can't wait to see it? Here's the final version - [http://socially-step18.meteor.com/](http://socially-step18.meteor.com/). Don't forget to come back and go through this tutorial!\n\nOur goal in this tutorial is to add more steps as we go along and to cover as many use cases as possible. So if there's a use case you think is missing, please suggest it on the [Github issues page](https://github.com/Urigo/angular-meteor/issues).\n\nWe also welcome pull requests for new chapters and would love to work with you on them!\n\nLets start!\n\n"}),"\n          "),"\n          ",HTML.Raw('<div class="col-md-12">\n            <ul class="btn-group tutorial-nav">\n              <a href="/tutorials/angular1/bootstrapping"><li class="btn btn-primary">Get Started <i class="glyphicon glyphicon-step-forward"></i></li></a>\n            </ul>\n          </div>'),"\n        "),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("tutorials"),Template.tutorials=new Template("Template.tutorials",function(){var e=this;return HTML.DIV({"class":"container tutorial-container"},"\n    ",HTML.DIV({"class":"row"},"\n      ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("tutorials"))},function(){return Spacebars.include(e.lookupTemplate("sidebar"))}),"\n      ",HTML.DIV({"class":"col-md-9 main-content"},"\n        ",HTML.DIV({"class":"header"},"\n          ",Spacebars.include(e.lookupTemplate("tutorialStepHeader")),"\n        "),"\n        ",HTML.DIV({"class":"body"},"\n          ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("contentTemplate"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        "),"\n        ",HTML.DIV({"class":"footer"},"\n          ",Spacebars.include(e.lookupTemplate("tutorialNavigationButtons")),"\n        "),"\n      "),"\n    "),"\n  ")}),Template.__checkName("codeBox"),Template.codeBox=new Template("Template.codeBox",function(){var e=this;return HTML.DIV({"class":"panel panel-default code-box"},"\n    ",HTML.DIV({"class":"panel-heading code-box-heading"},"\n      ",Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))}),"\n      ",HTML.Raw('<button class="select-all">Select All</button>'),"\n    "),"\n    ",HTML.DIV({"class":"code-box-content"},"\n      ",Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n    "),"\n  ")}),Template.__checkName("gitHubBox"),Template.gitHubBox=new Template("Template.gitHubBox",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("gitHubBoxKeys"))},function(){return["\n    ",HTML.DIV({"class":"panel panel-default"},"\n      ",HTML.DIV({"class":"panel-heading"},"\n        See the code for step ",Blaze.View("lookup:stepNumber",function(){return Spacebars.mustache(e.lookup("stepNumber"))})," on GitHub!\n      "),"\n      ",HTML.DIV({"class":"panel-body"},"\n        ",HTML.UL("\n          ",HTML.LI(HTML.A({href:function(){return["https://github.com/meteor/",Spacebars.mustache(Spacebars.dot(e.lookup("parent"),"ghRepoName")),"/blob/",Spacebars.mustache(e.lookup("sha")),"/",Spacebars.mustache(Spacebars.dot(e.lookup("parent"),"ghRepoName")),".html"]}},Blaze.View("lookup:parent.ghRepoName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("parent"),"ghRepoName"))}),".html")),"\n          ",HTML.LI(HTML.A({href:function(){return["https://github.com/meteor/",Spacebars.mustache(Spacebars.dot(e.lookup("parent"),"ghRepoName")),"/blob/",Spacebars.mustache(e.lookup("sha")),"/",Spacebars.mustache(Spacebars.dot(e.lookup("parent"),"ghRepoName")),".js"]}},Blaze.View("lookup:parent.ghRepoName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("parent"),"ghRepoName"))}),".js")),"\n          ",HTML.LI(HTML.A({href:function(){return["https://github.com/meteor/",Spacebars.mustache(Spacebars.dot(e.lookup("parent"),"ghRepoName")),"/blob/",Spacebars.mustache(e.lookup("sha")),"/",Spacebars.mustache(Spacebars.dot(e.lookup("parent"),"ghRepoName")),".css"]}},Blaze.View("lookup:parent.ghRepoName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("parent"),"ghRepoName"))}),".css")),"\n          ",HTML.LI(HTML.A({href:function(){return["https://github.com/meteor/",Spacebars.mustache(Spacebars.dot(e.lookup("parent"),"ghRepoName")),"/commit/",Spacebars.mustache(e.lookup("sha"))]}},"diff of all files")),"\n        "),"\n      "),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("about.html"),Template["about.html"]=new Template("Template.about.html",function(){var a=this;return HTML.Raw('<div class="container about">\n    <div class="row">\n      <div class="col-xs-12 col-md-8 col-md-offset-2 team-wrapper">\n        <h1 class="title"><a href="https://github.com/Urigo/angular-meteor/graphs/contributors">Contributors</a></h1>\n        <ul class="team">\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/Urigo">\n              <img src="https://avatars2.githubusercontent.com/u/1297448?v=3&amp;s=200" title="@Urigo">\n              @Urigo</a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/netanelgilad">\n              <img src="https://avatars1.githubusercontent.com/u/3474905?v=3&amp;s=200" title="@netanelgilad">\n              @netanelgilad</a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/loneleeandroo">\n              <img src="https://avatars3.githubusercontent.com/u/5119850?v=3&amp;s=200" title="@loneleeandroo">\n              @loneleeandroo\n            </a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/dotansimha">\n              <img src="https://avatars1.githubusercontent.com/u/3680083?v=3&amp;s=200" title="@dotansimha">\n              @dotansimha</a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/Arambse">\n              <img src="https://avatars1.githubusercontent.com/u/1844027?v=3&amp;s=200" title="@Arambse">\n              @Arambse</a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/davidyaha">\n              <img src="https://avatars0.githubusercontent.com/u/2580920?v=3&amp;s=200" title="@davidyaha">\n              @davidyaha</a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/asafdav">\n              <img src="https://avatars3.githubusercontent.com/u/1223211?v=3&amp;s=200" title="@asafdav">\n              @asafdav</a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/simonv3">\n              <img src="https://avatars1.githubusercontent.com/u/485583?v=3&amp;s=200" title="@simonv3">\n              @simonv3\n            </a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/idanwe">\n              <img src="https://avatars3.githubusercontent.com/u/3066423?v=3&amp;s=200" title="@idanwe">\n              @idanwe\n            </a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/fredrikekelund">\n              <img src="https://avatars3.githubusercontent.com/u/1101677?v=3&amp;s=200" title="@fredrikekelund">\n              @fredrikekelund\n            </a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/barbatus">\n              <img src="https://avatars3.githubusercontent.com/u/2824096?v=3&amp;s=200" title="@barbatus">\n              @barbatus\n            </a>\n          </li>\n          <li class="col-sm-3 col-xs-6">\n            <a href="https://github.com/urigo/angular-meteor">\n              <img src="http://placehold.it/200&amp;text=<\\>" title="you">\n              you?\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12 col-md-8 col-md-offset-2 roadmap-wrapper">\n        <h2>Roadmap</h2>\n        <p>Here\'s how we\'re planning ahead for the future of Meteor + Angular integration:</p>\n        <div class="roadmap">\n          <span class="col-xs-6 col-sm-3 node">\n            <label>Angular 1.x</label>\n            <div class="status">almost done</div>\n          </span>\n\n          <span class="col-xs-6 col-sm-3 node">\n            <label>Angular 2.0</label>\n            <div class="status">started</div>\n          </span>\n\n          <span class="col-xs-6 col-sm-3 node">\n            <label>Server Side AngularJS</label>\n          </span>\n\n          <span class="col-xs-6 col-sm-3 node">\n            <label>Bring What\'s Learned to Both Frameworks</label>\n          </span>\n        </div>\n        <p>Have a look at our <a title="Trello Roadmap" href="https://trello.com/b/Wj9U0ulk/angular-meteor">trello board</a> to see what we\'re working on.</p>\n      </div>\n    </div>\n  </div>')})}();

!function(){Template.__checkName("angular2"),Template.angular2=new Template("Template.angular2",function(){var n=this;return HTML.DIV({"class":"main-unit container"},"\n    ",HTML.DIV({"class":"angular-2"},"\n      ",HTML.Raw('<div class="header">\n        <h1 class="title">A Clear Migration Path to Angular 2.0</h1>\n        <img src="/images/angular-2-shield-large.png">\n        <p>Together with our community members, we have been working on getting Angular-Meteor working with Angular 2.</p>\n        <p>We think we created a good solution for working with Angular 2.0 and migrating to it.</p>\n      </div>'),"\n      ",HTML.DIV({"class":"row"},"\n        ",HTML.DIV({"class":"col-sm-6 angular-2-now"},"\n          ",HTML.Raw('<div class="angular-2-option">\n            <h2>Angular 2 Now</h2>\n            <p>\n              Use Angular 2.0 syntax with ES6 on top of your Angular 1.x application.\n              Angular 2 Now is a library by <a href="https://github.com/pbastowski" title="@pbastowski">\n              <i class="fa fa-github"></i> @pbastowski</a> that is targeted at people who:\n            </p>\n            <ul>\n              <li>\n                - use Angular 1.x and think about migrating to Angular 2 when it finally arrives.\n              </li>\n              <li>\n                - like Angular 2 features and want to start using them on top of Angular 1.x right now.\n              </li>\n            </ul>\n          </div>'),"\n          ",HTML.Raw('<div class="ctas">\n            <a class="btn btn-default" href="https://github.com/pbastowski/angular2-now" title="Angular 2 Now Github Repository">\n              <i class="fa fa-github"></i>\n              View Repo\n            </a>\n            <a class="btn btn-default" href="https://github.com/pbastowski/meteor-angular-socially/tree/feature/ng2now" title="Angular Meteor Socially">\n              <i class="fa fa-play"></i>\n              Example App\n            </a>\n          </div>'),"\n          ",HTML.DIV({"class":"sample"},"\n            ",HTML.Raw('<h4 class="sample-code">\n              Sample:\n            </h4>'),"\n            ",HTML.Raw('<p>\n              Here\'s an example recreating the parties list from <a href="/tutorial">the tutorial</a>.\n            </p>'),"\n",Spacebars.include(n.lookupTemplate("markdown"),function(){return"\n\n```\n\"use strict\";\n\nvar {Component, View, Inject, State} = angular2now;\n\nangular.module('socially');\n\n@State({ name: 'parties', url: '/parties', defaultRoute: true, html5Mode: true })\n\n@Component({selector: 'parties-list'})\n@View({templateUrl: 'client/parties-list/parties-list.html'})\n@Inject(['$scope', '$meteor', '$rootScope', '$state'])\n\nclass PartiesList {\n  constructor($scope, $meteor, $rootScope, $state) {\n    var self = this;\n\n    // Scope properties\n    self.page = 1;\n    self.perPage = 3;\n    self.sort = {name: 1};\n    self.orderProperty = '1';\n\n    self.users = $meteor.collection(Meteor.users, false).subscribe('users');\n\n    self.parties = $meteor.collection(function () {\n      return Parties.find({}, {\n        sort: $scope.getReactively('vm.sort')\n      });\n    });\n\n    // Scope method declarations (API)\n    self.creator = creator;\n    self.rsvp = rsvp;\n    self.getUserById = getUserById;\n    self.pageChanged = pageChanged;\n    self.remove = remove;\n\n    // Tasks to run on directive initialisation\n    $meteor.autorun($scope, autorun);\n    $scope.$watch('orderProperty', watchOrderProperty);\n\n    // API and task implementation functions\n    function autorun() {\n      $meteor.subscribe(\n        'parties',\n\n        {\n          limit: parseInt($scope.getReactively('vm.perPage')),\n          skip:  (parseInt($scope.getReactively('vm.page')) - 1) * parseInt($scope.getReactively('vm.perPage')),\n          sort:  $scope.getReactively('vm.sort')\n        },\n\n        $scope.getReactively('vm.search')).then(function () {\n          self.partiesCount = $meteor.object(Counts, 'numberOfParties', false);\n\n          self.parties.forEach( party => {\n            party.onClicked = () => $state.go('partyDetails', {partyId: party._id})\n          });\n\n          self.map = {\n            center: {\n              latitude:  45,\n              longitude: -73\n            },\n            zoom:   8\n          };\n\n        }\n\n      );\n    }\n\n    function watchOrderProperty() {\n      if (self.orderProperty)\n        self.sort = {name: parseInt(self.orderProperty)};\n    }\n\n    function remove(party) {\n      self.parties.splice(self.parties.indexOf(party), 1);\n    }\n\n    function pageChanged(newPage) {\n      self.page = newPage;\n    }\n\n    function getUserById(userId) {\n      return Meteor.users.findOne(userId);\n    }\n\n    function creator(party) {\n      if (!party)\n        return;\n      var owner = self.getUserById(party.owner);\n      if (!owner)\n        return \"nobody\";\n\n      if ($rootScope.currentUser)\n        if ($rootScope.currentUser._id)\n          if (owner._id === $rootScope.currentUser._id)\n            return \"me\";\n\n      return owner;\n    }\n\n    function rsvp(partyId, rsvp) {\n      $meteor.call('rsvp', partyId, rsvp).then(\n        function (data) {\n          console.log('success responding', data);\n        },\n        function (err) {\n          console.log('failed', err);\n        }\n      );\n    }\n  }\n}\n```\n"}),"\n\n          "),"\n        "),"\n        ",HTML.DIV({"class":"col-sm-6 angular-2-alpha"},"\n          ",HTML.Raw('<div class="angular-2-option">\n            <h2>Angular 2.0.0-alpha</h2>\n            <p>\n              An angular2-meteor package with all the dependencies (TypeScript, System.js, etc...) so you can start writing Angular 2.0 code right away.\n              written by - <a href="https://github.com/netanelgilad"><i class="fa fa-github"></i> @netanelgilad</a> and <a href="https://github.com/ShMcK"><i class="fa fa-github"></i> @ShMcK</a>.\n            </p>\n          </div>'),"\n          ",HTML.Raw('<div class="ctas">\n            <a class="btn btn-default cta" href="https://github.com/ShMcK/Meteor-Angular2" title="Meteor-Angular2">\n              <i class="fa fa-github"></i>\n              View Repo\n            </a>\n            <a class="btn btn-default cta" href="https://github.com/ShMcK/Angular2-Meteor-Demos/tree/master/ng2-socially" title="Angular Meteor Socially">\n              <i class="fa fa-play"></i>\n              Example App\n            </a>\n          </div>'),"\n          ",HTML.DIV({"class":"sample"},"\n            ",HTML.Raw('<h4 class="sample-code">\n              Sample:\n            </h4>'),"\n            ",HTML.Raw('<p>\n              Here\'s an example recreating the parties list from <a href="/tutorials/angular2/bootstrapping">the tutorial</a>.\n            </p>'),"\n",Spacebars.include(n.lookupTemplate("markdown"),function(){return"\n\n```\nimport {Component, View, bootstrap, For, If} from 'angular2/angular2';\nimport {Parties} from 'model/parties';\n\n@Component({\n    selector: 'parties-list'\n})\n@View({\n    templateUrl: 'client/parties-list.ng.html',\n    directives: [For, If]\n})\nclass PartiesList {\n    selectedParty: Object = {\n        name: '',\n        description: ''\n    };\n\n    parties: Object;\n\n    constructor() {\n        var self = this;\n        Tracker.autorun(zone.bind(function () {\n            self.parties = Parties.find({}).fetch();\n        }));\n    }\n\n    addParty(name: string, description: string) {\n        Parties.insert({\n            name: name,\n            description: description\n        });\n    }\n\n    remove(party: Object) {\n        Parties.remove(party._id);\n    }\n\n    selectParty(party: Object) {\n        this.selectedParty = party;\n    }\n\n    saveParty(name: string, description: string) {\n        Parties.update(this.selectedParty._id, {$set: {name: name, description: description}});\n    }\n}\n\nbootstrap(PartiesList);\n```\n"}),"\n          "),"\n        "),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("manifesto"),Template.manifesto=new Template("Template.manifesto",function(){var n=this;return HTML.DIV({"class":"container manifesto"},"\n    ",HTML.DIV({"class":"row"},"\n      ",HTML.DIV({"class":"col-md-12"},"\n        ",HTML.Raw('<a href="https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/manifesto.html" class="btn btn-default btn-lg improve-button">\n          <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n        </a>'),"\n      ",HTML.DIV("\n        ",Spacebars.include(n.lookupTemplate("markdown"),function(){return"\n\n# Angular-Meteor Manifesto\n\n### Don’t choose one solution\n\nWe created this library so you can use **both Blaze and AngularJS** in the same application and even on the same page, template or directive.\n\n* You can start with AngularJS and migrate your application slowly to Blaze.\n* You can start using Blaze and move slowly to AngularJS.\n* You can use both of them together forever.\n\n### A combined power\n\nUse libraries, packages and solutions from both communities.\n\n### Neutrality\n\nWe are here to give neutral perspective on the two frameworks.\n\n\n----\n\n\n## Why use AngularJS on top of Meteor\n\n* MVC and MVVM structure on the client\n* Use existing applications\n* Ecosystem and community\n* Easy entrance to Meteor\n* Angular 2.0\n\n----\n\n\n## Why use Meteor with AngularJS\n\n\n* Best real time backend for AngularJS\n* Super easy, Real-time integration with the database\n* Full stack and open source\n* Great Cordova integration\n* Easy deployment\n\n\n        "}),"\n      "),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("home"),Template.home=new Template("Template.home",function(){var n=this;return HTML.Raw('<div class="home">\n    <div class="main-unit hero">\n      <div class="container">\n        <div class="main-logo"></div>\n        <h1 class="title">Build Realtime Web and Mobile Apps With Angular and Meteor</h1>\n        <div class="cta-link">\n          <a href="/tutorials" class="btn btn-default cta">\n            <i class="fa fa-university"></i>\n            Start With Our Tutorials\n          </a>\n          &nbsp;<a href="https://www.meteor.com/install" class="btn btn-default cta">\n            <i class="fa fa-meteor"></i>\n            Install Meteor\n          </a>\n        </div>\n        <br>\n          <div class="social" id="homepage-social-buttons">\n            <!-- to be replaced with #homepage-social-buttons-cache once it\'s ready -->\n          </div>\n      </div>\n    </div>\n    <div class="main-unit video">\n      <div class="container">\n        <h1 class="title">Angular-Meteor Makes Real Time Full Stack Easy</h1>\n        <div class="video-wrapper">\n          <iframe src="https://www.youtube.com/embed/_mu6BWsnaPM?rel=0" frameborder="0" allowfullscreen=""></iframe>\n        </div>\n        <div class="row">\n            <div class="col-sm-12">\n              <p class="tutorial-cta">\n                Angular-Meteor is completely Open Source. It brings the responsive power of Angular to the powerful and flexible Meteor stack. Deploy wherever you want.\n              </p>\n              <a class="btn btn-default cta" href="https://github.com/Urigo/angular-meteor">\n                <i class="glyphicon glyphicon-play-circle"></i>\n                Get Started</a>\n            </div>\n          </div>\n      </div>\n    </div>\n    <div class="main-unit intro">\n      <div class="container">\n<!--         <h1>Videos</h1>\n -->        <div class="slides">\n          <div class="row">\n            <div class="col-sm-6">\n              <div class="small-hero">\n                <h2>Real Time Data Sync and Store</h2>\n                <img src="/images/existing-2.png">\n                <p>\n                  Sync data in realtime across your own server, DB and clients instantly.\n                </p>\n              </div>\n            </div>\n            <div class="col-sm-6">\n              <div class="small-hero">\n                <h2>Write Angular on the Server</h2>\n                <img src="/images/plug-in-2.png">\n                <p>\n                  Use your existing Angular knowledge to create your server. Remove boilerplate by calling Angular Services from the server directly on your client.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="main-unit extras">\n      <div class="container">\n        <div class="row">\n          <div class="col-sm-4">\n            <h2>Why</h2>\n            <p>\n              Don\'t choose just one solution. We created this library so that you can comfortably use both AngularJS and Meteor. <a href="/manifesto">Read more <i class="fa fa-chevron-circle-right"></i></a>\n            </p>\n          </div>\n          <div class="col-sm-4">\n            <h2>Contribute</h2>\n            <p>\n              Contribute with code, by adding to our <a href="/tutorials">tutorials <i class="fa fa-chevron-circle-right"></i></a>, or tell us what you\'re looking for in our <a href="https://trello.com/b/Wj9U0ulk/angular-meteor">roadmap <i class="fa fa-chevron-circle-right"></i></a>\n            </p>\n          </div>\n          <div class="col-sm-4">\n            <h2>Github</h2>\n            <p>\n              <iframe src="https://ghbtns.com/github-btn.html?user=urigo&amp;repo=angular-meteor&amp;type=star&amp;count=true&amp;size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>\n              <iframe src="https://ghbtns.com/github-btn.html?user=urigo&amp;repo=angular-meteor&amp;type=watch&amp;count=true&amp;size=large&amp;v=2" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>')})}();

!function(){Template.__checkName("twitterSocialButton"),Template.twitterSocialButton=new Template("Template.twitterSocialButton",function(){var t=this;return HTML.Raw('<iframe src="https://ghbtns.com/github-btn.html?user=urigo&amp;repo=angular-meteor&amp;type=star&amp;count=true&amp;size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>\n  <a class="twitter-follow-button" href="https://twitter.com/urigoldshtein" data-size="large" data-show-screen-name="false">\n    Follow @UriGoldshtein</a>')})}();

!function(){Template.__checkName("layout"),Template.layout=new Template("Template.layout",function(){var e=this;return[Spacebars.include(e.lookupTemplate("navbar")),"\n  ",HTML.MAIN(Spacebars.include(e.lookupTemplate("yield"))),"\n\n  ",HTML.DIV({style:"display:none;"},"\n    ",HTML.DIV({"class":"social",id:"homepage-social-buttons-cache"},"\n      ",Blaze._TemplateWith(function(){return{showCount:Spacebars.call("true")}},function(){return Spacebars.include(e.lookupTemplate("twitterSocialButton"))}),"\n    "),"\n  "),"\n\n  ",HTML.SCRIPT({type:"text/javascript"},'\n    window.twttr = (function (d, s, id) {\n      var t, js, fjs = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) return;\n      js = d.createElement(s); js.id = id;\n      js.src= "https://platform.twitter.com/widgets.js";\n      fjs.parentNode.insertBefore(js, fjs);\n      return window.twttr || (t = { _e: [], ready: function (f) { t._e.push(f) } });\n    }(document, "script", "twitter-wjs"));\n  '),HTML.Raw('\n\n  <!-- Google Tag Manager -->\n  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PKC4D4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>\n  '),HTML.SCRIPT("(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-PKC4D4');"),HTML.Raw("\n  <!-- End Google Tag Manager -->")]})}();

!function(){Template.__checkName("navbar"),Template.navbar=new Template("Template.navbar",function(){var a=this;return HTML.HEADER({"class":"navbar navbar-fixed-top"},"\n    ",HTML.DIV({"class":"container-fluid"},"\n      ",HTML.Raw('<div class="navbar-header">\n        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">\n          <span class="sr-only">Toggle navigation</span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n        <a class="navbar-brand" href="/"><img alt="Angular Meteor" src="/images/logo.png"></a>\n      </div>'),"\n      ",HTML.DIV({"class":"collapse navbar-collapse",id:"bs-example-navbar-collapse-1"},"\n        ",HTML.UL({"class":"nav navbar-nav navbar-left"},"\n          ",HTML.Raw('<li class="dropdown">\n            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Learn <span class="caret"></span></a>\n            <ul class="dropdown-menu tutorial-dropdown" role="menu">\n              <li><a href="/tutorials/"><strong>Tutorial - From start to full app</strong></a></li>\n              <li><a href="/tutorials/angular1/bootstrapping">0. Bootstrapping</a></li>\n              <li><a href="/tutorials/angular1/static-template">1. Static Template</a></li>\n              <li><a href="/tutorials/angular1/dynamic-template">2. Dynamic Template</a></li>\n              <li><a href="/tutorials/angular1/3-way-data-binding">3. 3-Way data binding</a></li>\n              <li><a href="/tutorials/angular1/adding-removing-objects-and-angular-event-handling">4. Adding/removing objects and Angular event handling</a></li>\n              <li><a href="/tutorials/angular1/routing-and-multiple-views">5. Routing &amp; Multiple Views</a></li>\n              <li><a href="/tutorials/angular1/bind-one-object">6. Bind one object</a></li>\n              <li><a href="/tutorials/angular1/folder-structure">7. Folder structure</a></li>\n              <li><a href="/tutorials/angular1/user-accounts-authentication-and-permissions">8. User accounts, authentication and permissions</a></li>\n              <li><a href="/tutorials/angular1/privacy-and-publish-subscribe-functions">9. Privacy and publish-subscribe functions</a></li>\n              <li><a href="/tutorials/angular1/deploying-your-app">10. Deploying your app</a></li>\n              <li><a href="/tutorials/angular1/running-your-app-on-android-or-ios-with-phoneGap">11. Running your app on Android or iOS with PhoneGap</a></li>\n              <li><a href="/tutorials/angular1/search-sort-pagination-and-reactive-vars">12. Search, sort, pagination and reactive vars</a></li>\n              <li><a href="/tutorials/angular1/using-and-creating-angularjs-filters">13. Using and creating AngularJS filters</a></li>\n              <li><a href="/tutorials/angular1/meteor-methods-with-promises">14. Meteor methods with promises</a></li>\n              <li><a href="/tutorials/angular1/conditional-template-directives-with-angularjs">15. Conditional template directives with AngularJS</a></li>\n              <li><a href="/tutorials/angular1/google-maps">16. Google Maps</a></li>\n              <li><a href="/tutorials/angular1/css-less-and-bootstrap">17. CSS, LESS and Bootstrap</a></li>\n              <li><a href="/tutorials/angular1/angular-material-and-custom-angular-auth-forms">18. angular-material</a></li>\n              <li><a href="/tutorials/angular1/3rd-party-libraries">19. Third-Party packages</a></li>\n              <li><a href="/tutorials/angular1/handling-files-with-collectionfs">20. Handling files with CollectionFS</a></li>\n              <li><a href="/tutorials/angular1/next-steps">21. Next Steps</a></li>\n            </ul>\n          </li>'),"\n          ",HTML.Raw('<li><a href="/api">API Reference</a></li>'),"\n          ",HTML.Raw('<li><a href="/server">Angular Server</a></li>'),"\n          ",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"angular2")}},"Angular 2")),"\n        "),"\n        ",HTML.Raw('<ul class="nav navbar-nav navbar-right">\n          <li><a href="https://github.com/Urigo/angular-meteor"><i class="fa fa-github"></i> Github</a></li>\n          <li><a href="https://medium.com/angular-meteor">Blog</a></li>\n          <li><a href="https://www.meteor.com/case-studies/submit-your-meteor-app">Submit App</a></li>\n          <li><a href="/manifesto">Manifesto</a></li>\n          <li><a href="/about">About us</a></li>\n        </ul>'),"\n      "),HTML.Raw("<!-- /.navbar-collapse -->"),"\n    "),"\n  ")}),Template.__checkName("navbarLink"),Template.navbarLink=new Template("Template.navbarLink",function(){var a=this;return HTML.A({href:function(){return Spacebars.mustache(a.lookup("sidebarPath"))},"class":function(){return Spacebars.mustache(a.lookup("selected"))}},"\n    ",Blaze._InOuterTemplateScope(a,function(){return Spacebars.include(function(){return Spacebars.call(a.templateContentBlock)})}),"\n  ")})}();

!function(){Template.__checkName("sidebar"),Template.sidebar=new Template("Template.sidebar",function(){var e=this;return HTML.DIV({"class":"col-md-3 left-menu tutorial-menu"},"\n    ",Spacebars.include(e.lookupTemplate("tutorialSelector")),"\n    ",HTML.UL({"class":"nav"},"\n      ",Spacebars.include(e.lookupTemplate("sidebarDesktop")),"\n    "),"\n  ")}),Template.__checkName("tutorialSelector"),Template.tutorialSelector=new Template("Template.tutorialSelector",function(){var e=this;return[HTML.Raw('<h2><a href="/tutorialIntro">Tutorial</a></h2>\n  '),Blaze.Each(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("tutorialsLink"),function(){return["\n      ",HTML.H4(Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n    "]}),"\n  "]})]}),Template.__checkName("sidebarDesktop"),Template.sidebarDesktop=new Template("Template.sidebarDesktop",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("groups"))},function(){return["\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("groups"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("stepsSidebar")),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("hr"))},function(){return["\n        ",HTML.HR(),"\n      "]}),"\n    "]}),"\n  "]})}),Template.__checkName("stepsSidebar"),Template.stepsSidebar=new Template("Template.stepsSidebar",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n    ",Blaze._TemplateWith(function(){return{template:Spacebars.call("sidebarDefault")}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n  "]})}),Template.__checkName("sidebarMobile"),Template.sidebarMobile=new Template("Template.sidebarMobile",function(){var e=this;return HTML.SELECT({"class":"component-sidebar-mobile"},"\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n        ",HTML.OPTION(HTML.Attrs({value:function(){return Spacebars.mustache(e.lookup("route"))},"class":"sidebar-item-mobile"},function(){return Spacebars.attrMustache(e.lookup("selectedMobile"))}),Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n    "]}),"\n  "]}),"\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("groups"))},function(){return["\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("groups"))},function(){return["\n        ",HTML.OPTGROUP({label:function(){return Spacebars.mustache(e.lookup("title"))}},"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n            ",HTML.OPTION(HTML.Attrs({value:function(){return Spacebars.mustache(e.lookup("path"))},"class":"sidebar-item-mobile"},function(){return Spacebars.attrMustache(e.lookup("selectedMobile"))}),Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n          "]}),"\n        "),"\n    "]}),"\n  "]}),"\n  ")}),Template.__checkName("sidebarDefault"),Template.sidebarDefault=new Template("Template.sidebarDefault",function(){var e=this;return Blaze.Each(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n    ",HTML.LI({id:function(){return Spacebars.mustache(e.lookup("id"))}},"\n      ",Spacebars.include(e.lookupTemplate("sidebarLink"),function(){return["\n        ",Blaze.View("lookup:index",function(){return Spacebars.mustache(e.lookup("index"))}),". ",Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))}),"\n      "]}),"\n    "),"\n  "]})}),Template.__checkName("sidebarStepsCollapse"),Template.sidebarStepsCollapse=new Template("Template.sidebarStepsCollapse",function(){var e=this;return HTML.DIV({"class":function(){return[Spacebars.mustache(e.lookup("id")),"-steps steps-group collapse"]}},HTML.Raw('\n    <div class="steps-line"></div>\n    '),HTML.UL("\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n        ",HTML.LI({id:function(){return Spacebars.mustache(e.lookup("id"))},"class":"step-item"},"\n          ",Spacebars.include(e.lookupTemplate("sidebarLink"),function(){return["\n            ",HTML.H4(HTML.SPAN(Blaze.View("lookup:index",function(){return Spacebars.mustache(e.lookup("index"))}),". ",Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))}))),"\n          "]}),"\n        "),"\n        ",Spacebars.include(e.lookupTemplate("sidebarDesktop")),"\n      "]}),"\n    "),"\n  ")}),Template.__checkName("sidebarLink"),Template.sidebarLink=new Template("Template.sidebarLink",function(){var e=this;return HTML.A({href:function(){return Spacebars.mustache(e.lookup("sidebarPath"))},"class":function(){return Spacebars.mustache(e.lookup("selected"))}},"\n    ",Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n  ")}),Template.__checkName("tutorialsLink"),Template.tutorialsLink=new Template("Template.tutorialsLink",function(){var e=this;return HTML.A({href:function(){return[Spacebars.mustache(e.lookup("path")),Spacebars.mustache(e.lookup("chapter"))]},"class":function(){return["prev-button btn btn-default tutorials-nav-button ",Spacebars.mustache(e.lookup("selected"))]}},"\n    ",Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n  ")})}();

!function(){Template.__checkName("sidebarAPI"),Template.sidebarAPI=new Template("Template.sidebarAPI",function(){var e=this;return Spacebars.include(e.lookupTemplate("sidebarDesktopAPI"))}),Template.__checkName("sidebarDesktopAPI"),Template.sidebarDesktopAPI=new Template("Template.sidebarDesktopAPI",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n      ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("sidebarType"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n    "]}),"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("groups"))},function(){return["\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("groups"))},function(){return["\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("title"))},function(){return["\n          ",HTML.H2(Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n        "]}),"\n        ",Spacebars.include(e.lookupTemplate("sidebarDesktopAPI")),"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("hr"))},function(){return["\n          ",HTML.HR(),"\n        "]}),"\n      "]}),"\n    "]})]}),Template.__checkName("sidebarMobileAPI"),Template.sidebarMobileAPI=new Template("Template.sidebarMobileAPI",function(){var e=this;return HTML.SELECT({"class":"component-sidebar-mobile"},"\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n        ",HTML.OPTION(HTML.Attrs({value:function(){return Spacebars.mustache(e.lookup("route"))},"class":"sidebar-item-mobile"},function(){return Spacebars.attrMustache(e.lookup("selectedMobile"))}),Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n    "]}),"\n  "]}),"\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("groups"))},function(){return["\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("groups"))},function(){return["\n        ",HTML.OPTGROUP({label:function(){return Spacebars.mustache(e.lookup("title"))}},"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n            ",HTML.OPTION(HTML.Attrs({value:function(){return Spacebars.mustache(e.lookup("path"))},"class":"sidebar-item-mobile"},function(){return Spacebars.attrMustache(e.lookup("selectedMobile"))}),Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n          "]}),"\n        "),"\n    "]}),"\n  "]}),"\n  ")}),Template.__checkName("sidebarDefaultAPI"),Template.sidebarDefaultAPI=new Template("Template.sidebarDefaultAPI",function(){var e=this;return HTML.DIV({"class":"col-md-3 left-menu"},HTML.Raw('\n    <h2><a href="/api">API</a></h2>\n    '),HTML.UL({"class":"nav"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("pages"))},function(){return["\n        ",HTML.LI({id:function(){return Spacebars.mustache(e.lookup("id"))}},"\n          ",Spacebars.include(e.lookupTemplate("sidebarLinkAPI"),function(){return["\n            ",Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))}),"\n          "]}),"\n        "),"\n      "]}),"\n    "),"\n  ")}),Template.__checkName("sidebarLinkAPI"),Template.sidebarLinkAPI=new Template("Template.sidebarLinkAPI",function(){var e=this;return HTML.A({href:function(){return Spacebars.mustache(e.lookup("sidebarPath"))},"class":function(){return Spacebars.mustache(e.lookup("selected"))}},"\n    ",Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n  ")})}();

!function(){Template.__checkName("stepbar"),Template.stepbar=new Template("Template.stepbar",function(){var e=this;return Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"stepbarHide"))},function(){return["\n  ",HTML.DIV({"class":"stepbar"},"\n    ",Spacebars.include(e.lookupTemplate("stepbarButtons")),"\n  "),"\n  "]})}),Template.__checkName("stepbarBottom"),Template.stepbarBottom=new Template("Template.stepbarBottom",function(){var e=this;return Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"stepbarHide"))},function(){return["\n    ",HTML.DIV({"class":"stepbar stepbar-bottom"},"\n      ",Spacebars.include(e.lookupTemplate("stepbarButtons")),"\n    "),"\n  "]})}),Template.__checkName("stepbarButtons"),Template.stepbarButtons=new Template("Template.stepbarButtons",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("prev"))},function(){return["\n    ",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("prev"),"path"))},"class":"prev-button btn btn-default"},Blaze.If(function(){return Spacebars.call(e.lookup("prevContent"))},function(){return Blaze.View("lookup:prevContent",function(){return Spacebars.mustache(e.lookup("prevContent"))})},function(){return"Prev"})),"\n  "]}),"\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("next"))},function(){return["\n    ",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("next"),"path"))},"class":"next-button btn btn-default"},Blaze.If(function(){return Spacebars.call(e.lookup("nextContent"))},function(){return Blaze.View("lookup:nextContent",function(){return Spacebars.mustache(e.lookup("nextContent"))})},function(){return"Next"})),"\n  "]})]}),Template.__checkName("stepbarButtonsPrevious"),Template.stepbarButtonsPrevious=new Template("Template.stepbarButtonsPrevious",function(){var e=this;return HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("prev"),"path"))}},HTML.Raw('<li class="btn btn-primary"><i class="glyphicon glyphicon-step-backward"></i> Previous</li>'))}),Template.__checkName("stepbarButtonsNext"),Template.stepbarButtonsNext=new Template("Template.stepbarButtonsNext",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("next"))},function(){return["\n    ",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("next"),"path"))}},HTML.LI({"class":"btn btn-primary"},"Next ",HTML.I({"class":"glyphicon glyphicon-step-forward"}))),"\n  "]})}),Template.__checkName("stepbarLiveDemo"),Template.stepbarLiveDemo=new Template("Template.stepbarLiveDemo",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("next"))},function(){return["\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("liveDemoLink"))}},HTML.LI({"class":"btn btn-primary"},HTML.I({"class":"glyphicon glyphicon-play"})," Live Demo")),"\n  "]})}),Template.__checkName("stepbarCodeDiff"),Template.stepbarCodeDiff=new Template("Template.stepbarCodeDiff",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("next"))},function(){return["\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("CommitDiff"))},function(){return["\n      ",HTML.A({href:function(){return[Spacebars.mustache(e.lookup("ghRepoName")),"/commit/",Spacebars.mustache(e.lookup("CommitDiff"))]}},HTML.LI({"class":"btn btn-primary"},HTML.I({"class":"glyphicon glyphicon-search"})," Code Diff")),"\n    "]},function(){return["\n      ",HTML.A({href:function(){return[Spacebars.mustache(e.lookup("ghRepoName")),"/compare/step_",Spacebars.mustache(e.lookup("previousCommit")),"...step_",Spacebars.mustache(e.lookup("currentCommit"))]}},HTML.LI({"class":"btn btn-primary"},HTML.I({"class":"glyphicon glyphicon-search"})," Code Diff")),"\n    "]}),"\n  "]})}),Template.__checkName("tutorialNavigationButtons"),Template.tutorialNavigationButtons=new Template("Template.tutorialNavigationButtons",function(){var e=this;return HTML.UL({"class":"btn-group nav"},"\n    ",Spacebars.include(e.lookupTemplate("stepbarButtonsPrevious")),"\n    ",Spacebars.include(e.lookupTemplate("stepbarLiveDemo")),"\n    ",Spacebars.include(e.lookupTemplate("stepbarCodeDiff")),"\n    ",Spacebars.include(e.lookupTemplate("stepbarButtonsNext")),"\n  ")}),Template.__checkName("improveDoc"),Template.improveDoc=new Template("Template.improveDoc",function(){var e=this;return HTML.A({href:function(){return["https://github.com/Urigo/angular-meteor/edit/master/.docs/angular-meteor/client/content/tutorials/",Spacebars.mustache(e.lookup("tutorialName")),"/steps/",Spacebars.mustache(e.lookup("contentTemplate"))]},"class":"btn btn-default btn-lg improve-button"},HTML.Raw('\n    <i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc\n  '))}),Template.__checkName("tutorialStepHeader"),Template.tutorialStepHeader=new Template("Template.tutorialStepHeader",function(){var e=this;return[HTML.DIV({"class":"row buttons"},"\n    ",HTML.DIV({"class":"col-md-12"},"\n      ",Spacebars.include(e.lookupTemplate("improveDoc")),"\n      ",Spacebars.include(e.lookupTemplate("tutorialNavigationButtons")),"\n    "),"\n  "),"\n  ",HTML.DIV({"class":"row"},"\n    ",HTML.H1({"class":"col-md-8 col-xs-12 title"},"Step ",Blaze.View("lookup:id",function(){return Spacebars.mustache(e.lookup("id"))})," - ",Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n    ",HTML.DIV({"class":"col-md-4 col-xs-12 video"},"\n      ",HTML.IFRAME({src:function(){return Spacebars.mustache(e.lookup("video"))},frameborder:"0",allowfullscreen:""}),"\n    "),"\n  ")]}),Template.__checkName("downloadPreviousStep"),Template.downloadPreviousStep=new Template("Template.downloadPreviousStep",function(){var e=this;return HTML.DIV({"class":"am-note"},"\n    ",HTML.P("\n      ",HTML.Raw('<em class="am-note-bold">Note:</em>'),"\n      If you skipped ahead to this section,\n      ",HTML.A({href:function(){return[Spacebars.mustache(e.lookup("ghRepoName")),"/archive/",Spacebars.mustache(e.lookup("stepName")),".zip"]}},"here is a zip\n      "),"\n      of the tutorial at this point.\n    "),"\n  ")})}();

!function(){Template.body.addContent(function(){var t=this;return HTML.Raw('<!-- putting these in the dom early causes these fonts to load\n  early. These are the fonts used at the top of the front page. -->\n  <span style="position:absolute; font-family: &quot;AktivGrotesk-Medium&quot;;">&nbsp;</span>\n  <span style="position:absolute; font-family: &quot;ProximaNova-Semibold&quot;;">&nbsp;</span>\n  <span style="position:absolute; font-family: &quot;ProximaNova-Regular&quot;;">&nbsp;</span>')}),Meteor.startup(Template.body.renderToDocument)}();

!function(){Template.__checkName("notFound"),Template.notFound=new Template("Template.notFound",function(){var n=this;return HTML.DIV({"class":"container tutorial-container"},"\n    ",HTML.DIV({"class":"row"},"\n      ",HTML.DIV({"class":"col-md-12 main-tutorial"},"\n        ",HTML.DIV("\n",Spacebars.include(n.lookupTemplate("markdown"),function(){return"\n\n# Page not found\n\nThere is nothing here\n\n"}),"\n        "),"\n      "),"\n    "),"\n  ")})}();

!function(){createSubRoutes=function(e){function t(e,t){return t.template=t.template||e.template,t.seoDesc=t.seoDesc||e.seoDesc,t.seoType=t.seoType||e.seoType,t.seoImage=t.seoImage||e.seoImage,t.seoTwitter=t.seoTwitter||e.seoTwitter,t.template=t.template||e.template,t.seoTitle=(e.seoTitlePrefix||"")+(t.seoTitle||e.seoTitle||t.title)+(e.seoTitleSuffix||""),t.parent=e,t}var o=function(e){var t={template:e.template,name:e.route,data:function(){return e}};return e.seoTitle?t.seoTitle=e.seoTitle:!1,e.seoAuthor?t.seoAuthor=e.seoAuthor:!1,e.seoDesc?t.seoDesc=e.seoDesc:!1,e.seoType?t.seoType=e.seoType:!1,e.seoImage?t.seoImage=e.seoImage:!1,e.seoTwitter?t.seoTwitter=e.seoTwitter:!1,e.pathRedirect&&(t.action=function(){this.redirect(e.pathRedirect)}),t};_.forEach(e.pages,function(e){Router.map(function(){this.route(e.path,o(e))})}),_.forEach(e.groups,function(e){_.forEach(e.pages,function(r){Router.map(function(){var i=t(e,r);this.route(i.path,o(i))})})}),_.forEach(e.groups,function(e){_.forEach(e.pages,function(e){_.forEach(e.pages,function(r){Router.map(function(){var i=t(e,r);this.route(i.path,o(i))})})})})},redirect=function(e,t){Router.map(function(){var o=e.replace("/","");this.route(o,{path:e,action:function(){this.redirect(t)}})})},setSeo=function(){function e(e,t){var o=Router._currentController.lookupOption(t);return o?e.setAttribute("content",o):e.setAttribute("content",t)}function t(t,o,r){var r=r?r:"name",i=_.find(document.getElementsByTagName("meta"),function(e){return t==e.name||t==e.getAttribute("property")?e:void 0});if(i)e(i,o);else{var n=document.createElement("meta");n.setAttribute(r,t),e(n,o),document.getElementsByTagName("head")[0].appendChild(n)}}document.title=this.lookupOption("seoTitle"),t("description","seoDesc"),t("author","seoAuthor"),t("og:type","seoType","property"),t("og:title","seoTitle","property"),t("og:description","seoDesc","property"),t("og:image","seoImage","property"),Tracker.autorun(function(){Tracker.afterFlush(function(){t("og:url",location.href,"property")})}),t("twitter:card","summary_large_image","property"),t("twitter:site","seoTwitter","property"),t("twitter:title","seoTitle"),t("twitter:description","seoDesc","property"),t("twitter:image","seoImage","property")},scrollToTop=function(){var e=this;e.ready()&&Tracker.nonreactive(function(){var e=Router.current().route.getName(),t=Session.get("prev_route_name"),o=0;if(e===t){var r=$("#scroll-top");r&&r.offset()&&(o=r.offset().top-$("nav.navbar").outerHeight())}o<$(window).scrollTop()&&Tracker.afterFlush(function(){$(window).scrollTop(o)}),Session.set("prev_route_name",e)})}}();

!function(){relativeDate=function(e){var a,r,o=new Date,n=Math.floor((o.getTime()-e.valueOf())/1e3),i=Math.floor(n/60),u=Math.floor(i/60),f=Math.floor(u/24);if(1>i?(a="just now",r=1e3):u?f?1===f?(a="yesterday",r=t(e)):7>f?(a=e.format("dddd"),r=t(e)):a=e.format(e.year()===o.getUTCFullYear()?"MMMM D":"MMMM D, YYYY"):(a=u+" hour"+(1!==u?"s":"")+" ago",r=6e4):(a=i+" minute"+(1!==i?"s":"")+" ago",r=15e3),Deps.active&&r){var l=Deps.currentComputation,c=setTimeout(function(){l.invalidate()},r);l.onInvalidate(function(){clearTimeout(c)})}return a};var t=function(t){var e=moment().tz(Artia.timezone),a=e.clone().startOf("day").add("day",1);return a.diff(e)};briefDate=function(t){var e=t.localMoment();return e&&e.format("DD.MM.YY")},prettyDate=function(t){var e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};return e(relativeDate(t.localMoment()))}}();

!function(){enabled=function(e){return _.has(a,e)||(a[e]={value:!1,dep:new Deps.Dependency}),a[e].dep.depend(),a[e].value},enable=function(a){var t=e();t[a]=!0,n(t)},disable=function(a){var t=e();delete t[a],n(t)};var e=function(){var e=Meteor._localStorage.getItem("featureFlags")||"{}";try{return JSON.parse(e)}catch(n){return console.log("Couldn't parse featureFlags in localstorage. Clearing."),{}}},n=function(e){Meteor._localStorage.setItem("featureFlags",JSON.stringify(e)),t()},a={},t=function(){var n=e();_.each(_.union(_.keys(a),_.keys(n)),function(e){var t=n[e]||!1;_.has(a,e)?t!==a[e].value&&(a[e].value=t,a[e].dep.changed()):a[e]={value:t,dep:new Deps.Dependency}})};t(),UI.registerHelper("featureFlag",function(e){return enabled(e)})}();

!function(){Template.registerHelper("meteorVersion",function(){return METEOR_VERSION})}();

!function(){window.console=window.console||{log:function(){}},Template.registerHelper("oldIe",function(){return window.oldIe})}();

!function(){Handlebars.registerHelper("dstache",function(){return"{{"}),Handlebars.registerHelper("tstache",function(){return"{{{"}),Handlebars.registerHelper("lt",function(){return"<"})}();

!function(){DiffBox.registerTutorial("angular-meteor",{gitHubRepoName:"Urigo/meteor-angular-socially",patchFilename:"client/content/patches/angular-meteor.multi.patch"}),DiffBox.registerTutorial("angular2-meteor",{gitHubRepoName:"shmck/ng2-socially-tutorial",patchFilename:"client/content/patches/angular2-meteor.multi.patch"})}();

!function(){ANGULAR_SERVER={groups:[{id:"0",title:"",route:"serverBase",path:"/server/base/",redirectRoute:"serverBase.bootstrapping",template:"server-base",seoTitleSuffix:" | Angular-Server API",seoDesc:"Angular-Server let you use Angular on the server side using the Meteor Platform.",pages:[{id:"01",route:"serverBase.bootstrapping",path:"/server/base/bootstrapping",title:"Bootstrap Angular-Server",seoTitle:"Bootstrap Angular-Server",mdContent:"server.bootstrapping"},{id:"02",route:"serverBase.di",path:"/server/base/di",title:"Dependency Injection",seoTitle:"Dependency Injection",mdContent:"server.di"},{id:"03",route:"serverBase.api",path:"/server/base/api",title:"Angular-Server API",seoTitle:"Angular-Server API",mdContent:"server.api"}]}]}}();

!function(){API_REFERENCE={groups:[{id:"0",title:"",route:"api",path:"/api/",redirectRoute:"api.meteorCollection",template:"api",seoTitleSuffix:" | Angular Meteor API",seoDesc:"angular-meteor is a realtime full stack that combines the best frameworks. use your existing Angular applications with Meteor - the best backend framework for AngularJS applications.",pages:[{id:"01",route:"api.meteorCollection",path:"/api/meteorCollection",title:"$meteor.collection",seoTitle:"$meteor.collection",mdContent:"api.meteorCollection"},{id:"02",route:"api.AngularMeteorCollection",path:"/api/AngularMeteorCollection",title:"AngularMeteorCollection",seoTitle:"AngularMeteorCollection",mdContent:"api.AngularMeteorCollection"},{id:"03",route:"api.meteorObject",path:"/api/meteorObject",title:"$meteor.object",seoTitle:"$meteor.object",mdContent:"api.meteorObject"},{id:"04",route:"api.AngularMeteorObject",path:"/api/AngularMeteorObject",title:"AngularMeteorObject",seoTitle:"AngularMeteorObject",mdContent:"api.AngularMeteorObject"},{id:"05",route:"api.subscribe",path:"/api/subscribe",title:"$meteor.subscribe",seoTitle:"$meteor.subscribe",mdContent:"api.subscribe"},{id:"06",route:"api.methods",path:"/api/methods",title:"$meteor.call",seoTitle:"$meteor.call",mdContent:"api.methods"},{id:"07",route:"api.auth",path:"/api/auth",title:"User Authentication",seoTitle:"User Authentication",mdContent:"api.auth"},{id:"08",route:"api.getReactively",path:"/api/getReactively",title:"$scope.getReactively",seoTitle:"$scope.getReactively",mdContent:"api.getReactively"},{id:"09",route:"api.blaze-template",path:"/api/blaze-template",title:"blaze-template directive",seoTitle:"blaze-template directive",mdContent:"api.blaze-template"},{id:"10",route:"api.files",path:"/api/files",title:"CollectionFS",seoTitle:"Files with CollectionFS",mdContent:"api.collectionfs"},{id:"11",route:"api.utils",path:"/api/utils",title:"$meteorUtils",seoTitle:"$meteorUtils",mdContent:"api.utils"},{id:"12",route:"api.camera",path:"/api/camera",title:"$meteorCamera",seoTitle:"$meteorCamera",mdContent:"api.camera"},{id:"13",route:"api.session",path:"/api/session",title:"$meteor.session.bind",seoTitle:"$meteor.session",mdContent:"api.session"},{id:"14",route:"api.ngFileExtension",path:"/api/ngFileExtension",title:"File Extensions",seoTitle:"File Extensions",mdContent:"api.ngFileExtension"}]}]}}();

!function(){TUTORIALS={groups:[TUTORIAL_PAGES]}}();

!function(){Template.api.helpers({api:function(){return API_REFERENCE}})}();

!function(){StepDiffs["client/content/patches/angular-meteor.multi.patch"]={.1:{files:{"index.html":[{lines:[{type:"added",content:"<body>"},{type:"added",content:"  <p>Nothing here</p>"},{type:"added",content:"</body>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:3}}}]},sha:"9e3080168633d4b2a5c3dd4a860fe2f8771322e8",message:"Step 0.1: Create empty index.html file",stepNumber:"0.1",summary:"Create empty index.html file"},undefined:{files:{".gitignore":[{lines:[{type:"added",content:".idea"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:null}}}],"COC.md":[{lines:[{type:"added",content:"# Code of Conduct"},{type:"added",content:""},{type:"added",content:"Learning in plain sight can be an intimidating experience. Your code, mistakes, and community feedback are all publically displayed for everyone to see. While this is true for any open source project, course participants are here to learn and can feel a lot more vulnerable."},{type:"added",content:""},{type:"added",content:"It is absolutely crucial that any interaction is done with respect, care, and without judgment, and that any feedback is provided gently. We want to teach and learn from each other, and for that to happen, we must treat each other with care."},{type:"added",content:""},{type:"added",content:"This course is dedicated to providing a harassment-free learning experience for everyone, regardless of gender, age, sexual orientation, disability, physical appearance, body size, race, or religion (or lack thereof). We do not tolerate harassment of participants in any form. Sexual language and imagery is not appropriate in any material posted to this repository or in other venues discussing it (e.g. Twitter and other online media). Participants violating these rules may be sanctioned or expelled from the course at the discretion of the maintainers as well as reported to GitHub for abuse."},{type:"added",content:""},{type:"added",content:"Harassment includes offensive verbal comments related to gender, age, sexual orientation, disability, physical appearance, body size, race, religion, sexual images in public spaces, deliberate intimidation, stalking, following, harassing photography or recording, sustained disruption of others, inappropriate physical contact, and unwelcome sexual attention."},{type:"added",content:""},{type:"added",content:"Participants asked to stop any harassing behavior are expected to comply immediately."},{type:"added",content:""},{type:"added",content:"Teachers and maintainers are also subject to the anti-harassment policy. In particular, they should not use sexualized images, activities, or other material."},{type:"added",content:""},{type:"added",content:"If a participant engages in harassing behavior, the maintainers may take any action they deem appropriate, including warning the offender or expulsion from the course."},{type:"added",content:""},{type:"added",content:"If you are being harassed, notice that someone else is being harassed, or have any other concerns, please contact a member of course team immediately. The list of maintainers can be found at the top of the [README document](https://github.com/hueniverse/hueniversity/blob/master/README.md)."},{type:"added",content:""},{type:"added",content:"We expect participants to follow these rules at any related social events."},{type:"added",content:""},{type:"added",content:"(Adapted from http://confcodeofconduct.com/)"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:21}}}],"README.md":[{lines:[{type:"added",content:"# meteor-angular-socially - [Tutorial's site](http://angularjs.meteor.com/tutorial)"},{type:"added",content:"angular-meteor example and tutorial app."},{type:"added",content:""},{type:"added",content:"The tutorial starts at branch 'step_00' till the last step."},{type:"added",content:""},{type:"added",content:"The master branch is always equal to the last step."},{type:"added",content:""},{type:"added",content:"Here is the deployed final version - http://socially-step18.meteor.com/"},{type:"added",content:""},{type:"added",content:"Please contribute to the tutorial."},{type:"added",content:"Pull request the master branch to add new features or pull request specific step to improve that step."},{type:"added",content:""},{type:"added",content:"Our goal in this tutorial is to add more steps as we go along, to cover as many use cases as possible."},{type:"added",content:""},{type:"added",content:"Thanks @MilosStanic for writing step 18 on angular-material"},{type:"added",content:""},{type:"added",content:"An example with the `controller as` syntax can be found in [this branch](https://github.com/Urigo/meteor-angular-socially/tree/step_12_controller_as_vm)."},{type:"added",content:""},{type:"added",content:'# angular-meteor University! <a href="http://angularjs.meteor.com/"><img src="http://angularjs.meteor.com/images/logo-large.png" width="60" height="60" /></a>  '},{type:"added",content:""},{type:"added",content:"The angular-meteor university is a community learning experiment, we would like to create a similar experience to the [hueniversity](https://github.com/hueniverse/hueniversity)"},{type:"added",content:""},{type:"added",content:""},{type:"added",content:"[![Join the chat at https://gitter.im/Urigo/angular-meteor](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/Urigo/angular-meteor?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)"},{type:"added",content:""},{type:"added",content:"The first assignments will be to rewrite the tutorial steps, and follow the latest angular-meteor API , in a more [consistent style](https://github.com/johnpapa/angular-styleguide)."},{type:"added",content:"We also hope the community will propose better solutions than the current ones."},{type:"added",content:"When we will catch up with the latest steps we will create new steps."},{type:"added",content:""},{type:"added",content:"### What am I going to learn?"},{type:"added",content:"You will learn how to build a full stack application using meteor and angular. It will start with the basics and move on to the more advanced topic such as users and authentication, application architecture, reactivity, mobile app, ionic, working with files, Angular Server, ES6 and more."},{type:"added",content:""},{type:"added",content:""},{type:"added",content:"### What do I need to know?"},{type:"added",content:"You should feel comfortable writing simple functions in JavaScript, working with GitHub, using basic git commands, have a basic familiarity with mongoDB, and be able to pick up new subjects by reading tutorials and documentation."},{type:"added",content:""},{type:"added",content:"### How advanced is this course?"},{type:"added",content:'We\'ll start from the basics and make our way to the most advanced topics. The way this course is structured, you can choose which assignments to participate in, so more experienced developers can "sit out" or help others during the basic assignments and participate when it gets to areas they are not as strong in. However, since teaching is one of the most effective ways to learn, we believe that participating early will improve the existing skills of advanced developers.'},{type:"added",content:"The assignment will include just enough information to get you going, but you will need to do most of the learning on your own by using the wide range of online resources available. However, the real benefit of this process will come from the code review of your Pull Request. This is where expert developers will review your work and provide you specific and actionable feedback."},{type:"added",content:""},{type:"added",content:"### How does it work?"},{type:"added",content:"First, read the [Code of Conduct](https://github.com/Urigo/meteor-angular-socially/blob/master/COC.md) !"},{type:"added",content:""},{type:"added",content:"Simple, you start by forking this repo."},{type:"added",content:"Every few days a new issue will be posted with an [`assignment` label](https://github.com/Urigo/meteor-angular-socially/labels/assignment)"},{type:"added",content:". If you would like to participate in the assignment, try to solve it and when you are done, submit a Pull Request back to this repo to the `step_NUMBER_u` branch. Make sure your code complies with the [john papa angular style guid](https://github.com/johnpapa/angular-styleguide)."},{type:"added",content:"While you wait for the assignment to close, take a look at what others are submitting and see if you can improve your own solution (borrow ideas, add tests, write examples, update the documentation). If you see ways in which others can improve their solution, please don’t hesitate to comment on their Pull Request."},{type:"added",content:"Each assignment will have a final submission date. When the issue expires, one of the Pull Requests submitted will be picked and merged and published as the new tutorial step. Any follow up assignments will be based on the merged code."},{type:"added",content:"Before starting the next assignment, make sure [your fork matches the current](https://github.com/Urigo/meteor-angular-socially/blob/master/guides/git.md ) assignment step branch (`step_NUMBER_u`) since only one Pull Request can be accepted."},{type:"added",content:""},{type:"added",content:"### How can I help?"},{type:"added",content:""},{type:"added",content:"There are lots of way you can help make this experiment succeed and help shape a new format for teaching development skills:"},{type:"added",content:"Submit Pull Requests to improve this readme, add examples, write quick tutorials on how to work with git, etc."},{type:"added",content:"Add new steps to angular-meteor-socially tutorial."},{type:"added",content:"Look for issues with a [help wanted label](https://github.com/Urigo/meteor-angular-socially/labels/help%20wanted) and help with those."},{type:"added",content:"Randomly pick submitted Pull Request and review them, offering advice and helping others improve their skills."},{type:"added",content:"Submit Pull Request or open issues with proposals for [angular-meteor](https://github.com/Urigo/angular-meteor) "},{type:"added",content:""},{type:"added",content:"### Anything else?"},{type:"added",content:"[Open an issue](https://github.com/Urigo/meteor-angular-socially/issues/new), it's free."},{type:"added",content:""},{type:"added",content:""},{type:"added",content:""}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:64}}}]},sha:"bbc91c478f97d3916ba17d0f15f620722d7b7e96",message:"Delete existing files, apply changes"},.2:{files:{"index.ng.html":[{lines:[{type:"added",content:"<p>Nothing here</p>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:null}}}]},sha:"0a564b8b735409e03f92d1b5de072814e3f22b20",message:"Step 0.2: Move the main HTML into index.ng.html",stepNumber:"0.2",summary:"Move the main HTML into index.ng.html"},.3:{files:{"index.html":[{lines:[{type:"context",content:"<body>"},{type:"removed",content:"  <p>Nothing here</p>"},{type:"added",content:"  <div ng-include=\"'index.ng.html'\"></div>"},{type:"context",content:"</body>"}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:3}}}]},sha:"f07ee765a41c36639f3f9ee3d84c4608fceb6522",message:"Step 0.3: Include the angular main file inside the index.html file",stepNumber:"0.3",summary:"Include the angular main file inside the index.html file"},.4:{files:{"app.js":[{lines:[{type:"added",content:"if (Meteor.isClient) {"},{type:"added",content:""},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:3}}}]},sha:"9e55616290d7bf5417dbe551023a487254e931b2",message:"Step 0.4: Create app.js file to contain the AngularJS application",stepNumber:"0.4",summary:"Create app.js file to contain the AngularJS application"},.5:{files:{"app.js":[{lines:[{type:"context",content:"if (Meteor.isClient) {"},{type:"removed",content:""},{type:"added",content:"  angular.module('socially',['angular-meteor']);"},{type:"context",content:"}"}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:3}}}]},sha:"2f0587779960cdb2b22060cac9fdeafbec0a9bc3",message:"Step 0.5: Create AngularJS module and add angular-meteor dependency",stepNumber:"0.5",summary:"Create AngularJS module and add angular-meteor dependency"},.6:{files:{"index.html":[{lines:[{type:"removed",content:"<body>"},{type:"added",content:'<body ng-app="socially">'},{type:"context",content:"  <div ng-include=\"'index.ng.html'\"></div>"},{type:"context",content:"</body>"}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:3}}}]},sha:"1ac42a79ef6e234ae930679e122ce51e01c7ba08",message:"Step 0.6: Add ng-app",stepNumber:"0.6",summary:"Add ng-app"},.7:{files:{"index.ng.html":[{lines:[{type:"removed",content:"<p>Nothing here</p>"},{type:"added",content:"<p>Nothing here {{ 'yet' + '!' }}</p>"}],lineNumbers:{removed:{start:1,lines:null},added:{start:1,lines:null}}}]},sha:"558c4c5b2c4d9058f3777f655c33c80cb6c283b9",message:"Step 0.7: Add AngularJS code!",stepNumber:"0.7",summary:"Add AngularJS code!"},1.1:{files:{"index.ng.html":[{lines:[{type:"removed",content:"<p>Nothing here {{ 'yet' + '!' }}</p>"},{type:"added",content:"<ul>"},{type:"added",content:"  <li>"},{type:"added",content:"    <span>Dubstep-Free Zone</span>"},{type:"added",content:"    <p>"},{type:"added",content:"      Can we please just for an evening not listen to dubstep."},{type:"added",content:"    </p>"},{type:"added",content:"  </li>"},{type:"added",content:"  <li>"},{type:"added",content:"    <span>All dubstep all the time</span>"},{type:"added",content:"    <p>"},{type:"added",content:"      Get it on!"},{type:"added",content:"    </p>"},{type:"added",content:"  </li>"},{type:"added",content:"</ul>"}],lineNumbers:{removed:{start:1,lines:null},added:{start:1,lines:14}}}]},sha:"635337fb05f3a3870107a76f800d73b8f3f9f597",message:"Step 1.1: Add some static HTML the to main page",stepNumber:"1.1",summary:"Add some static HTML the to main page"},2.1:{files:{"index.ng.html":[{lines:[{type:"removed",content:"<ul>"},{type:"removed",content:"  <li>"},{type:"removed",content:"    <span>Dubstep-Free Zone</span>"},{type:"removed",content:"    <p>"},{type:"removed",content:"      Can we please just for an evening not listen to dubstep."},{type:"removed",content:"    </p>"},{type:"removed",content:"  </li>"},{type:"removed",content:"  <li>"},{type:"removed",content:"    <span>All dubstep all the time</span>"},{type:"removed",content:"    <p>"},{type:"removed",content:"      Get it on!"},{type:"removed",content:"    </p>"},{type:"removed",content:"  </li>"},{type:"removed",content:"</ul>"},{type:"added",content:'<div ng-controller="PartiesListCtrl">'},{type:"added",content:"  <ul>"},{type:"added",content:'    <li ng-repeat="party in parties">'},{type:"added",content:"      {{party.name}}"},{type:"added",content:"      <p>{{party.description}}</p>"},{type:"added",content:"    </li>"},{type:"added",content:"  </ul>"},{type:"added",content:"</div>"}],lineNumbers:{removed:{start:1,lines:14},added:{start:1,lines:8}}}]},sha:"6240f10604bf1aaef15af9b6b2b50a92aa826c66",message:"Step 2.1: Use dynamic template instead of static",stepNumber:"2.1",summary:"Use dynamic template instead of static"},2.2:{files:{"app.js":[{lines:[{type:"context",content:"if (Meteor.isClient) {"},{type:"removed",content:"  angular.module('socially',['angular-meteor']);"},{type:"removed",content:"}"},{type:"added",content:"  angular.module('socially', ['angular-meteor']);"},{type:"added",content:""},{type:"added",content:"  angular.module('socially').controller('PartiesListCtrl', ['$scope', function ($scope) {"},{type:"added",content:"    $scope.parties = ["},{type:"added",content:"      {"},{type:"added",content:"        'name': 'Dubstep-Free Zone',"},{type:"added",content:"        'description': 'Can we please just for an evening not listen to dubstep.'"},{type:"added",content:"      },"},{type:"added",content:"      {"},{type:"added",content:"        'name': 'All dubstep all the time',"},{type:"added",content:"        'description': 'Get it on!'"},{type:"added",content:"      },"},{type:"added",content:"      {"},{type:"added",content:"        'name': 'Savage lounging',"},{type:"added",content:"        'description': 'Leisure suit required. And only fiercest manners.'"},{type:"added",content:"      }"},{type:"added",content:"    ];"},{type:"added",content:"  }]);"},{type:"added",content:"}"}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:20}}}]},sha:"6e7629a14aeb15bcf5d4d09eb5a7efcad4b3157f",message:"Step 2.2: Add the parties controller",stepNumber:"2.2",summary:"Add the parties controller"},3.1:{files:{"app.js":[{lines:[{type:"added",content:'Parties = new Mongo.Collection("parties");'},{type:"added",content:""},{type:"context",content:"if (Meteor.isClient) {"},{type:"context",content:"  angular.module('socially', ['angular-meteor']);"},{type:"context",content:""}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:5}}}]},sha:"d4684ff16bedbe4be95acc1b49fb18791aec5be7",message:"Step 3.1: Add the parties collection",stepNumber:"3.1",summary:"Add the parties collection"},3.2:{files:{"app.js":[{lines:[{type:"context",content:"  angular.module('socially', ['angular-meteor']);"},{type:"context",content:""},{type:"context",content:"  angular.module('socially').controller('PartiesListCtrl', ['$scope', function ($scope) {"},{type:"removed",content:"    $scope.parties = ["},{type:"removed",content:"      {"},{type:"removed",content:"        'name': 'Dubstep-Free Zone',"},{type:"removed",content:"        'description': 'Can we please just for an evening not listen to dubstep.'"},{type:"removed",content:"      },"},{type:"removed",content:"      {"},{type:"removed",content:"        'name': 'All dubstep all the time',"},{type:"removed",content:"        'description': 'Get it on!'"},{type:"removed",content:"      },"},{type:"removed",content:"      {"},{type:"removed",content:"        'name': 'Savage lounging',"},{type:"removed",content:"        'description': 'Leisure suit required. And only fiercest manners.'"},{type:"removed",content:"      }"},{type:"removed",content:"    ];"},{type:"added",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"context",content:"  }]);"},{type:"context",content:"}"}],lineNumbers:{removed:{start:4,lines:19},added:{start:4,lines:6}}}]},sha:"fe64d639689585622d814981685f764f50a77d1a",message:"Step 3.2: Add the $meteor.collection to the $scope",stepNumber:"3.2",summary:"Add the $meteor.collection to the $scope"},3.3:{files:{"app.js":[{lines:[{type:"context",content:"if (Meteor.isClient) {"},{type:"context",content:"  angular.module('socially', ['angular-meteor']);"},{type:"context",content:""},{type:"removed",content:"  angular.module('socially').controller('PartiesListCtrl', ['$scope', function ($scope) {"},{type:"added",content:"  angular.module('socially').controller('PartiesListCtrl', ['$scope', '$meteor', function ($scope, $meteor) {"},{type:"context",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"context",content:"  }]);"},{type:"context",content:"}"}],lineNumbers:{removed:{start:3,lines:7},added:{start:3,lines:7}}}]},sha:"eb07ef77a353f557a98f0e291242b03a26d3f7b2",message:"Step 3.3: Add a dependency to $meteor",stepNumber:"3.3",summary:"Add a dependency to $meteor"},3.4:{files:{"app.js":[{lines:[{type:"context",content:"  angular.module('socially').controller('PartiesListCtrl', ['$scope', '$meteor', function ($scope, $meteor) {"},{type:"context",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"context",content:"  }]);"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"if (Meteor.isServer) {"},{type:"added",content:"  Meteor.startup(function () {"},{type:"added",content:"    if (Parties.find().count() === 0) {"},{type:"added",content:"      var parties = ["},{type:"added",content:"        {'name': 'Dubstep-Free Zone',"},{type:"added",content:"          'description': 'Fast just got faster with Nexus S.'},"},{type:"added",content:"        {'name': 'All dubstep all the time',"},{type:"added",content:"          'description': 'Get it on!'},"},{type:"added",content:"        {'name': 'Savage lounging',"},{type:"added",content:"          'description': 'Leisure suit required. And only fiercest manners.'}"},{type:"added",content:"      ];"},{type:"added",content:"      for (var i = 0; i < parties.length; i++)"},{type:"added",content:"        Parties.insert(parties[i]);"},{type:"added",content:"    }"},{type:"added",content:"  });"},{type:"context",content:"}"}],lineNumbers:{removed:{start:6,lines:4},added:{start:6,lines:21}}}]},sha:"e57d3e9d78a51a4d18267b8028d87d0a050b6177",message:"Step 3.4: Add some data to the parties collection",stepNumber:"3.4",summary:"Add some data to the parties collection"},4.1:{files:{"index.ng.html":[{lines:[{type:"context",content:'<div ng-controller="PartiesListCtrl">'},{type:"added",content:"  <form>"},{type:"added",content:"    <label>Name</label>"},{type:"added",content:"    <input>"},{type:"added",content:"    <label>Description</label>"},{type:"added",content:"    <input>"},{type:"added",content:"    <button>Add</button>"},{type:"added",content:"  </form>"},{type:"context",content:"  <ul>"},{type:"context",content:'    <li ng-repeat="party in parties">'},{type:"context",content:"      {{party.name}}"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:11}}}]},sha:"48adafa009190b5193f16aa461f3777b703a480e",message:"Step 4.1: Add basic form to the view",stepNumber:"4.1",summary:"Add basic form to the view"},4.2:{files:{"index.ng.html":[{lines:[{type:"context",content:'<div ng-controller="PartiesListCtrl">'},{type:"context",content:"  <form>"},{type:"context",content:"    <label>Name</label>"},{type:"removed",content:"    <input>"},{type:"added",content:'    <input ng-model="newParty.name">'},{type:"context",content:"    <label>Description</label>"},{type:"removed",content:"    <input>"},{type:"added",content:'    <input ng-model="newParty.description">'},{type:"context",content:"    <button>Add</button>"},{type:"context",content:"  </form>"},{type:"context",content:"  <ul>"}],lineNumbers:{removed:{start:1,lines:9},added:{start:1,lines:9}}}]},sha:"4d4411239e7abc65a55515323c8bdd4222df6692",message:"Step 4.2: Add ng-model to the form's inputs",stepNumber:"4.2",summary:"Add ng-model to the form's inputs"},4.3:{files:{"index.ng.html":[{lines:[{type:"context",content:'    <input ng-model="newParty.name">'},{type:"context",content:"    <label>Description</label>"},{type:"context",content:'    <input ng-model="newParty.description">'},{type:"removed",content:"    <button>Add</button>"},{type:"added",content:"    <button ng-click=\"parties.push(newParty); newParty='';\">Add</button>"},{type:"context",content:"  </form>"},{type:"context",content:"  <ul>"},{type:"context",content:'    <li ng-repeat="party in parties">'}],lineNumbers:{removed:{start:4,lines:7},added:{start:4,lines:7}}}]},sha:"b76cb0c3452e1e279be876f3f203ac2008ebb9c4",message:'Step 4.3: Add ng-click logic to the "Add" button',stepNumber:"4.3",summary:'Add ng-click logic to the "Add" button'},4.4:{files:{"index.ng.html":[{lines:[{type:"context",content:'    <li ng-repeat="party in parties">'},{type:"context",content:"      {{party.name}}"},{type:"context",content:"      <p>{{party.description}}</p>"},{type:"added",content:'      <button ng-click="remove(party)">X</button>'},{type:"context",content:"    </li>"},{type:"context",content:"  </ul>"},{type:"context",content:"</div>"}],lineNumbers:{removed:{start:10,lines:6},added:{start:10,lines:7}}}]},sha:"a01637ebc273308940d7d46e3ef07ae0e5e35bae",message:"Step 4.4: Add delete button to the parties list",stepNumber:"4.4",summary:"Add delete button to the parties list"},4.5:{files:{"app.js":[{lines:[{type:"context",content:""},{type:"context",content:"  angular.module('socially').controller('PartiesListCtrl', ['$scope', '$meteor', function ($scope, $meteor) {"},{type:"context",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"added",content:""},{type:"added",content:"    $scope.remove = function(party){"},{type:"added",content:"      $scope.parties.splice($scope.parties.indexOf(party), 1);"},{type:"added",content:"    };"},{type:"context",content:"  }]);"},{type:"context",content:"}"},{type:"context",content:""}],lineNumbers:{removed:{start:5,lines:6},added:{start:5,lines:10}}}]},sha:"e13f8b5f343c6a843fb3e0a9911975897f3ef216",message:"Step 4.5: Add remove logic to the controller",stepNumber:"4.5",summary:"Add remove logic to the controller"},4.6:{files:{"index.ng.html":[{lines:[{type:"context",content:'    <input ng-model="newParty.name">'},{type:"context",content:"    <label>Description</label>"},{type:"context",content:'    <input ng-model="newParty.description">'},{type:"removed",content:"    <button ng-click=\"parties.push(newParty); newParty='';\">Add</button>"},{type:"added",content:"    <button ng-click=\"parties.save(newParty); newParty='';\">Add</button>"},{type:"context",content:"  </form>"},{type:"context",content:"  <ul>"},{type:"context",content:'    <li ng-repeat="party in parties">'}],lineNumbers:{removed:{start:4,lines:7},added:{start:4,lines:7}}}]},sha:"63016ba7329dd9ebf60a7a2f509ee11f19fee45e",message:"Step 4.6: Replace push with save",stepNumber:"4.6",summary:"Replace push with save"},4.7:{files:{"app.js":[{lines:[{type:"context",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"context",content:""},{type:"context",content:"    $scope.remove = function(party){"},{type:"removed",content:"      $scope.parties.splice($scope.parties.indexOf(party), 1);"},{type:"added",content:"      $scope.parties.remove(party);"},{type:"context",content:"    };"},{type:"context",content:"  }]);"},{type:"context",content:"}"}],lineNumbers:{removed:{start:7,lines:7},added:{start:7,lines:7}}}]},sha:"b0190118b6de0b445329ecca199f1ce95fd7ae3d",message:"Step 4.7: Use remove function instead of splice",stepNumber:"4.7",summary:"Use remove function instead of splice"},4.8:{files:{"index.ng.html":[{lines:[{type:"context",content:"    <label>Description</label>"},{type:"context",content:'    <input ng-model="newParty.description">'},{type:"context",content:"    <button ng-click=\"parties.save(newParty); newParty='';\">Add</button>"},{type:"added",content:'    <button ng-click="removeAll()">Remove All</button>'},{type:"context",content:"  </form>"},{type:"context",content:"  <ul>"},{type:"context",content:'    <li ng-repeat="party in parties">'}],lineNumbers:{removed:{start:5,lines:6},added:{start:5,lines:7}}}]},sha:"251a3efe08fb0cf827138f5d900561ffa71092a4",message:"Step 4.8: Add Remove All button",stepNumber:"4.8",summary:"Add Remove All button"},4.9:{files:{"app.js":[{lines:[{type:"context",content:"    $scope.remove = function(party){"},{type:"context",content:"      $scope.parties.remove(party);"},{type:"context",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.removeAll = function(){"},{type:"added",content:"      $scope.parties.remove();"},{type:"added",content:"    };"},{type:"context",content:"  }]);"},{type:"context",content:"}"},{type:"context",content:""}],lineNumbers:{removed:{start:9,lines:6},added:{start:9,lines:10}}}]},sha:"cdd20a5e46e1323d269105a667cd283b4dd09bc4",message:"Step 4.9: Add Remove All logic to the controller",stepNumber:"4.9",summary:"Add Remove All logic to the controller"},5.1:{files:{"app.js":[{lines:[{type:"context",content:'Parties = new Mongo.Collection("parties");'},{type:"context",content:""},{type:"context",content:"if (Meteor.isClient) {"},{type:"removed",content:"  angular.module('socially', ['angular-meteor']);"},{type:"added",content:"  angular.module('socially', ['angular-meteor', 'ui.router']);"},{type:"context",content:""},{type:"context",content:"  angular.module('socially').controller('PartiesListCtrl', ['$scope', '$meteor', function ($scope, $meteor) {"},{type:"context",content:"    $scope.parties = $meteor.collection(Parties);"}],lineNumbers:{removed:{start:1,lines:7},added:{start:1,lines:7}}}]},sha:"895d5dae9d7cafce16f2f40fb12e84c516e67853",message:"Step 5.1: Add angular-ui-router dependency",stepNumber:"5.1",summary:"Add angular-ui-router dependency"},5.2:{files:{"parties-list.ng.html":[{lines:[{type:"removed",content:'<div ng-controller="PartiesListCtrl">'},{type:"removed",content:"  <form>"},{type:"removed",content:"    <label>Name</label>"},{type:"removed",content:'    <input ng-model="newParty.name">'},{type:"removed",content:"    <label>Description</label>"},{type:"removed",content:'    <input ng-model="newParty.description">'},{type:"removed",content:"    <button ng-click=\"parties.save(newParty); newParty='';\">Add</button>"},{type:"removed",content:'    <button ng-click="removeAll()">Remove All</button>'},{type:"removed",content:"  </form>"},{type:"removed",content:"  <ul>"},{type:"removed",content:'    <li ng-repeat="party in parties">'},{type:"removed",content:"      {{party.name}}"},{type:"removed",content:"      <p>{{party.description}}</p>"},{type:"removed",content:'      <button ng-click="remove(party)">X</button>'},{type:"removed",content:"    </li>"},{type:"removed",content:"  </ul>"},{type:"removed",content:"</div>"},{type:"added",content:"<form>"},{type:"added",content:"  <label>Name</label>"},{type:"added",content:'  <input ng-model="newParty.name">'},{type:"added",content:"  <label>Description</label>"},{type:"added",content:'  <input ng-model="newParty.description">'},{type:"added",content:'  <button ng-click="parties.push(newParty)">Add</button>'},{type:"added",content:'  <button ng-click="removeAll()">Remove All</button>'},{type:"added",content:"</form>"},{type:"added",content:"<ul>"},{type:"added",content:'  <li ng-repeat="party in parties">'},{type:"added",content:'    <a href="/parties/{{party._id}}">{{party.name}}</a>'},{type:"added",content:"    <p>{{party.description}}</p>"},{type:"added",content:'    <button ng-click="remove(party)">X</button>'},{type:"added",content:"  </li>"},{type:"added",content:"</ul>"}],lineNumbers:{removed:{start:1,lines:17},added:{start:1,lines:15}}}]},sha:"b636a10612c4ca42b6ceee66a6bf699240bae8e4",message:"Step 5.2: Create the parties list",stepNumber:"5.2",summary:"Create the parties list"},5.3:{files:{"index.html":[{lines:[{type:"removed",content:'<body ng-app="socially">'},{type:"removed",content:"  <div ng-include=\"'index.ng.html'\"></div>"},{type:"removed",content:"</body>"},{type:"added",content:"<head>"},{type:"added",content:'  <base href="/">'},{type:"added",content:"</head>"},{type:"added",content:"<body>"},{type:"added",content:""},{type:"added",content:'<div ng-app="socially">'},{type:"added",content:"  <h1>"},{type:"added",content:'    <a href="/parties">Home</a>'},{type:"added",content:"  </h1>"},{type:"added",content:""},{type:"added",content:"  <div ui-view></div>"},{type:"added",content:"</div>"},{type:"added",content:""},{type:"added",content:"</body>"}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:14}}}]},sha:"ce42492612d76790f609f03d841fa2fd9c47709d",message:"Step 5.3: Update index.html",stepNumber:"5.3",summary:"Update index.html"},5.4:{files:{"party-details.ng.html":[{lines:[{type:"added",content:"Here you will see the details of party number: {{ partyId }}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:null}}}]},sha:"1b9e1619c0e0900f90c6e0135bed9ce55db1a6aa",message:"Step 5.4: Create party details page",stepNumber:"5.4",summary:"Create party details page"},5.5:{files:{"app.js":[{lines:[{type:"context",content:"if (Meteor.isClient) {"},{type:"context",content:"  angular.module('socially', ['angular-meteor', 'ui.router']);"},{type:"context",content:""},{type:"added",content:"  angular.module('socially').config(['$urlRouterProvider', '$stateProvider', '$locationProvider',"},{type:"added",content:"    function($urlRouterProvider, $stateProvider, $locationProvider){"
},{type:"added",content:""},{type:"added",content:"      $locationProvider.html5Mode(true);"},{type:"added",content:""},{type:"added",content:"      $stateProvider"},{type:"added",content:"        .state('parties', {"},{type:"added",content:"          url: '/parties',"},{type:"added",content:"          templateUrl: 'parties-list.ng.html',"},{type:"added",content:"          controller: 'PartiesListCtrl'"},{type:"added",content:"        })"},{type:"added",content:"        .state('partyDetails', {"},{type:"added",content:"          url: '/parties/:partyId',"},{type:"added",content:"          templateUrl: 'party-details.ng.html',"},{type:"added",content:"          controller: 'PartyDetailsCtrl'"},{type:"added",content:"        });"},{type:"added",content:""},{type:"added",content:'      $urlRouterProvider.otherwise("/parties");'},{type:"added",content:"    }]);"},{type:"added",content:""},{type:"context",content:"  angular.module('socially').controller('PartiesListCtrl', ['$scope', '$meteor', function ($scope, $meteor) {"},{type:"context",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"context",content:""}],lineNumbers:{removed:{start:3,lines:6},added:{start:3,lines:26}}}]},sha:"7200081060bbb136ae4740299c64574c9a6bcc35",message:"Step 5.5: Add routes definitions",stepNumber:"5.5",summary:"Add routes definitions"},5.6:{files:{"app.js":[{lines:[{type:"context",content:"      $scope.parties.remove();"},{type:"context",content:"    };"},{type:"context",content:"  }]);"},{type:"added",content:""},{type:"added",content:"  angular.module(\"socially\").controller(\"PartyDetailsCtrl\", ['$scope', '$stateParams',"},{type:"added",content:"    function($scope, $stateParams){"},{type:"added",content:""},{type:"added",content:"      $scope.partyId = $stateParams.partyId;"},{type:"added",content:""},{type:"added",content:"    }]);"},{type:"context",content:"}"},{type:"context",content:""},{type:"context",content:"if (Meteor.isServer) {"}],lineNumbers:{removed:{start:34,lines:6},added:{start:34,lines:13}}}]},sha:"9c7254848a60614d7e9eb6c4d0193a63c1d0bb01",message:"Step 5.6: Add party details controller",stepNumber:"5.6",summary:"Add party details controller"},6.1:{files:{"app.js":[{lines:[{type:"context",content:"    };"},{type:"context",content:"  }]);"},{type:"context",content:""},{type:"removed",content:"  angular.module(\"socially\").controller(\"PartyDetailsCtrl\", ['$scope', '$stateParams',"},{type:"removed",content:"    function($scope, $stateParams){"},{type:"removed",content:""},{type:"removed",content:"      $scope.partyId = $stateParams.partyId;"},{type:"removed",content:""},{type:"added",content:"  angular.module(\"socially\").controller(\"PartyDetailsCtrl\", ['$scope', '$stateParams', '$meteor',"},{type:"added",content:"    function($scope, $stateParams, $meteor){"},{type:"added",content:"      $scope.party = $meteor.object(Parties, $stateParams.partyId);"},{type:"context",content:"    }]);"},{type:"context",content:"}"},{type:"context",content:""}],lineNumbers:{removed:{start:35,lines:11},added:{start:35,lines:9}}}]},sha:"edb3c9dd74daa5f7b5766674b9056df489e7556b",message:"Step 6.1: Add $meteor.object to the controller",stepNumber:"6.1",summary:"Add $meteor.object to the controller"},6.2:{files:{"party-details.ng.html":[{lines:[{type:"removed",content:"Here you will see the details of party number: {{ partyId }}"},{type:"added",content:"Here you will see and change the details of the party:"},{type:"added",content:""},{type:"added",content:'<input ng-model="party.name">'},{type:"added",content:'<input ng-model="party.description">'}],lineNumbers:{removed:{start:1,lines:null},added:{start:1,lines:4}}}]},sha:"67af65cdf46cdbdacaa4149ecdac5115996cb642",message:"Step 6.2: Add binding to the party details",stepNumber:"6.2",summary:"Add binding to the party details"},6.3:{files:{"party-details.ng.html":[{lines:[{type:"context",content:"Here you will see and change the details of the party:"},{type:"context",content:""},{type:"context",content:'<input ng-model="party.name">'},{type:"removed",content:'<input ng-model="party.description">'},{type:"added",content:'<input ng-model="party.description">'},{type:"added",content:""},{type:"added",content:'<button ng-click="save()">Save</button>'},{type:"added",content:'<button ng-click="reset()">Reset form</button>'},{type:"added",content:'<button ui-sref="parties">Cancel</button>'}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:8}}}]},sha:"69fae21fa050a9cb7abaa897f296d3e0a7d3a19c",message:"Step 6.3: Add some buttons to the form",stepNumber:"6.3",summary:"Add some buttons to the form"},6.4:{files:{"app.js":[{lines:[{type:"context",content:""},{type:"context",content:"  angular.module(\"socially\").controller(\"PartyDetailsCtrl\", ['$scope', '$stateParams', '$meteor',"},{type:"context",content:"    function($scope, $stateParams, $meteor){"},{type:"removed",content:"      $scope.party = $meteor.object(Parties, $stateParams.partyId);"},{type:"added",content:"      $scope.party = $meteor.object(Parties, $stateParams.partyId, false);"},{type:"context",content:"    }]);"},{type:"context",content:"}"},{type:"context",content:""}],lineNumbers:{removed:{start:37,lines:7},added:{start:37,lines:7}}}]},sha:"c402b9de91e6296aeed1dd9ad93c80f12f4fbb63",message:"Step 6.4: Update the usage of $meteor.object",stepNumber:"6.4",summary:"Update the usage of $meteor.object"},6.5:{files:{"app.js":[{lines:[{type:"context",content:"  angular.module(\"socially\").controller(\"PartyDetailsCtrl\", ['$scope', '$stateParams', '$meteor',"},{type:"context",content:"    function($scope, $stateParams, $meteor){"},{type:"context",content:"      $scope.party = $meteor.object(Parties, $stateParams.partyId, false);"},{type:"added",content:""},{type:"added",content:"      $scope.save = function() {"},{type:"added",content:"        $scope.party.save();"},{type:"added",content:"      };"},{type:"added",content:""},{type:"added",content:"      $scope.reset = function() {"},{type:"added",content:"        $scope.party.reset();"},{type:"added",content:"      };"},{type:"context",content:"    }]);"},{type:"context",content:"}"},{type:"context",content:""}],lineNumbers:{removed:{start:38,lines:6},added:{start:38,lines:14}}}]},sha:"24e1b389200c3ef428e483b16d1d8ab857f79489",message:"Step 6.5: Add logic to the controller",stepNumber:"6.5",summary:"Add logic to the controller"},6.6:{files:{"app.js":[{lines:[{type:"context",content:"      $scope.party = $meteor.object(Parties, $stateParams.partyId, false);"},{type:"context",content:""},{type:"context",content:"      $scope.save = function() {"},{type:"removed",content:"        $scope.party.save();"},{type:"added",content:"        $scope.party.save().then(function(numberOfDocs){"},{type:"added",content:"          console.log('save success doc affected ', numberOfDocs);"},{type:"added",content:"        }, function(error){"},{type:"added",content:"          console.log('save error', error);"},{type:"added",content:"        });"},{type:"context",content:"      };"},{type:"context",content:""},{type:"context",content:"      $scope.reset = function() {"}],lineNumbers:{removed:{start:40,lines:7},added:{start:40,lines:11}}}]},sha:"f6b8b4a29b88a183116957d132adc71247ab6ee6",message:"Step 6.6: Full implementation of the controller logic",stepNumber:"6.6",summary:"Full implementation of the controller logic"},7.1:{files:{"client/lib/app.js":[{lines:[{type:"added",content:"angular.module('socially',['angular-meteor', 'ui.router']);"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:null}}}]},sha:"f89fa42cb1089a576c3c421d5658811d8ab44317",message:"Step 7.1: client/lib/app.js",stepNumber:"7.1",summary:"client/lib/app.js"},7.2:{files:{"model/parties.js":[{lines:[{type:"added",content:'Parties = new Mongo.Collection("parties");'}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:null}}}]},sha:"2aff75501707adf1eae12e2c94af07d2b110b00c",message:"Step 7.2: model/parties.js",stepNumber:"7.2",summary:"model/parties.js"},7.3:{files:{"server/startup/loadParties.js":[{lines:[{type:"added",content:"Meteor.startup(function () {"},{type:"added",content:"  if (Parties.find().count() === 0) {"},{type:"added",content:"    var parties = ["},{type:"added",content:"      {'name': 'Dubstep-Free Zone',"},{type:"added",content:"        'description': 'Fast just got faster with Nexus S.'},"},{type:"added",content:"      {'name': 'All dubstep all the time',"},{type:"added",content:"        'description': 'Get it on!'},"},{type:"added",content:"      {'name': 'Savage lounging',"},{type:"added",content:"        'description': 'Leisure suit required. And only fiercest manners.'}"},{type:"added",content:"    ];"},{type:"added",content:"    for (var i = 0; i < parties.length; i++)"},{type:"added",content:"      Parties.insert({name: parties[i].name, description: parties[i].description});"},{type:"added",content:"  }"},{type:"added",content:"});"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:14}}}]},sha:"9742fa48ad943bb9f36ec20aa114f099e4ec96d1",message:"Step 7.3: server/startup/loadParties.js",stepNumber:"7.3",summary:"server/startup/loadParties.js"},7.4:{files:{"client/routes.js":[{lines:[{type:"added",content:"angular.module(\"socially\").config(['$urlRouterProvider', '$stateProvider', '$locationProvider',"},{type:"added",content:"  function ($urlRouterProvider, $stateProvider, $locationProvider) {"},{type:"added",content:""},{type:"added",content:"    $locationProvider.html5Mode(true);"},{type:"added",content:""},{type:"added",content:"    $stateProvider"},{type:"added",content:"      .state('parties', {"},{type:"added",content:"        url: '/parties',"},{type:"added",content:"        templateUrl: 'client/parties/views/parties-list.ng.html',"},{type:"added",content:"        controller: 'PartiesListCtrl'"},{type:"added",content:"      })"},{type:"added",content:"      .state('partyDetails', {"},{type:"added",content:"        url: '/parties/:partyId',"},{type:"added",content:"        templateUrl: 'client/parties/views/party-details.ng.html',"},{type:"added",content:"        controller: 'PartyDetailsCtrl'"},{type:"added",content:"      });"},{type:"added",content:""},{type:"added",content:'    $urlRouterProvider.otherwise("/parties");'},{type:"added",content:"  }]);"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:19}}}]},sha:"9f5acfc3dc56df5bc45d1c243a9e87331e27917a",message:"Step 7.4: client/routes.js",stepNumber:"7.4",summary:"client/routes.js"},7.5:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"added",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor',"},{type:"added",content:"  function($scope, $meteor){"},{type:"added",content:""},{type:"added",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"added",content:""},{type:"added",content:"    $scope.remove = function(party){"},{type:"added",content:"      $scope.parties.splice( $scope.parties.indexOf(party), 1 );"},{type:"added",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.removeAll = function(){"},{type:"added",content:"      $scope.parties.remove();"},{type:"added",content:"    };"},{type:"added",content:"  }]);"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:13}}}]},sha:"6d3bd492fb049a55bf03eae777c6d0d77dc3e0d2",message:"Step 7.5: client/parties/controllers/partiesList.js",stepNumber:"7.5",summary:"client/parties/controllers/partiesList.js"},7.6:{files:{"client/parties/controllers/partyDetails.js":[{lines:[{type:"added",content:"angular.module(\"socially\").controller(\"PartyDetailsCtrl\", ['$scope', '$stateParams', '$meteor',"},{type:"added",content:"  function ($scope, $stateParams, $meteor) {"},{type:"added",content:"    $scope.party = $meteor.object(Parties, $stateParams.partyId);"},{type:"added",content:"  }]);"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:4}}}]},sha:"06530afc2cab3bc101f7220ffcd9653856798ec3",message:"Step 7.6: client/parties/controllers/partyDetails.js",stepNumber:"7.6",summary:"client/parties/controllers/partyDetails.js"},7.7:{files:{"client/views/parties-list.ng.html":[{lines:[{type:"added",content:"<form>"},{type:"added",content:"  <label>Name</label>"},{type:"added",content:'  <input ng-model="newParty.name">'},{type:"added",content:"  <label>Description</label>"},{type:"added",content:'  <input ng-model="newParty.description">'},{type:"added",content:'  <button ng-click="parties.push(newParty)">Add</button>'},{type:"added",content:'  <button ng-click="removeAll()">Remove All</button>'},{type:"added",content:"</form>"},{type:"added",content:"<ul>"},{type:"added",content:'  <li ng-repeat="party in parties">'},{type:"added",content:'    <a href="/parties/{{party._id}}">{{party.name}}</a>'},{type:"added",content:"    <p>{{party.description}}</p>"},{type:"added",content:'    <button ng-click="remove(party)">X</button>'},{type:"added",content:"  </li>"},{type:"added",content:"</ul>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:15}}}]},sha:"bbbefa48ac11db7dee7014a11c1a76fd81fc1041",message:"Step 7.7: client/parties/views/parties-list.ng.html",stepNumber:"7.7",summary:"client/parties/views/parties-list.ng.html"},7.8:{files:{"client/views/party-details.ng.html":[{lines:[{type:"added",content:"Here you will see and change the details of the party:"},{type:"added",content:""},{type:"added",content:'<input ng-model="party.name">'},{type:"added",content:'<input ng-model="party.description">'}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:4}}}]},sha:"01410dc154e2a7373853a63f717d10d0d6afb1e2",message:"Step 7.8: client/parties/views/party-details.ng.html",stepNumber:"7.8",summary:"client/parties/views/party-details.ng.html"},7.9:{files:{"client/routes.js":[{lines:[{type:"context",content:"    $stateProvider"},{type:"context",content:"      .state('parties', {"},{type:"context",content:"        url: '/parties',"},{type:"removed",content:"        templateUrl: 'parties-list.ng.html',"},{type:"added",content:"        templateUrl: 'client/parties/views/parties-list.ng.html',"},{type:"context",content:"        controller: 'PartiesListCtrl'"},{type:"context",content:"      })"},{type:"context",content:"      .state('partyDetails', {"},{type:"context",content:"        url: '/parties/:partyId',"},{type:"removed",content:"        templateUrl: 'party-details.ng.html',"},{type:"added",content:"        templateUrl: 'client/parties/views/party-details.ng.html',"},{type:"context",content:"        controller: 'PartyDetailsCtrl'"},{type:"context",content:"      });"},{type:"context",content:""}],lineNumbers:{removed:{start:6,lines:12},added:{start:6,lines:12}}}]},sha:"c09c2ecffc13c1059c0f904c9227b3f465b83369",message:"Step 7.9: Update templateUrl for routes",stepNumber:"7.9",summary:"Update templateUrl for routes"},8.1:{files:{"client/index.html":[{lines:[{type:"context",content:"<body>"},{type:"context",content:""},{type:"context",content:'<div ng-app="socially">'},{type:"added",content:'  <meteor-include src="loginButtons"></meteor-include>'},{type:"context",content:"  <h1>"},{type:"context",content:'    <a href="/parties">Home</a>'},{type:"context",content:"  </h1>"},{type:"removed",content:""},{type:"context",content:"  <div ui-view></div>"},{type:"context",content:"</div>"},{type:"context",content:""}],lineNumbers:{removed:{start:4,lines:10},added:{start:4,lines:10}}}]},sha:"cdc9447b3cab8bd6f57330d505b98d5b04869ddc",message:"Step 8.1: Use meteor-include to load the loginButtons",stepNumber:"8.1",summary:"Use meteor-include to load the loginButtons"},8.2:{files:{"model/parties.js":[{lines:[{type:"removed",content:'Parties = new Mongo.Collection("parties");'},{type:"added",content:'Parties = new Mongo.Collection("parties");'},{type:"added",content:""},{type:"added",content:"Parties.allow({"},{type:"added",content:"  insert: function (userId, party) {"},{type:"added",content:"    return userId && party.owner === userId;"},{type:"added",content:"  },"},{type:"added",content:"  update: function (userId, party, fields, modifier) {"},{type:"added",content:"    return userId && party.owner === userId;"},{type:"added",content:"  },"},{type:"added",content:"  remove: function (userId, party) {"},{type:"added",content:"    return userId && party.owner === userId;"},{type:"added",content:"  }"},{type:"added",content:"});"}],lineNumbers:{removed:{start:1,lines:null},added:{start:1,lines:13}}}]},sha:"74eb209a05581afdc4636669799f67027d2ef7a3",message:"Step 8.2:  Add allow logic to the model",stepNumber:"8.2",summary:"Add allow logic to the model"},8.3:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'  <input ng-model="newParty.name">'},{type:"context",content:"  <label>Description</label>"},{type:"context",content:'  <input ng-model="newParty.description">'},{type:"removed",content:'  <button ng-click="parties.push(newParty)">Add</button>'},{type:"added",content:'  <button ng-click="newParty.owner=$root.currentUser._id; parties.push(newParty)">Add</button>'},{type:"context",content:'  <button ng-click="removeAll()">Remove All</button>'},{type:"context",content:"</form>"},{type:"context",content:"<ul>"}],lineNumbers:{removed:{start:3,lines:7},added:{start:3,lines:7}}}]},sha:"9994fbc94f38136abe83fd7e6cf98e6d0d7b3de0",message:"Step 8.3: Add current user to the new party",stepNumber:"8.3",summary:"Add current user to the new party"},8.4:{files:{"client/routes.js":[{lines:[{type:"context",content:"      .state('partyDetails', {"},{type:"context",content:"        url: '/parties/:partyId',"},{type:"context",content:"        templateUrl: 'client/parties/views/party-details.ng.html',"},{type:"removed",content:"        controller: 'PartyDetailsCtrl'"},{type:"added",content:"        controller: 'PartyDetailsCtrl',"},{type:"added",content:"        resolve: {"},{type:"added",content:'          "currentUser": ["$meteor", function($meteor){'},{type:"added",content:"            return $meteor.requireUser();"},{type:"added",content:"          }]"},{type:"added",content:"        }"},{type:"context",content:"      });"},{type:"context",content:""},{type:"context",content:'    $urlRouterProvider.otherwise("/parties");'}],lineNumbers:{removed:{start:12,lines:7},added:{start:12,lines:12}}}]},sha:"8590f52a1e3c10552aa449966dea01e78e53eb1d",message:"Step 8.4: Update route",stepNumber:"8.4",summary:"Update route"},8.5:{files:{"client/routes.js":[{lines:[{type:"added",content:'angular.module("socially").run(["$rootScope", "$location", function($rootScope, $state) {'},{type:"added",content:'  $rootScope.$on("$stateChangeError", function(event, next, previous, error) {'},{type:"added",content:"    // We can catch the error thrown when the $requireUser promise is rejected"},{type:"added",content:"    // and redirect the user back to the main page"},{type:"added",content:'    if (error === "AUTH_REQUIRED") {'},{type:"added",content:'      $state.go("/parties");'},{type:"added",content:"    }"},{type:"added",content:"  });"},{type:"added",content:"}]);"},{type:"added",content:""},{type:"context",content:"angular.module(\"socially\").config(['$urlRouterProvider', '$stateProvider', '$locationProvider',"},{type:"context",content:"  function ($urlRouterProvider, $stateProvider, $locationProvider) {"},{type:"context",content:""}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:13}}}]},sha:"695e82ec42b6445ca3b9648c153cd34e6c1031bf",message:"Step 8.5: Handle case that user is not logged in",stepNumber:"8.5",summary:"Handle case that user is not logged in"},9.1:{files:{"server/parties.js":[{lines:[{type:"added",content:'Meteor.publish("parties", function () {'},{type:"added",content:"  return Parties.find({"},{type:"added",content:"    $or:["},{type:"added",content:"      {$and:["},{type:"added",content:'        {"public": true},'},{type:"added",content:'        {"public": {$exists: true}}'},{type:"added",content:"      ]},"},{type:"added",content:"      {$and:["},{type:"added",content:"        {owner: this.userId},"},{type:"added",content:"        {owner: {$exists: true}}"},{type:"added",content:"      ]}"},{type:"added",content:"    ]});"},{type:"added",content:"});"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:13}}}]},sha:"163cfba1579fc13dbe08c410bcf01542990131f0",message:"Step 9.1: Usage of publish method",stepNumber:"9.1",summary:"Usage of publish method"},9.2:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor',"},{type:"context",content:"  function($scope, $meteor){"},{type:"context",content:""},{type:"removed",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"added",content:"    $scope.parties = $meteor.collection(Parties).subscribe('parties');"},{type:"context",content:""},{type:"context",content:"    $scope.remove = function(party){"},{type:"context",content:"      $scope.parties.splice( $scope.parties.indexOf(party), 1 );"}],lineNumbers:{removed:{start:1,lines:7},added:{start:1,lines:7}}}]},sha:"280db6da1b96472cc0ee7484acf04a607e070f9c",message:'Step 9.2: Use "subscribe" function on the scope',stepNumber:"9.2",summary:'Use "subscribe" function on the scope'},9.3:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'  <input ng-model="newParty.name">'},{type:"context",content:"  <label>Description</label>"},{type:"context",content:'  <input ng-model="newParty.description">'},{type:"added",content:"  <label>Public</label>"},{type:"added",content:'  <input type="checkbox" ng-model="newParty.public">'},{type:"context",content:'  <button ng-click="newParty.owner=$root.currentUser._id; parties.push(newParty)">Add</button>'},{type:"context",content:'  <button ng-click="removeAll()">Remove All</button>'},{type:"context",content:"</form>"}],lineNumbers:{removed:{start:3,lines:6},added:{start:3,lines:8}}}]},sha:"4fc9ffbeab1991686a5db64e4f952a40f8539472",message:"Step 9.3: Add checkbox for public party",stepNumber:"9.3",summary:"Add checkbox for public party"},9.4:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"context",content:"Here you will see and change the details of the party:"},{type:"context",content:""},{type:"context",content:'<input ng-model="party.name">'},{type:"removed",content:'<input ng-model="party.description">'},{type:"added",content:'<input ng-model="party.description">'},{type:"added",content:"<label>Is public</label>"},{type:"added",content:'<input type="checkbox" ng-model="party.public">'}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:6}}}]},sha:"ce4d832840acbb1f2d093dabb6cfabfa8e835f25",message:"Step 9.4: Add checkbox for public party in the details",stepNumber:"9.4",summary:"Add checkbox for public party in the details"},9.5:{files:{"server/users.js":[{lines:[{type:"added",content:'Meteor.publish("users", function () {'},{type:"added",content:"  return Meteor.users.find({}, {fields: {emails: 1, profile: 1}});"},{type:"added",content:"});"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:3}}}]},sha:"80280fbdf74ba34ee8faae9931354e9e09cf661c",message:"Step 9.5: Publish the users collection",stepNumber:"9.5",summary:"Publish the users collection"},9.6:{files:{"client/parties/controllers/partyDetails.js":[{lines:[{type:"context",content:"angular.module(\"socially\").controller(\"PartyDetailsCtrl\", ['$scope', '$stateParams', '$meteor',"},{type:"context",content:"  function ($scope, $stateParams, $meteor) {"},{type:"context",content:"    $scope.party = $meteor.object(Parties, $stateParams.partyId);"},{type:"added",content:"    $scope.users = $meteor.collection(Meteor.users, false).subscribe('users');"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:5}}}]},sha:"16d8d5dd2d585eea05f09261a23688fa24b65c3b",message:"Step 9.6: Subscribe to the users collection",stepNumber:"9.6",summary:"Subscribe to the users collection"},9.7:{files:{"client/parties/controllers/partyDetails.js":[{lines:[{type:"context",content:"angular.module(\"socially\").controller(\"PartyDetailsCtrl\", ['$scope', '$stateParams', '$meteor',"},{type:"context",content:"  function ($scope, $stateParams, $meteor) {"},{type:"removed",content:"    $scope.party = $meteor.object(Parties, $stateParams.partyId);"},{type:"added",content:"    $scope.party = $meteor.object(Parties, $stateParams.partyId).subscribe('parties');"},{type:"context",content:"    $scope.users = $meteor.collection(Meteor.users, false).subscribe('users');"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:5}}}]},sha:"1480c36e8e78b339e501c0baad8a559311d232ef",message:"Step 9.7: Subscribe to the parties collection",stepNumber:"9.7",summary:"Subscribe to the parties collection"},9.8:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"context",content:'<input ng-model="party.description">'},{type:"context",content:"<label>Is public</label>"},{type:"context",content:'<input type="checkbox" ng-model="party.public">'},{type:"added",content:""},{type:"added",content:"<ul>"},{type:"added",content:"  Users:"},{type:"added",content:'  <li ng-repeat="user in users">'},{type:"added",content:"    <div>{{ user.emails[0].address }}</div>"},{type:"added",content:"  </li>"},{type:"added",content:"</ul>"}],lineNumbers:{removed:{start:4,lines:3},added:{start:4,lines:10}}}]},sha:"001543c981ec611fdc9f0b4f9b295833422559cd",message:"Step 9.8: Add the user details",stepNumber:"9.8",summary:"Add the user details"},11.1:{files:{"client/lib/app.js":[{lines:[{type:"removed",content:"angular.module('socially',['angular-meteor', 'ui.router']);"},{type:"added",content:"angular.module('socially',['angular-meteor', 'ui.router']);"},{type:"added",content:""},{type:"added",content:"function onReady() {"},{type:"added",content:"  angular.bootstrap(document, ['socially']);"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"if (Meteor.isCordova)"},{type:"added",content:'  angular.element(document).on("deviceready", onReady);'},{type:"added",content:"else"},{type:"added",content:"  angular.element(document).ready(onReady);"}],lineNumbers:{removed:{start:1,lines:null},added:{start:1,lines:10}}}]},sha:"a3367ec45102090e37eaa1a0bfe1ff61e3883240",message:"Step 11.1: Update the module initialization",stepNumber:"11.1",summary:"Update the module initialization"},11.2:{files:{"client/index.html":[{lines:[{type:"context",content:"</head>"},{type:"context",content:"<body>"},{type:"context",content:""},{type:"removed",content:'<div ng-app="socially">'},{type:"added",content:"<div>"},{type:"context",content:'  <meteor-include src="loginButtons"></meteor-include>'},{type:"context",content:"  <h1>"},{type:"context",content:'    <a href="/parties">Home</a>'}],lineNumbers:{removed:{start:3,lines:7},added:{start:3,lines:7}}}]},sha:"f8be41d7694488cd38ec4b173eb98f2b9422bfeb",message:"Step 11.2: Remove the ng-app directive",stepNumber:"11.2",summary:"Remove the ng-app directive"},12.1:{files:{"server/parties.js":[{lines:[{type:"removed",content:'Meteor.publish("parties", function () {'},{type:"added",content:'Meteor.publish("parties", function (options) {'},{type:"context",content:"  return Parties.find({"},{type:"context",content:"    $or:["},{type:"context",content:"      {$and:["}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}},{lines:[{type:"context",content:"        {owner: this.userId},"},{type:"context",content:"        {owner: {$exists: true}}"},{type:"context",content:"      ]}"},{type:"removed",content:"    ]});"},{type:"added",content:"    ]}, options);"},{type:"context",content:"});"}],lineNumbers:{removed:{start:9,lines:5},added:{start:9,lines:5}}}]},sha:"f7723e2f8d7d96f3aaeff3de3e55db5626b76b43",message:"Step 12.1: Add options to the parties publish",stepNumber:"12.1",summary:"Add options to the parties publish"},12.2:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor',"},{type:"context",content:"  function($scope, $meteor){"},{type:"context",content:""},{type:"added",content:"    $scope.page = 1;"},{type:"added",content:"    $scope.perPage = 3;"},{type:"added",content:"    $scope.sort = { name: 1 };"},{type:"added",content:""},{type:"context",content:"    $scope.parties = $meteor.collection(Parties).subscribe('parties');"},{type:"context",content:""},{type:"context",content:"    $scope.remove = function(party){"}],lineNumbers:{removed:{start:1,lines:6},added:{start:1,lines:10}}}]},sha:"a94894364c89ffc9659b7c7abfd1ad9d31bae2cc",message:"Step 12.2: Add the sorting params to the scope",stepNumber:"12.2",summary:"Add the sorting params to the scope"},12.3:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"    $scope.perPage = 3;"},{type:"context",content:"    $scope.sort = { name: 1 };"},{type:"context",content:""},{type:"removed",content:"    $scope.parties = $meteor.collection(Parties).subscribe('parties');"},{type:"added",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"added",content:"    $meteor.subscribe('parties');"},{type:"context",content:""},{type:"context",content:"    $scope.remove = function(party){"},{type:"context",content:"      $scope.parties.splice( $scope.parties.indexOf(party), 1 );"}],lineNumbers:{removed:{start:5,lines:7},added:{start:5,lines:8}}}]},sha:"f62ed04412ec91f20f9f3597b0498d9760379589",message:"Step 12.3: Separate the collection and the subscribe",stepNumber:"12.3",summary:"Separate the collection and the subscribe"},12.4:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"    $scope.sort = { name: 1 };"},{type:"context",content:""},{type:"context",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"removed",content:"    $meteor.subscribe('parties');"},{type:"added",content:"    $meteor.subscribe('parties', {"},{type:"added",content:"      limit: parseInt($scope.perPage),"},{type:"added",content:"      skip: parseInt(($scope.page - 1) * $scope.perPage),"},{type:"added",content:"      sort: $scope.sort"},{type:"added",content:"    });"},{type:"context",content:""},{type:"context",content:"    $scope.remove = function(party){"},{type:"context",content:"      $scope.parties.splice( $scope.parties.indexOf(party), 1 );"}],lineNumbers:{removed:{start:6,lines:7},added:{start:6,lines:11}}}]},sha:"0d609c440565f58d059944d3c38d7e2469b922b7",message:"Step 12.4: Add the params to the subscribe",stepNumber:"12.4",summary:"Add the params to the subscribe"},12.5:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"    $scope.perPage = 3;"},{type:"context",content:"    $scope.sort = { name: 1 };"},{type:"context",content:""},{type:"removed",content:"    $scope.parties = $meteor.collection(Parties);"},{type:"added",content:"    $scope.parties = $meteor.collection(function() {"},{type:"added",content:"      return Parties.find({}, {"},{type:"added",content:"        sort : $scope.sort"},{type:"added",content:"      });"},{type:"added",content:"    });"},{type:"added",content:""},{type:"context",content:"    $meteor.subscribe('parties', {"},{type:"context",content:"      limit: parseInt($scope.perPage),"},{type:"context",content:"      skip: parseInt(($scope.page - 1) * $scope.perPage),"}],lineNumbers:{removed:{start:5,lines:7},added:{start:5,lines:12}}}]},sha:"605aa4ecca02c705887b963db8ec057f08b8dec5",message:"Step 12.5: Replace the Parties collection with cursor",stepNumber:"12.5",summary:"Replace the Parties collection with cursor"},12.6:{files:{"client/lib/app.js":[{lines:[{type:"removed",content:"angular.module('socially',['angular-meteor', 'ui.router']);"},{type:"added",content:"angular.module('socially',['angular-meteor', 'ui.router', 'angularUtils.directives.dirPagination']);"
},{type:"context",content:""},{type:"context",content:"function onReady() {"},{type:"context",content:"  angular.bootstrap(document, ['socially']);"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}}]},sha:"4d79f552972f6ea6601b21378989382df6867ddc",message:"Step 12.6: Add the pagination module",stepNumber:"12.6",summary:"Add the pagination module"},12.7:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'  <button ng-click="removeAll()">Remove All</button>'},{type:"context",content:"</form>"},{type:"context",content:"<ul>"},{type:"removed",content:'  <li ng-repeat="party in parties">'},{type:"added",content:'  <li dir-paginate="party in parties | itemsPerPage: perPage" total-items="partiesCount.count">'},{type:"context",content:'    <a href="/parties/{{party._id}}">{{party.name}}</a>'},{type:"context",content:"    <p>{{party.description}}</p>"},{type:"context",content:'    <button ng-click="remove(party)">X</button>'}],lineNumbers:{removed:{start:9,lines:7},added:{start:9,lines:7}}}]},sha:"138a048dae558140ac2394ac5e09439f6cb74077",message:"Step 12.7: Use the pagination directive",stepNumber:"12.7",summary:"Use the pagination directive"},12.8:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:"    <p>{{party.description}}</p>"},{type:"context",content:'    <button ng-click="remove(party)">X</button>'},{type:"context",content:"  </li>"},{type:"removed",content:"</ul>"},{type:"added",content:"</ul>"},{type:"added",content:'<dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>'}],lineNumbers:{removed:{start:14,lines:4},added:{start:14,lines:5}}}]},sha:"e408bbaac9161d6ab2f3bb60438c45997fc6d565",message:"Step 12.8: Add the pagination controls",stepNumber:"12.8",summary:"Add the pagination controls"},12.9:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"    $scope.removeAll = function(){"},{type:"context",content:"      $scope.parties.remove();"},{type:"context",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.pageChanged = function(newPage) {"},{type:"added",content:"      $scope.page = newPage;"},{type:"added",content:"    };"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:24,lines:4},added:{start:24,lines:8}}}]},sha:"a00ab08e3e953f91d23097ca23baf4b80c2417fe",message:"Step 12.9: Add function to handle the page change",stepNumber:"12.9",summary:"Add function to handle the page change"},"12.10":{files:{"server/parties.js":[{lines:[{type:"context",content:'Meteor.publish("parties", function (options) {'},{type:"added",content:"  Counts.publish(this, 'numberOfParties', Parties.find({"},{type:"added",content:"    $or:["},{type:"added",content:"      {$and:["},{type:"added",content:"        {'public': true},"},{type:"added",content:"        {'public': {$exists: true}}"},{type:"added",content:"      ]},"},{type:"added",content:"      {$and:["},{type:"added",content:"        {owner: this.userId},"},{type:"added",content:"        {owner: {$exists: true}}"},{type:"added",content:"      ]}"},{type:"added",content:"    ]}), { noReady: true });"},{type:"added",content:""},{type:"context",content:"  return Parties.find({"},{type:"context",content:"    $or:["},{type:"context",content:"      {$and:["}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:16}}}]},sha:"f6e3d8c945485eff662f7bf5003eec9ac3cf410c",message:"Step 12.10: Add parties count publish",stepNumber:"12.10",summary:"Add parties count publish"},12.11:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"      limit: parseInt($scope.perPage),"},{type:"context",content:"      skip: parseInt(($scope.page - 1) * $scope.perPage),"},{type:"context",content:"      sort: $scope.sort"},{type:"added",content:"    }).then(function(){"},{type:"added",content:"      $scope.partiesCount = $meteor.object(Counts ,'numberOfParties', false);"},{type:"context",content:"    });"},{type:"context",content:""},{type:"context",content:"    $scope.remove = function(party){"}],lineNumbers:{removed:{start:15,lines:6},added:{start:15,lines:8}}}]},sha:"2bf8b504d9cda45a1a7510b572d429c9058906c9",message:"Step 12.11: Add parties count to the client",stepNumber:"12.11",summary:"Add parties count to the client"},12.12:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"      });"},{type:"context",content:"    });"},{type:"context",content:""},{type:"removed",content:"    $meteor.subscribe('parties', {"},{type:"removed",content:"      limit: parseInt($scope.perPage),"},{type:"removed",content:"      skip: parseInt(($scope.page - 1) * $scope.perPage),"},{type:"removed",content:"      sort: $scope.sort"},{type:"removed",content:"    }).then(function(){"},{type:"removed",content:"      $scope.partiesCount = $meteor.object(Counts ,'numberOfParties', false);"},{type:"added",content:"    $meteor.autorun($scope, function() {"},{type:"added",content:"      $meteor.subscribe('parties', {"},{type:"added",content:"        limit: parseInt($scope.perPage),"},{type:"added",content:"        skip: parseInt(($scope.page - 1) * $scope.perPage),"},{type:"added",content:"        sort: $scope.sort"},{type:"added",content:"      }).then(function(){"},{type:"added",content:"        $scope.partiesCount = $meteor.object(Counts ,'numberOfParties', false);"},{type:"added",content:"      });"},{type:"context",content:"    });"},{type:"context",content:""},{type:"context",content:"    $scope.remove = function(party){"}],lineNumbers:{removed:{start:11,lines:12},added:{start:11,lines:14}}}]},sha:"96f7efbd839e0b3cfab9cf35d9fa83e5928113b7",message:"Step 12.12: Add autorun to wrap the subscribe",stepNumber:"12.12",summary:"Add autorun to wrap the subscribe"},12.13:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:""},{type:"context",content:"    $meteor.autorun($scope, function() {"},{type:"context",content:"      $meteor.subscribe('parties', {"},{type:"removed",content:"        limit: parseInt($scope.perPage),"},{type:"removed",content:"        skip: parseInt(($scope.page - 1) * $scope.perPage),"},{type:"removed",content:"        sort: $scope.sort"},{type:"added",content:"        limit: parseInt($scope.getReactively('perPage')),"},{type:"added",content:"        skip: (parseInt($scope.getReactively('page')) - 1) * parseInt($scope.getReactively('perPage')),"},{type:"added",content:"        sort: $scope.getReactively('sort')"},{type:"context",content:"      }).then(function(){"},{type:"context",content:"        $scope.partiesCount = $meteor.object(Counts ,'numberOfParties', false);"},{type:"context",content:"      });"}],lineNumbers:{removed:{start:13,lines:9},added:{start:13,lines:9}}}]},sha:"56559d02e897d897348002d4872f5403123bf247",message:"Step 12.13: Added usage of getReactivly",stepNumber:"12.13",summary:"Added usage of getReactivly"},12.14:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:""},{type:"context",content:"    $scope.parties = $meteor.collection(function() {"},{type:"context",content:"      return Parties.find({}, {"},{type:"removed",content:"        sort : $scope.sort"},{type:"added",content:"        sort : $scope.getReactively('sort')"},{type:"context",content:"      });"},{type:"context",content:"    });"},{type:"context",content:""}],lineNumbers:{removed:{start:7,lines:7},added:{start:7,lines:7}}}]},sha:"4a1070a1aa95f8b352114343863c7e0a595b7f72",message:"Step 12.14: Added usage of getReactivly to the collection",stepNumber:"12.14",summary:"Added usage of getReactivly to the collection"},12.15:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'  <button ng-click="removeAll()">Remove All</button>'},{type:"context",content:"</form>"},{type:"context",content:"<ul>"},{type:"added",content:"  <h1>Parties:</h1>"},{type:"added",content:"  <div>"},{type:"added",content:'    <select ng-model="orderProperty">'},{type:"added",content:'      <option value="1">Ascending</option>'},{type:"added",content:'      <option value="-1">Descending</option>'},{type:"added",content:"    </select>"},{type:"added",content:"  </div>"},{type:"context",content:'  <li dir-paginate="party in parties | itemsPerPage: perPage" total-items="partiesCount.count">'},{type:"context",content:'    <a href="/parties/{{party._id}}">{{party.name}}</a>'},{type:"context",content:"    <p>{{party.description}}</p>"}],lineNumbers:{removed:{start:9,lines:6},added:{start:9,lines:13}}}]},sha:"3b5e183e2f7890bfcf2b1262c1146830afc55f24",message:"Step 12.15: Add sort controls to the view",stepNumber:"12.15",summary:"Add sort controls to the view"},12.16:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"    $scope.pageChanged = function(newPage) {"},{type:"context",content:"      $scope.page = newPage;"},{type:"context",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.$watch('orderProperty', function(){"},{type:"added",content:"      if ($scope.orderProperty)"},{type:"added",content:"        $scope.sort = {name: parseInt($scope.orderProperty)};"},{type:"added",content:"    });"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:32,lines:4},added:{start:32,lines:9}}}]},sha:"928a97f83834eeee4039c0f3384b41b5f3a661f6",message:"Step 12.16: Add order logic to the client",stepNumber:"12.16",summary:"Add order logic to the client"},12.17:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"    $scope.page = 1;"},{type:"context",content:"    $scope.perPage = 3;"},{type:"context",content:"    $scope.sort = { name: 1 };"},{type:"added",content:"    $scope.orderProperty = '1';"},{type:"context",content:""},{type:"context",content:"    $scope.parties = $meteor.collection(function() {"},{type:"context",content:"      return Parties.find({}, {"}],lineNumbers:{removed:{start:4,lines:6},added:{start:4,lines:7}}}]},sha:"2eff59cab86ab27209e6ddcb05256ebcafd7ab04",message:"Step 12.17: Add default sort definition",stepNumber:"12.17",summary:"Add default sort definition"},12.18:{files:{"server/parties.js":[{lines:[{type:"removed",content:'Meteor.publish("parties", function (options) {'},{type:"added",content:'Meteor.publish("parties", function (options, searchString) {'},{type:"context",content:"  Counts.publish(this, 'numberOfParties', Parties.find({"},{type:"context",content:"    $or:["},{type:"context",content:"      {$and:["}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}}]},sha:"b73bee25d975837eb0cca69cf0604dc8cb7a5c0b",message:"Step 12.18: Add search string to the collection",stepNumber:"12.18",summary:"Add search string to the collection"},12.19:{files:{"server/parties.js":[{lines:[{type:"context",content:'Meteor.publish("parties", function (options, searchString) {'},{type:"added",content:"  if (searchString == null)"},{type:"added",content:"    searchString = '';"},{type:"added",content:""},{type:"context",content:"  Counts.publish(this, 'numberOfParties', Parties.find({"},{type:"added",content:"    'name' : { '$regex' : '.*' + searchString || '' + '.*', '$options' : 'i' },"},{type:"context",content:"    $or:["},{type:"context",content:"      {$and:["},{type:"context",content:"        {'public': true},"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:9}}},{lines:[{type:"context",content:"    ]}), { noReady: true });"},{type:"context",content:""},{type:"context",content:"  return Parties.find({"},{type:"added",content:"    'name' : { '$regex' : '.*' + searchString || '' + '.*', '$options' : 'i' },"},{type:"context",content:"    $or:["},{type:"context",content:"      {$and:["},{type:"context",content:'        {"public": true},'}],lineNumbers:{removed:{start:12,lines:6},added:{start:16,lines:7}}}]},sha:"6e61a8fefb76966cc4cf9373d5e2545a950724cd",message:"Step 12.19: Add the search logic",stepNumber:"12.19",summary:"Add the search logic"},"12.20":{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:"<ul>"},{type:"context",content:"  <h1>Parties:</h1>"},{type:"context",content:"  <div>"},{type:"added",content:'    <input type="search" ng-model="search" placeholder="Search">'},{type:"context",content:'    <select ng-model="orderProperty">'},{type:"context",content:'      <option value="1">Ascending</option>'},{type:"context",content:'      <option value="-1">Descending</option>'}],lineNumbers:{removed:{start:11,lines:6},added:{start:11,lines:7}}}]},sha:"5cd165ebd28e37fbee8a74334630ed3f92486f8b",message:"Step 12.20: Add the search input",stepNumber:"12.20",summary:"Add the search input"},12.21:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"        limit: parseInt($scope.getReactively('perPage')),"},{type:"context",content:"        skip: (parseInt($scope.getReactively('page')) - 1) * parseInt($scope.getReactively('perPage')),"},{type:"context",content:"        sort: $scope.getReactively('sort')"},{type:"removed",content:"      }).then(function(){"},{type:"added",content:"      }, $scope.getReactively('search')).then(function() {"},{type:"context",content:"        $scope.partiesCount = $meteor.object(Counts ,'numberOfParties', false);"},{type:"context",content:"      });"},{type:"context",content:"    });"}],lineNumbers:{removed:{start:17,lines:7},added:{start:17,lines:7}}}]},sha:"ec1a9a6079eb6d5d5845d35875a8feeed95d1241",message:"Step 12.21: Add the search param to the subscribe",stepNumber:"12.21",summary:"Add the search param to the subscribe"},12.22:{files:{"client/parties/controllers/partyDetails.js":[{lines:[{type:"context",content:"angular.module(\"socially\").controller(\"PartyDetailsCtrl\", ['$scope', '$stateParams', '$meteor',"},{type:"context",content:"  function ($scope, $stateParams, $meteor) {"},{type:"removed",content:"    $scope.party = $meteor.object(Parties, $stateParams.partyId).subscribe('parties');"},{type:"added",content:"    $scope.party = $meteor.object(Parties, $stateParams.partyId);"},{type:"context",content:"    $scope.users = $meteor.collection(Meteor.users, false).subscribe('users');"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:5}}}]},sha:"fcc186b7c231a3c66739f3c6c2a3e3d032d7be11",message:"Step 12.22: Remove the subscription from the object",stepNumber:"12.22",summary:"Remove the subscription from the object"},12.23:{files:{"client/parties/controllers/partyDetails.js":[{lines:[{type:"context",content:"  function ($scope, $stateParams, $meteor) {"},{type:"context",content:"    $scope.party = $meteor.object(Parties, $stateParams.partyId);"},{type:"context",content:"    $scope.users = $meteor.collection(Meteor.users, false).subscribe('users');"},{type:"added",content:"    $scope.$meteorSubscribe('parties');"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:2,lines:4},added:{start:2,lines:5}}}]},sha:"37edf3df5549a3b68002640d19a9343056134e9b",message:"Step 12.23: Add $scope subscription to the collection",stepNumber:"12.23",summary:"Add $scope subscription to the collection"},13.1:{files:{"client/parties/filters/uninvited.js":[{lines:[{type:"added",content:"angular.module('socially').filter('uninvited', function () {"},{type:"added",content:"  return function (users, party) {"},{type:"added",content:"    if (!party)"},{type:"added",content:"      return false;"},{type:"added",content:""},{type:"added",content:"    return _.filter(users, function (user) {"},{type:"added",content:"      if (user._id == party.owner ||"},{type:"added",content:"        _.contains(party.invited, user._id))"},{type:"added",content:"        return false;"},{type:"added",content:"      else"},{type:"added",content:"        return true;"},{type:"added",content:"    });"},{type:"added",content:"  }"},{type:"added",content:"});"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:14}}}]},sha:"511e35f01a655e2176f49e39bb2bdb0d3b92b9cb",message:"Step 13.1: Create the filter",stepNumber:"13.1",summary:"Create the filter"},13.2:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"context",content:'<input type="checkbox" ng-model="party.public">'},{type:"context",content:""},{type:"context",content:"<ul>"},{type:"removed",content:"  Users:"},{type:"removed",content:'  <li ng-repeat="user in users">'},{type:"added",content:"  Users to invite:"},{type:"added",content:'  <li ng-repeat="user in users | uninvited:party">'},{type:"context",content:"    <div>{{ user.emails[0].address }}</div>"},{type:"context",content:"  </li>"},{type:"context",content:"</ul>"}],lineNumbers:{removed:{start:6,lines:8},added:{start:6,lines:8}}}]},sha:"7d9fba302b0de05a1cf8d3ab5c75cf15293d115d",message:"Step 13.2: Use the filter",stepNumber:"13.2",summary:"Use the filter"},13.3:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"context",content:"<ul>"},{type:"context",content:"  Users to invite:"},{type:"context",content:'  <li ng-repeat="user in users | uninvited:party">'},{type:"removed",content:"    <div>{{ user.emails[0].address }}</div>"},{type:"added",content:"    <div>{{ user | displayName }}</div>"},{type:"context",content:"  </li>"},{type:"context",content:"</ul>"}],lineNumbers:{removed:{start:8,lines:6},added:{start:8,lines:6}}}]},sha:"34355f602202e45db0aa2a89120c4e614fc21b9a",message:"Step 13.3: Use filter to display user details",stepNumber:"13.3",summary:"Use filter to display user details"},13.4:{files:{"client/parties/filters/displayName.js":[{lines:[{type:"added",content:"angular.module('socially').filter('displayName', function () {"},{type:"added",content:"  return function (user) {"},{type:"added",content:"    if (!user)"},{type:"added",content:"      return;"},{type:"added",content:"    if (user.profile && user.profile.name)"},{type:"added",content:"      return user.profile.name;"},{type:"added",content:"    else if (user.emails)"},{type:"added",content:"      return user.emails[0].address;"},{type:"added",content:"    else"},{type:"added",content:"      return user;"},{type:"added",content:"  }"},{type:"added",content:"});"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:12}}}]},sha:"475b5dafc06399894b2b3cdca4fe70d3c26d2b90",message:"Step 13.4: Create the displayName filter",stepNumber:"13.4",summary:"Create the displayName filter"},13.5:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'    <a href="/parties/{{party._id}}">{{party.name}}</a>'},{type:"context",content:"    <p>{{party.description}}</p>"},{type:"context",content:'    <button ng-click="remove(party)">X</button>'},{type:"removed",content:"    <p><small>Posted by {{ creator(party) | displayName }}</small></p>"},{type:"added",content:"    <p><small>Posted by {{ creator(party) }}</small></p>"},{type:"context",content:"  </li>"},{type:"context",content:"</ul>"},{type:"context",content:'<dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>'}],lineNumbers:{removed:{start:21,lines:7},added:{start:21,lines:7}}}]},sha:"b153a3bc34eb813ea358311d9175a31945dabcbf",message:"Step 13.5: Added user details",stepNumber:"13.5",summary:"Added user details"},13.6:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"removed",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor',"},{type:"removed",content:"  function($scope, $meteor){"},{type:"added",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor', '$rootScope',"},{type:"added",content:"  function($scope, $meteor, $rootScope){"},{type:"context",content:""},{type:"context",content:"    $scope.page = 1;"},{type:"context",content:"    $scope.perPage = 3;"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:5}}},{lines:[{type:"context",content:"      if ($scope.orderProperty)"},{type:"context",content:"        $scope.sort = {name: parseInt($scope.orderProperty)};"},{type:"context",content:"    });"},{type:"added",content:""},{type:"added",content:"    $scope.getUserById = function(userId){"},{type:"added",content:"      return Meteor.users.findOne(userId);"},{type:"added",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.creator = function(party){"},{type:"added",content:"      if (!party)"},{type:"added",content:"        return;"},{type:"added",content:"      var owner = $scope.getUserById(party.owner);"},{type:"added",content:"      if (!owner)"},{type:"added",content:"        return 'nobody';"},{type:"added",content:""},{type:"added",content:"      if ($rootScope.currentUser)"},{type:"added",content:"        if ($rootScope.currentUser._id)"},{type:"added",content:"          if (owner._id === $rootScope.currentUser._id)"},{type:"added",content:"            return 'me';"},{type:"added",content:""},{type:"added",content:"      return owner;"},{type:"added",content:"    };"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:38,lines:4},added:{start:38,lines:23}}}]},sha:"fc6798f40120dc31224535ef74a7af012caa09f5",message:"Step 13.6: Added the logic to the controller",stepNumber:"13.6",summary:"Added the logic to the controller"},13.7:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"    $scope.sort = { name: 1 };"},{type:"context",content:"    $scope.orderProperty = '1';"},{type:"context",content:""},{type:"added",content:"    $scope.$meteorSubscribe('users');"},{type:"added",content:""},{type:"context",content:"    $scope.parties = $meteor.collection(function() {"},{type:"context",content:"      return Parties.find({}, {"},{type:"context",content:"        sort : $scope.getReactively('sort')"}],lineNumbers:{removed:{start:6,lines:6},added:{start:6,lines:8}}}]},sha:"c62a6b3649d30d4008c4704d31e055d1e9f46c94",message:"Step 13.7: Added subscribe to the users collection",stepNumber:"13.7",summary:"Added subscribe to the users collection"},13.8:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'    <a href="/parties/{{party._id}}">{{party.name}}</a>'},{type:"context",content:"    <p>{{party.description}}</p>"},{type:"context",content:'    <button ng-click="remove(party)">X</button>'},{type:"removed",content:"    <p><small>Posted by {{ creator(party) }}</small></p>"},{type:"added",content:"    <p><small>Posted by {{ creator(party) | displayName }}</small></p>"},{type:"context",content:"  </li>"},{type:"context",content:"</ul>"},{type:"context",content:'<dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>'}],lineNumbers:{removed:{start:21,lines:7},added:{start:21,lines:7}}}]},sha:"873c86c550722cff8dd6d400f4b9a5f9d7cf5b2f",message:"Step 13.8: Use filter to display the user info",stepNumber:"13.8",summary:"Use filter to display the user info"},14.1:{files:{"model/parties.js":[{lines:[{type:"context",content:"  remove: function (userId, party) {"},{type:"context",content:"    return userId && party.owner === userId;"},{type:"context",content:"  }"},{type:"removed",content:"});"},{type:"added",content:"});"},{type:"added",content:""},{type:"added",content:"Meteor.methods({"},{type:"added",content:"  invite: function (partyId, userId) {"},{type:"added",content:"    check(partyId, String);"},{type:"added",content:"    check(userId, String);"},{type:"added",content:"    var party = Parties.findOne(partyId);"},{type:"added",content:"    if (!party)"},{type:"added",content:'      throw new Meteor.Error(404, "No such party");'},{type:"added",content:"    if (party.owner !== this.userId)"},{type:"added",content:'      throw new Meteor.Error(404, "No such party");'},{type:"added",content:"    if (party.public)"},{type:"added",content:"      throw new Meteor.Error(400,"},{type:"added",content:'        "That party is public. No need to invite people.");'},{type:"added",content:""},{type:"added",content:"    if (userId !== party.owner && ! _.contains(party.invited, userId)) {"},{type:"added",content:"      Parties.update(partyId, { $addToSet: { invited: userId } });"},{type:"added",content:""},{type:"added",content:"      var from = contactEmail(Meteor.users.findOne(this.userId));"},{type:"added",content:"      var to = contactEmail(Meteor.users.findOne(userId));"},{type:"added",content:""},{type:"added",content:"      if (Meteor.isServer && to) {"},{type:"added",content:"        // This code only runs on the server. If you didn't want clients"},{type:"added",content:"        // to be able to see it, you could move it to a separate file."},{type:"added",content:"        Email.send({"},{type:"added",content:'          from: "noreply@socially.com",'},{type:"added",content:"          to: to,"},{type:"added",content:"          replyTo: from || undefined,"},{type:"added",content:'          subject: "PARTY: " + party.title,'},{type:"added",content:"          text:"},{type:"added",content:'          "Hey, I just invited you to \'" + party.title + "\' on Socially." +'},{type:"added",content:'          "\\n\\nCome check it out: " + Meteor.absoluteUrl() + "\\n"'},{type:"added",content:"        });"},{type:"added",content:"      }"},{type:"added",content:"    }"},{type:"added",content:"  }"},{type:"added",content:"});"},{type:"added",content:""},{type:"added",content:"var contactEmail = function (user) {"},{type:"added",content:"  if (user.emails && user.emails.length)"},{type:"added",content:"    return user.emails[0].address;"},{type:"added",content:"  if (user.services && user.services.facebook && user.services.facebook.email)"},{type:"added",content:"    return user.services.facebook.email;"},{type:"added",content:"  return null;"},{type:"added",content:"};"}],lineNumbers:{removed:{start:10,lines:4},added:{start:10,lines:48}}}]},sha:"81eed2a3ee26107aaae6568bbca79a9caeb39fcc",message:"Step 14.1: Add meteor method to the model",stepNumber:"14.1",summary:"Add meteor method to the model"},14.2:{files:{"client/parties/controllers/partyDetails.js":[{lines:[{type:"context",content:"    $scope.party = $meteor.object(Parties, $stateParams.partyId);"},{type:"context",content:"    $scope.users = $meteor.collection(Meteor.users, false).subscribe('users');"},{type:"context",content:"    $scope.$meteorSubscribe('parties');"},{type:"added",content:""},{type:"added",content:"    $scope.invite = function(user){"},{type:"added",content:"      $meteor.call('invite', $scope.party._id, user._id).then("},{type:"added",content:"        function(data){"},{type:"added",content:"          console.log('success inviting', data);"},{type:"added",content:"        },"},{type:"added",content:"        function(err){"},{type:"added",content:"          console.log('failed', err);"},{type:"added",content:"        }"},{type:"added",content:"      );"},{type:"added",content:"    };"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:3,lines:4},added:{start:3,lines:15}}}]},sha:"730c27eca78f16c08e8fcc334e198ff9d51b95d7",message:"Step 14.2: Add invite method to the client",stepNumber:"14.2",summary:"Add invite method to the client"},14.3:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"context",content:"  Users to invite:"},{type:"context",content:'  <li ng-repeat="user in users | uninvited:party">'},{type:"context",content:"    <div>{{ user | displayName }}</div>"},{type:"added",content:'    <button ng-click="invite(user)">Invite</button>'},{type:"context",content:"  </li>"},{type:"context",content:"</ul>"}],lineNumbers:{removed:{start:9,lines:5},added:{start:9,lines:6}}}]},sha:"e0a00756e87e4967365b75fd240882e491e55311",message:"Step 14.3: Add invite button to the view",stepNumber:"14.3",summary:"Add invite button to the view"},14.4:{files:{"server/parties.js":[{lines:[{type:"context",content:"      {$and:["},{type:"context",content:"        {owner: this.userId},"},{type:"context",content:"        {owner: {$exists: true}}"},{type:"added",content:"      ]},"},{type:"added",content:"      {$and:["},{type:"added",content:"        {invited: this.userId},"},{type:"added",content:"        {invited: {$exists: true}}"},{type:"context",content:"      ]}"},{type:"context",content:"    ]}), { noReady: true });"},{type:"context",content:""}],lineNumbers:{removed:{start:12,lines:6},added:{start:12,lines:10}}},{lines:[{type:"context",content:"      {$and:["},{type:"context",content:"        {owner: this.userId},"},{type:"context",content:"        {owner: {$exists: true}}"},{type:"added",content:"      ]},"},{type:"added",content:"      {$and:["},{type:"added",content:"        {invited: this.userId},"},{type:"added",content:"        {invited: {$exists: true}}"},{type:"context",content:"      ]}"},{type:"context",content:"    ]}, options);"},{type:"context",content:"});"}],lineNumbers:{removed:{start:25,lines:6},added:{start:29,lines:10}}}]},sha:"659d04152e5a7ab78d5a2a181650a78de25c493a",message:"Step 14.4: Add invited logic to the publish",stepNumber:"14.4",summary:"Add invited logic to the publish"},14.5:{files:{"model/parties.js":[{lines:[{type:"context",content:"        });"},{type:"context",content:"      }"},{type:"context",content:"    }"},{type:"added",content:"  },"},{type:"added",content:"  rsvp: function (partyId, rsvp) {"},{type:"added",content:"    check(partyId, String);"},{type:"added",content:"    check(rsvp, String);"},{type:"added",content:"    if (! this.userId)"},{type:"added",content:'      throw new Meteor.Error(403, "You must be logged in to RSVP");'},{type:"added",content:"    if (! _.contains(['yes', 'no', 'maybe'], rsvp))"},{type:"added",content:'      throw new Meteor.Error(400, "Invalid RSVP");'},{type:"added",content:"    var party = Parties.findOne(partyId);"},{type:"added",content:"    if (! party)"},{type:"added",content:'      throw new Meteor.Error(404, "No such party");'},{type:"added",content:"    if (! party.public && party.owner !== this.userId &&"},{type:"added",content:"      !_.contains(party.invited, this.userId))"},{type:"added",content:"    // private, but let's not tell this to the user"},{type:"added",content:'      throw new Meteor.Error(403, "No such party");'},{type:"added",content:""},{type:"added",content:"    var rsvpIndex = _.indexOf(_.pluck(party.rsvps, 'user'), this.userId);"},{type:"added",content:"    if (rsvpIndex !== -1) {"},{type:"added",content:"      // update existing rsvp entry"},{type:"added",content:""},{type:"added",content:"      if (Meteor.isServer) {"},{type:"added",content:"        // update the appropriate rsvp entry with $"},{type:"added",content:"        Parties.update("},{type:"added",content:'          {_id: partyId, "rsvps.user": this.userId},'},{type:"added",content:'          {$set: {"rsvps.$.rsvp": rsvp}});'},{type:"added",content:"      } else {"},{type:"added",content:"        // minimongo doesn't yet support $ in modifier. as a temporary"},{type:"added",content:"        // workaround, make a modifier that uses an index. this is"},{type:"added",content:"        // safe on the client since there's only one thread."},{type:"added",content:"        var modifier = {$set: {}};"},{type:"added",content:'        modifier.$set["rsvps." + rsvpIndex + ".rsvp"] = rsvp;'},{type:"added",content:"        Parties.update(partyId, modifier);"},{type:"added",content:"      }"},{type:"added",content:"      // Possible improvement: send email to the other people that are"},{type:"added",content:"      // coming to the party."},{type:"added",content:"    } else {"},{type:"added",content:"      // add new rsvp entry"},{type:"added",content:"      Parties.update(partyId,"},{type:"added",content:"        {$push: {rsvps: {user: this.userId, rsvp: rsvp}}});"},{type:"added",content:"    }"},{type:"context",content:"  }"},{type:"context",content:"});"},{type:"context",content:""}],lineNumbers:{removed:{start:45,lines:6},added:{start:45,lines:46}}}]},sha:"351afed19208358d6a2d1eeb0a45733a4caa9d28",message:"Step 14.5: Add RSVP function to the server",stepNumber:"14.5",
summary:"Add RSVP function to the server"},14.6:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"        $scope.sort = {name: parseInt($scope.orderProperty)};"},{type:"context",content:"    });"},{type:"context",content:""},{type:"added",content:"    $scope.rsvp = function(partyId, rsvp){"},{type:"added",content:"      $meteor.call('rsvp', partyId, rsvp).then("},{type:"added",content:"        function(data){"},{type:"added",content:"          console.log('success responding', data);"},{type:"added",content:"        },"},{type:"added",content:"        function(err){"},{type:"added",content:"          console.log('failed', err);"},{type:"added",content:"        }"},{type:"added",content:"      );"},{type:"added",content:"    };"},{type:"added",content:""},{type:"context",content:"    $scope.getUserById = function(userId){"},{type:"context",content:"      return Meteor.users.findOne(userId);"},{type:"context",content:"    };"}],lineNumbers:{removed:{start:41,lines:6},added:{start:41,lines:17}}}]},sha:"093aeef78d9f8948b22d60a51872002c6e119467",message:"Step 14.6: Add RSVP function to the client",stepNumber:"14.6",summary:"Add RSVP function to the client"},14.7:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'    <a href="/parties/{{party._id}}">{{party.name}}</a>'},{type:"context",content:"    <p>{{party.description}}</p>"},{type:"context",content:'    <button ng-click="remove(party)">X</button>'},{type:"added",content:""},{type:"added",content:"    <div>"},{type:"added",content:'      <input type="button" value="I\'m going!" ng-click="rsvp(party._id, \'yes\')">'},{type:"added",content:'      <input type="button" value="Maybe" ng-click="rsvp(party._id, \'maybe\')">'},{type:"added",content:'      <input type="button" value="No" ng-click="rsvp(party._id, \'no\')">'},{type:"added",content:"    </div>"},{type:"added",content:""},{type:"context",content:"    <p><small>Posted by {{ creator(party) | displayName }}</small></p>"},{type:"context",content:"  </li>"},{type:"context",content:"</ul>"}],lineNumbers:{removed:{start:21,lines:6},added:{start:21,lines:13}}}]},sha:"e67719681e44752b5e482682b1a66852c5173414",message:"Step 14.7: Add RSVP control to the view",stepNumber:"14.7",summary:"Add RSVP control to the view"},14.8:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'      <input type="button" value="Maybe" ng-click="rsvp(party._id, \'maybe\')">'},{type:"context",content:'      <input type="button" value="No" ng-click="rsvp(party._id, \'no\')">'},{type:"context",content:"    </div>"},{type:"added",content:"    <div>"},{type:"added",content:"      Who is coming:"},{type:"added",content:"      Yes - {{ (party.rsvps | filter:{rsvp:'yes'}).length }}"},{type:"added",content:"      Maybe - {{ (party.rsvps | filter:{rsvp:'maybe'}).length }}"},{type:"added",content:"      No - {{ (party.rsvps | filter:{rsvp:'no'}).length }}"},{type:"added",content:"      <div ng-repeat=\"rsvp in party.rsvps | filter:{rsvp:'yes'}\">"},{type:"added",content:"        {{ getUserById(rsvp.user) | displayName }} - {{ rsvp.rsvp }}"},{type:"added",content:"      </div>"},{type:"added",content:"      <div ng-repeat=\"rsvp in party.rsvps | filter:{rsvp:'maybe'}\">"},{type:"added",content:"        {{ getUserById(rsvp.user) | displayName }} - {{ rsvp.rsvp }}"},{type:"added",content:"      </div>"},{type:"added",content:"      <div ng-repeat=\"rsvp in party.rsvps | filter:{rsvp:'no'}\">"},{type:"added",content:"        {{ getUserById(rsvp.user) | displayName }} - {{ rsvp.rsvp }}"},{type:"added",content:"      </div>"},{type:"added",content:"    </div>"},{type:"context",content:""},{type:"context",content:"    <p><small>Posted by {{ creator(party) | displayName }}</small></p>"},{type:"context",content:"  </li>"}],lineNumbers:{removed:{start:27,lines:6},added:{start:27,lines:21}}}]},sha:"aa4e0a50f62bc52691433c2cb3ea1f12dc774910",message:"Step 14.8: Add RSVP list to the view",stepNumber:"14.8",summary:"Add RSVP list to the view"},14.9:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:"      </div>"},{type:"context",content:"    </div>"},{type:"context",content:""},{type:"added",content:"    <ul>"},{type:"added",content:"      Users who not responded:"},{type:"added",content:'      <li ng-repeat="invitedUser in outstandingInvitations(party)">'},{type:"added",content:"        {{dstache}} invitedUser | displayName }}"},{type:"added",content:"      </li>"},{type:"added",content:"    </ul>"},{type:"added",content:""},{type:"context",content:"    <p><small>Posted by {{ creator(party) | displayName }}</small></p>"},{type:"context",content:"  </li>"},{type:"context",content:"</ul>"}],lineNumbers:{removed:{start:43,lines:6},added:{start:43,lines:13}}}]},sha:"302f422ee9ca95b092aaa97b8142746b0c46ab9f",message:"Step 14.9: Add RSVP list to the view of users who not responded",stepNumber:"14.9",summary:"Add RSVP list to the view of users who not responded"},"14.10":{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"      );"},{type:"context",content:"    };"},{type:"context",content:""},{type:"added",content:"    $scope.outstandingInvitations = function (party) {"},{type:"added",content:"      return _.filter($scope.users, function (user) {"},{type:"added",content:"        return (_.contains(party.invited, user._id) &&"},{type:"added",content:"        !_.findWhere(party.rsvps, {user: user._id}));"},{type:"added",content:"      });"},{type:"added",content:"    };"},{type:"added",content:""},{type:"context",content:"    $scope.getUserById = function(userId){"},{type:"context",content:"      return Meteor.users.findOne(userId);"},{type:"context",content:"    };"}],lineNumbers:{removed:{start:52,lines:6},added:{start:52,lines:13}}}]},sha:"6d31a69795ac254d90c4f814c76de0df900b35e5",message:"Step 14.10: Added logic to the controller",stepNumber:"14.10",summary:"Added logic to the controller"},14.11:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"    $scope.sort = { name: 1 };"},{type:"context",content:"    $scope.orderProperty = '1';"},{type:"context",content:""},{type:"removed",content:"    $scope.$meteorSubscribe('users');"},{type:"added",content:"    $scope.users = $meteor.collection(Meteor.users, false).subscribe('users');"},{type:"context",content:""},{type:"context",content:"    $scope.parties = $meteor.collection(function() {"},{type:"context",content:"      return Parties.find({}, {"}],lineNumbers:{removed:{start:6,lines:7},added:{start:6,lines:7}}}]},sha:"ec82ab47fcf59ca7fde2c325001a7e6444ba9d46",message:"Step 14.11: Add users collection",stepNumber:"14.11",summary:"Add users collection"},15.1:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"removed",content:"<form>"},{type:"added",content:'<form ng-show="$root.currentUser">'},{type:"context",content:"  <label>Name</label>"},{type:"context",content:'  <input ng-model="newParty.name">'},{type:"context",content:"  <label>Description</label>"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}}]},sha:"10adbc07159fe99f6c3eb0f2a35c3729fce20a2e",message:"Step 15.1: Add ng-show to the directive",stepNumber:"15.1",summary:"Add ng-show to the directive"},15.2:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'  <button ng-click="newParty.owner=$root.currentUser._id; parties.push(newParty)">Add</button>'},{type:"context",content:'  <button ng-click="removeAll()">Remove All</button>'},{type:"context",content:"</form>"},{type:"added",content:'<div ng-hide="$root.currentUser || $root.loggingIn">'},{type:"added",content:"  Log in to create a party!"},{type:"added",content:"</div>"},{type:"context",content:"<ul>"},{type:"context",content:"  <h1>Parties:</h1>"},{type:"context",content:"  <div>"}],lineNumbers:{removed:{start:8,lines:6},added:{start:8,lines:9}}}]},sha:"dd6757344554767c92e2b12006b27f3ec685bcb5",message:"Step 15.2: Add message to users that not logged in",stepNumber:"15.2",summary:"Add message to users that not logged in"},15.3:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:"    <p>{{party.description}}</p>"},{type:"context",content:'    <button ng-click="remove(party)">X</button>'},{type:"context",content:""},{type:"removed",content:"    <div>"},{type:"added",content:'    <div ng-show="$root.currentUser">'},{type:"context",content:'      <input type="button" value="I\'m going!" ng-click="rsvp(party._id, \'yes\')">'},{type:"context",content:'      <input type="button" value="Maybe" ng-click="rsvp(party._id, \'maybe\')">'},{type:"context",content:'      <input type="button" value="No" ng-click="rsvp(party._id, \'no\')">'}],lineNumbers:{removed:{start:25,lines:7},added:{start:25,lines:7}}}]},sha:"342d9028fea65290541d2d2d8f739db6f42162e7",message:"Step 15.3: Add ng-show to the RSVP buttons",stepNumber:"15.3",summary:"Add ng-show to the RSVP buttons"},15.4:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'      <input type="button" value="Maybe" ng-click="rsvp(party._id, \'maybe\')">'},{type:"context",content:'      <input type="button" value="No" ng-click="rsvp(party._id, \'no\')">'},{type:"context",content:"    </div>"},{type:"added",content:'    <div ng-hide="$root.currentUser">'},{type:"added",content:"      <i>Sign in to RSVP for this party.</i>"},{type:"added",content:"    </div>"},{type:"added",content:""},{type:"context",content:"    <div>"},{type:"context",content:"      Who is coming:"},{type:"context",content:"      Yes - {{ (party.rsvps | filter:{rsvp:'yes'}).length }}"}],lineNumbers:{removed:{start:30,lines:6},added:{start:30,lines:10}}}]},sha:"42d2b1ede34c0ef8cfa78d9972d3fbbb677832ca",message:"Step 15.4: Add message for not-logged in users on the RSVP buttons",stepNumber:"15.4",summary:"Add message for not-logged in users on the RSVP buttons"},15.5:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'  <li dir-paginate="party in parties | itemsPerPage: perPage" total-items="partiesCount.count">'},{type:"context",content:'    <a href="/parties/{{party._id}}">{{party.name}}</a>'},{type:"context",content:"    <p>{{party.description}}</p>"},{type:"removed",content:'    <button ng-click="remove(party)">X</button>'},{type:"added",content:'    <button ng-click="remove(party)" ng-show="$root.currentUser && $root.currentUser._id == party.owner">X</button>'},{type:"context",content:""},{type:"context",content:'    <div ng-show="$root.currentUser">'},{type:"context",content:'      <input type="button" value="I\'m going!" ng-click="rsvp(party._id, \'yes\')">'}],lineNumbers:{removed:{start:23,lines:7},added:{start:23,lines:7}}}]},sha:"1b18b4723481bf2d354a7d06047291868c314389",message:"Step 15.5: Add ng-show to delete button",stepNumber:"15.5",summary:"Add ng-show to delete button"},15.6:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:"      </div>"},{type:"context",content:"    </div>"},{type:"context",content:""},{type:"removed",content:"    <ul>"},{type:"added",content:'    <ul ng-if="!party.public">'},{type:"context",content:"      Users who not responded:"},{type:"context",content:'      <li ng-repeat="invitedUser in outstandingInvitations(party)">'},{type:"context",content:"        {{dstache}} invitedUser | displayName }}"},{type:"context",content:"      </li>"},{type:"context",content:"    </ul>"},{type:"added",content:'    <div ng-if="party.public">'},{type:"added",content:"      Everyone is invited"},{type:"added",content:"    </div>"},{type:"context",content:""},{type:"context",content:"    <p><small>Posted by {{ creator(party) | displayName }}</small></p>"},{type:"context",content:"  </li>"}],lineNumbers:{removed:{start:50,lines:12},added:{start:50,lines:15}}}]},sha:"4e82eeff6b7687c892e4ab3a20f856de014a8800",message:"Step 15.6: Add ng-if to outstanding RSVP",stepNumber:"15.6",summary:"Add ng-if to outstanding RSVP"},15.7:{files:{"client/parties/controllers/partyDetails.js":[{lines:[{type:"context",content:"        }"},{type:"context",content:"      );"},{type:"context",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.canInvite = function (){"},{type:"added",content:"      if (!$scope.party)"},{type:"added",content:"        return false;"},{type:"added",content:""},{type:"added",content:"      return !$scope.party.public &&"},{type:"added",content:"        $scope.party.owner === Meteor.userId();"},{type:"added",content:"    };"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:14,lines:4},added:{start:14,lines:12}}}]},sha:"4c4b799735b96c675bcb658610268ece87fed432",message:"Step 15.7: Add canInvite logic",stepNumber:"15.7",summary:"Add canInvite logic"},15.8:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"context",content:"<label>Is public</label>"},{type:"context",content:'<input type="checkbox" ng-model="party.public">'},{type:"context",content:""},{type:"removed",content:"<ul>"},{type:"added",content:'<ul ng-show="canInvite()">'},{type:"context",content:"  Users to invite:"},{type:"context",content:'  <li ng-repeat="user in users | uninvited:party">'},{type:"context",content:"    <div>{{ user | displayName }}</div>"},{type:"context",content:'    <button ng-click="invite(user)">Invite</button>'},{type:"context",content:"  </li>"},{type:"added",content:'  <li ng-if="(users | uninvited:party).length <= 0">'},{type:"added",content:"    Everyone are already invited."},{type:"added",content:"  </li>"},{type:"context",content:"</ul>"}],lineNumbers:{removed:{start:5,lines:10},added:{start:5,lines:13}}}]},sha:"6ea5aae18ac1945174f9c280d51ab6562f854c97",message:"Step 15.8: Add usage for ng-show with canInvite",stepNumber:"15.8",summary:"Add usage for ng-show with canInvite"},15.9:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"context",content:"Here you will see and change the details of the party:"},{type:"context",content:""},{type:"removed",content:'<input ng-model="party.name">'},{type:"removed",content:'<input ng-model="party.description">'},{type:"added",content:'<input ng-model="party.name" ng-disabled="party.owner != $root.currentUser._id">'},{type:"added",content:'<input ng-model="party.description" ng-disabled="party.owner != $root.currentUser._id">'},{type:"context",content:"<label>Is public</label>"},{type:"removed",content:'<input type="checkbox" ng-model="party.public">'},{type:"added",content:'<input type="checkbox" ng-model="party.public" ng-disabled="party.owner != $root.currentUser._id">'},{type:"context",content:""},{type:"context",content:'<ul ng-show="canInvite()">'},{type:"context",content:"  Users to invite:"}],lineNumbers:{removed:{start:1,lines:9},added:{start:1,lines:9}}}]},sha:"853709f2e1dec49c13af6b35c5ed57ff4c46d57c",message:"Step 15.9: Example of ng-disabled",stepNumber:"15.9",summary:"Example of ng-disabled"},16.1:{files:{"client/lib/app.js":[{lines:[{type:"removed",content:"angular.module('socially',['angular-meteor', 'ui.router', 'angularUtils.directives.dirPagination']);"},{type:"removed",content:""},{type:"added",content:"angular.module('socially',["},{type:"added",content:"  'angular-meteor',"},{type:"added",content:"  'ui.router',"},{type:"added",content:"  'angularUtils.directives.dirPagination',"},{type:"added",content:"  'uiGmapgoogle-maps'"},{type:"added",content:"]);"},{type:"context",content:"function onReady() {"},{type:"context",content:"  angular.bootstrap(document, ['socially']);"},{type:"context",content:"}"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:9}}}]},sha:"86a6e35af6ede583515df198965f028694b02d85",message:"Step 16.1: Add google maps module dependency",stepNumber:"16.1",summary:"Add google maps module dependency"},16.2:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"context",content:'  <li ng-if="(users | uninvited:party).length <= 0">'},{type:"context",content:"    Everyone are already invited."},{type:"context",content:"  </li>"},{type:"removed",content:"</ul>"},{type:"added",content:"</ul>"},{type:"added",content:""},{type:"added",content:'<div class="party-details-maps">'},{type:"added",content:'  <div class="angular-google-map-container">'},{type:"added",content:'    <ui-gmap-google-map center="party.location || map.center"'},{type:"added",content:'                        events="map.events" zoom="map.zoom">'},{type:"added",content:"    </ui-gmap-google-map>"},{type:"added",content:"  </div>"},{type:"added",content:"</div>"}],lineNumbers:{removed:{start:14,lines:4},added:{start:14,lines:12}}}]},sha:"e5d387c68f331e61962a2beb6c0c7288ca8fe2af",message:"Step 16.2: Add basic map to the view",stepNumber:"16.2",summary:"Add basic map to the view"},16.3:{files:{"client/parties/controllers/partyDetails.js":[{lines:[{type:"context",content:"      return !$scope.party.public &&"},{type:"context",content:"        $scope.party.owner === Meteor.userId();"},{type:"context",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.map = {"},{type:"added",content:"      center: {"},{type:"added",content:"        latitude: 45,"},{type:"added",content:"        longitude: -73"},{type:"added",content:"      },"},{type:"added",content:"      zoom: 8,"},{type:"added",content:"      events: {}"},{type:"added",content:"    };"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:22,lines:4},added:{start:22,lines:13}}}]},sha:"7b567cf5885ce1d39ea58b35887b137eae910474",message:"Step 16.3: Add map params to the controller",stepNumber:"16.3",summary:"Add map params to the controller"},16.4:{files:{"client/parties/styles/parties.css":[{lines:[{type:"added",content:".angular-google-map-container {"},{type:"added",content:"    height: 400px;"},{type:"added",content:"    width: 400px;"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:4}}}]},sha:"2e2936ac54fa299b2d68a4a8620d0b7f4d32bb9d",message:"Step 16.4: Create basic CSS style with google map style",stepNumber:"16.4",summary:"Create basic CSS style with google map style"},16.5:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"context",content:"  </li>"},{type:"context",content:"</ul>"},{type:"context",content:""},{type:"removed",content:'<div class="party-details-maps">'},{type:"removed",content:'  <div class="angular-google-map-container">'},{type:"removed",content:'    <ui-gmap-google-map center="party.location || map.center"'},{type:"removed",content:'                        events="map.events" zoom="map.zoom">'},{type:"removed",content:"    </ui-gmap-google-map>"},{type:"removed",content:"  </div>"},{type:"added",content:'<div class="angular-google-map-container">'},{type:"added",content:'  <ui-gmap-google-map center="party.location || map.center"'},{type:"added",content:'                      events="map.events" zoom="map.zoom">'},{type:"added",content:'    <ui-gmap-marker coords="party.location" options="map.marker.options"'},{type:"added",content:'                    events="map.marker.events" idkey="party._id">'},{type:"added",content:"    </ui-gmap-marker>"},{type:"added",content:"  </ui-gmap-google-map>"},{type:"context",content:"</div>"}],lineNumbers:{removed:{start:16,lines:10},added:{start:16,lines:11}}}]},sha:"0253eda09a5c549484d137a91f09c346978d1ad5",message:"Step 16.5: Add party marker to the map",stepNumber:"16.5",summary:"Add party marker to the map"},16.6:{files:{"client/parties/controllers/partyDetails.js":[{lines:[{type:"context",content:"        longitude: -73"},{type:"context",content:"      },"},{type:"context",content:"      zoom: 8,"},{type:"removed",content:"      events: {}"},{type:"added",content:"      events: {"},{type:"added",content:"        click: function (mapModel, eventName, originalEventArgs) {"},{type:"added",content:"          if (!$scope.party)"},{type:"added",content:"            return;"},{type:"added",content:""},{type:"added",content:"          if (!$scope.party.location)"},{type:"added",content:"            $scope.party.location = {};"},{type:"added",content:""},{type:"added",content:"          $scope.party.location.latitude = originalEventArgs[0].latLng.lat();"},{type:"added",content:"          $scope.party.location.longitude = originalEventArgs[0].latLng.lng();"},{type:"added",content:"          //scope apply required because this event handler is outside of the angular domain"},{type:"added",content:"          $scope.$apply();"},{type:"added",content:"        }"},{type:"added",content:"      },"},{type:"added",content:"      marker: {"},{type:"added",content:"        options: { draggable: true },"},{type:"added",content:"        events: {"},{type:"added",content:"          dragend: function (marker, eventName, args) {"},{type:"added",content:"            if (!$scope.party.location)"},{type:"added",content:"              $scope.party.location = {};"},{type:"added",content:""},{type:"added",content:"            $scope.party.location.latitude = marker.getPosition().lat();"},{type:"added",content:"            $scope.party.location.longitude = marker.getPosition().lng();"},{type:"added",content:"          }"},{type:"added",content:"        }"},{type:"added",content:"      }"},{type:"context",content:"    };"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:29,lines:6},added:{start:29,lines:31}}}]},sha:"21dc6b4dca5b3bd1fd72e742a049051eddf43f99",message:"Step 16.6: Add the marker creation logic to the controller",stepNumber:"16.6",summary:"Add the marker creation logic to the controller"},16.7:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'      <option value="-1">Descending</option>'},{type:"context",content:"    </select>"},{type:"context",content:"  </div>"},{type:"added",content:'  <div class="angular-google-map-container">'},{type:"added",content:'    <ui-gmap-google-map center="party.location || map.center" zoom="map.zoom">'},{type:"added",content:'      <ui-gmap-markers models="parties" coords="\'location\'" click="onClicked()"'},{type:"added",content:'                       fit="true" idkey="\'_id\'" doRebuildAll="true">'},{type:"added",content:"      </ui-gmap-markers>"},{type:"added",content:"    </ui-gmap-google-map>"},{type:"added",content:"  </div>"},{type:"context",content:'  <li dir-paginate="party in parties | itemsPerPage: perPage" total-items="partiesCount.count">'},{type:"context",content:'    <a href="/parties/{{party._id}}">{{party.name}}</a>'},{type:"context",content:"    <p>{{party.description}}</p>"}],lineNumbers:{removed:{start:20,lines:6},added:{start:20,lines:13}}}]},sha:"ad2704b928aabce31141fbb8dc630f98df526907",message:"Step 16.7: Add map to the parties list",stepNumber:"16.7",summary:"Add map to the parties list"},16.8:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"        sort: $scope.getReactively('sort')"},{type:"context",content:"      }, $scope.getReactively('search')).then(function() {"},{type:"context",content:"        $scope.partiesCount = $meteor.object(Counts ,'numberOfParties', false);"},{type:"added",content:""},{type:"added",content:"        $scope.parties.forEach( function (party) {"},{type:"added",content:"          party.onClicked = function () {"},{type:"added",content:"            $state.go('partyDetails', {partyId: party._id});"},{type:"added",content:"          };"},{type:"added",content:"        });"},{type:"added",content:""},{type:"added",content:"        $scope.map = {"},{type:"added",content:"          center: {"},{type:"added",content:"            latitude: 45,"},{type:"added",content:"            longitude: -73"},{type:"added",content:"          },"},{type:"added",content:"          zoom: 8"},{type:"added",content:"        };"},{type:"added",content:""},{type:"context",content:"      });"},{type:"context",content:"    });"},{type:"context",content:""}],lineNumbers:{removed:{start:21,lines:6},added:{start:21,lines:21}}}]},sha:"a6c023efc8bb60eff4fe19b527ae7696896d8dd1",message:"Step 16.8: Add map logic to the parties list controller",stepNumber:"16.8",summary:"Add map logic to the parties list controller"},17.1:{files:{"client/styles/main.css":[{lines:[{type:"added",content:"body {"},{type:"added",content:"    background-color: rgba(0,0,0,.04);"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:3}}}]},sha:"01208cac187d1624e86305a9f1acc5bef1ea6127",message:"Step 17.1: Add main CSS file",stepNumber:"17.1",summary:"Add main CSS file"},17.2:{files:{"client/index.html":[{lines:[{type:"context",content:"<body>"},{type:"context",content:""},{type:"context",content:"<div>"},{type:"removed",content:'  <meteor-include src="loginButtons"></meteor-include>'},{type:"removed",content:"  <h1>"},{type:"removed",content:'    <a href="/parties">Home</a>'},{type:"removed",content:"  </h1>"},{type:"removed",content:"  <div ui-view></div>"},{type:"added",content:'  <header class="navbar navbar-fixed-top">'},{type:"added",content:'    <div class="container-fluid">'},{type:"added",content:'      <div class="navbar-header">'},{type:"added",content:"        <h1>"},{type:"added",content:'          <a href="/parties">Home</a>'},{type:"added",content:"        </h1>"},{type:"added",content:"      </div>"},{type:"added",content:'      <meteor-include src="loginButtons"></meteor-include>'},{type:"added",content:"    </div>"},{type:"added",content:"  </header>"},{type:"added",content:'  <div ui-view class="container-fluid"></div>'},{type:"context",content:"</div>"},{type:"context",content:""},{type:"context",content:"</body>"}],lineNumbers:{removed:{start:4,lines:11},added:{start:4,lines:17}}}]},sha:"6aa6992bfe632f35a79d31eb087b4b52883241de",message:"Step 17.2: Add navbar and style to the login button",stepNumber:"17.2",summary:"Add navbar and style to the login button"},17.3:{files:{"client/styles/main.less":[{lines:[{type:"added",content:"body {"},{type:"added",content:"    background-color: rgba(0,0,0,.2);"},{type:"added",content:"    padding-top: 70px;"},{type:"added",content:""},{type:"added",content:"    .navbar {"},{type:"added",content:"        background-color: #ffffff;"},{type:"added",content:"    }"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:8}}}]},sha:"ec726798d600b9b7f51429f766ebededac457b1e",message:"Step 17.3: Basic usage of LESS",stepNumber:"17.3",summary:"Basic usage of LESS"},17.4:{files:{"client/styles/main.less":[{lines:[{type:"context",content:"    .navbar {"},{type:"context",content:"        background-color: #ffffff;"},{type:"context",content:"    }"},{type:"removed",content:"}"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:""},{type:"added",content:'@import "../parties/styles/parties.import.less";'}],lineNumbers:{removed:{start:5,lines:4},added:{start:5,lines:7}}}]},sha:"6b78747f1bce7ea8e33782e457cd5e256155d607",message:"Step 17.4: Add import to parties LESS file",stepNumber:"17.4",summary:"Add import to parties LESS file"},17.5:{files:{"client/index.html":[{lines:[{type:"context",content:"<head>"},{type:"added",content:'  <meta name="viewport" content="width=device-width, initial-scale=1">'},{type:"context",content:'  <base href="/">'},{type:"added",content:"  <link href='http://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>"},{type:"added",content:'  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">'},{type:"context",content:"</head>"},{type:"context",content:"<body>"},{type:"context",content:""},{type:"removed",content:"<div>"},{type:"removed",content:'  <header class="navbar navbar-fixed-top">'},{type:"removed",content:'    <div class="container-fluid">'},{type:"removed",content:'      <div class="navbar-header">'},{type:"removed",content:"        <h1>"},{type:"removed",content:'          <a href="/parties">Home</a>'},{type:"removed",content:"        </h1>"},{type:"removed",content:"      </div>"},{type:"added",content:'<nav class="navbar navbar-default navbar-fixed-top">'},{type:"added",content:'  <div class="container">'},{type:"added",content:'    <div class="navbar-header">'},{type:"added",content:'      <a class="navbar-brand" href="/">socially</a>'},{type:"added",content:"    </div>"},{type:"added",content:'    <div class="navbar-right-container">'},{type:"context",content:'      <meteor-include src="loginButtons"></meteor-include>'},{type:"context",content:"    </div>"},{type:"removed",content:"  </header>"},{type:"removed",content:'  <div ui-view class="container-fluid"></div>'},{type:"removed",content:"</div>"},{type:"added",content:"  </div>"},{type:"added",content:"</nav>"},{type:"context",content:""},{type:"added",content:'<div class="h100">'},{type:"added",content:'  <div ui-view class="ma-main-container container-fluid h100"></div>'},{type:"added",content:"</div>"},{type:"context",content:"</body>"}],lineNumbers:{removed:{start:1,lines:20},added:{start:1,lines:23}}}]},sha:"00a7dc6c96d2913d999cfc822cdcd1cce5894f07",message:"Step 17.5: Update the index.html style and tags",stepNumber:"17.5",summary:"Update the index.html style and tags"},17.6:{files:{"client/lib/app.js":[{lines:[{type:"context",content:"  'angular-meteor',"},{type:"context",content:"  'ui.router',"},{type:"context",content:"  'angularUtils.directives.dirPagination',"},{type:"removed",content:"  'uiGmapgoogle-maps'"},{type:"added",content:"  'uiGmapgoogle-maps',"},{type:"added",content:"  'ui.bootstrap'"},{type:"context",content:"]);"},{type:"context",content:"function onReady() {"},{type:"context",content:"  angular.bootstrap(document, ['socially']);"}],lineNumbers:{removed:{start:2,lines:7},added:{start:2,lines:8}}}]},sha:"4adae90db717be7597a0e60580a22a3ff127c309",message:"Step 17.6: Add dependency for ui-bootstrap",stepNumber:"17.6",summary:"Add dependency for ui-bootstrap"},17.7:{files:{"client/parties/controllers/addNewParty.js":[{lines:[{type:"added",content:"angular.module(\"socially\").controller(\"AddNewPartyCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$modalInstance', 'parties',"},{type:"added",content:"  function ($scope, $meteor, $rootScope, $state, $modalInstance, parties) {"},{type:"added",content:""},{type:"added",content:"    $scope.addNewParty = function () {"},{type:"added",content:"      $scope.newParty.owner = $rootScope.currentUser._id;"},{type:"added",content:"      parties.push($scope.newParty);"},{type:"added",content:"      $scope.newParty = '';"},{type:"added",content:"      $modalInstance.close();"},{type:"added",content:"    }"},{type:"added",content:"  }]);"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:10}}}]},sha:"4ff4614ebab5f5ffdfbb66b1255ab4bce201995e",message:"Step 17.7: Move the logic of add new party to separated controller",stepNumber:"17.7",summary:"Move the logic of add new party to separated controller"},17.8:{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"added",content:'<div class="container-fluid ma-add-new-party-container">'},{type:"added",content:'  <div class="alert alert-info" ng-hide="$root.currentUser || $root.loggingIn">'},{type:"added",content:"    Please log in to create a party!"},{type:"added",content:"  </div>"},{type:"added",content:""},{type:"added",content:'  <form ng-show="$root.currentUser || $root.loggingIn">'},{type:"added",content:"    <h2>Create a new party</h2>"},{type:"added",content:""},{type:"added",content:'    <div class="form-group">'},{type:"added",content:'      <label for="nameInput">Name</label>'},{type:"added",content:'      <input ng-model="newParty.name" id="nameInput" type="text" class="form-control">'},{type:"added",content:"    </div>"},{type:"added",content:'    <div class="form-group">'},{type:"added",content:'      <label for="description">Description</label>'},{type:"added",content:'      <input ng-model="newParty.description" id="description" type="text" class="form-control">'
},{type:"added",content:"    </div>"},{type:"added",content:'    <div class="form-group">'},{type:"added",content:'      <label for="public">'},{type:"added",content:'        <input type="checkbox" ng-model="newParty.public" id="public"> Public'},{type:"added",content:"      </label>"},{type:"added",content:"    </div>"},{type:"added",content:'    <button ng-click="addNewParty()" class="btn">Add</button>'},{type:"added",content:"  </form>"},{type:"added",content:"</div>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:24}}}]},sha:"ea85f27836e4518d125df4861f3dd64257abff14",message:"Step 17.8: Create the view of new party modal",stepNumber:"17.8",summary:"Create the view of new party modal"},17.9:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"removed",content:'<form ng-show="$root.currentUser">'},{type:"removed",content:"  <h2>Create a new party:</h2>"},{type:"removed",content:"  <label>Name</label>"},{type:"removed",content:'  <input ng-model="newParty.name">'},{type:"removed",content:"  <label>Description</label>"},{type:"removed",content:'  <input ng-model="newParty.description">'},{type:"removed",content:"  <label>Public</label>"},{type:"removed",content:'  <input type="checkbox" ng-model="newParty.public">'},{type:"removed",content:"  <button ng-click=\"newParty.owner=$root.currentUser._id;parties.push(newParty); newParty='';\">Add</button>"},{type:"removed",content:"</form>"},{type:"removed",content:'<div ng-hide="$root.currentUser || $root.loggingIn">'},{type:"removed",content:"  Log in to create a party!"},{type:"removed",content:"</div>"},{type:"removed",content:"<ul>"},{type:"removed",content:"  <h1>Parties:</h1>"},{type:"removed",content:"  <div>"},{type:"removed",content:'    <input type="search" ng-model="search" placeholder="Search">'},{type:"removed",content:'    <select ng-model="orderProperty">'},{type:"removed",content:'      <option value="1">Ascending</option>'},{type:"removed",content:'      <option value="-1">Descending</option>'},{type:"removed",content:"    </select>"},{type:"removed",content:"  </div>"},{type:"removed",content:'  <div class="angular-google-map-container">'},{type:"removed",content:'    <ui-gmap-google-map center="map.center" zoom="map.zoom">'},{type:"removed",content:'      <ui-gmap-markers models="parties" coords="\'location\'" click="onClicked()"'},{type:"removed",content:'                       fit="true" idkey="\'_id\'" doRebuildAll="true">'},{type:"removed",content:"      </ui-gmap-markers>"},{type:"removed",content:"    </ui-gmap-google-map>"},{type:"removed",content:"  </div>"},{type:"removed",content:'  <li dir-paginate="party in parties | itemsPerPage: perPage" total-items="partiesCount.count">'},{type:"removed",content:'    <a href="/parties/{{party._id}}">{{party.name}}</a>'},{type:"removed",content:"    <p>{{party.description}}</p>"},{type:"removed",content:'    <button ng-click="remove(party)" ng-show="$root.currentUser && $root.currentUser._id == party.owner">X</button>'},{type:"removed",content:""},{type:"removed",content:'    <div ng-show="$root.currentUser">'},{type:"removed",content:'      <input type="button" value="I\'m going!" ng-click="rsvp(party._id, \'yes\')">'},{type:"removed",content:'      <input type="button" value="Maybe" ng-click="rsvp(party._id, \'maybe\')">'},{type:"removed",content:'      <input type="button" value="No" ng-click="rsvp(party._id, \'no\')">'},{type:"removed",content:"    </div>"},{type:"removed",content:'    <div ng-hide="$root.currentUser">'},{type:"removed",content:"      <i>Sign in to RSVP for this party.</i>"},{type:"removed",content:"    </div>"},{type:"added",content:'<div class="row h100">'},{type:"added",content:'  <div class="col-md-6 ma-parties-col">'},{type:"added",content:'    <div class="row">'},{type:"added",content:'      <div class="col-xs-8">'},{type:"added",content:'        <form class="form-inline search-form">'},{type:"added",content:'          <div class="form-group">'},{type:"added",content:'            <label class="sr-only" for="search">Search</label>'},{type:"context",content:""},{type:"removed",content:"    <div>"},{type:"removed",content:"      Who is coming:"},{type:"removed",content:"      Yes - {{ (party.rsvps | filter:{rsvp:'yes'}).length }}"},{type:"removed",content:"      Maybe - {{ (party.rsvps | filter:{rsvp:'maybe'}).length }}"},{type:"removed",content:"      No - {{ (party.rsvps | filter:{rsvp:'no'}).length }}"},{type:"removed",content:"      <div ng-repeat=\"rsvp in party.rsvps | filter:{rsvp:'yes'}\">"},{type:"removed",content:"        {{ getUserById(rsvp.user) | displayName }} - {{ rsvp.rsvp }}"},{type:"removed",content:"      </div>"},{type:"removed",content:"      <div ng-repeat=\"rsvp in party.rsvps | filter:{rsvp:'maybe'}\">"},{type:"removed",content:"        {{ getUserById(rsvp.user) | displayName }} - {{ rsvp.rsvp }}"},{type:"added",content:'            <div class="input-group">'},{type:"added",content:'              <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div>'},{type:"added",content:'              <input type="text" ng-model="search" placeholder="Search" id="search" class="form-control">'},{type:"added",content:"            </div>"},{type:"added",content:"          </div>"},{type:"added",content:'          <div class="form-group">'},{type:"added",content:'            <label class="sr-only" for="sort-order">Sort Order</label>'},{type:"added",content:'            <select ng-model="orderProperty" class="form-control">'},{type:"added",content:'              <option value="1">Ascending</option>'},{type:"added",content:'              <option value="-1">Descending</option>'},{type:"added",content:"            </select>"},{type:"added",content:"          </div>"},{type:"added",content:"        </form>"},{type:"context",content:"      </div>"},{type:"removed",content:"      <div ng-repeat=\"rsvp in party.rsvps | filter:{rsvp:'no'}\">"},{type:"removed",content:"        {{ getUserById(rsvp.user) | displayName }} - {{ rsvp.rsvp }}"},{type:"added",content:'      <div class="col-xs-4 ma-add-button-container">'},{type:"added",content:'        <button class="btn" ng-click="openAddNewPartyModal()"><i class="fa fa-plus"></i></button>'},{type:"context",content:"      </div>"},{type:"context",content:"    </div>"},{type:"removed",content:'    <ul ng-if="!party.public">'},{type:"removed",content:"      Users who not responded:"},{type:"removed",content:'      <li ng-repeat="invitedUser in outstandingInvitations(party)">'},{type:"removed",content:"        {{ invitedUser | displayName }}"},{type:"added",content:'    <ul class="list-group">'},{type:"added",content:'      <li dir-paginate="party in parties | itemsPerPage: perPage" total-items="partiesCount.count"'},{type:"added",content:'          class="list-group-item ma-party-item">'},{type:"added",content:""},{type:"added",content:'        <i ng-click="remove(party)" class="ma-remove fa fa-times"'},{type:"added",content:'           ng-show="$root.currentUser && $root.currentUser._id == party.owner"></i>'},{type:"added",content:""},{type:"added",content:""},{type:"added",content:'        <div class="row">'},{type:"added",content:'          <div class="col-sm-8">'},{type:"added",content:'            <h2 class="ma-party-name"><a href="/parties/{{party._id}}">{{party.name}}</a></h2>'},{type:"added",content:""},{type:"added",content:'            <p class="ma-party-description">{{party.description}}</p>'},{type:"added",content:"          </div>"},{type:"added",content:"        </div>"},{type:"added",content:""},{type:"added",content:'        <div class="row ma-party-item-bottom">'},{type:"added",content:'          <div class="col-sm-8 ma-posted-by-col">'},{type:"added",content:'            <span class="ma-posted-by">Posted by {{ creator(party) | displayName }}  </span>'},{type:"added",content:""},{type:"added",content:'            <span ng-if="party.public" class="ma-everyone-invited"><i class="fa fa-male"></i> Everyone is invited</span>'},{type:"added",content:""},{type:"added",content:'                        <span ng-if="!party.public" class="ma-everyone-invited">'},{type:"added",content:'                             <i class="fa fa-user-secret"></i>  This is a private event'},{type:"added",content:"                        </span>"},{type:"added",content:""},{type:"added",content:'            <div ng-show="$root.currentUser" class="ma-rsvp-buttons">'},{type:"added",content:'              <input type="button" value="I\'m going!" ng-click="rsvp(party._id, \'yes\')" class="btn"'},{type:"added",content:"                     ng-class=\"{'btn-primary' : isRSVP('yes', party)}\">"},{type:"added",content:'              <input type="button" value="Maybe" ng-click="rsvp(party._id, \'maybe\')" class="btn"'},{type:"added",content:"                     ng-class=\"{'btn-primary' : isRSVP('maybe', party)}\">"},{type:"added",content:'              <input type="button" value="No" ng-click="rsvp(party._id, \'no\')" class="btn"'},{type:"added",content:"                     ng-class=\"{'btn-primary' : isRSVP('no', party)}\">"},{type:"added",content:"            </div>"},{type:"added",content:'            <div ng-hide="$root.currentUser">'},{type:"added",content:"              <i>Sign in to RSVP for this party.</i>"},{type:"added",content:"            </div>"},{type:"added",content:""},{type:"added",content:""},{type:"added",content:"          </div>"},{type:"added",content:'          <div class="col-sm-4">'},{type:"added",content:'            <div class="ma-rsvp-sum">'},{type:"added",content:'              <div class="ma-rsvp-amount">'},{type:"added",content:'                <div class="ma-amount">'},{type:"added",content:"                  {{ (party.rsvps | filter:{rsvp:'yes'}).length || \"0\"}}"},{type:"added",content:"                </div>"},{type:"added",content:'                <div class="ma-rsvp-title">'},{type:"added",content:"                  YES"},{type:"added",content:"                </div>"},{type:"added",content:"              </div>"},{type:"added",content:'              <div class="ma-rsvp-amount">'},{type:"added",content:'                <div class="ma-amount">'},{type:"added",content:"                  {{ (party.rsvps | filter:{rsvp:'maybe'}).length || \"0\"}}"},{type:"added",content:"                </div>"},{type:"added",content:'                <div class="ma-rsvp-title">'},{type:"added",content:"                  MAYBE"},{type:"added",content:"                </div>"},{type:"added",content:"              </div>"},{type:"added",content:'              <div class="ma-rsvp-amount">'},{type:"added",content:'                <div class="ma-amount">'},{type:"added",content:"                  {{ (party.rsvps | filter:{rsvp:'no'}).length || \"0\"}}"},{type:"added",content:"                </div>"},{type:"added",content:'                <div class="ma-rsvp-title">'},{type:"added",content:"                  NO"},{type:"added",content:"                </div>"},{type:"added",content:"              </div>"},{type:"added",content:"            </div>"},{type:"added",content:""},{type:"added",content:'            <ul ng-if="!party.public">'},{type:"added",content:'              <li ng-repeat="invitedUser in outstandingInvitations(party)">'},{type:"added",content:"                {{ invitedUser | displayName }}"},{type:"added",content:"              </li>"},{type:"added",content:"            </ul>"},{type:"added",content:""},{type:"added",content:"          </div>"},{type:"added",content:"        </div>"},{type:"added",content:""},{type:"context",content:"      </li>"},{type:"context",content:"    </ul>"},{type:"removed",content:'    <div ng-if="party.public">'},{type:"removed",content:"      Everyone is invited"},{type:"removed",content:"    </div>"},{type:"added",content:'    <dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>'},{type:"context",content:""},{type:"removed",content:"    <p><small>Posted by {{ creator(party) | displayName }}</small></p>"},{type:"removed",content:"  </li>"},{type:"removed",content:"</ul>"},{type:"removed",content:'<dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>'},{type:"added",content:"  </div>"},{type:"added",content:'  <div class="col-md-6 h100 ma-angular-map-col">'},{type:"added",content:'    <div class="angular-google-map-container h100">'},{type:"added",content:'      <ui-gmap-google-map center="map.center" zoom="map.zoom" options="map.options">'},{type:"added",content:'        <ui-gmap-markers models="parties" coords="\'location\'" click="onClicked()"'},{type:"added",content:'                         fit="true" idkey="\'_id\'" doRebuildAll="true">'},{type:"added",content:"        </ui-gmap-markers>"},{type:"added",content:"      </ui-gmap-google-map>"},{type:"added",content:"    </div>"},{type:"added",content:"  </div>"},{type:"added",content:"</div>"}],lineNumbers:{removed:{start:1,lines:72},added:{start:1,lines:118}}}]},sha:"b756efba46e647206ea5ba5aa4bd3247cb9ed24b",message:"Step 17.9: Update the parties list HTML",stepNumber:"17.9",summary:"Update the parties list HTML"},"17.10":{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"removed",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor', '$rootScope', '$state',"},{type:"removed",content:"  function($scope, $meteor, $rootScope, $state){"},{type:"added",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$modal',"},{type:"added",content:"  function($scope, $meteor, $rootScope, $state, $modal){"},{type:"context",content:""},{type:"context",content:"    $scope.page = 1;"},{type:"context",content:"    $scope.perPage = 3;"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:5}}},{lines:[{type:"context",content:"          };"},{type:"context",content:"        });"},{type:"context",content:""},{type:"added",content:"        var styles1 = [{"},{type:"added",content:'          "featureType": "landscape.natural",'},{type:"added",content:'          "elementType": "geometry.fill",'},{type:"added",content:'          "stylers": [{"visibility": "on"}, {"color": "#e0efef"}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "poi",'},{type:"added",content:'          "elementType": "geometry.fill",'},{type:"added",content:'          "stylers": [{"visibility": "on"}, {"hue": "#1900ff"}, {"color": "#c0e8e8"}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "road",'},{type:"added",content:'          "elementType": "geometry",'},{type:"added",content:'          "stylers": [{"lightness": 100}, {"visibility": "simplified"}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "road",'},{type:"added",content:'          "elementType": "labels",'},{type:"added",content:'          "stylers": [{"visibility": "off"}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "transit.line",'},{type:"added",content:'          "elementType": "geometry",'},{type:"added",content:'          "stylers": [{"visibility": "on"}, {"lightness": 700}]'},{type:"added",content:'        }, {"featureType": "water", "elementType": "all", "stylers": [{"color": "#7dcdcd"}]}];'},{type:"added",content:"        var styles2 = [{"},{type:"added",content:'          "featureType": "administrative",'},{type:"added",content:'          "elementType": "labels.text.fill",'},{type:"added",content:'          "stylers": [{"color": "#444444"}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "landscape",'},{type:"added",content:'          "elementType": "all",'},{type:"added",content:'          "stylers": [{"color": "#f2f2f2"}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "poi",'},{type:"added",content:'          "elementType": "all",'},{type:"added",content:'          "stylers": [{"visibility": "off"}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "road",'},{type:"added",content:'          "elementType": "all",'},{type:"added",content:'          "stylers": [{"saturation": -100}, {"lightness": 45}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "road.highway",'},{type:"added",content:'          "elementType": "all",'},{type:"added",content:'          "stylers": [{"visibility": "simplified"}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "road.arterial",'},{type:"added",content:'          "elementType": "labels.icon",'},{type:"added",content:'          "stylers": [{"visibility": "off"}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "transit",'},{type:"added",content:'          "elementType": "all",'},{type:"added",content:'          "stylers": [{"visibility": "off"}]'},{type:"added",content:"        }, {"},{type:"added",content:'          "featureType": "water",'},{type:"added",content:'          "elementType": "all",'},{type:"added",content:'          "stylers": [{"color": "#46bcec"}, {"visibility": "on"}]'},{type:"added",content:"        }];"},{type:"added",content:""},{type:"added",content:""},{type:"context",content:"        $scope.map = {"},{type:"context",content:"          center: {"},{type:"context",content:"            latitude: 45,"},{type:"context",content:"            longitude: -73"},{type:"context",content:"          },"},{type:"added",content:"          options: {"},{type:"added",content:"            styles: styles2,"},{type:"added",content:"            maxZoom: 10"},{type:"added",content:"          },"},{type:"context",content:"          zoom: 8"},{type:"context",content:"        };"},{type:"context",content:"      });"}],lineNumbers:{removed:{start:28,lines:11},added:{start:28,lines:71}}},{lines:[{type:"context",content:"        }"},{type:"context",content:"      );"},{type:"context",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.openAddNewPartyModal = function () {"},{type:"added",content:"      var modalInstance = $modal.open({"},{type:"added",content:"        animation: true,"},{type:"added",content:"        templateUrl: 'client/parties/views/add-new-party-modal.ng.html',"},{type:"added",content:"        controller: 'AddNewPartyCtrl',"},{type:"added",content:"        resolve: {"},{type:"added",content:"          parties: function () {"},{type:"added",content:"            return $scope.parties;"},{type:"added",content:"          }"},{type:"added",content:"        }"},{type:"added",content:"      });"},{type:"added",content:""},{type:"added",content:"      modalInstance.result.then(function () {"},{type:"added",content:"      }, function () {"},{type:"added",content:"      });"},{type:"added",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.isRSVP = function (rsvp, party) {"},{type:"added",content:"      if (!$rootScope.currentUser._id) return false;"},{type:"added",content:"      var rsvpIndex = party.myRsvpIndex;"},{type:"added",content:"      rsvpIndex = rsvpIndex || _.indexOf(_.pluck(party.rsvps, 'user'), $rootScope.currentUser._id);"},{type:"added",content:""},{type:"added",content:"      if (rsvpIndex !== -1) {"},{type:"added",content:"        party.myRsvpIndex = rsvpIndex;"},{type:"added",content:"        return party.rsvps[rsvpIndex].rsvp === rsvp;"},{type:"added",content:"      }"},{type:"added",content:"    }"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:80,lines:4},added:{start:140,lines:32}}}]},sha:"e9361bbb6443900273086408aac92304dcf67069",message:"Step 17.10: Update the logic of the parties list",stepNumber:"17.10",summary:"Update the logic of the parties list"},17.11:{files:{"client/styles/main.less":[{lines:[{type:"added",content:"@color1 : #2F2933;"},{type:"added",content:"@color2 : #01A2A6;"},{type:"added",content:"@color3 : #29D9C2;"},{type:"added",content:"@color4 : #BDF271;"},{type:"added",content:"@color5 : #FFFFA6;"},{type:"added",content:"@color6 : #2F2933;"},{type:"added",content:"@color7 : #FF6F69;"},{type:"added",content:""},{type:"added",content:"html,body{"},{type:"added",content:"    height:100%;"},{type:"added",content:"}"},{type:"added",content:""},{type:"context",content:"body {"},{type:"removed",content:"    background-color: rgba(0,0,0,.2);"},{type:"removed",content:"    padding-top: 70px;"},{type:"added",content:"    background-color: #f8f8f8;"},{type:"added",content:"    padding-top: 50px;"},{type:"added",content:"    font-family: 'Muli', sans-serif;"},{type:"added",content:"}"},{type:"context",content:""},{type:"removed",content:"    .navbar {"},{type:"removed",content:"        background-color: #ffffff;"},{type:"removed",content:"    }"},{type:"added",content:".h100{"},{type:"added",content:"    height : 100%;"},{type:"context",content:"}"},{type:"context",content:""},{type:"added",content:".w100{"},{type:"added",content:"    width:100%;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:""},{type:"added",content:".ma-main-container{"},{type:"added",content:"    @media (min-width: 400px) {"},{type:"added",content:"        padding-right : 0;"},{type:"added",content:"    }"},{type:"added",content:"}"},{type:"context",content:""},{type:"removed",content:'@import "../parties/styles/parties.import.less";'},{type:"added",content:'@import "../parties/styles/parties.import.less";'},{type:"added",content:'@import "../parties/styles/navbar.import.less";'},{type:"added",content:'@import "../parties/styles/new.party.import.less";'},{type:"added",content:'@import "../parties/styles/party.details.import.less";'}],lineNumbers:{removed:{start:1,lines:11},added:{start:1,lines:37}}}]},sha:"4ba81f28fd77d90ebc69baad30da48b1f351db2d",message:"Step 17.11: Update the main less file to use the new files",stepNumber:"17.11",summary:"Update the main less file to use the new files"},17.12:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"removed",content:"Here you will see and change the details of the party:"},{type:"added",content:'<div class="row ma-party-details-container">'},{type:"added",content:'  <div class="col-sm-6 col-sm-offset-3">'},{type:"added",content:"    <legend>"},{type:"added",content:"      View and Edit Your Party Details:"},{type:"added",content:"    </legend>"},{type:"added",content:'    <form class="form-horizontal">'},{type:"added",content:'      <div class="form-group">'},{type:"added",content:"        <label>Party Name</label>"},{type:"added",content:'        <input ng-model="party.name" ng-disabled="party.owner != $root.currentUser._id" type="text"'},{type:"added",content:'               class="form-control">'},{type:"added",content:"      </div>"},{type:"added",content:'      <div class="form-group">'},{type:"added",content:"        <label>Party Name</label>"},{type:"added",content:'        <input ng-model="party.description" ng-disabled="party.owner != $root.currentUser._id" type="text"'},{type:"added",content:'               class="form-control">'},{type:"added",content:"      </div>"},{type:"added",content:'      <div class="form-group">'},{type:"added",content:"        <label>Is public</label>"},{type:"added",content:'        <input type="checkbox" ng-model="party.public" ng-disabled="party.owner != $root.currentUser._id">'},{type:"added",content:"      </div>"},{type:"added",content:"    </form>"},{type:"context",content:""},{type:"removed",content:'<input ng-model="party.name" ng-disabled="party.owner != $root.currentUser._id">'},{type:"removed",content:'<input ng-model="party.description" ng-disabled="party.owner != $root.currentUser._id">'},{type:"removed",content:"<label>Is public</label>"},{type:"removed",content:'<input type="checkbox" ng-model="party.public" ng-disabled="party.owner != $root.currentUser._id">'},{type:"added",content:'    <div class="ma-invite-list" ng-show="canInvite()">'},{type:"added",content:"      <h3>"},{type:"added",content:"        Users to invite:"},{type:"added",content:"      </h3>"},{type:"added",content:"      <ul>"},{type:"context",content:""},{type:"removed",content:'<ul ng-show="canInvite()">'},{type:"removed",content:"  Users to invite:"},{type:"removed",content:'  <li ng-repeat="user in users | uninvited:party">'},{type:"removed",content:"    <div>{{ user | displayName }}</div>"},{type:"removed",content:'    <button ng-click="invite(user)">Invite</button>'},{type:"removed",content:"  </li>"},{type:"removed",content:'  <li ng-if="(users | uninvited:party).length <= 0">'},{type:"removed",content:"    Everyone are already invited."},{type:"removed",content:"  </li>"},{type:"removed",content:"</ul>"},{type:"added",content:'        <li ng-repeat="user in users | uninvited:party">'},{type:"added",content:"          <div>{{ user | displayName }}</div>"},{type:"added",content:'          <button ng-click="invite(user)">Invite</button>'},{type:"added",content:"        </li>"},{type:"added",content:'        <li ng-if="(users | uninvited:party).length <= 0">'},{type:"added",content:"          Everyone are already invited."},{type:"added",content:"        </li>"},{type:"added",content:"      </ul>"},{type:"added",content:"    </div>"},{type:"context",content:""},{type:"removed",content:'<div class="angular-google-map-container">'},{type:"removed",content:'  <ui-gmap-google-map center="map.center" events="map.events" zoom="map.zoom">'},{type:"removed",content:'    <ui-gmap-marker coords="party.location" options="map.marker.options" events="map.marker.events" idkey="party._id">'},{type:"removed",content:"    </ui-gmap-marker>"},{type:"removed",content:"  </ui-gmap-google-map>"},{type:"removed",content:"</div>"},{type:"added",content:""},{type:"added",content:'    <h3 class="ma-map-title">'},{type:"added",content:"      Click the map to set the party location"},{type:"added",content:"    </h3>"},{type:"added",content:""},{type:"added",content:'    <div class="angular-google-map-container">'},{type:"added",content:'      <ui-gmap-google-map center="map.center" events="map.events" zoom="map.zoom">'},{type:"added",content:'        <ui-gmap-marker coords="party.location" options="map.marker.options" events="map.marker.events"'},{type:"added",content:'                        idkey="party._id">'},{type:"added",content:"        </ui-gmap-marker>"},{type:"added",content:"      </ui-gmap-google-map>"},{type:"added",content:"    </div>"},{type:"added",content:"  </div>"},{type:"added",content:""},{type:"added",content:"</div>"}],lineNumbers:{removed:{start:1,lines:24},added:{start:1,lines:53}}}]},sha:"9f00b39f26472fcbd07a6cc19b130b6fc7c45fa8",message:"Step 17.12: Update the view of party details page",stepNumber:"17.12",summary:"Update the view of party details page"},17.13:{files:{"client/parties/controllers/partyDetails.js":[{lines:[{type:"context",content:"angular.module(\"socially\").controller(\"PartyDetailsCtrl\", ['$scope', '$stateParams', '$meteor',"},{type:"removed",content:"  function($scope, $stateParams, $meteor){"},{type:"added",content:"  function ($scope, $stateParams, $meteor) {"},{type:"context",content:""},{type:"context",content:"    $scope.party = $meteor.object(Parties, $stateParams.partyId);"},{type:"context",content:""},{type:"context",content:"    var subscriptionHandle;"},{type:"removed",content:"    $meteor.subscribe('parties').then(function(handle) {"},{type:"added",content:"    $meteor.subscribe('parties').then(function (handle) {"},{type:"context",content:"      subscriptionHandle = handle;"},{type:"context",content:"    });"},{type:"context",content:""},{type:"context",content:"    $scope.users = $meteor.collection(Meteor.users, false).subscribe('users');"},{type:"context",content:""},{type:"removed",content:"    $scope.invite = function(user){"},{type:"added",content:"    $scope.invite = function (user) {"},{type:"context",content:"      $meteor.call('invite', $scope.party._id, user._id).then("},{type:"removed",content:"        function(data){"},{type:"added",content:"        function (data) {"},{type:"context",content:"          console.log('success inviting', data);"},{type:"context",content:"        },"},{type:"removed",content:"        function(err){"},{type:"added",content:"        function (err) {"},{type:"context",content:"          console.log('failed', err);"},{type:"context",content:"        }"},{type:"context",content:"      );"},{type:"context",content:"    };"},{type:"context",content:""},{type:"removed",content:"    $scope.$on('$destroy', function() {"},{type:"added",content:"    $scope.$on('$destroy', function () {"},{type:"context",content:"      subscriptionHandle.stop();"},{type:"context",content:"    });"},{type:"context",content:""},{type:"removed",content:"    $scope.canInvite = function (){"},{type:"added",content:"    $scope.canInvite = function () {"},{type:"context",content:"      if (!$scope.party)"},{type:"context",content:"        return false;"},{type:"context",content:""}],lineNumbers:{removed:{start:1,lines:31},added:{start:1,lines:31}}},{lines:[{type:"context",content:"        }"},{type:"context",content:"      },"},{type:"context",content:"      marker: {"},{type:"removed",content:"        options: { draggable: true },"},{type:"added",content:"        options: {draggable: true},"},{type:"context",content:"        events: {"},{type:"context",content:"          dragend: function (marker, eventName, args) {"},{type:"context",content:"            if (!$scope.party.location)"}],lineNumbers:{removed:{start:54,lines:7},added:{start:54,lines:7}}}]},sha:"20a25bb233a57c381390054b0b58bf9c9c6fa416",message:"Step 17.13: Update the party details controller",stepNumber:"17.13",summary:"Update the party details controller"},18.1:{files:{"client/lib/app.js":[{lines:[{type:"context",content:"  'ui.router',"},{type:"context",content:"  'angularUtils.directives.dirPagination',"},{type:"context",content:"  'uiGmapgoogle-maps',"},{type:"removed",content:"  'ui.bootstrap'"},{type:"added",content:"  'ngMaterial'"},{type:"context",content:"]);"},{type:"context",content:"function onReady() {"},{type:"context",content:"  angular.bootstrap(document, ['socially']);"}],lineNumbers:{removed:{start:3,lines:7},added:{start:3,lines:7}}}]},sha:"98d48ae4a177b6c2dbc89c93459864bc5aec369d",message:"Step 18.1: Add the ngMaterial dependency",stepNumber:"18.1",summary:"Add the ngMaterial dependency"},18.2:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"removed",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$modal',"},{type:"removed",content:"  function($scope, $meteor, $rootScope, $state, $modal){"},{type:"added",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$mdDialog',"},{type:"added",content:"  function($scope, $meteor, $rootScope, $state, $mdDialog){"},{type:"context",content:""},{type:"context",content:"    $scope.page = 1;"},{type:"context",content:"    $scope.perPage = 3;"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:5}}},{lines:[{type:"context",content:"      );"},{type:"context",content:"    };"},{type:"context",content:""},{type:"removed",content:"    $scope.openAddNewPartyModal = function () {"},{type:"removed",content:"      var modalInstance = $modal.open({"},{type:"removed",content:"        animation: true,"},{type:"removed",content:"        templateUrl: 'client/parties/views/add-new-party-modal.ng.html',"},{type:"added",content:"    $scope.openAddNewPartyModal = function(){"},{type:"added",content:"      $mdDialog.show({"},{type:"context",content:"        controller: 'AddNewPartyCtrl',"},{type:"added",content:"        templateUrl: 'client/parties/views/add-new-party-modal.ng.html',"},{type:"added",content:"        clickOutsideToClose:true,"
},{type:"context",content:"        resolve: {"},{type:"context",content:"          parties: function () {"},{type:"context",content:"            return $scope.parties;"},{type:"context",content:"          }"},{type:"context",content:"        }"},{type:"removed",content:"      });"},{type:"removed",content:""},{type:"removed",content:"      modalInstance.result.then(function () {"},{type:"removed",content:"      }, function () {"},{type:"removed",content:"      });"},{type:"added",content:"      })"},{type:"added",content:"        .then(function(answer) {"},{type:"added",content:"          $scope.status = 'You said the information was \"' + answer + '\".';"},{type:"added",content:"        }, function() {"},{type:"added",content:"          $scope.status = 'You cancelled the dialog.';"},{type:"added",content:"        });"},{type:"context",content:"    };"},{type:"context",content:""},{type:"context",content:"    $scope.isRSVP = function (rsvp, party) {"}],lineNumbers:{removed:{start:141,lines:21},added:{start:141,lines:22}}}]},sha:"c7275b418fd4f8af00e1cc258d85a16bdc43a3ab",message:"Step 18.2: Remove $modal and use $mdDialog instead",stepNumber:"18.2",summary:"Remove $modal and use $mdDialog instead"},18.3:{files:{"client/parties/controllers/addNewParty.js":[{lines:[{type:"removed",content:"angular.module(\"socially\").controller(\"AddNewPartyCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$modalInstance', 'parties',"},{type:"removed",content:"  function ($scope, $meteor, $rootScope, $state, $modalInstance, parties) {"},{type:"removed",content:""},{type:"added",content:"angular.module(\"socially\").controller(\"AddNewPartyCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$mdDialog', 'parties',"},{type:"added",content:"  function ($scope, $meteor, $rootScope, $state, $mdDialog, parties) {"},{type:"added",content:"    $scope.newParty = {};"},{type:"context",content:"    $scope.addNewParty = function () {"},{type:"removed",content:"      $scope.newParty.owner = $rootScope.currentUser._id;"},{type:"removed",content:"      parties.push($scope.newParty);"},{type:"removed",content:"      $scope.newParty = '';"},{type:"removed",content:"      $modalInstance.close();"},{type:"added",content:"      if($scope.newParty.name){"},{type:"added",content:"        $scope.newParty.owner = $rootScope.currentUser._id;"},{type:"added",content:"        parties.push($scope.newParty);"},{type:"added",content:"        $scope.newParty = '';"},{type:"added",content:"        $mdDialog.hide();"},{type:"added",content:"      }"},{type:"added",content:"    }"},{type:"added",content:"    $scope.close = function () {"},{type:"added",content:"      $mdDialog.hide();"},{type:"context",content:"    }"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:1,lines:10},added:{start:1,lines:15}}}]},sha:"feedc4ece8ae10a96cb6ac258c972ab7e1b3410d",message:"Step 18.3: Update usage in the modal controller",stepNumber:"18.3",summary:"Update usage in the modal controller"},18.4:{files:{"client/index.html":[{lines:[{type:"context",content:"<head>"},{type:"context",content:'  <meta name="viewport" content="width=device-width, initial-scale=1">'},{type:"context",content:'  <base href="/">'},{type:"removed",content:"  <link href='http://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>"},{type:"removed",content:'  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">'},{type:"added",content:'  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">'},{type:"context",content:"</head>"},{type:"removed",content:"<body>"},{type:"removed",content:""},{type:"removed",content:'<nav class="navbar navbar-default navbar-fixed-top">'},{type:"removed",content:'  <div class="container">'},{type:"removed",content:'    <div class="navbar-header">'},{type:"removed",content:'      <a class="navbar-brand" href="/">socially</a>'},{type:"removed",content:"    </div>"},{type:"removed",content:'    <div class="navbar-right-container">'},{type:"removed",content:'      <meteor-include src="loginButtons"></meteor-include>'},{type:"removed",content:"    </div>"},{type:"added",content:'<body layout="column">'},{type:"added",content:'<md-toolbar md-scroll-shrink layout="row" layout-align="start center" layout-padding>'},{type:"added",content:"  <h2>"},{type:"added",content:'    <span class="md-title">Socially</span>'},{type:"added",content:"  </h2>"},{type:"added",content:"  <span flex></span>"},{type:"added",content:'  <div class="navbar-right navbar-text">'},{type:"added",content:'    <meteor-include src="loginButtons"></meteor-include>'},{type:"context",content:"  </div>"},{type:"removed",content:"</nav>"},{type:"removed",content:""},{type:"removed",content:'<div class="h100">'},{type:"removed",content:'  <div ui-view class="ma-main-container container-fluid h100"></div>'},{type:"removed",content:"</div>"},{type:"added",content:"</md-toolbar>"},{type:"added",content:'<div ui-view flex-gt-sm layout-gt-sm="row"></div>'},{type:"context",content:"</body>"}],lineNumbers:{removed:{start:1,lines:23},added:{start:1,lines:17}}}]},sha:"00d1d6100378abc2bc440ca8419ad1a48bd49ec9",message:"Step 18.4: Update the index.html to use angular-material",stepNumber:"18.4",summary:"Update the index.html to use angular-material"},18.5:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"removed",content:'<div class="row h100">'},{type:"removed",content:'  <div class="col-md-6 ma-parties-col">'},{type:"removed",content:'    <div class="row">'},{type:"removed",content:'      <div class="col-xs-8">'},{type:"removed",content:'        <form class="form-inline search-form">'},{type:"removed",content:'          <div class="form-group">'},{type:"removed",content:'            <label class="sr-only" for="search">Search</label>'},{type:"removed",content:""},{type:"removed",content:'            <div class="input-group">'},{type:"removed",content:'              <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div>'},{type:"removed",content:'              <input type="text" ng-model="search" placeholder="Search" id="search" class="form-control">'},{type:"removed",content:"            </div>"},{type:"removed",content:"          </div>"},{type:"removed",content:'          <div class="form-group">'},{type:"removed",content:'            <label class="sr-only" for="sort-order">Sort Order</label>'},{type:"removed",content:'            <select ng-model="orderProperty" class="form-control">'},{type:"removed",content:'              <option value="1">Ascending</option>'},{type:"removed",content:'              <option value="-1">Descending</option>'},{type:"removed",content:"            </select>"},{type:"removed",content:"          </div>"},{type:"removed",content:"        </form>"},{type:"removed",content:"      </div>"},{type:"removed",content:'      <div class="col-xs-4 ma-add-button-container">'},{type:"removed",content:'        <button class="btn" ng-click="openAddNewPartyModal()"><i class="fa fa-plus"></i></button>'},{type:"removed",content:"      </div>"},{type:"removed",content:"    </div>"},{type:"removed",content:'    <ul class="list-group">'},{type:"removed",content:'      <li dir-paginate="party in parties | itemsPerPage: perPage" total-items="partiesCount.count"'},{type:"removed",content:'          class="list-group-item ma-party-item">'},{type:"removed",content:""},{type:"removed",content:'        <i ng-click="remove(party)" class="ma-remove fa fa-times"'},{type:"removed",content:'           ng-show="$root.currentUser && $root.currentUser._id == party.owner"></i>'},{type:"removed",content:""},{type:"removed",content:""},{type:"removed",content:'        <div class="row">'},{type:"removed",content:'          <div class="col-sm-8">'},{type:"removed",content:'            <h2 class="ma-party-name"><a href="/parties/{{party._id}}">{{party.name}}</a></h2>'},{type:"removed",content:""},{type:"removed",content:'            <p class="ma-party-description">{{party.description}}</p>'},{type:"removed",content:"          </div>"},{type:"added",content:'<md-content flex-gt-sm layout-gt-sm="row" class="ma-parties-list">'},{type:"added",content:'  <div layout-gt-sm="row" flex-gt-sm>'},{type:"added",content:'    <div flex-gt-sm="50" flex-sm>'},{type:"added",content:"      <div>"},{type:"added",content:'        <div layout-padding layout="row">'},{type:"added",content:'          <md-input-container style="width:50%;margin-right:10px;">'},{type:"added",content:"            <label>Search</label>"},{type:"added",content:'            <input type="text" ng-model="search"/>'},{type:"added",content:"          </md-input-container>"},{type:"added",content:'          <md-select ng-model="orderProperty" placeholder="Sort Order" >'},{type:"added",content:'            <md-option value="1">Ascending</md-option>'},{type:"added",content:'            <md-option value="-1">Descending</md-option>'},{type:"added",content:"          </md-select>"},{type:"added",content:'          <md-button class="md-fab" aria-label="Eat cake" ng-click="openAddNewPartyModal()">'},{type:"added",content:'            <md-icon md-font-set="material-icons"> add </md-icon>'},{type:"added",content:"          </md-button>"},{type:"context",content:"        </div>"},{type:"added",content:"      </div>"},{type:"added",content:'      <md-content class="md-padding" style="padding-top:0;">'},{type:"added",content:'        <div  dir-paginate="party in parties | itemsPerPage: perPage" total-items="partiesCount.count" class="ma-party">'},{type:"added",content:"          <md-card>"},{type:"added",content:"            <md-card-content>"},{type:"added",content:'              <h2 class="md-title ma-name" style=""><a href="/parties/{{party._id}}">{{party.name}}</a></h2>'},{type:"added",content:'              <p class="ma-description" style="padding:0 10px;margin-bottom:35px;margin-top: 6px;">{{party.description}}</p>'},{type:"context",content:""},{type:"removed",content:'        <div class="row ma-party-item-bottom">'},{type:"removed",content:'          <div class="col-sm-8 ma-posted-by-col">'},{type:"removed",content:'            <span class="ma-posted-by">Posted by {{ creator(party) | displayName }}  </span>'},{type:"removed",content:""},{type:"removed",content:'            <span ng-if="party.public" class="ma-everyone-invited"><i class="fa fa-male"></i> Everyone is invited</span>'},{type:"removed",content:""},{type:"removed",content:'                        <span ng-if="!party.public" class="ma-everyone-invited">'},{type:"removed",content:'                             <i class="fa fa-user-secret"></i>  This is a private event'},{type:"removed",content:"                        </span>"},{type:"removed",content:""},{type:"removed",content:'            <div ng-show="$root.currentUser" class="ma-rsvp-buttons">'},{type:"removed",content:'              <input type="button" value="I\'m going!" ng-click="rsvp(party._id, \'yes\')" class="btn"'},{type:"removed",content:"                     ng-class=\"{'btn-primary' : isRSVP('yes', party)}\">"},{type:"removed",content:'              <input type="button" value="Maybe" ng-click="rsvp(party._id, \'maybe\')" class="btn"'},{type:"removed",content:"                     ng-class=\"{'btn-primary' : isRSVP('maybe', party)}\">"},{type:"removed",content:'              <input type="button" value="No" ng-click="rsvp(party._id, \'no\')" class="btn"'},{type:"removed",content:"                     ng-class=\"{'btn-primary' : isRSVP('no', party)}\">"},{type:"removed",content:"            </div>"},{type:"removed",content:'            <div ng-hide="$root.currentUser">'},{type:"removed",content:"              <i>Sign in to RSVP for this party.</i>"},{type:"removed",content:"            </div>"},{type:"context",content:""},{type:"added",content:'              <div layout="row">'},{type:"added",content:'                <div flex="1">'},{type:"added",content:'                  <p style="margin-top:0px;margin-bottom:3px;font-size:14px;color:#aaa;">'},{type:"added",content:"                    <small>Posted by {{ creator(party) | displayName }}</small>"},{type:"added",content:'                    <span ng-if="party.public" style="font-size:12px;color:#999;">| Everyone is invited</span>'},{type:"added",content:"                  </p>"},{type:"context",content:""},{type:"removed",content:"          </div>"},{type:"removed",content:'          <div class="col-sm-4">'},{type:"removed",content:'            <div class="ma-rsvp-sum">'},{type:"removed",content:'              <div class="ma-rsvp-amount">'},{type:"removed",content:'                <div class="ma-amount">'},{type:"removed",content:"                  {{ (party.rsvps | filter:{rsvp:'yes'}).length || \"0\"}}"},{type:"added",content:'                  <div ng-show="$root.currentUser" class="md-actions" layout="row">'},{type:"added",content:"                    <md-button ng-click=\"rsvp(party._id, 'yes')\">I'm going!</md-button>"},{type:"added",content:"                    <md-button ng-click=\"rsvp(party._id, 'maybe')\">Maybe</md-button>"},{type:"added",content:"                    <md-button ng-click=\"rsvp(party._id, 'no')\">No</md-button>"},{type:"added",content:"                  </div>"},{type:"context",content:"                </div>"},{type:"removed",content:'                <div class="ma-rsvp-title">'},{type:"removed",content:"                  YES"},{type:"added",content:'                <div  layout="row" layout-align="end end">'},{type:"added",content:'                  <div ng-hide="$root.currentUser" style="font-size:13px;margin-bottom:10px;">'},{type:"added",content:"                    Sign in to RSVP for this party"},{type:"added",content:"                  </div>"},{type:"added",content:"                  <div>"},{type:"added",content:'                    <div class="rsvps-sum">'},{type:"added",content:'                      <div class="rsvps-amount">{{ (party.rsvps | filter:{rsvp:\'yes\'}).length || "0" }}</div>'},{type:"added",content:'                      <div class="rsvps-title">Yes</div>'},{type:"added",content:"                    </div>"},{type:"added",content:'                    <div class="rsvps-sum">'},{type:"added",content:'                      <div class="rsvps-amount">{{ (party.rsvps | filter:{rsvp:\'maybe\'}).length || "0" }}</div>'},{type:"added",content:'                      <div class="rsvps-title">Maybe</div>'},{type:"added",content:"                    </div>"},{type:"added",content:'                    <div class="rsvps-sum">'},{type:"added",content:'                      <div class="rsvps-amount">{{ (party.rsvps | filter:{rsvp:\'no\'}).length || "0" }}</div>'},{type:"added",content:'                      <div class="rsvps-title">No</div>'},{type:"added",content:"                    </div>"},{type:"added",content:"                  </div>"},{type:"context",content:"                </div>"},{type:"context",content:"              </div>"},{type:"removed",content:'              <div class="ma-rsvp-amount">'},{type:"removed",content:'                <div class="ma-amount">'},{type:"removed",content:"                  {{ (party.rsvps | filter:{rsvp:'maybe'}).length || \"0\"}}"},{type:"removed",content:"                </div>"},{type:"removed",content:'                <div class="ma-rsvp-title">'},{type:"removed",content:"                  MAYBE"},{type:"removed",content:"                </div>"},{type:"removed",content:"              </div>"},{type:"removed",content:'              <div class="ma-rsvp-amount">'},{type:"removed",content:'                <div class="ma-amount">'},{type:"removed",content:"                  {{ (party.rsvps | filter:{rsvp:'no'}).length || \"0\"}}"},{type:"removed",content:"                </div>"},{type:"removed",content:'                <div class="ma-rsvp-title">'},{type:"removed",content:"                  NO"},{type:"removed",content:"                </div>"},{type:"removed",content:"              </div>"},{type:"removed",content:"            </div>"},{type:"removed",content:""},{type:"removed",content:'            <ul ng-if="!party.public">'},{type:"removed",content:'              <li ng-repeat="invitedUser in outstandingInvitations(party)">'},{type:"removed",content:"                {{ invitedUser | displayName }}"},{type:"removed",content:"              </li>"},{type:"removed",content:"            </ul>"},{type:"removed",content:""},{type:"removed",content:"          </div>"},{type:"added",content:"            </md-card-content>"},{type:"added",content:"          </md-card>"},{type:"context",content:"        </div>"},{type:"added",content:"      </md-content>"},{type:"context",content:""},{type:"removed",content:"      </li>"},{type:"removed",content:"    </ul>"},{type:"removed",content:'    <dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>'},{type:"removed",content:""},{type:"removed",content:"  </div>"},{type:"removed",content:'  <div class="col-md-6 h100 ma-angular-map-col">'},{type:"removed",content:'    <div class="angular-google-map-container h100">'},{type:"removed",content:'      <ui-gmap-google-map center="map.center" zoom="map.zoom" options="map.options">'},{type:"added",content:"    </div>"},{type:"added",content:'    <div flex-gt-sm="50" flex-sm layout="row" style="min-height:300px;">'},{type:"added",content:'      <ui-gmap-google-map options="map.options" center="map.center" zoom="map.zoom" flex layout="row">'},{type:"context",content:'        <ui-gmap-markers models="parties" coords="\'location\'" click="onClicked()"'},{type:"context",content:'                         fit="true" idkey="\'_id\'" doRebuildAll="true">'},{type:"context",content:"        </ui-gmap-markers>"},{type:"context",content:"      </ui-gmap-google-map>"},{type:"context",content:"    </div>"},{type:"context",content:"  </div>"},{type:"removed",content:"</div>"},{type:"added",content:"</md-content>"}],lineNumbers:{removed:{start:1,lines:118},added:{start:1,lines:74}}}]},sha:"a85bca0201e0a0b18a54f332c8e11fb33ee7bea4",message:"Step 18.5: Update parties list to use material's directives",stepNumber:"18.5",summary:"Update parties list to use material's directives"},18.6:{files:{"client/lib/app.js":[{lines:[{type:"context",content:"  'uiGmapgoogle-maps',"},{type:"context",content:"  'ngMaterial'"},{type:"context",content:"]);"},{type:"added",content:""},{type:"added",content:"var themeIcons = ['$mdIconProvider' , function ($mdIconProvider) {"},{type:"added",content:""},{type:"added",content:"  $mdIconProvider"},{type:"added",content:'    .iconSet("social", "/packages/planettraining_material-design-icons/bower_components/material-design-icons/sprites/svg-sprite/svg-sprite-social.svg")'},{type:"added",content:'    .iconSet("action", "/packages/planettraining_material-design-icons/bower_components/material-design-icons/sprites/svg-sprite/svg-sprite-action.svg")'},{type:"added",content:'    .iconSet("communication", "/packages/planettraining_material-design-icons/bower_components/material-design-icons/sprites/svg-sprite/svg-sprite-communication.svg")'},{type:"added",content:'    .iconSet("content", "/packages/planettraining_material-design-icons/bower_components/material-design-icons/sprites/svg-sprite/svg-sprite-content.svg")'},{type:"added",content:'    .iconSet("toggle", "/packages/planettraining_material-design-icons/bower_components/material-design-icons/sprites/svg-sprite/svg-sprite-toggle.svg")'},{type:"added",content:'    .iconSet("navigation", "/packages/planettraining_material-design-icons/bower_components/material-design-icons/sprites/svg-sprite/svg-sprite-navigation.svg")'},{type:"added",content:'    .iconSet("image", "/packages/planettraining_material-design-icons/bower_components/material-design-icons/sprites/svg-sprite/svg-sprite-image.svg");'},{type:"added",content:""},{type:"added",content:"}];"},{type:"added",content:""},{type:"added",content:"angular.module('socially')"},{type:"added",content:"  .config(themeIcons);"},{type:"added",content:""},{type:"context",content:"function onReady() {"},{type:"context",content:"  angular.bootstrap(document, ['socially']);"},{type:"context",content:"}"}],lineNumbers:{removed:{start:5,lines:6},added:{start:5,lines:23}}}]},sha:"1d105d990bbb382739d01a2f607801620602eff0",message:"Step 18.6: Add angular material icons definitions",stepNumber:"18.6",summary:"Add angular material icons definitions"},18.7:{files:{"client/parties/views/party-details.ng.html":[{lines:[{type:"removed",content:'<div class="row ma-party-details-container">'},{type:"removed",content:'  <div class="col-sm-6 col-sm-offset-3">'},{type:"removed",content:"    <legend>"},{type:"removed",content:"      View and Edit Your Party Details:"},{type:"added",content:'<div layout="row" flex class="ma-party-details">'},{type:"added",content:'  <div flex="33" offset="33">'},{type:"added",content:'    <legend style="margin:20px 0;">'},{type:"added",content:"      Here you will see and change the details of the party:"},{type:"context",content:"    </legend>"},{type:"removed",content:'    <form class="form-horizontal">'},{type:"removed",content:'      <div class="form-group">'},{type:"added",content:'    <form layout="column">'},{type:"added",content:"      <md-input-container>"},{type:"context",content:"        <label>Party Name</label>"},{type:"removed",content:'        <input ng-model="party.name" ng-disabled="party.owner != $root.currentUser._id" type="text"'},{type:"removed",content:'               class="form-control">'},{type:"removed",content:"      </div>"},{type:"removed",content:'      <div class="form-group">'},{type:"removed",content:"        <label>Party Name</label>"},{type:"removed",content:'        <input ng-model="party.description" ng-disabled="party.owner != $root.currentUser._id" type="text"'},{type:"removed",content:'               class="form-control">'},{type:"removed",content:"      </div>"},{type:"removed",content:'      <div class="form-group">'},{type:"removed",content:"        <label>Is public</label>"},{type:"removed",content:'        <input type="checkbox" ng-model="party.public" ng-disabled="party.owner != $root.currentUser._id">'},{type:"removed",content:"      </div>"},{type:"removed",content:"    </form>"},{type:"added",content:'        <input ng-model="party.name" ng-disabled="party.owner != $root.currentUser._id" type="text" aria-label="Name">'},{type:"added",content:"      </md-input-container>"},{type:"added",content:"      <md-input-container>"},{type:"added",content:"        <label>Party Description</label>"},{type:"added",content:'        <input ng-model="party.description" ng-disabled="party.owner != $root.currentUser._id" type="text" aria-label="Description">'},{type:"added",content:"      </md-input-container>"},{type:"added",content:'      <md-checkbox ng-model="party.public" ng-disabled="party.owner != $root.currentUser._id" aria-label="Public">'},{type:"added",content:"        Is public"},{type:"added",content:"      </md-checkbox>"},{type:"context",content:""},{type:"removed",content:'    <div class="ma-invite-list" ng-show="canInvite()">'},{type:"removed",content:"      <h3>"},{type:"removed",content:"        Users to invite:"},{type:"removed",content:"      </h3>"},{type:"removed",content:"      <ul>"},{type:"added",content:'      <div layout="row" layout-align="left">'},{type:"added",content:'        <md-button ng-click="save()">Save</md-button>'},{type:"added",content:'        <md-button ng-click="reset()">Reset form</md-button>'},{type:"added",content:'        <md-button ng-href="/parties">Cancel</md-button>'},{type:"added",content:"      </div>"},{type:"context",content:""},{type:"removed",content:'        <li ng-repeat="user in users | uninvited:party">'},{type:"added",content:'      <md-list ng-show="canInvite()">'},{type:"added",content:'        <md-subheader class="md-no-sticky">Users to invite:</md-subheader>'},{type:"added",content:'        <md-list-item ng-repeat="user in users | uninvited:party">'},{type:"context",content:"          <div>{{ user | displayName }}</div>"},{type:"removed",content:'          <button ng-click="invite(user)">Invite</button>'},{type:"removed",content:"        </li>"},{type:"removed",content:'        <li ng-if="(users | uninvited:party).length <= 0">'},{type:"added",content:'          <md-button ng-click="invite(user)">Invite</md-button>'},{type:"added",content:"        </md-list-item>"},{type:"added",content:'        <md-list-item ng-if="(users | uninvited:party).length <= 0">'},{type:"context",content:"          Everyone are already invited."},{type:"removed",content:"        </li>"},{type:"removed",content:"      </ul>"},{type:"removed",content:"    </div>"},{type:"added",content:"        </md-list-item>"},{type:"added",content:"      </md-list>"},{type:"context",content:""},{type:"removed",content:""},{type:"removed",content:'    <h3 class="ma-map-title">'},{type:"removed",content:"      Click the map to set the party location"},{type:"removed",content:"    </h3>"},{type:"removed",content:""},{type:"removed",content:'    <div class="angular-google-map-container">'},{type:"removed",content:'      <ui-gmap-google-map center="map.center" events="map.events" zoom="map.zoom">'},{type:"removed",content:'        <ui-gmap-marker coords="party.location" options="map.marker.options" events="map.marker.events"'},{type:"removed",content:'                        idkey="party._id">'},{type:"removed",content:"        </ui-gmap-marker>"},{type:"removed",content:"      </ui-gmap-google-map>"},{type:"removed",content:"    </div>"},{type:"added",content:'      <div class="angular-google-map-container">'},{type:"added",content:'        <ui-gmap-google-map center="map.center" events="map.events" zoom="map.zoom">'},{type:"added",content:'          <ui-gmap-marker coords="party.location" options="map.marker.options" events="map.marker.events" idkey="party._id">'},{type:"added",content:"          </ui-gmap-marker>"},{type:"added",content:"        </ui-gmap-google-map>"},{type:"added",content:"      </div>"},{type:"added",content:"    </form>"},{type:"context",content:"  </div>"},{type:"removed",content:""},{type:"context",content:"</div>"}],lineNumbers:{removed:{start:1,lines:53},added:{start:1,lines:44}}}]},sha:"5fedeb9076ad9f78ceec519afe3a3241cbe7ecc9",message:"Step 18.7: Update party details view to use angular-material",stepNumber:"18.7",summary:"Update party details view to use angular-material"},18.8:{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"removed",content:'<div class="container-fluid ma-add-new-party-container">'},{type:"removed",content:'  <div class="alert alert-info" ng-hide="$root.currentUser || $root.loggingIn">'},{type:"removed",content:"    Please log in to create a party!"},{type:"removed",content:"  </div>"},{type:"removed",content:""},{type:"removed",content:'  <form ng-show="$root.currentUser || $root.loggingIn">'},{type:"removed",content:"    <h2>Create a new party</h2>"},{type:"removed",content:""},{type:"removed",content:'    <div class="form-group">'},{type:"removed",content:'      <label for="nameInput">Name</label>'},{type:"removed",content:'      <input ng-model="newParty.name" id="nameInput" type="text" class="form-control">'},{type:"added",content:'<md-dialog aria-label="Mango (Fruit)">'},{type:"added",content:"  <form>"},{type:"added",content:"    <md-toolbar>"},{type:"added",content:'      <div class="md-toolbar-tools">'},{type:"added",content:"        <h2> Create a new party</h2>"},{type:"added",content:"        <span flex></span>"},{type:"added",content:"      </div>"},{type:"added",content:"    </md-toolbar>"},{type:"added",content:'    <md-dialog-content style="min-width:300px;max-width:800px;max-height:810px; ">'},{type:"added",content:'      <div  ng-show="$root.currentUser">'},{type:"added",content:"        <md-input-container>"},{type:"added",content:"          <label>Name</label>"},{type:"added",content:'          <input ng-model="newParty.name" id="nameInput" type="text" aria-label="Name">'},{type:"added",content:"        </md-input-container>"},{type:"added",content:"        <md-input-container>"},{type:"added",content:"          <label>Description</label>"},{type:"added",content:'          <input ng-model="newParty.description" id="description" type="text" aria-label="Description">'},{type:"added",content:"        </md-input-container>"},{type:"added",content:'        <md-checkbox ng-model="newParty.public" id="public" aria-label="Public">'},{type:"added",content:"          Public"},{type:"added",content:"        </md-checkbox>"},{type:"added",content:"      </div>"},{type:"added",content:"    </md-dialog-content>"},{type:"added",content:'    <div class="md-actions" layout="row">'},{type:"added",content:"      <span flex></span>"},{type:"added",content:'      <md-button ng-click="close()">'},{type:"added",content:"        Close"},{type:"added",content:"      </md-button>"},{type:"added",content:'      <md-button ng-click="addNewParty()" style="margin-right:20px;">'},{type:"added",content:"        Add"},{type:"added",content:"      </md-button>"},{type:"context",content:"    </div>"},{type:"removed",content:'    <div class="form-group">'},{type:"removed",content:'      <label for="description">Description</label>'},{type:"removed",content:'      <input ng-model="newParty.description" id="description" type="text" class="form-control">'},{type:"removed",content:"    </div>"},{type:"removed",content:'    <div class="form-group">'},{type:"removed",content:'      <label for="public">'},{type:"removed",content:'        <input type="checkbox" ng-model="newParty.public" id="public"> Public'},{type:"removed",content:"      </label>"},{type:"removed",content:"    </div>"},{type:"removed",content:'    <button ng-click="addNewParty()" class="btn">Add</button>'},{type:"context",content:"  </form>"},{type:"removed",content:"</div>"},{type:"added",content:"</md-dialog>"}],lineNumbers:{removed:{start:1,lines:24},added:{start:1,lines:34}}}]},sha:"d840c662793d3150d1c047b066deaeddf777e759",message:"Step 18.8: Update new party modal view to use angular-material",stepNumber:"18.8",summary:"Update new party modal view to use angular-material"},18.9:{files:{"client/index.html":[{lines:[{type:"context",content:"  </h2>"},{type:"context",content:"  <span flex></span>"},{type:"context",content:'  <div class="navbar-right navbar-text">'},{type:"removed",content:'    <meteor-include src="loginButtons"></meteor-include>'},{type:"added",content:'    <md-button ng-href="/login" ng-hide="$root.currentUser">Login</md-button>'},{type:"added",content:'    <md-button ng-href="/register" ng-hide="$root.currentUser">Sign up</md-button>'},{type:"added",content:'    <div ng-show="$root.currentUser">{{ $root.currentUser }}</div>'},{type:"added",content:'    <md-button ng-href="/logout" ng-show="$root.currentUser">Logout</md-button>'},{type:"context",content:"  </div>"},{type:"context",content:"</md-toolbar>"},{type:"context",content:'<div ui-view flex-gt-sm layout-gt-sm="row"></div>'}],lineNumbers:{removed:{start:10,lines:7},added:{start:10,lines:10}}}]},sha:"3a1f2cefc44b3e15fa37ce39ec3b1ac23b4b53c0",message:"Step 18.9: Custom auth buttons",stepNumber:"18.9",summary:"Custom auth buttons"},"18.10":{files:{"client/routes.js":[{lines:[{type:"context",content:"            return $meteor.requireUser();"},{type:"context",content:"          }]"},{type:"context",content:"        }"},{type:"added",content:"      })"},{type:"added",content:"      .state('login', {"},{type:"added",content:"        url: '/login',"},{type:"added",content:"        templateUrl: 'client/users/views/login.ng.html',"},{type:"added",content:"        controller: 'LoginCtrl',"},{type:"added",content:"        controllerAs: 'lc'"},{type:"added",content:"      })"},{type:"added",content:"      .state('register',{"},{type:"added",content:"        url: '/register',"},{type:"added",
content:"        templateUrl: 'client/users/views/register.ng.html',"},{type:"added",content:"        controller: 'RegisterCtrl',"},{type:"added",content:"        controllerAs: 'rc'"},{type:"added",content:"      })"},{type:"added",content:"      .state('resetpw', {"},{type:"added",content:"        url: '/resetpw',"},{type:"added",content:"        templateUrl: 'client/users/views/reset-password.ng.html',"},{type:"added",content:"        controller: 'ResetCtrl',"},{type:"added",content:"        controllerAs: 'rpc'"},{type:"added",content:"      })"},{type:"added",content:"      .state('logout', {"},{type:"added",content:"        url: '/logout',"},{type:"added",content:"        resolve: {"},{type:"added",content:"          \"logout\": ['$meteor', '$state', function($meteor, $state) {"},{type:"added",content:"            return $meteor.logout().then(function(){"},{type:"added",content:"              $state.go('parties');"},{type:"added",content:"            }, function(err){"},{type:"added",content:"              console.log('logout error - ', err);"},{type:"added",content:"            });"},{type:"added",content:"          }]"},{type:"added",content:"        }"},{type:"context",content:"      });"},{type:"context",content:""},{type:"context",content:'    $urlRouterProvider.otherwise("/parties");'}],lineNumbers:{removed:{start:28,lines:6},added:{start:28,lines:36}}}]},sha:"b35aac08b2e14a6f5d23531bd22f68b6ccc20f83",message:"Step 18.10: Add custom auth routes",stepNumber:"18.10",summary:"Add custom auth routes"},18.11:{files:{"client/users/controllers/login.js":[{lines:[{type:"added",content:"angular.module(\"socially\").controller(\"LoginCtrl\", ['$meteor', '$state',"},{type:"added",content:"  function ($meteor, $state) {"},{type:"added",content:"    var vm = this;"},{type:"added",content:""},{type:"added",content:"    vm.credentials = {"},{type:"added",content:"      email: '',"},{type:"added",content:"      password: ''"},{type:"added",content:"    };"},{type:"added",content:""},{type:"added",content:"    vm.error = '';"},{type:"added",content:""},{type:"added",content:"    vm.login = function () {"},{type:"added",content:"      $meteor.loginWithPassword(vm.credentials.email, vm.credentials.password).then("},{type:"added",content:"        function () {"},{type:"added",content:"          $state.go('parties');"},{type:"added",content:"        },"},{type:"added",content:"        function (err) {"},{type:"added",content:"          vm.error = 'Login error - ' + err;"},{type:"added",content:"        }"},{type:"added",content:"      );"},{type:"added",content:"    };"},{type:"added",content:"  }"},{type:"added",content:"]);"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:23}}}]},sha:"c7b2b7d36f3a125ac8af6ad84ca04b6cd5869057",message:"Step 18.11: Create login controller",stepNumber:"18.11",summary:"Create login controller"},18.12:{files:{"client/users/views/login.ng.html":[{lines:[{type:"added",content:'<md-content layout="row">'},{type:"added",content:"  <span flex></span>"},{type:"added",content:'  <md-whiteframe layout="column" flex="50">'},{type:"added",content:'    <div layout="row" layout-align="space-around center">'},{type:"added",content:"      <div>Login with:</div>"},{type:"added",content:"      <md-button>Twitter</md-button>"},{type:"added",content:"      <md-button>Facebook</md-button>"},{type:"added",content:"    </div>"},{type:"added",content:'    <div ng-show="lc.error" class="md-warn">'},{type:"added",content:"      <small>{{ lc.error }}</small>"},{type:"added",content:"    </div>"},{type:"added",content:'    <form layout="column">'},{type:"added",content:"      <md-input-container>"},{type:"added",content:'        <md-icon md-svg-icon="content:ic_mail_24px"></md-icon>'},{type:"added",content:'        <input type="text" ng-model="lc.credentials.email"'},{type:"added",content:'               placeholder="email" aria-label="email"/>'},{type:"added",content:"      </md-input-container>"},{type:"added",content:"      <md-input-container>"},{type:"added",content:'        <md-icon md-svg-icon="action:ic_lock_open_24px"></md-icon>'},{type:"added",content:'        <input type="password" ng-model="lc.credentials.password"'},{type:"added",content:'               placeholder="password" aria-label="password"/>'},{type:"added",content:"      </md-input-container>"},{type:"added",content:'      <md-button class="md-raised md-primary" ng-click="lc.login()"'},{type:"added",content:'                 aria-label="login">Sign In'},{type:"added",content:"      </md-button>"},{type:"added",content:"    </form>"},{type:"added",content:'    <div layout="row" layout-align="space-around center">'},{type:"added",content:'      <a href="/resetpw">Forgot password?</a>'},{type:"added",content:'      <a href="/register">Create an account</a>'},{type:"added",content:"    </div>"},{type:"added",content:"  </md-whiteframe>"},{type:"added",content:"  <span flex></span>"},{type:"added",content:"</md-content>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:33}}}]},sha:"02e488f77bf02f1abefc573a0331d275c63d0512",message:"Step 18.12: Create login view",stepNumber:"18.12",summary:"Create login view"},18.13:{files:{"client/users/controllers/register.js":[{lines:[{type:"added",content:"angular.module(\"socially\").controller(\"RegisterCtrl\", ['$meteor', '$state',"},{type:"added",content:"  function ($meteor, $state) {"},{type:"added",content:"    var vm = this;"},{type:"added",content:""},{type:"added",content:"    vm.credentials = {"},{type:"added",content:"      email: '',"},{type:"added",content:"      password: ''"},{type:"added",content:"    };"},{type:"added",content:""},{type:"added",content:"    vm.error = '';"},{type:"added",content:""},{type:"added",content:"    vm.register = function () {"},{type:"added",content:"      $meteor.createUser(vm.credentials).then("},{type:"added",content:"        function () {"},{type:"added",content:"          $state.go('parties');"},{type:"added",content:"        },"},{type:"added",content:"        function (err) {"},{type:"added",content:"          vm.error = 'Registration error - ' + err;"},{type:"added",content:"        }"},{type:"added",content:"      );"},{type:"added",content:"    };"},{type:"added",content:"  }"},{type:"added",content:"]);"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:23}}}]},sha:"f7f9752f26e94ffa15839b946da0c04ba4184301",message:"Step 18.13: Create register controller",stepNumber:"18.13",summary:"Create register controller"},18.14:{files:{"client/users/views/register.ng.html":[{lines:[{type:"added",content:'<md-content layout="row">'},{type:"added",content:"  <span flex></span>"},{type:"added",content:'  <md-whiteframe layout="column" flex="50">'},{type:"added",content:'    <div layout="row" layout-align="space-around center">'},{type:"added",content:"      <div>Register</div>"},{type:"added",content:"      <md-button>Twitter</md-button>"},{type:"added",content:"      <md-button>Facebook</md-button>"},{type:"added",content:"    </div>"},{type:"added",content:'    <div ng-show="rc.error" class="md-warn">'},{type:"added",content:"      <small>{{ rc.error }}</small>"},{type:"added",content:"    </div>"},{type:"added",content:'    <form layout="column">'},{type:"added",content:"      <md-input-container>"},{type:"added",content:'        <md-icon md-svg-icon="content:ic_mail_24px"></md-icon>'},{type:"added",content:'        <input type="text" ng-model="rc.credentials.email"'},{type:"added",content:'               placeholder="email" aria-label="email"/>'},{type:"added",content:"      </md-input-container>"},{type:"added",content:"      <md-input-container>"},{type:"added",content:'        <md-icon md-svg-icon="action:ic_lock_open_24px"></md-icon>'},{type:"added",content:'        <input type="password" ng-model="rc.credentials.password"'},{type:"added",content:'               placeholder="password" aria-label="password"/>'},{type:"added",content:"      </md-input-container>"},{type:"added",content:'      <md-button class="md-raised md-primary"'},{type:"added",content:'                 ng-click="rc.register()">Create Account'},{type:"added",content:"      </md-button>"},{type:"added",content:"    </form>"},{type:"added",content:'    <div layout="row" layout-align="end center">'},{type:"added",content:'      <a href="/login">Login</a>'},{type:"added",content:"    </div>"},{type:"added",content:"  </md-whiteframe>"},{type:"added",content:"  <span flex></span>"},{type:"added",content:"</md-content>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:32}}}]},sha:"74663afda8d88f8a8a062af8da73a82452880b73",message:"Step 18.14: Create login view",stepNumber:"18.14",summary:"Create login view"},18.15:{files:{"client/users/controllers/reset.js":[{lines:[{type:"added",content:"angular.module(\"socially\").controller(\"ResetCtrl\", ['$meteor', '$state',"},{type:"added",content:"  function ($meteor, $state) {"},{type:"added",content:"    var vm = this;"},{type:"added",content:""},{type:"added",content:"    vm.credentials = {"},{type:"added",content:"      email: ''"},{type:"added",content:"    };"},{type:"added",content:""},{type:"added",content:"    vm.error = '';"},{type:"added",content:""},{type:"added",content:"    vm.reset = function () {"},{type:"added",content:"      $meteor.forgotPassword(vm.credentials.email).then("},{type:"added",content:"        function () {"},{type:"added",content:"          $state.go('parties');"},{type:"added",content:"        },"},{type:"added",content:"        function (err) {"},{type:"added",content:"          vm.error = 'Error sending forgot password email - ' + err;"},{type:"added",content:"        }"},{type:"added",content:"      );"},{type:"added",content:"    };"},{type:"added",content:"  }"},{type:"added",content:"]);"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:22}}}]},sha:"60a169797ab2d9555f9b6038c9bb5777b8eae1b4",message:"Step 18.15: Create reset controller",stepNumber:"18.15",summary:"Create reset controller"},18.16:{files:{"client/users/views/reset-password.ng.html":[{lines:[{type:"added",content:'<md-content layout="row">'},{type:"added",content:"  <span flex></span>"},{type:"added",content:'  <md-whiteframe layout="column" flex="50">'},{type:"added",content:'    <div layout="row" layout-align="space-around center">'},{type:"added",content:"      <div>Login with:</div>"},{type:"added",content:"      <md-button>Twitter</md-button>"},{type:"added",content:"      <md-button>Facebook</md-button>"},{type:"added",content:"    </div>"},{type:"added",content:'    <div ng-show="rpc.error" class="md-warn">'},{type:"added",content:"      <small>{{ rpc.error }}</small>"},{type:"added",content:"    </div>"},{type:"added",content:'    <form layout="column">'},{type:"added",content:"      <md-input-container>"},{type:"added",content:'        <md-icon md-svg-icon="content:ic_mail_24px"></md-icon>'},{type:"added",content:'        <input type="text" ng-model="rpc.credentials.email"'},{type:"added",content:'               placeholder="email" aria-label="email"/>'},{type:"added",content:"      </md-input-container>"},{type:"added",content:'      <md-button class="md-raised md-primary"'},{type:"added",content:'                 ng-click="rpc.reset()" aria-label="login">Reset password'},{type:"added",content:"      </md-button>"},{type:"added",content:"    </form>"},{type:"added",content:'    <div layout="row" layout-align="end center">'},{type:"added",content:'      <a href="/login">Login</a>'},{type:"added",content:"    </div>"},{type:"added",content:"  </md-whiteframe>"},{type:"added",content:"  <span flex></span>"},{type:"added",content:"</md-content>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:27}}}]},sha:"156a2ad2fb5515624882c837460a61a5ee7e46e8",message:"Step 18.16: Create reset view",stepNumber:"18.16",summary:"Create reset view"},20.1:{files:{"model/images.js":[{lines:[{type:"added",content:'Images = new FS.Collection("images", {'},{type:"added",content:"  stores: ["},{type:"added",content:'    new FS.Store.GridFS("original")'},{type:"added",content:"  ],"},{type:"added",content:"  filter: {"},{type:"added",content:"    allow: {"},{type:"added",content:"      contentTypes: ['image/*']"},{type:"added",content:"    }"},{type:"added",content:"  }"},{type:"added",content:"});"},{type:"added",content:""},{type:"added",content:"if (Meteor.isServer) {"},{type:"added",content:"  Images.allow({"},{type:"added",content:"    insert: function (userId) {"},{type:"added",content:"      return (userId ? true : false);"},{type:"added",content:"    },"},{type:"added",content:"    remove: function (userId) {"},{type:"added",content:"      return (userId ? true : false);"},{type:"added",content:"    },"},{type:"added",content:"    download: function () {"},{type:"added",content:"      return true;"},{type:"added",content:"    },"},{type:"added",content:"    update: function (userId) {"},{type:"added",content:"      return (userId ? true : false);"},{type:"added",content:"    }"},{type:"added",content:"  });"},{type:"added",content:""},{type:"added",content:"  Meteor.publish('images', function() {"},{type:"added",content:"    return Images.find({});"},{type:"added",content:"  });"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:31}}}]},sha:"2d513b425ebb79c10f4654fe6772ceaad85095d6",message:"Step 20.1: Create the Images collection and publish it",stepNumber:"20.1",summary:"Create the Images collection and publish it"},20.2:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"context",content:"    $scope.orderProperty = '1';"},{type:"context",content:""},{type:"context",content:"    $scope.users = $meteor.collection(Meteor.users, false).subscribe('users');"},{type:"added",content:"    $scope.images = $meteor.collectionFS(Images, false, Images).subscribe('images');"},{type:"context",content:""},{type:"context",content:"    $scope.parties = $meteor.collection(function() {"},{type:"context",content:"      return Parties.find({}, {"}],lineNumbers:{removed:{start:7,lines:6},added:{start:7,lines:7}}}]},sha:"db59af809e4305e805f7fedee2bb9e259bdb6f39",message:"Step 20.2: Add the collectionFs to the controller",stepNumber:"20.2",summary:"Add the collectionFs to the controller"},20.3:{files:{"client/lib/app.js":[{lines:[{type:"context",content:"  'ui.router',"},{type:"context",content:"  'angularUtils.directives.dirPagination',"},{type:"context",content:"  'uiGmapgoogle-maps',"},{type:"removed",content:"  'ngMaterial'"},{type:"added",content:"  'ngMaterial',"},{type:"added",content:"  'ngFileUpload'"},{type:"context",content:"]);"},{type:"context",content:""},{type:"context",content:"var themeIcons = ['$mdIconProvider' , function ($mdIconProvider) {"}],lineNumbers:{removed:{start:3,lines:7},added:{start:3,lines:8}}}]},sha:"39eec37596ae3fa8fd9fc5a2022de1dd0cea1681",message:"Step 20.3: Add dependency for 'ngFileUpload' to the module",stepNumber:"20.3",summary:"Add dependency for 'ngFileUpload' to the module"},20.4:{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"removed",content:'<md-dialog aria-label="Mango (Fruit)">'},{type:"added",content:"<md-dialog>"},{type:"context",content:"  <form>"},{type:"context",content:"    <md-toolbar>"},{type:"context",content:'      <div class="md-toolbar-tools">'}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}},{lines:[{type:"context",content:"        <span flex></span>"},{type:"context",content:"      </div>"},{type:"context",content:"    </md-toolbar>"},{type:"removed",content:'    <md-dialog-content style="min-width:300px;max-width:800px;max-height:810px; ">'},{type:"added",content:'    <md-dialog-content style="min-width:800px;max-width:800px;max-height:100%; ">'},{type:"context",content:'      <div  ng-show="$root.currentUser">'},{type:"context",content:"        <md-input-container>"},{type:"context",content:"          <label>Name</label>"}],lineNumbers:{removed:{start:6,lines:7},added:{start:6,lines:7}}},{lines:[{type:"context",content:"          <label>Description</label>"},{type:"context",content:'          <input ng-model="newParty.description" id="description" type="text" aria-label="Description">'},{type:"context",content:"        </md-input-container>"},{type:"added",content:'        <md-whiteframe class="md-whiteframe-z1" layout="column">'},{type:"added",content:'          <div layout="row" class="images-container-title">'},{type:"added",content:"            <div flex>"},{type:"added",content:"              <h3>Add photos to your party!</h3>"},{type:"added",content:'              <div ng-controller="AddPhotoCtrl">'},{type:"added",content:"                <div ngf-drop ngf-select"},{type:"added",content:'                     ngf-change="addImages($files)"'},{type:"added",content:"                     ngf-drag-over-class=\"{accept:'dragover', reject:'dragover-err', delay:100}\" class=\"drop-box\""},{type:"added",content:'                     ngf-multiple="false" ngf-allow-dir="false" ngf-accept="\'image/*\'"'},{type:"added",content:'                     ngf-drop-available="dropAvailable">'},{type:"added",content:"                  <div>Click here to select image</div>"},{type:"added",content:"                  <div>"},{type:"added",content:"                    <strong>OR</strong>"},{type:"added",content:"                  </div>"},{type:"added",content:'                  <div ng-show="dropAvailable">You can also drop image to here</div>'},{type:"added",content:"                </div>"},{type:"added",content:"              </div>"},{type:"added",content:"            </div>"},{type:"added",content:"          </div>"},{type:"added",content:"        </md-whiteframe>"},{type:"context",content:'        <md-checkbox ng-model="newParty.public" id="public" aria-label="Public">'},{type:"context",content:"          Public"},{type:"context",content:"        </md-checkbox>"}],lineNumbers:{removed:{start:16,lines:6},added:{start:16,lines:26}}}]},sha:"a9df3d5173ba736131a18ae616eb06ab70959bf0",message:"Step 20.4: Add usage of file uploader",stepNumber:"20.4",summary:"Add usage of file uploader"},20.5:{files:{"client/parties/controllers/addPhoto.js":[{lines:[{type:"added",content:"angular.module(\"socially\").controller(\"AddPhotoCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$mdDialog',"},{type:"added",content:"  function($scope, $meteor, $rootScope, $state, $mdDialog) {"},{type:"added",content:"    $scope.addImages = function (files) {"},{type:"added",content:"      if (files.length > 0) {"},{type:"added",content:"        $scope.images.save(files[0]);"},{type:"added",content:"      }"},{type:"added",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.close = $mdDialog.hide;"},{type:"added",content:"  }]);"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:10}}}]},sha:"c24217d25ffa0641dddfbdbc7167d4df3d610a14",message:"Step 20.5: Create the file upload controller",stepNumber:"20.5",summary:"Create the file upload controller"},20.6:{files:{"client/parties/controllers/addNewParty.js":[{lines:[{type:"context",content:"angular.module(\"socially\").controller(\"AddNewPartyCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$mdDialog', 'parties',"},{type:"context",content:"  function ($scope, $meteor, $rootScope, $state, $mdDialog, parties) {"},{type:"context",content:"    $scope.newParty = {};"},{type:"added",content:"    $scope.images = $meteor.collectionFS(Images, false, Images);"},{type:"added",content:""},{type:"context",content:"    $scope.addNewParty = function () {"},{type:"context",content:"      if($scope.newParty.name){"},{type:"context",content:"        $scope.newParty.owner = $rootScope.currentUser._id;"}],lineNumbers:{removed:{start:1,lines:6},added:{start:1,lines:8}}}]},sha:"e3f675a3f7e509574ddb95456d71690747d4ebec",message:"Step 20.6: Add the images collection to the new party modal",stepNumber:"20.6",summary:"Add the images collection to the new party modal"},20.7:{files:{"client/parties/styles/parties.import.less":[{lines:[{type:"context",content:""},{type:"context",content:"        }"},{type:"context",content:"    }"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:".drop-box {"},{type:"added",content:"    background: #F8F8F8;"},{type:"added",content:"    border: 5px dashed #DDD;"},{type:"added",content:"    width: 230px;"},{type:"added",content:"    height: 120px;"},{type:"added",content:"    text-align: center;"},{type:"added",content:"    padding-top: 25px;"},{type:"added",content:"    margin-left: 10px;"},{type:"added",content:"    margin-bottom: 20px;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:".drop-box.dragover {"},{type:"added",content:"    border: 5px dashed blue;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:".drop-box.dragover-err {"},{type:"added",content:"    border: 5px dashed red;"},{type:"context",content:"}"}],lineNumbers:{removed:{start:63,lines:4},added:{start:63,lines:23}}}]},sha:"4945ff6ed459d4fd72bad66c5eda95f4c0c740e7",message:"Step 20.7: Add some style to the upload component",stepNumber:"20.7",summary:"Add some style to the upload component"},20.8:{files:{"client/lib/app.js":[{lines:[{type:"context",content:"  'angularUtils.directives.dirPagination',"},{type:"context",content:"  'uiGmapgoogle-maps',"},{type:"context",content:"  'ngMaterial',"},{type:"removed",content:"  'ngFileUpload'"},{type:"added",content:"  'ngFileUpload',"},{type:"added",content:"  'ngImgCrop'"},{type:"context",content:"]);"},{type:"context",content:""},{type:"context",content:"var themeIcons = ['$mdIconProvider' , function ($mdIconProvider) {"}],lineNumbers:{removed:{start:4,lines:7},added:{start:4,lines:8}}}]},sha:"422966f369af3ab055da47436629f9848f29260a",message:"Step 20.8: Add dependency for ngImgCrop",stepNumber:"20.8",summary:"Add dependency for ngImgCrop"},20.9:{files:{"client/parties/controllers/addPhoto.js":[{lines:[{type:"removed",content:"angular.module(\"socially\").controller(\"AddPhotoCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$mdDialog',"},{type:"removed",content:"  function($scope, $meteor, $rootScope, $state, $mdDialog) {"},{type:"added",content:'angular.module("socially").controller("AddPhotoCtrl", [\'$scope\','},{type:"added",content:"  function($scope) {"},{type:"context",content:"    $scope.addImages = function (files) {"},{type:"context",content:"      if (files.length > 0) {"},{type:"removed",content:"        $scope.images.save(files[0]);"},{type:"added",content:"        var reader = new FileReader();"},{type:"added",content:""},{type:"added",content:"        reader.onload = function (e) {"},{type:"added",content:"          $scope.$apply(function() {"},{type:"added",content:"            $scope.imgSrc = e.target.result;"},{type:"added",content:"            $scope.myCroppedImage = '';"},{type:"added",content:"          });"},{type:"added",content:"        };"},{type:"added",content:""},{type:"added",content:"        reader.readAsDataURL(files[0]);"},{type:"added",content:"      }"},{type:"added",content:"      else {"},{type:"added",content:"        $scope.imgSrc = undefined;"},{type:"context",content:"      }"},{type:"context",content:"    };"},{type:"removed",content:""},{type:"removed",content:"    $scope.close = $mdDialog.hide;"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:1,lines:10},added:{start:1,lines:20}}}]},sha:"8c7639b724798a8b58786db67bb71411cedcd3f4",message:"Step 20.9: Update the image upload logic",stepNumber:"20.9",summary:"Update the image upload logic"},"20.10":{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"context",content:"                  </div>"},{type:"context",content:'                  <div ng-show="dropAvailable">You can also drop image to here</div>'},{type:"context",content:"                </div>"},{type:"added",content:'                <div ng-show="imgSrc" class="ng-crop-container">'},{type:"added",content:"                  <h3>Great! Now edit & crop your image...</h3><br />"},{type:"added",content:'                  <img-crop image="imgSrc" result-image="myCroppedImage" area-type="square"></img-crop>'},{type:"added",content:"                </div>"},{type:"context",content:"              </div>"},{type:"context",content:"            </div>"},{type:"context",content:"          </div>"}],lineNumbers:{removed:{start:32,lines:6},added:{start:32,lines:10}}}]},sha:"e27b3fb77048aa6ebde6a28d6b8fadace29021d9",message:"Step 20.10: Add usage of ngImgCrop",stepNumber:"20.10",summary:"Add usage of ngImgCrop"},20.11:{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"context",content:"            <div flex>"},{type:"context",content:"              <h3>Add photos to your party!</h3>"},{type:"context",content:'              <div ng-controller="AddPhotoCtrl">'},{type:"removed",content:"                <div ngf-drop ngf-select"},{type:"added",content:'                <div ng-hide="imgSrc" ngf-drop ngf-select'},{type:"context",content:'                     ngf-change="addImages($files)"'},{type:"context",content:"                     ngf-drag-over-class=\"{accept:'dragover', reject:'dragover-err', delay:100}\" class=\"drop-box\""},{type:"context",content:'                     ngf-multiple="false" ngf-allow-dir="false" ngf-accept="\'image/*\'"'}],lineNumbers:{removed:{start:21,lines:7},added:{start:21,lines:7}}}]},sha:"425c2423533ae067b6064724482a1b203e142a06",message:"Step 20.11: Add ng-hide to the uploader",stepNumber:"20.11",summary:"Add ng-hide to the uploader"},20.12:{files:{"client/parties/styles/parties.import.less":[{lines:[{type:"context",content:""},{type:"context",content:".drop-box.dragover-err {"},{type:"context",content:"    border: 5px dashed red;"},{type:"removed",content:"}"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:".uploaded-image {"},{type:"added",content:"    max-height: 100px;"},{type:"added",content:"    max-width: 200px;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:".ng-crop-container {"},{type:"added",content:"    height: 350px;"},{type:"added",content:"}"}],lineNumbers:{removed:{start:82,lines:4},added:{start:82,lines:13}}}]},sha:"3583ec73305cfc97b6f9050094fd15729de2da4b",message:"Step 20.12: Add some CSS to make the crop look better",stepNumber:"20.12",summary:"Add some CSS to make the crop look better"},20.13:{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"context",content:'                  <div ng-show="dropAvailable">You can also drop image to here</div>'},{type:"context",content:"                </div>"},{type:"context",content:'                <div ng-show="imgSrc" class="ng-crop-container">'},{type:"removed",content:"                  <h3>Great! Now edit & crop your image...</h3><br />"},{type:"added",content:"                  <h3>Great! Now edit & crop your image...</h3>"},{type:"added",content:'                  <md-button ng-click="saveCroppedImage()" ng-disabled="!imgSrc" class="md-primary">'},{type:"added",content:"                    Save Image"},{type:"added",content:"                  </md-button>"},{type:"context",content:'                  <img-crop image="imgSrc" result-image="myCroppedImage" area-type="square"></img-crop>'},{type:"context",content:"                </div>"},{type:"context",content:"              </div>"}],lineNumbers:{removed:{start:33,lines:7},added:{start:33,lines:10}}}]},sha:"900fc2c877207bec3e4caf63b01b811b61b0ccc6",message:"Step 20.13: Add save button for the cropped image",stepNumber:"20.13",summary:"Add save button for the cropped image"},20.14:{files:{"client/parties/controllers/addPhoto.js":[{lines:[{type:"context",content:"        $scope.imgSrc = undefined;"},{type:"context",content:"      }"},{type:"context",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.saveCroppedImage = function() {"},{type:"added",content:"      if ($scope.myCroppedImage !== '') {"},{type:"added",content:"        $scope.images.save($scope.myCroppedImage).then(function(result) {"},{type:"added",content:"          $scope.newPartyImages.push(result[0]._id);"},{type:"added",content:"          $scope.imgSrc = undefined;"},{type:"added",content:"          $scope.myCroppedImage = '';"},{type:"added",content:"        });"},{type:"added",content:"      }"},{type:"added",content:"    };"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:17,lines:4},added:{start:17,lines:14}}}]},sha:"423ee015d8d234ab5f6eb1536c58c7d40749f575",message:"Step 20.14: Add logic to save the cropped image",stepNumber:"20.14",summary:"Add logic to save the cropped image"},20.15:{files:{"client/parties/controllers/addNewParty.js":[{lines:[{type:"context",content:"  function ($scope, $meteor, $rootScope, $state, $mdDialog, parties) {"},{type:"context",content:"    $scope.newParty = {};"},{type:"context",content:"    $scope.images = $meteor.collectionFS(Images, false, Images);"},{type:"added",content:"    $scope.newPartyImages = [];"},{type:"context",content:""},{type:"context",content:"    $scope.addNewParty = function () {"},{type:"context",content:"      if($scope.newParty.name){"}],lineNumbers:{removed:{start:2,lines:6},added:{start:2,lines:7}}}]},sha:"c48ae517c4a4003f6d1306615da6d56f2f469727",message:"Step 20.15: Add an array to hold all the new images",stepNumber:"20.15",summary:"Add an array to hold all the new images"},20.16:{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"context",content:'                  <img-crop image="imgSrc" result-image="myCroppedImage" area-type="square"></img-crop>'},{type:"context",content:"                </div>"},{type:"context",content:"              </div>"},{type:"added",content:"              <br />"},{type:"added",content:'              <div layout="row" class="images-container-title">'},{type:"added",content:'                <div class="party-image-container" ng-repeat="image in newPartyImages">'},{type:"added",content:'                  <img ng-src="{{ image.url() }}"/><br/>'},{type:"added",content:"                </div>"},{type:"added",content:"              </div>"},{type:"context",content:"            </div>"},{type:"context",content:"          </div>"},{type:"context",content:"        </md-whiteframe>"}],lineNumbers:{removed:{start:40,lines:6},added:{start:40,lines:12}}}]},sha:"5bd5febd776759b68c79910667182d900e176595",message:"Step 20.16: Add the display of uploaded images",stepNumber:"20.16",summary:"Add the display of uploaded images"},20.17:{files:{"client/lib/app.js":[{lines:[{type:"context",content:"  'uiGmapgoogle-maps',"},{type:"context",content:"  'ngMaterial',"},{type:"context",content:"  'ngFileUpload',"},{type:"removed",content:"  'ngImgCrop'"},{type:"added",content:"  'ngImgCrop',"},{type:"added",content:"  'xeditable'"},{type:"context",content:"]);"},{type:"context",content:""},{type:"context",content:"var themeIcons = ['$mdIconProvider' , function ($mdIconProvider) {"}],lineNumbers:{removed:{start:5,lines:7},added:{start:5,lines:8}}}]},sha:"773d85d09832764ff2fcb18e4f7a91d39683c6c0",message:"Step 20.17: Add xeditable dependency",stepNumber:"20.17",summary:"Add xeditable dependency"},20.18:{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"context",content:"<md-dialog>"},{type:"removed",content:"  <form>"},{type:"context",content:"    <md-toolbar>"},{type:"context",content:'      <div class="md-toolbar-tools">'},{type:"context",content:"        <h2> Create a new party</h2>"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:4}}},{lines:[{type:"context",content:'              <div layout="row" class="images-container-title">'},{type:"context",content:'                <div class="party-image-container" ng-repeat="image in newPartyImages">'},{type:"context",content:'                  <img ng-src="{{ image.url() }}"/><br/>'},{type:"added",
content:'                  <a href="#" editable-text="image.metadata.description"'},{type:"added",content:"                     onbeforesave=\"updateDescription($data, image)\">{{ image.metadata.description || 'Click to add description' }}</a>"},{type:"context",content:"                </div>"},{type:"context",content:"              </div>"},{type:"context",content:"            </div>"}],lineNumbers:{removed:{start:44,lines:6},added:{start:43,lines:8}}},{lines:[{type:"context",content:"        Add"},{type:"context",content:"      </md-button>"},{type:"context",content:"    </div>"},{type:"removed",content:"  </form>"},{type:"context",content:"</md-dialog>"}],lineNumbers:{removed:{start:63,lines:5},added:{start:64,lines:4}}}]},sha:"bc5247b60208e231dd942b061b0b1a29330583d3",message:"Step 20.18: Add usage of angular-xeditable",stepNumber:"20.18",summary:"Add usage of angular-xeditable"},20.19:{files:{"client/parties/controllers/addNewParty.js":[{lines:[{type:"context",content:"        $scope.newParty = '';"},{type:"context",content:"        $mdDialog.hide();"},{type:"context",content:"      }"},{type:"removed",content:"    }"},{type:"added",content:"    };"},{type:"added",content:""},{type:"context",content:"    $scope.close = function () {"},{type:"context",content:"      $mdDialog.hide();"},{type:"removed",content:"    }"},{type:"added",content:"    };"},{type:"added",content:""},{type:"added",content:"    $scope.updateDescription = function($data, image) {"},{type:"added",content:"      image.update({$set: {'metadata.description': $data}});"},{type:"added",content:"    };"},{type:"context",content:"  }]);"}],lineNumbers:{removed:{start:11,lines:8},added:{start:11,lines:13}}}]},sha:"798e34d0d99d66e8922ea58a4e521e8410417df8",message:"Step 20.19: Add the logic to update the description",stepNumber:"20.19",summary:"Add the logic to update the description"},"20.20":{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"context",content:"<md-dialog>"},{type:"added",content:'  <div class="like-form">'},{type:"context",content:"    <md-toolbar>"},{type:"context",content:'      <div class="md-toolbar-tools">'},{type:"context",content:"        <h2> Create a new party</h2>"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:5}}},{lines:[{type:"context",content:"        Add"},{type:"context",content:"      </md-button>"},{type:"context",content:"    </div>"},{type:"added",content:"  </div>"},{type:"context",content:"</md-dialog>"}],lineNumbers:{removed:{start:64,lines:4},added:{start:65,lines:5}}}]},sha:"884ae9c5afd07e42ff8ce41904ed323e922e0c35",message:"Step 20.20: Use div instead of form",stepNumber:"20.20",summary:"Use div instead of form"},20.21:{files:{"client/styles/main.less":[{lines:[{type:"context",content:"html, body {"},{type:"context",content:"}"},{type:"context",content:""},{type:"added",content:".like-form {"},{type:"added",content:"  display: -webkit-flex;"},{type:"added",content:"  display: -ms-flexbox;"},{type:"added",content:"  display: flex;"},{type:"added",content:"  -webkit-flex-direction: column;"},{type:"added",content:"  -ms-flex-direction: column;"},{type:"added",content:"  flex-direction: column;"},{type:"added",content:"  overflow: auto;"},{type:"added",content:"}"},{type:"added",content:""},{type:"context",content:'@import "../parties/styles/parties.import.less";'},{type:"context",content:'@import "../parties/styles/party.details.import.less";'},{type:"context",content:'@import "../parties/styles/navbar.import.less";'}],lineNumbers:{removed:{start:1,lines:6},added:{start:1,lines:16}}}]},sha:"f79f925cdf7285d2e680b3422f03522d6d21cf66",message:"Step 20.21: Add form-layout to the div",stepNumber:"20.21",summary:"Add form-layout to the div"},20.22:{files:{"client/lib/app.js":[{lines:[{type:"context",content:"  'ngMaterial',"},{type:"context",content:"  'ngFileUpload',"},{type:"context",content:"  'ngImgCrop',"},{type:"removed",content:"  'xeditable'"},{type:"added",content:"  'xeditable',"},{type:"added",content:"  'angular-sortable-view'"},{type:"context",content:"]);"},{type:"context",content:""},{type:"context",content:"var themeIcons = ['$mdIconProvider' , function ($mdIconProvider) {"}],lineNumbers:{removed:{start:6,lines:7},added:{start:6,lines:8}}}]},sha:"ae7947a7b6a2c9f9360baf89b338cefbf8fb14d8",message:"Step 20.22: Add dependency for 'angular-sortable-view'",stepNumber:"20.22",summary:"Add dependency for 'angular-sortable-view'"},20.23:{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"context",content:"                </div>"},{type:"context",content:"              </div>"},{type:"context",content:"              <br />"},{type:"removed",content:'              <div layout="row" class="images-container-title">'},{type:"removed",content:'                <div class="party-image-container" ng-repeat="image in newPartyImages">'},{type:"removed",content:'                  <img ng-src="{{ image.url() }}"/><br/>'},{type:"added",content:'              <div layout="row" class="images-container-title" sv-root sv-part="newPartyImages">'},{type:"added",content:'                <div sv-element class="party-image-container" ng-repeat="image in newPartyImages">'},{type:"added",content:'                  <img draggable="false" ng-src="{{ image.url() }}"/><br/>'},{type:"context",content:'                  <a href="#" editable-text="image.metadata.description"'},{type:"context",content:"                     onbeforesave=\"updateDescription($data, image)\">{{ image.metadata.description || 'Click to add description' }}</a>"},{type:"context",content:"                </div>"}],lineNumbers:{removed:{start:41,lines:9},added:{start:41,lines:9}}}]},sha:"0b18473d91a23bc47eb2aaed72c80aa741a37ff2",message:"Step 20.23: Add usage for angular-sortable",stepNumber:"20.23",summary:"Add usage for angular-sortable"},20.24:{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"context",content:"              <br />"},{type:"context",content:'              <div layout="row" class="images-container-title" sv-root sv-part="newPartyImages">'},{type:"context",content:'                <div sv-element class="party-image-container" ng-repeat="image in newPartyImages">'},{type:"added",content:'                  <div class="main-image" ng-show="$index === 0">Main Image</div>'},{type:"context",content:'                  <img draggable="false" ng-src="{{ image.url() }}"/><br/>'},{type:"context",content:'                  <a href="#" editable-text="image.metadata.description"'},{type:"context",content:"                     onbeforesave=\"updateDescription($data, image)\">{{ image.metadata.description || 'Click to add description' }}</a>"}],lineNumbers:{removed:{start:43,lines:6},added:{start:43,lines:7}}}]},sha:"4a22333ecf3b4fbcf4ae2eaf2b5e191c76c50043",message:"Step 20.24: Add indication for main image in the view",stepNumber:"20.24",summary:"Add indication for main image in the view"},20.25:{files:{"client/parties/styles/parties.import.less":[{lines:[{type:"context",content:".ng-crop-container {"},{type:"context",content:"    height: 350px;"},{type:"context",content:"}"},{type:"added",content:""},{type:"added",content:".images-container-title {"},{type:"added",content:"    padding-bottom: 30px;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:".party-image-container {"},{type:"added",content:"    position: relative;"},{type:"added",content:"    margin-right: 10px;"},{type:"added",content:"    max-height: 200px;"},{type:"added",content:"    max-width: 200px;"},{type:"added",content:""},{type:"added",content:"    img {"},{type:"added",content:"        max-height: 100%;"},{type:"added",content:"        max-width: 100%;"},{type:"added",content:"    }"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:".main-image {"},{type:"added",content:"    position: absolute;"},{type:"added",content:"    top: 0;"},{type:"added",content:"    left: 0;"},{type:"added",content:"    width: 100%;"},{type:"added",content:"    text-align: center;"},{type:"added",content:"    background-color: #f8f8f8;"},{type:"added",content:"}"}],lineNumbers:{removed:{start:92,lines:3},added:{start:92,lines:28}}}]},sha:"07a0bc0e6f5e9a55f30f4421914906337975d9b9",message:"Step 20.25: Add some css to the image gallery",stepNumber:"20.25",summary:"Add some css to the image gallery"},20.26:{files:{"client/parties/controllers/addNewParty.js":[{lines:[{type:"context",content:"    $scope.addNewParty = function () {"},{type:"context",content:"      if($scope.newParty.name){"},{type:"context",content:"        $scope.newParty.owner = $rootScope.currentUser._id;"},{type:"added",content:""},{type:"added",content:"        // Link the images and the order to the new party"},{type:"added",content:"        if ($scope.newPartyImages && $scope.newPartyImages.length > 0) {"},{type:"added",content:"          $scope.newParty.images = [];"},{type:"added",content:""},{type:"added",content:"          angular.forEach($scope.newPartyImages, function(image) {"},{type:"added",content:"            $scope.newParty.images.push({id: image._id});"},{type:"added",content:"          });"},{type:"added",content:"        }"},{type:"added",content:""},{type:"added",content:"        // Save the party"},{type:"context",content:"        parties.push($scope.newParty);"},{type:"removed",content:"        $scope.newParty = '';"},{type:"added",content:""},{type:"added",content:"        // Reset the form"},{type:"added",content:"        $scope.newPartyImages = [];"},{type:"added",content:"        $scope.newParty = {};"},{type:"context",content:"        $mdDialog.hide();"},{type:"context",content:"      }"},{type:"context",content:"    };"}],lineNumbers:{removed:{start:7,lines:8},added:{start:7,lines:22}}}]},sha:"e3887186da6506b7f60c5314d6d4d967b7f6dda7",message:"Step 20.26: Save the party with the images",stepNumber:"20.26",summary:"Save the party with the images"},20.27:{files:{"client/parties/views/parties-list.ng.html":[{lines:[{type:"context",content:'      <md-content class="md-padding" style="padding-top:0;">'},{type:"context",content:'        <div  dir-paginate="party in parties | itemsPerPage: perPage" total-items="partiesCount.count" class="ma-party">'},{type:"context",content:"          <md-card>"},{type:"added",content:'            <div ng-if="party.images && party.images.length > 0"'},{type:"added",content:'                 ng-style="getMainImage(party.images)"'},{type:"added",content:'                 class="party-image">'},{type:"added",content:"            </div>"},{type:"context",content:"            <md-card-content>"},{type:"context",content:'              <h2 class="md-title ma-name" style=""><a href="/parties/{{party._id}}">{{party.name}}</a></h2>'},{type:"context",content:'              <p class="ma-description" style="padding:0 10px;margin-bottom:35px;margin-top: 6px;">{{party.description}}</p>'}],lineNumbers:{removed:{start:19,lines:6},added:{start:19,lines:10}}}]},sha:"95a18c9967b27f02b95ce28101e4e5b8b02bbf54",message:"Step 20.27: Display the party's main image",stepNumber:"20.27",summary:"Display the party's main image"},20.28:{files:{"client/parties/controllers/partiesList.js":[{lines:[{type:"removed",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$mdDialog',"},{type:"removed",content:"  function($scope, $meteor, $rootScope, $state, $mdDialog){"},{type:"added",content:"angular.module(\"socially\").controller(\"PartiesListCtrl\", ['$scope', '$meteor', '$rootScope', '$state', '$mdDialog', '$filter',"},{type:"added",content:"  function($scope, $meteor, $rootScope, $state, $mdDialog, $filter){"},{type:"context",content:""},{type:"context",content:"    $scope.page = 1;"},{type:"context",content:"    $scope.perPage = 3;"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:5}}},{lines:[{type:"context",content:"      });"},{type:"context",content:"    });"},{type:"context",content:""},{type:"added",content:"    $scope.getMainImage = function(images) {"},{type:"added",content:"      if (images && images.length && images[0] && images[0].id) {"},{type:"added",content:"        var url = $filter('filter')($scope.images, {_id: images[0].id})[0].url();"},{type:"added",content:""},{type:"added",content:"        return {"},{type:"added",content:"          'background-image': 'url(\"' + url + '\")'"},{type:"added",content:"        }"},{type:"added",content:"      }"},{type:"added",content:"    };"},{type:"added",content:""},{type:"context",content:"    $meteor.autorun($scope, function() {"},{type:"context",content:"      $meteor.subscribe('parties', {"},{type:"context",content:"        limit: parseInt($scope.getReactively('perPage')),"}],lineNumbers:{removed:{start:15,lines:6},added:{start:15,lines:16}}}]},sha:"82ae3ba081ccffd24bc60ec19d274b3579769a55",message:"Step 20.28: Add the logic to get the main image",stepNumber:"20.28",summary:"Add the logic to get the main image"},20.29:{files:{"client/parties/styles/parties.import.less":[{lines:[{type:"context",content:"    width: 100%;"},{type:"context",content:"    text-align: center;"},{type:"context",content:"    background-color: #f8f8f8;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:".party-image {"},{type:"added",content:"    background-size: cover;"},{type:"added",content:"    width: 100%;"},{type:"added",content:"    height: 200px;"},{type:"context",content:"}"}],lineNumbers:{removed:{start:116,lines:4},added:{start:116,lines:10}}}]},sha:"dd8834b14fd6ab72673c62a0de45fb4bfc703ceb",message:"Step 20.29: Add style to the main image",stepNumber:"20.29",summary:"Add style to the main image"},the:{files:{".meteor/packages":[{lines:[{type:"context",content:"alexk111:ng-img-crop"},{type:"context",content:"vitalets:angular-xeditable"},{type:"context",content:"netanelgilad:angular-sortable-view"},{type:"added",content:"cfs:graphicsmagick"}],lineNumbers:{removed:{start:26,lines:3},added:{start:26,lines:4}}}],".meteor/versions":[{lines:[{type:"context",content:"cfs:collection-filters@0.2.4"},{type:"context",content:"cfs:data-man@0.0.6"},{type:"context",content:"cfs:file@0.1.17"},{type:"added",content:"cfs:graphicsmagick@0.0.18"},{type:"context",content:"cfs:gridfs@0.0.33"},{type:"context",content:"cfs:http-methods@0.0.30"},{type:"context",content:"cfs:http-publish@0.0.13"}],lineNumbers:{removed:{start:27,lines:6},added:{start:27,lines:7}}}]},sha:"0823fc6b96ffa3552506b7614f710cb681f9b44b",message:"Add the cfs:graphicsmagick package",stepNumber:"the",summary:"graphicsmagick package"},"20.30":{files:{"model/images.js":[{lines:[{type:"context",content:'Images = new FS.Collection("images", {'},{type:"context",content:"  stores: ["},{type:"removed",content:'    new FS.Store.GridFS("original")'},{type:"added",content:'    new FS.Store.GridFS("original"),'},{type:"added",content:'    new FS.Store.GridFS("thumbnail", {'},{type:"added",content:"      transformWrite: function(fileObj, readStream, writeStream) {"},{type:"added",content:"        gm(readStream, fileObj.name()).resize('32', '32', '!').stream().pipe(writeStream);"},{type:"added",content:"      }"},{type:"added",content:"    })"},{type:"context",content:"  ],"},{type:"context",content:"  filter: {"},{type:"context",content:"    allow: {"}],lineNumbers:{removed:{start:1,lines:6},added:{start:1,lines:11}}}]},sha:"3462de3f4d60c7b6781ec16f3a87e63570022858",message:"Step 20.30: Add another store for the thumbnails",stepNumber:"20.30",summary:"Add another store for the thumbnails"},20.31:{files:{"client/parties/views/add-new-party-modal.ng.html":[{lines:[{type:"context",content:'              <div layout="row" class="images-container-title" sv-root sv-part="newPartyImages">'},{type:"context",content:'                <div sv-element class="party-image-container" ng-repeat="image in newPartyImages">'},{type:"context",content:'                  <div class="main-image" ng-show="$index === 0">Main Image</div>'},{type:"removed",content:'                  <img draggable="false" ng-src="{{ image.url() }}"/><br/>'},{type:"added",content:'                  <img draggable="false" ng-src="{{ image.url({store: \'thumbnail\'}) }}"/><br/>'},{type:"context",content:'                  <a href="#" editable-text="image.metadata.description"'},{type:"context",content:"                     onbeforesave=\"updateDescription($data, image)\">{{ image.metadata.description || 'Click to add description' }}</a>"},{type:"context",content:"                </div>"}],lineNumbers:{removed:{start:44,lines:7},added:{start:44,lines:7}}}]},sha:"de2e51430b860ed2f4e5a20604ebc81a1dcad3d1",message:"Step 20.31: Add thumbnails usage",stepNumber:"20.31",summary:"Add thumbnails usage"}}}();

!function(){StepDiffs["client/content/patches/angular2-meteor.multi.patch"]={undefined:{files:{".meteor/versions":[{lines:[{type:"context",content:"accounts-twitter@1.0.4"},{type:"context",content:"accounts-ui@1.1.5"},{type:"context",content:"accounts-ui-unstyled@1.1.7"},{type:"removed",content:"autopublish@1.0.3"},{type:"context",content:"autoupdate@1.2.1"},{type:"context",content:"base64@1.0.3"},{type:"context",content:"binary-heap@1.0.3"}],lineNumbers:{removed:{start:5,lines:7},added:{start:5,lines:6}}}]},sha:"26a15af14309d9245777907cfd752070d9cca3ac",message:"update package versions after autopublish removed"},.1:{files:{"client/index.html":[{lines:[{type:"added",content:"<body>"},{type:"added",content:"  <p>Nothing here</p>"},{type:"added",content:"</body>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:3}}}]},sha:"e33acd67bf9dd3b8ae5b03c96740c3c4a8a29b1f",message:"Step 0.1: create client/index.html",stepNumber:"0.1",summary:"create client/index.html"},.2:{files:{".meteor/packages":[{lines:[{type:"context",content:"meteor-platform"},{type:"context",content:"autopublish"},{type:"context",content:"insecure"},{type:"added",content:"shmck:angular2"},{type:"added",content:"netanelgilad:angular2-typescript"}],lineNumbers:{removed:{start:7,lines:3},added:{start:7,lines:5}}}]},sha:"9bb10b5d2c9a1fb91e78e029e30a5b8656c19bf3",message:"Step 0.2: add angular2 package dependencies",stepNumber:"0.2",summary:"add angular2 package dependencies"},.3:{files:{"client/index.html":[{lines:[{type:"context",content:"<body>"},{type:"context",content:"  <p>Nothing here</p>"},{type:"added",content:'  <script>System.import("client/app");</script>'},{type:"context",content:"</body>"}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:4}}}]},sha:"ff5f207091dd524ee3227608f54c5be829d4d7a3",message:"Step 0.3: Import bootstrap component with System.js",stepNumber:"0.3",summary:"Import bootstrap component with System.js"},.4:{files:{"client/index.html":[{lines:[{type:"context",content:"<body>"},{type:"removed",content:"  <p>Nothing here</p>"},{type:"added",content:"  <app></app>"},{type:"context",content:'  <script>System.import("client/app");</script>'},{type:"context",content:"</body>"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}}]},sha:"ee926d13f01c3265787309b9a2eacda374647a98",message:"Step 0.4: Create Angular2 root component",stepNumber:"0.4",summary:"Create Angular2 root component"},.5:{files:{"client/app.ts":[{lines:[{type:"added",content:"import {Component, View, bootstrap} from 'angular2/angular2';"},{type:"added",content:""},{type:"added",content:"@Component({"},{type:"added",content:"  selector: 'app'"},{type:"added",content:"})"},{type:"added",content:"@View({"},{type:"added",content:'  template: "<p>Hello World!</p>"'},{type:"added",content:"})"},{type:"added",content:"class Socially {}"},{type:"added",content:""},{type:"added",content:"bootstrap(Socially);"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:11}}}]},sha:"42d3b0456ae94f7f10ebec9bffce9de660d5f01c",message:"Step 0.5: Create root component, app.ts",stepNumber:"0.5",summary:"Create root component, app.ts"},.6:{files:{"client/app.ts":[{lines:[{type:"context",content:"  selector: 'app'"},{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"removed",content:'  template: "<p>Hello World!</p>"'},{type:"added",content:"  templateUrl: 'client/index.ng.html'"},{type:"context",content:"})"},{type:"context",content:"class Socially {}"},{type:"context",content:""}],lineNumbers:{removed:{start:4,lines:7},added:{start:4,lines:7}}}]},sha:"b6eee46222135237cddc2c1af2d71a0402a1dd90",message:"Step 0.6: change inline template to templateUrl",stepNumber:"0.6",summary:"change inline template to templateUrl"},.7:{files:{"client/index.ng.html":[{lines:[{type:"added",content:"<p>Nothing here {{ 'yet' + '!' }}</p>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:null}}}]},sha:"ef8934e740c8d4250e757cae56f057c4886aa803",message:"Step 0.7: create index.ng.html template",stepNumber:"0.7",summary:"create index.ng.html template"},1.1:{files:{"client/index.ng.html":[{lines:[{type:"removed",content:"<p>Nothing here {{ 'yet' + '!' }}</p>"},{type:"added",content:"<ul>"},{type:"added",content:"  <li>"},{type:"added",content:"    <span>Dubstep-Free Zone</span>"},{type:"added",content:"    <p>"},{type:"added",content:"      Can we please just for an evening not listen to dubstep."},{type:"added",content:"    </p>"},{type:"added",content:"  </li>"},{type:"added",content:"  <li>"},{type:"added",content:"    <span>All dubstep all the time</span>"},{type:"added",content:"    <p>"},{type:"added",content:"      Get it on!"},{type:"added",content:"    </p>"},{type:"added",content:"  </li>"},{type:"added",content:"</ul>"}],lineNumbers:{removed:{start:1,lines:null},added:{start:1,lines:14}}}]},sha:"cd442ca02603085fc5fab94b8c028d5ce2599612",message:"Step 1.1: Add static HTML to the template",stepNumber:"1.1",summary:"Add static HTML to the template"},2.1:{files:{"client/index.ng.html":[{lines:[{type:"removed",content:"<ul>"},{type:"removed",content:"  <li>"},{type:"removed",content:"    <span>Dubstep-Free Zone</span>"},{type:"removed",content:"    <p>"},{type:"removed",content:"      Can we please just for an evening not listen to dubstep."},{type:"removed",content:"    </p>"},{type:"removed",content:"  </li>"},{type:"removed",content:"  <li>"},{type:"removed",content:"    <span>All dubstep all the time</span>"},{type:"removed",content:"    <p>"},{type:"removed",content:"      Get it on!"},{type:"removed",content:"    </p>"},{type:"removed",content:"  </li>"},{type:"removed",content:"</ul>"},{type:"added",content:"<div>"},{type:"added",content:"  <ul>"},{type:"added",content:'    <li *ng-for="#party of parties">'},{type:"added",content:"      {{party.name}}"},{type:"added",content:"      <p>{{party.description}}</p>"},{type:"added",content:"    </li>"},{type:"added",content:"  </ul>"},{type:"added",content:"</div>"}],lineNumbers:{removed:{start:1,lines:14},added:{start:1,lines:8}}}]},sha:"966577475dc756f93f425d1b3b224badcb58bf8e",message:"Step 2.1: Use dynamic template with NgFor",stepNumber:"2.1",summary:"Use dynamic template with NgFor"},2.2:{files:{"client/app.ts":[{lines:[{type:"removed",content:"import {Component, View, bootstrap} from 'angular2/angular2';"},{type:"added",content:"import {Component, View, NgFor, bootstrap} from 'angular2/angular2';"},{type:"context",content:""},{type:"context",content:"@Component({"},{type:"context",content:"  selector: 'app'"},{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"removed",content:"  templateUrl: 'client/index.ng.html'"},{type:"added",content:"  templateUrl: 'client/index.ng.html',"},{type:"added",content:"  directives: [NgFor]"},{type:"context",content:"})"},{type:"context",content:"class Socially {}"},{type:"context",content:""}],lineNumbers:{removed:{start:1,lines:10},added:{start:1,lines:11}}}]},sha:"efe71e78200cb345f12cc33c4e8d70d2656373be",message:"Step 2.2: Load NgFor dependency, add to View directives list",stepNumber:"2.2",summary:"Load NgFor dependency, add to View directives list"},2.3:{files:{"client/app.ts":[{lines:[{type:"context",content:"  templateUrl: 'client/index.ng.html',"},{type:"context",content:"  directives: [NgFor]"},{type:"context",content:"})"},{type:"removed",content:"class Socially {}"},{type:"added",content:"class Socially {"},{type:"added",content:"  constructor () {"},{type:"added",content:"    this.parties = ["},{type:"added",content:"      {'name': 'Dubstep-Free Zone',"},{type:"added",content:"        'description': 'Can we please just for an evening not listen to dubstep.'},"},{type:"added",content:"      {'name': 'All dubstep all the time',"},{type:"added",content:"        'description': 'Get it on!'},"},{type:"added",content:"      {'name': 'Savage lounging',"},{type:"added",content:"        'description': 'Leisure suit required. And only fiercest manners.'}"},{type:"added",content:"    ];"},{type:"added",content:"  }"},{type:"added",content:"}"},{type:"context",content:""},{type:"context",content:"bootstrap(Socially);"}],lineNumbers:{removed:{start:7,lines:6},added:{start:7,lines:17}}}]},sha:"9effab9957b1e986d4fd03aabbca68436d854d5d",message:"Step 2.3: Load parties data into Socially",stepNumber:"2.3",summary:"Load parties data into Socially"},3.1:{files:{"model/parties.ts":[{lines:[{type:"added",content:"Parties = new Mongo.Collection('parties');"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:null}}}]},sha:"75c029bad1d83df502cb767331bbe43da36fe6a1",message:"Step 3.1: Add the parties collection",stepNumber:"3.1",summary:"Add the parties collection"},3.2:{files:{"client/app.ts":[{lines:[{type:"context",content:"})"},{type:"context",content:"class Socially {"},{type:"context",content:"  constructor () {"},{type:"removed",content:"    this.parties = ["},{type:"removed",content:"      {'name': 'Dubstep-Free Zone',"},{type:"removed",content:"        'description': 'Can we please just for an evening not listen to dubstep.'},"},{type:"removed",content:"      {'name': 'All dubstep all the time',"},{type:"removed",content:"        'description': 'Get it on!'},"},{type:"removed",content:"      {'name': 'Savage lounging',"},{type:"removed",content:"        'description': 'Leisure suit required. And only fiercest manners.'}"},{type:"removed",content:"    ];"},{type:"added",content:"    Tracker.autorun(zone.bind(() => {"},{type:"added",content:"      this.parties = Parties.find().fetch();"},{type:"added",content:"    }));"},{type:"context",content:"  }"},{type:"context",content:"}"},{type:"context",content:""}],lineNumbers:{removed:{start:9,lines:14},added:{start:9,lines:9}}}]},sha:"aa2a3af74e0cd2b9bacff9c48300bec88a6d44f2",message:"Step 3.2: Fetch parties reactively",stepNumber:"3.2",summary:"Fetch parties reactively"},3.3:{files:{"server/loadParties.ts":[{lines:[{type:"added",content:"Meteor.startup(function () {"},{type:"added",content:"  if (Parties.find().count() === 0) {"},{type:"added",content:""},{type:"added",content:"    var parties = ["},{type:"added",content:"      {'name': 'Dubstep-Free Zone',"},{type:"added",content:"        'description': 'Can we please just for an evening not listen to dubstep.'},"},{type:"added",content:"      {'name': 'All dubstep all the time',"},{type:"added",content:"        'description': 'Get it on!'},"},{type:"added",content:"      {'name': 'Savage lounging',"},{type:"added",content:"        'description': 'Leisure suit required. And only fiercest manners.'}"},{type:"added",content:"    ];"},{type:"added",content:""},{type:"added",content:"    for (var i = 0; i < parties.length; i++)"},{type:"added",content:"      Parties.insert(parties[i]);"},{type:"added",content:"  }"},{type:"added",content:"});"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:16}}}]},sha:"d1b12cd697d8d65c7a49bb2fddbc9fc871f6f922",message:"Step 3.3: Load initial parties data if none exists",stepNumber:"3.3",summary:"Load initial parties data if none exists"},4.1:{files:{"client/parties-form/parties-form.ts":[{lines:[{type:"added",content:"import {Component, View} from 'angular2/angular2';"},{type:"added",content:""},{type:"added",content:"@Component({"},{type:"added",content:"  selector: 'parties-form'"},{type:"added",content:"})"},{type:"added",content:"@View({"},{type:"added",content:"  templateUrl: 'client/parties-form/parties-form.ng.html'"},{type:"added",content:"})"},{type:"added",content:"export class PartiesForm {}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:9}}}]},sha:"47b59d2947c49b8ff3a753774cdba67774ce7280",message:"Step 4.1: Create parties-form component",stepNumber:"4.1",summary:"Create parties-form component"},4.2:{files:{"client/parties-form/parties-form.ng.html":[{lines:[{type:"added",content:"<form>"},{type:"added",content:"  <label>Name</label>"},{type:"added",content:'  <input type="text">'},{type:"added",content:"  <label>Description</label>"},{type:"added",content:'  <input type="text">'},{type:"added",content:"  <button>Add</button>"},{type:"added",content:"</form>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:7}}}]},sha:"c677fc2452a068bcdfddcab7b3a2a154aae7ff59",message:"Step 4.2: Initialize the parties-form view",stepNumber:"4.2",summary:"Initialize the parties-form view"},4.3:{files:{"client/index.ng.html":[{lines:[{type:"context",content:"<div>"},{type:"added",content:""},{type:"added",content:"  <parties-form></parties-form>"},{type:"added",content:""},{type:"context",content:"  <ul>"},{type:"context",content:'    <li *ng-for="#party of parties">'},{type:"context",content:"      {{party.name}}"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:7}}}]},sha:"39ab98882325981c545fcd397277563d01086289",message:"Step 4.3: Load the parties-form component",stepNumber:"4.3",summary:"Load the parties-form component"},4.4:{files:{"client/app.ts":[{lines:[{type:"context",content:"import {Component, View, NgFor, bootstrap} from 'angular2/angular2';"},{type:"added",content:"import {PartiesForm} from 'client/parties-form/parties-form';"},{type:"context",content:""},{type:"context",content:"@Component({"},{type:"context",content:"  selector: 'app'"},{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"context",content:"  templateUrl: 'client/index.ng.html',"},{type:"removed",content:"  directives: [NgFor]"},{type:"added",content:"  directives: [NgFor, PartiesForm]"},{type:"context",content:"})"},{type:"context",content:"class Socially {"},{type:"context",content:"  constructor () {"}],lineNumbers:{removed:{start:1,lines:11},added:{start:1,lines:12}}}]},sha:"084104bc168424722dac922c139e64b231e3b728",message:"Step 4.4: Import the Parties form and add it to the App View directives list",stepNumber:"4.4",summary:"Import the Parties form and add it to the App View directives list"},4.5:{files:{"client/parties-form/parties-form.ts":[{lines:[{type:"context",content:"import {Component, View} from 'angular2/angular2';"},{type:"added",content:"import {FORM_DIRECTIVES, Control, ControlGroup, Validators} from 'angular2/angular2';"},{type:"context",content:""},{type:"context",content:"@Component({"},{type:"context",content:"  selector: 'parties-form'"},{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"removed",content:"  templateUrl: 'client/parties-form/parties-form.ng.html'"},{type:"added",content:"  templateUrl: 'client/parties-form/parties-form.ng.html',"},{type:"added",content:"  directives: [FORM_DIRECTIVES]"},{type:"context",content:"})"},{type:"context",content:"export class PartiesForm {}"}],lineNumbers:{removed:{start:1,lines:9},added:{start:1,lines:11}}}]},sha:"47740052d4bb283ff90af08c2843a309f4ab4369",message:"Step 4.5: Import form directives and add them to the list of parties-form view directives",stepNumber:"4.5",summary:"Import form directives and add them to the list of parties-form view directives"},4.6:{files:{"client/parties-form/parties-form.ts":[{lines:[{type:"context",content:"  templateUrl: 'client/parties-form/parties-form.ng.html',"},{type:"context",content:"  directives: [FORM_DIRECTIVES]"},{type:"context",content:"})"},{type:"removed",content:"export class PartiesForm {}"},{type:"added",content:"export class PartiesForm {"},{type:"added",content:"  constructor() {"},{type:"added",content:"    this.partiesForm = new ControlGroup({"},{type:"added",content:"      name: new Control(''),"},{type:"added",content:"      description: new Control('')"},{type:"added",content:"    });"},{type:"added",content:"  }"},{type:"added",content:"}"}],lineNumbers:{removed:{start:8,lines:4},added:{start:8,lines:11}}}]},sha:"765ca43549184c45bf9af47a6c755bb00fe23e6d",message:"Step 4.6: Create a partiesForm control group",stepNumber:"4.6",summary:"Create a partiesForm control group"},4.7:{files:{"client/parties-form/parties-form.ts":[{lines:[{type:"context",content:"export class PartiesForm {"},{type:"context",content:"  constructor() {"},{type:"context",content:"    this.partiesForm = new ControlGroup({"},{type:"removed",content:"      name: new Control(''),"},{type:"removed",content:"      description: new Control('')"},{type:"added",content:"      name: new Control('', Validators.required),"},{type:"added",content:"      description: new Control('', Validators.required)"},{type:"context",content:"    });"},{type:"context",content:"  }"},{type:"context",content:"}"}],lineNumbers:{removed:{start:11,lines:8},added:{start:11,lines:8}}}]},sha:"e55ade688db5d756a82286a81530298bca6ac62a",message:"Step 4.7: Add 'required' form validators",stepNumber:"4.7",summary:"Add 'required' form validators"},4.8:{files:{"client/parties-form/parties-form.ng.html":[{lines:[{type:"removed",content:"<form>"},{type:"added",content:'<form [ng-form-model]="partiesForm">'},{type:"context",content:"  <label>Name</label>"},{type:"removed",content:'  <input type="text">'},{type:"added",content:'  <input type="text" ng-control="name">'},{type:"context",content:"  <label>Description</label>"},{type:"removed",content:'  <input type="text">'},{type:"added",content:'  <input type="text" ng-control="description">'},{type:"context",content:"  <button>Add</button>"},{type:"context",content:"</form>"}],lineNumbers:{removed:{start:1,lines:7},added:{start:1,lines:7}}}]},sha:"8c404beac16c0f3a64448f82b166776fb8d85c9f",message:"Step 4.8: Add ng-form-model & ng-control's to the parties-form template",stepNumber:"4.8",summary:"Add ng-form-model & ng-control's to the parties-form template"},4.9:{files:{"client/parties-form/parties-form.ng.html":[{lines:[{type:"removed",content:'<form [ng-form-model]="partiesForm">'},{type:"added",content:'<form [ng-form-model]="partiesForm" #f="form" (submit)="add(f.value)">'},{type:"context",content:"  <label>Name</label>"},{type:"context",content:'  <input type="text" ng-control="name">'},{type:"context",content:"  <label>Description</label>"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}}]},sha:"310b5a4c28e0f98f117700ac96eb3c5d71924879",message:"Step 4.9: Add local variable for form & submit event to parties-form template",stepNumber:"4.9",summary:"Add local variable for form & submit event to parties-form template"},"4.10":{files:{"client/parties-form/parties-form.ts":[{lines:[{type:"context",content:"      description: new Control('', Validators.required)"},{type:"context",content:"    });"},{type:"context",content:"  }"},{type:"added",content:"  add(party) {"},{type:"added",content:"    // validate if the form is valid"},{type:"added",content:"    if (this.partiesForm.valid) {"},{type:"added",content:""},{type:"added",content:"      // insert parties (insecure way)"},{type:"added",content:"      Parties.insert({"},{type:"added",content:"        name: party.name,"},{type:"added",content:"        description: party.description"},{type:"added",content:"      });"},{type:"added",content:""},{type:"added",content:"      //reset input values to empty strings"},{type:"added",content:"      this.partiesForm.controls.name.updateValue('');"},{type:"added",content:"      this.partiesForm.controls.description.updateValue('');"},{type:"added",content:"    }"},{type:"added",content:"  }"},{type:"context",content:"}"}],lineNumbers:{removed:{start:15,lines:4},added:{start:15,lines:19}}}]},sha:"96f4cb760d3c86d297caea25e2b7da54cd2b8e03",message:"Step 4.10: create an add party method on the PartiesForm class",stepNumber:"4.10",summary:"create an add party method on the PartiesForm class"},4.11:{files:{"client/index.ng.html":[{lines:[{type:"context",content:'    <li *ng-for="#party of parties">'},{type:"context",content:"      {{party.name}}"},{type:"context",content:"      <p>{{party.description}}</p>"},{type:"added",content:'      <button (click)="remove(party)">X</button>'},{type:"context",content:"    </li>"},{type:"context",content:"  </ul>"},{type:"context",content:"</div>"}],lineNumbers:{removed:{start:6,lines:6},added:{start:6,lines:7}}}]},sha:"7783d2fac281105d3ba2242db774a806ff143fc7",message:"Step 4.11: Add a remove party button and click event to the parties list",stepNumber:"4.11",summary:"Add a remove party button and click event to the parties list"},4.12:{files:{"client/app.ts":[{lines:[{type:"context",content:"      this.parties = Parties.find().fetch();"},{type:"context",content:"    }));"},{type:"context",content:"  }"},{type:"added",content:"  remove(party) {"},{type:"added",content:"    Parties.remove(party._id);"},{type:"added",content:"  }"},{type:"context",content:"}"},{type:"context",content:""},{type:"context",content:"bootstrap(Socially);"}],lineNumbers:{removed:{start:14,lines:6},added:{start:14,lines:9}}}]},sha:"8b44d22c2f0fc02574f17cc2becb31b4ef11c273",message:"Step 4.12: Add a remove party method to the parties list",stepNumber:"4.12",summary:"Add a remove party method to the parties list"},5.1:{files:{".meteor/packages":[{lines:[{type:"context",content:"insecure"},{type:"context",content:"shmck:angular2"},{type:"context",content:"netanelgilad:angular2-typescript"},{type:"added",content:"shmck:angular2-router"}],lineNumbers:{removed:{start:9,lines:3},added:{start:9,lines:4}}}]},sha:"5e34fb34417affb409b27a47500ad5aceb7c3e10",message:"Step 5.1: Add router package",stepNumber:"5.1",summary:"Add router package"},versions:{files:{".meteor/versions":[{lines:[{type:"added",content:"accounts-base@1.2.0"},{type:"added",content:"accounts-facebook@1.0.4"},{type:"added",content:"accounts-oauth@1.1.5"},{type:"added",content:"accounts-password@1.1.1"},{type:"added",content:"accounts-twitter@1.0.4"},{type:"added",content:"accounts-ui@1.1.5"},{type:"added",content:"accounts-ui-unstyled@1.1.7"},{type:"context",content:"autopublish@1.0.3"},{type:"context",content:"autoupdate@1.2.1"},{type:"context",content:"base64@1.0.3"}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:10}}},{lines:[{type:"context",content:"ddp@1.1.0"},{type:"context",content:"deps@1.0.7"},{type:"context",content:"ejson@1.0.6"},{type:"added",content:"email@1.0.6"},{type:"added",content:"facebook@1.2.1"},{type:"context",content:"fastclick@1.0.3"},{type:"context",content:"geojson-utils@1.0.3"},{type:"context",content:"html-tools@1.0.4"},{type:"context",content:"htmljs@1.0.4"},{type:"context",content:"http@1.1.0"},{type:"context",content:"id-map@1.0.3"},{type:"removed",content:"insecure@1.0.3"},{type:"context",content:"jquery@1.11.3_2"},{type:"context",content:"json@1.0.3"},{type:"context",content:"launch-screen@1.0.2"},{type:"added",content:"less@1.0.14"},{type:"context",content:"livedata@1.0.13"},{type:"added",content:"localstorage@1.0.3"},{type:"context",content:"logging@1.0.7"},{type:"context",content:"meteor@1.1.6"},{type:"context",content:"meteor-platform@1.2.2"}],lineNumbers:{removed:{start:10,lines:17},added:{start:17,lines:20}}},{lines:[{type:"context",content:"mobile-status-bar@1.0.3"},{type:"context",content:"mongo@1.1.0"},{type:"context",content:"netanelgilad:angular2-typescript@0.0.3"},{type:"added",content:"npm-bcrypt@0.7.8_2"},{type:"added",content:"oauth@1.1.4"},{type:"added",content:"oauth1@1.1.4"},{type:"added",content:"oauth2@1.1.3"},{type:"context",content:"observe-sequence@1.0.6"},{type:"context",content:"ordered-dict@1.0.3"},{type:"context",content:"random@1.0.3"}],lineNumbers:{removed:{start:29,lines:6},added:{start:39,lines:10}}},{lines:[{type:"context",content:"reload@1.1.3"},{type:"context",content:"retry@1.0.3"},{type:"context",content:"routepolicy@1.0.5"},{type:"added",content:"service-configuration@1.0.4"},{type:"context",content:"session@1.1.0"},{type:"context",content:"shmck:angular2@2.0.7"},{type:"context",content:"shmck:angular2-router@2.0.7"},{type:"added",content:"sha@1.0.3"},{type:"context",content:"spacebars@1.0.6"},{type:"context",content:"spacebars-compiler@1.0.6"},{type:"added",content:"srp@1.0.3"},{type:"context",content:"templating@1.1.1"},{type:"context",content:"tracker@1.0.7"},{type:"added",content:"twitter@1.1.4"},{type:"context",content:"ui@1.0.6"},{type:"context",content:"underscore@1.0.3"},{type:"context",content:"url@1.0.4"}],lineNumbers:{removed:{start:37,lines:13},added:{start:51,lines:17}}}]},sha:"40e3cc649d86aae66bfcb898bb83656fe80591d1",message:"update versions: accounts packages",stepNumber:"versions",summary:"accounts packages"},5.2:{files:{"client/app.ts":[{lines:[{type:"context",content:"import {Component, View, NgFor, bootstrap} from 'angular2/angular2';"},{type:"added",content:"import {ROUTER_BINDINGS, ROUTER_DIRECTIVES, RouteConfig} from 'angular2/router';"},{type:"context",content:"import {PartiesForm} from 'client/parties-form/parties-form';"},{type:"context",content:""},{type:"context",content:"@Component({"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:5}}},{lines:[{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"context",content:"  templateUrl: 'client/index.ng.html',"},{type:"removed",content:"  directives: [NgFor, PartiesForm]"},{type:"added",content:"  directives: [NgFor, PartiesForm, ROUTER_DIRECTIVES]"},{type:"context",content:"})"},{type:"added",content:"@RouteConfig()"},{type:"context",content:"class Socially {"},{type:"context",content:"  constructor () {"},{type:"context",content:"    Tracker.autorun(zone.bind(() => {"}],lineNumbers:{removed:{start:6,lines:8},added:{start:7,lines:9}}},{lines:[{type:"context",content:"  }"},{type:"context",content:"}"},{type:"context",content:""},{type:"removed",content:"bootstrap(Socially);"},{type:"added",content:"bootstrap(Socially, [ROUTER_BINDINGS]);"}],lineNumbers:{removed:{start:19,lines:4},added:{start:21,lines:4}}}]},sha:"98bd4f77c207437ee5fde14e188444c2c0c891e2",message:"Step 5.2: Import Router dependencies, add them to View directives, and init RouteConfig",stepNumber:"5.2",summary:"Import Router dependencies, add them to View directives, and init RouteConfig"},5.3:{files:{"client/index.html":[{lines:[{type:"added",content:"<head>"},{type:"added",content:'  <base href="/">'},{type:"added",content:"</head>"},{type:"context",content:"<body>"},{type:"context",content:"  <app></app>"},{type:"context",content:'  <script>System.import("client/app");</script>'}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:6}}}]},sha:"ede8806cd601f2c5bbbf7979fdd1fe95d7f08528",message:"Step 5.3: Add base href",stepNumber:"5.3",summary:"Add base href"},5.4:{files:{"client/parties-list/parties-list.ts":[{lines:[{type:"added",content:"import {Component, View, NgFor, bootstrap} from 'angular2/angular2';"},{type:"added",content:"import {PartiesForm} from 'client/parties-form/parties-form';"},{type:"added",content:""},{type:"added",content:"@Component({"},{type:"added",content:"  selector: 'parties-list'"},{type:"added",content:"})"},{type:"added",content:"@View({"},{type:"added",content:"  templateUrl: 'client/parties-list/parties-list.ng.html',"},{type:"added",content:"  directives: [NgFor, PartiesForm]"},{type:"added",content:"})"},{type:"added",content:"export class PartiesList {"},{type:"added",content:"  constructor () {"},{type:"added",content:"    Tracker.autorun(zone.bind(() => {"},{type:"added",content:"      this.parties = Parties.find().fetch();"},{type:"added",content:"    }));"},{type:"added",content:"  }"},{type:"added",content:"  remove(party) {"},{type:"added",content:"    Parties.remove(party._id);"},{type:"added",content:"  }"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:20}}}]},sha:"dc99374e9daf8f33955233344b18020c9da58d18",message:"Step 5.4: move parties-list into PartiesList component",stepNumber:"5.4",summary:"move parties-list into PartiesList component"},5.5:{files:{"client/app.ts":[{lines:[{type:"context",content:"  directives: [NgFor, PartiesForm, ROUTER_DIRECTIVES]"},{type:"context",content:"})"},{type:"context",content:"@RouteConfig()"},{type:"removed",content:"class Socially {"},{type:"removed",content:"  constructor () {"},{type:"removed",content:"    Tracker.autorun(zone.bind(() => {"},{type:"removed",content:"      this.parties = Parties.find().fetch();"},{type:"removed",content:"    }));"},{type:"removed",content:"  }"},{type:"removed",content:"  remove(party) {"},{type:"removed",content:"    Parties.remove(party._id);"},{type:"removed",content:"  }"},{type:"removed",content:"}"},{type:"added",content:"class Socially {}"},{type:"context",content:""},{type:"context",content:"bootstrap(Socially, [ROUTER_BINDINGS]);"}],lineNumbers:{removed:{start:10,lines:15},added:{start:10,lines:6}}}]},sha:"6763c9924c715a91d2191569039b1de3a68db18a",message:"Step 5.5: cleanup app.ts as Socially component",stepNumber:"5.5",summary:"cleanup app.ts as Socially component"},5.6:{files:{"client/parties-list/parties-list.ng.html":[{lines:[{type:"added",content:"<div>"},{type:"added",content:""},{type:"added",content:"  <parties-form></parties-form>"},{type:"added",content:""},{type:"added",content:"  <ul>"},{type:"added",content:'    <li *ng-for="#party of parties">'},{type:"added",content:"      {{party.name}}"},{type:"added",content:"      <p>{{party.description}}</p>"},{type:"added",content:'      <button (click)="remove(party)">X</button>'},{type:"added",content:"    </li>"},{type:"added",content:"  </ul>"},{type:"added",content:"</div>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:12}}}]},sha:"0e2e7598872c0f47aa5ade04a0da478203d74473",message:"Step 5.6: Move index.ng.html into parties-list.ng.html",stepNumber:"5.6",summary:"Move index.ng.html into parties-list.ng.html"},5.7:{files:{},sha:"b7b52b74458f1452f0664fb7ed2535d556a9b8ab",message:"Step 5.7: Cleanup index.ng.html",stepNumber:"5.7",summary:"Cleanup index.ng.html"},5.8:{files:{"client/party-details/party-details.ts":[{lines:[{type:"added",content:"import {Component, View} from 'angular2/angular2';"},{type:"added",content:""},{type:"added",content:"@Component({"},{type:"added",content:"  selector: 'party-details'"},{type:"added",content:"})"},{type:"added",content:"@View({"},{type:"added",content:"  templateUrl: 'client/party-details/party-details.ng.html'"},{type:"added",content:"})"},{type:"added",content:"export class PartyDetails {}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:9}}}]},sha:"590afba096a2d3fb64d937e326b874f50c75cda3",message:"Step 5.8: Create PartyDetails component",stepNumber:"5.8",summary:"Create PartyDetails component"},5.9:{files:{"client/party-details/party-details.ng.html":[{lines:[{type:"added",content:"<header>"},{type:"added",content:"  <h2>NAME</h2>"},{type:"added",content:""},{type:"added",content:"  <p>DESCRIPTION</p>"},{type:"added",content:"</header>"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:5}}}]},sha:"e11a4f84f8dbf1b1068204d12fcefccd2f8cf7fe",message:"Step 5.9: Add party-details template with placeholder info",stepNumber:"5.9",summary:"Add party-details template with placeholder info"},"5.10":{files:{"client/app.ts":[{lines:[{type:"context",content:"import {ROUTER_BINDINGS, ROUTER_DIRECTIVES, RouteConfig} from 'angular2/router';"},{type:"context",content:"import {PartiesForm} from 'client/parties-form/parties-form';"},{type:"context",content:""},{type:"added",content:"// Components"},{type:"added",content:"import {PartiesList} from 'client/parties-list/parties-list';"},{type:"added",content:"import {PartyDetails} from 'client/party-details/party-details';"},{type:"added",content:""},{type:"context",content:"@Component({"},{type:"context",content:"  selector: 'app'"},{type:"context",content:"})"}],lineNumbers:{removed:{start:2,lines:6},added:{start:2,lines:10}}},{lines:[{type:"context",content:"  templateUrl: 'client/index.ng.html',"},{type:"context",content:"  directives: [NgFor, PartiesForm, ROUTER_DIRECTIVES]"},{type:"context",content:"})"},{type:"removed",content:"@RouteConfig()"},{type:"added",content:"@RouteConfig(["},{type:"added",content:"  {path: '/', redirectTo: '/parties'},"},{type:"added",content:"  {path: '/parties',  as: 'parties-list', component: PartiesList},"
},{type:"added",content:"  {path: '/party/:partyId', as: 'party-details', component: PartyDetails}"},{type:"added",content:"])"},{type:"context",content:"class Socially {}"},{type:"context",content:""},{type:"context",content:"bootstrap(Socially, [ROUTER_BINDINGS]);"}],lineNumbers:{removed:{start:9,lines:7},added:{start:13,lines:11}}}]},sha:"062f352bd8867e3627802df5d009f1bcf9de9093",message:"Step 5.10: Configure routes in app.ts",stepNumber:"5.10",summary:"Configure routes in app.ts"},5.11:{files:{"client/parties-list/parties-list.ng.html":[{lines:[{type:"context",content:""},{type:"context",content:"  <ul>"},{type:"context",content:'    <li *ng-for="#party of parties">'},{type:"removed",content:"      {{party.name}}"},{type:"added",content:"      <a [router-link]=\"['/party-details', {partyId: party._id}]\">{{party.name}}</a>"},{type:"context",content:"      <p>{{party.description}}</p>"},{type:"context",content:'      <button (click)="remove(party)">X</button>'},{type:"context",content:"    </li>"}],lineNumbers:{removed:{start:4,lines:7},added:{start:4,lines:7}}}]},sha:"e5555de75cc74ecbac9591d3bff84c6656be919c",message:"Step 5.11: Create parties-list template",stepNumber:"5.11",summary:"Create parties-list template"},5.12:{files:{"client/parties-list/parties-list.ts":[{lines:[{type:"context",content:"import {Component, View, NgFor, bootstrap} from 'angular2/angular2';"},{type:"added",content:"import {RouterLink} from 'angular2/router';"},{type:"context",content:"import {PartiesForm} from 'client/parties-form/parties-form';"},{type:"context",content:""},{type:"context",content:"@Component({"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:5}}},{lines:[{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"context",content:"  templateUrl: 'client/parties-list/parties-list.ng.html',"},{type:"removed",content:"  directives: [NgFor, PartiesForm]"},{type:"added",content:"  directives: [NgFor, PartiesForm, RouterLink]"},{type:"context",content:"})"},{type:"context",content:"export class PartiesList {"},{type:"context",content:"  constructor () {"}],lineNumbers:{removed:{start:6,lines:7},added:{start:7,lines:7}}}]},sha:"229fa6463d80ee93c00b3d0210a518be803544d9",message:"Step 5.12: create parties-list component",stepNumber:"5.12",summary:"create parties-list component"},5.13:{files:{"client/party-details/party-details.ng.html":[{lines:[{type:"context",content:"<header>"},{type:"removed",content:"  <h2>NAME</h2>"},{type:"added",content:"  <h2>{{party.name}}</h2>"},{type:"context",content:""},{type:"removed",content:"  <p>DESCRIPTION</p>"},{type:"added",content:"  <p>{{party.description}}</p>"},{type:"context",content:"</header>"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:5}}}]},sha:"2663198be9f213ae2927d0664b3a52a2bc36c323",message:"Step 5.13: Create dynamic party name & description bindings",stepNumber:"5.13",summary:"Create dynamic party name & description bindings"},5.14:{files:{"client/party-details/party-details.ts":[{lines:[{type:"removed",content:"import {Component, View} from 'angular2/angular2';"},{type:"added",content:"import {Component, View, Inject} from 'angular2/angular2';"},{type:"added",content:"import {RouteParams} from 'angular2/router';"},{type:"context",content:""},{type:"context",content:"@Component({"},{type:"context",content:"  selector: 'party-details'"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:5}}},{lines:[{type:"context",content:"@View({"},{type:"context",content:"  templateUrl: 'client/party-details/party-details.ng.html'"},{type:"context",content:"})"},{type:"removed",content:"export class PartyDetails {}"},{type:"added",content:"export class PartyDetails {"},{type:"added",content:"  constructor(@Inject(RouteParams) routeParams:RouteParams) {"},{type:"added",content:"    this.partyId = routeParams.params.partyId;"},{type:"added",content:""},{type:"added",content:"    Tracker.autorun(zone.bind(() => {"},{type:"added",content:"      this.party = Parties.find(this.partyId).fetch()[0];"},{type:"added",content:"    }));"},{type:"added",content:"  }"},{type:"added",content:"}"}],lineNumbers:{removed:{start:6,lines:4},added:{start:7,lines:12}}}]},sha:"05eeea4b951595ae70b7adf19f371a8e8d592786",message:"Step 5.14: Import RouteParams & Inject, catch specific party data",stepNumber:"5.14",summary:"Import RouteParams & Inject, catch specific party data"},5.15:{files:{"client/party-details/party-details.ng.html":[{lines:[{type:"context",content:"  <h2>{{party.name}}</h2>"},{type:"context",content:""},{type:"context",content:"  <p>{{party.description}}</p>"},{type:"added",content:""},{type:"added",content:"  <a [router-link]=\"['/parties-list']\">Back</a>"},{type:"context",content:"</header>"}],lineNumbers:{removed:{start:2,lines:4},added:{start:2,lines:6}}}],"client/party-details/party-details.ts":[{lines:[{type:"context",content:"import {Component, View, Inject} from 'angular2/angular2';"},{type:"removed",content:"import {RouteParams} from 'angular2/router';"},{type:"added",content:"import {RouteParams, RouterLink} from 'angular2/router';"},{type:"context",content:""},{type:"context",content:"@Component({"},{type:"context",content:"  selector: 'party-details'"},{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"removed",content:"  templateUrl: 'client/party-details/party-details.ng.html'"},{type:"added",content:"  templateUrl: 'client/party-details/party-details.ng.html',"},{type:"added",content:"  directives: [RouterLink]"},{type:"context",content:"})"},{type:"context",content:"export class PartyDetails {"},{type:"context",content:"  constructor(@Inject(RouteParams) routeParams:RouteParams) {"}],lineNumbers:{removed:{start:1,lines:11},added:{start:1,lines:12}}}]},sha:"e6a8133288944f4400ab8cdeee06464766d40f13",message:"Step 5.15: Challenge -- create a link back to the parties-list from party-details",stepNumber:"5.15",summary:"Challenge -- create a link back to the parties-list from party-details"},6.1:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"export class PartyDetails {"},{type:"context",content:"  constructor(@Inject(RouteParams) routeParams:RouteParams) {"},{type:"context",content:"    this.partyId = routeParams.params.partyId;"},{type:"removed",content:""},{type:"removed",content:"    Tracker.autorun(zone.bind(() => {"},{type:"removed",content:"      this.party = Parties.find(this.partyId).fetch()[0];"},{type:"removed",content:"    }));"},{type:"added",content:"  }"},{type:"added",content:"  onActivate() {"},{type:"added",content:"    this.party = Parties.find(this.partyId).fetch()[0];"},{type:"added",content:"    if (this.party) {"},{type:"added",content:"      return true;"},{type:"added",content:"    }"},{type:"context",content:"  }"},{type:"context",content:"}"}],lineNumbers:{removed:{start:11,lines:9},added:{start:11,lines:11}}}]},sha:"786bfdadc6d2dd485abd704426b9d4818af77458",message:"Step 6.1: Use the router hook onActivate to load PartyDetails data",stepNumber:"6.1",summary:"Use the router hook onActivate to load PartyDetails data"},6.2:{files:{"client/party-details/party-details.ng.html":[{lines:[{type:"removed",content:"<header>"},{type:"removed",content:"  <h2>{{party.name}}</h2>"},{type:"added",content:"<form>"},{type:"added",content:"  <label>Name</label>"},{type:"added",content:'  <input type="text">'},{type:"context",content:""},{type:"removed",content:"  <p>{{party.description}}</p>"},{type:"added",content:"  <label>Description</label>"},{type:"added",content:'  <input type="text">'},{type:"context",content:""},{type:"removed",content:"  <a [router-link]=\"['/parties-list']\">Back</a>"},{type:"removed",content:"</header>"},{type:"added",content:'  <button type="submit">Save</button>'},{type:"added",content:"  <button>Reset form</button>"},{type:"added",content:"  <button [router-link]=\"['/parties-list']\">Cancel</button>"},{type:"added",content:"</form>"}],lineNumbers:{removed:{start:1,lines:7},added:{start:1,lines:11}}}]},sha:"0ef118c54376fa4a790ef32a545e9de807af51a9",message:"Step 6.2: Change party-details.ng.html to a form",stepNumber:"6.2",summary:"Change party-details.ng.html to a form"},6.3:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"import {Component, View, Inject} from 'angular2/angular2';"},{type:"context",content:"import {RouteParams, RouterLink} from 'angular2/router';"},{type:"added",content:"import {FORM_DIRECTIVES} from 'angular2/angular2';"},{type:"context",content:""},{type:"context",content:"@Component({"},{type:"context",content:"  selector: 'party-details'"},{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"context",content:"  templateUrl: 'client/party-details/party-details.ng.html',"},{type:"removed",content:"  directives: [RouterLink]"},{type:"added",content:"  directives: [RouterLink, FORM_DIRECTIVES]"},{type:"context",content:"})"},{type:"context",content:"export class PartyDetails {"},{type:"context",content:"  constructor(@Inject(RouteParams) routeParams:RouteParams) {"}],lineNumbers:{removed:{start:1,lines:12},added:{start:1,lines:13}}}]},sha:"0d54028256d91eae9b653dcceee4db25071a7c2f",message:"Step 6.3: import FORM_DIRECTIVES into party-details and add it to the directive view",stepNumber:"6.3",summary:"import FORM_DIRECTIVES into party-details and add it to the directive view"},6.4:{files:{"client/party-details/party-details.ng.html":[{lines:[{type:"context",content:"<form>"},{type:"context",content:"  <label>Name</label>"},{type:"removed",content:'  <input type="text">'},{type:"added",content:'  <input type="text" [(ng-model)]="party.name">'},{type:"context",content:""},{type:"context",content:"  <label>Description</label>"},{type:"removed",content:'  <input type="text">'},{type:"added",content:'  <input type="text" [(ng-model)]="party.description">'},{type:"context",content:""},{type:"context",content:'  <button type="submit">Save</button>'},{type:"context",content:"  <button>Reset form</button>"}],lineNumbers:{removed:{start:1,lines:9},added:{start:1,lines:9}}}]},sha:"3e708a70084424b71f7b410520bed77d27e04e14",message:"Step 6.4: Use ng-model in our party-details form",stepNumber:"6.4",summary:"Use ng-model in our party-details form"},6.5:{files:{"client/party-details/party-details.ng.html":[{lines:[{type:"removed",content:"<form>"},{type:"added",content:'<form (submit)="save($event)">'},{type:"context",content:"  <label>Name</label>"},{type:"context",content:'  <input type="text" [(ng-model)]="party.name">'},{type:"context",content:""}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}}]},sha:"dbbe8629f0b72b4b78f2afb227aa28186f20a74a",message:"Step 6.5: Save party-details on submit from template",stepNumber:"6.5",summary:"Save party-details on submit from template"},6.6:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"  constructor(@Inject(RouteParams) routeParams:RouteParams) {"},{type:"context",content:"    this.partyId = routeParams.params.partyId;"},{type:"context",content:"  }"},{type:"added",content:"  save(event) {"},{type:"added",content:"    event.preventDefault();"},{type:"added",content:"    var party = this.party;"},{type:"added",content:""},{type:"added",content:"    Parties.update(party._id, {"},{type:"added",content:"        name: party.name,"},{type:"added",content:"        description: party.description"},{type:"added",content:"    });"},{type:"added",content:"  }"},{type:"context",content:"  onActivate() {"},{type:"context",content:"    this.party = Parties.find(this.partyId).fetch()[0];"},{type:"context",content:"    if (this.party) {"}],lineNumbers:{removed:{start:13,lines:6},added:{start:13,lines:15}}}]},sha:"673342e470d3c37ba31b79e2c52d409db4da8653",message:"Step 6.6: Save party-details on submit from component, update db",stepNumber:"6.6",summary:"Save party-details on submit from component, update db"},6.7:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"    event.preventDefault();"},{type:"context",content:"    var party = this.party;"},{type:"context",content:""},{type:"removed",content:"    Parties.update(party._id, {"},{type:"added",content:"    if (_.isString(party.name) && party.name.length &&"},{type:"added",content:"      _.isString(party.description) && party.description.length) {"},{type:"added",content:"      Parties.update(party._id, {"},{type:"context",content:"        name: party.name,"},{type:"context",content:"        description: party.description"},{type:"removed",content:"    });"},{type:"added",content:"      });"},{type:"added",content:"    }"},{type:"context",content:"  }"},{type:"context",content:"  onActivate() {"},{type:"context",content:"    this.party = Parties.find(this.partyId).fetch()[0];"}],lineNumbers:{removed:{start:17,lines:10},added:{start:17,lines:13}}}]},sha:"9aea76152e297c926aa109f1aae1159f746611f4",message:"Step 6.7: Validateparty fields to be strings with at least one character before saving",stepNumber:"6.7",summary:"Validateparty fields to be strings with at least one character before saving"},6.8:{files:{"client/party-details/party-details.ng.html":[{lines:[{type:"context",content:'  <input type="text" [(ng-model)]="party.description">'},{type:"context",content:""},{type:"context",content:'  <button type="submit">Save</button>'},{type:"removed",content:"  <button>Reset form</button>"},{type:"added",content:'  <button (click)="reset($event)">Reset form</button>'},{type:"context",content:"  <button [router-link]=\"['/parties-list']\">Cancel</button>"},{type:"context",content:"</form>"}],lineNumbers:{removed:{start:6,lines:6},added:{start:6,lines:6}}}]},sha:"678910252ce68e0e11447c56cb06290226b0100f",message:"Step 6.8: form reset button",stepNumber:"6.8",summary:"form reset button"},6.9:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"        name: party.name,"},{type:"context",content:"        description: party.description"},{type:"context",content:"      });"},{type:"added",content:"      this.resetToParty = _.clone(party);"},{type:"context",content:"    }"},{type:"context",content:"  }"},{type:"added",content:"  reset(event) {"},{type:"added",content:"    event.preventDefault();"},{type:"added",content:"    this.party = this.resetToParty;"},{type:"added",content:"  }"},{type:"context",content:"  onActivate() {"},{type:"context",content:"    this.party = Parties.find(this.partyId).fetch()[0];"},{type:"context",content:"    if (this.party) {"},{type:"added",content:"      console.log('loading...');"},{type:"added",content:"      this.resetToParty = _.clone(this.party);"},{type:"context",content:"      return true;"},{type:"context",content:"    }"},{type:"context",content:"  }"}],lineNumbers:{removed:{start:23,lines:11},added:{start:23,lines:18}}}]},sha:"2a6bfe4faded9d2366a3f08d1a5f3a3544da7b83",message:"Step 6.9: reset button triggers earlier saved state",stepNumber:"6.9",summary:"reset button triggers earlier saved state"},"6.10":{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"      return true;"},{type:"context",content:"    }"},{type:"context",content:"  }"},{type:"added",content:"  canDeactivate() {"},{type:"added",content:"    if (!_.isEqual(this.party, this.resetToParty)) {"},{type:"added",content:"      return confirm('Are you sure you want to leave without saving?');"},{type:"added",content:"    }"},{type:"added",content:"  }"},{type:"context",content:"}"}],lineNumbers:{removed:{start:38,lines:4},added:{start:38,lines:9}}}]},sha:"d1cbff1f86cde4e921fc60e149e6fcb324622216",message:"Step 6.10: use router canDeactivate hook to check if a user wants to leave without saving",stepNumber:"6.10",summary:"use router canDeactivate hook to check if a user wants to leave without saving"},7.1:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"  directives: [RouterLink, FORM_DIRECTIVES]"},{type:"context",content:"})"},{type:"context",content:"export class PartyDetails {"},{type:"added",content:"  partyId: string;"},{type:"context",content:"  constructor(@Inject(RouteParams) routeParams:RouteParams) {"},{type:"context",content:"    this.partyId = routeParams.params.partyId;"},{type:"context",content:"  }"}],lineNumbers:{removed:{start:10,lines:6},added:{start:10,lines:7}}}]},sha:"de90693ad7d5389a27ae976bef20f907da05f504",message:"Step 7.1: Specified partyId string type",stepNumber:"7.1",summary:"Specified partyId string type"},7.2:{files:{"typings/socially/socially.d.ts":[{lines:[{type:"added",content:"interface IParty {"},{type:"added",content:"  _id?: string;"},{type:"added",content:"  name: string;"},{type:"added",content:"  description: string;"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:5}}}]},sha:"8627835636fdd8fb0d431d0189ad5e64249ed2a7",message:"Step 7.2: Declared IParty interface",stepNumber:"7.2",summary:"Declared IParty interface"},7.3:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"})"},{type:"context",content:"export class PartyDetails {"},{type:"context",content:"  partyId: string;"},{type:"added",content:"  party: IParty;"},{type:"added",content:"  resetToParty: IParty;"},{type:"context",content:"  constructor(@Inject(RouteParams) routeParams:RouteParams) {"},{type:"context",content:"    this.partyId = routeParams.params.partyId;"},{type:"context",content:"  }"}],lineNumbers:{removed:{start:11,lines:6},added:{start:11,lines:8}}}]},sha:"48165b5eb2854d285cec7179456791a3a36aa2c5",message:"Step 7.3: use IParty type in PartyDetails",stepNumber:"7.3",summary:"use IParty type in PartyDetails"},7.4:{files:{"client/parties-list/parties-list.ts":[{lines:[{type:"context",content:"  directives: [NgFor, PartiesForm, RouterLink]"},{type:"context",content:"})"},{type:"context",content:"export class PartiesList {"},{type:"added",content:"  parties: IParty[];"},{type:"context",content:"  constructor () {"},{type:"context",content:"    Tracker.autorun(zone.bind(() => {"},{type:"context",content:"      this.parties = Parties.find().fetch();"}],lineNumbers:{removed:{start:10,lines:6},added:{start:10,lines:7}}}]},sha:"6200cffe08d0438442b8cd017ebbd2d1d737c747",message:"Step 7.4: Added type of IParty array to parties in PartiesList",stepNumber:"7.4",summary:"Added type of IParty array to parties in PartiesList"},7.5:{files:{"server/loadParties.ts":[{lines:[{type:"context",content:"Meteor.startup(function () {"},{type:"context",content:"  if (Parties.find().count() === 0) {"},{type:"context",content:""},{type:"removed",content:"    var parties = ["},{type:"added",content:"    var parties:IParty[] = ["},{type:"context",content:"      {'name': 'Dubstep-Free Zone',"},{type:"context",content:"        'description': 'Can we please just for an evening not listen to dubstep.'},"},{type:"context",content:"      {'name': 'All dubstep all the time',"}],lineNumbers:{removed:{start:1,lines:7},added:{start:1,lines:7}}}]},sha:"30620a266d538040d4eac284c8cd2e7e64039400",message:"Step 7.5: Declared IParty array type of parties in loadParties.ts",stepNumber:"7.5",summary:"Declared IParty array type of parties in loadParties.ts"},7.6:{files:{"typings/socially/socially.d.ts":[{lines:[{type:"added",content:"declare var Parties;"},{type:"added",content:""},{type:"context",content:"interface IParty {"},{type:"context",content:"  _id?: string;"},{type:"context",content:"  name: string;"}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:5}}}]},sha:"e537b6daf305fed06f6121aae4e4414aa041c6ba",message:"Step 7.6: declare var Parties in socially.d.ts",stepNumber:"7.6",summary:"declare var Parties in socially.d.ts"},7.7:{files:{"typings/angular2/angular2.d.ts":[{lines:[{type:"added",content:"// Type definitions for Angular v2.0.0-alpha.32"},{type:"added",content:"// Project: http://angular.io/"},{type:"added",content:"// Definitions by: angular team <https://github.com/angular/>"},{type:"added",content:"// Definitions: https://github.com/borisyankov/DefinitelyTyped"},{type:"added",content:""},{type:"added",content:"// ***********************************************************"},{type:"added",content:"// This file is generated by the Angular build process."},{type:"added",content:"// Please do not create manual edits or send pull requests"},{type:"added",content:"// modifying this file."},{type:"added",content:"// ***********************************************************"},{type:"added",content:""},{type:"added",content:"// Angular depends transitively on these libraries."},{type:"added",content:"// If you don't have them installed you can run"},{type:"added",content:"// $ tsd query es6-promise rx rx-lite --action install --save"},{type:"added",content:'///<reference path="../es6-promise/es6-promise.d.ts"/>'},{type:"added",content:'///<reference path="../rx/rx.d.ts"/>'},{type:"added",content:""},{type:"added",content:"interface List<T> extends Array<T> {}"},{type:"added",content:"interface Map<K,V> {}"},{type:"added",content:"interface StringMap<K,V> extends Map<K,V> {}"},{type:"added",content:""},{type:"added",content:"declare module ng {"},{type:"added",content:"  type SetterFn = typeof Function;"},{type:"added",content:"  type int = number;"},{type:"added",content:"  interface Type extends Function {"},{type:"added",content:"    new (...args: any[]): any;"},{type:"added",content:"  }"},{type:"added",content:""},{type:"added",content:"  // See https://github.com/Microsoft/TypeScript/issues/1168"},{type:"added",content:"  class BaseException /* extends Error */ {"},{type:"added",content:"    message: string;"},{type:"added",content:"    stack: string;"},{type:"added",content:"    toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  interface InjectableReference {}"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:""},{type:"added",content:""},{type:"added",content:""},{type:"added",content:"/**"},{type:"added",content:" * The `angular2` is the single place to import all of the individual types."},{type:"added",content:" */"},{type:"added",content:"declare module ng {"},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Bootstrapping for Angular applications."},{type:"added",content:"   * "},{type:"added",content:"   * You instantiate an Angular application by explicitly specifying a component to use as the root"},{type:"added",content:"   * component for your"},{type:"added",content:"   * application via the `bootstrap()` method."},{type:"added",content:"   * "},{type:"added",content:"   * ## Simple Example"},{type:"added",content:"   * "},{type:"added",content:"   * Assuming this `index.html`:"},{type:"added",content:"   * "},{type:"added",content:"   * ```html"},{type:"added",content:"   * <html>"},{type:"added",content:"   *   <!-- load Angular script tags here. -->"},{type:"added",content:"   *   <body>"},{type:"added",content:"   *     <my-app>loading...</my-app>"},{type:"added",content:"   *   </body>"},{type:"added",content:"   * </html>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * An application is bootstrapped inside an existing browser DOM, typically `index.html`. Unlike"},{type:"added",content:"   * Angular 1, Angular 2"},{type:"added",content:"   * does not compile/process bindings in `index.html`. This is mainly for security reasons, as well"},{type:"added",content:"   * as architectural"},{type:"added",content:"   * changes in Angular 2. This means that `index.html` can safely be processed using server-side"},{type:"added",content:"   * technologies such as"},{type:"added",content:"   * bindings. Bindings can thus use double-curly `{{ syntax }}` without collision from Angular 2"},{type:"added",content:"   * component double-curly"},{type:"added",content:"   * `{{ syntax }}`."},{type:"added",content:"   * "},{type:"added",content:"   * We can use this script code:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Component({"},{type:"added",content:"   *    selector: 'my-app'"},{type:"added",content:"   * })"},{type:"added",content:"   * @View({"},{type:"added",content:"   *    template: 'Hello {{ name }}!'"},{type:"added",content:"   * })"},{type:"added",content:"   * class MyApp {"},{type:"added",content:"   *   name:string;"},{type:"added",content:"   * "},{type:"added",content:"   *   constructor() {"},{type:"added",content:"   *     this.name = 'World';"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * main() {"},{type:"added",content:"   *   return bootstrap(MyApp);"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * When the app developer invokes `bootstrap()` with the root component `MyApp` as its argument,"},{type:"added",content:"   * Angular performs the"},{type:"added",content:"   * following tasks:"},{type:"added",content:"   * "},{type:"added",content:"   *  1. It uses the component's `selector` property to locate the DOM element which needs to be"},{type:"added",content:"   * upgraded into"},{type:"added",content:"   *     the angular component."},{type:"added",content:"   *  2. It creates a new child injector (from the platform injector). Optionally, you can also"},{type:"added",content:"   * override the injector configuration for an app by"},{type:"added",content:"   * invoking `bootstrap` with the `componentInjectableBindings` argument."},{type:"added",content:"   *  3. It creates a new `Zone` and connects it to the angular application's change detection domain"},{type:"added",content:"   * instance."},{type:"added",content:"   *  4. It creates a shadow DOM on the selected component's host element and loads the template into"},{type:"added",content:"   * it."},{type:"added",content:"   *  5. It instantiates the specified component."},{type:"added",content:"   *  6. Finally, Angular performs change detection to apply the initial data bindings for the"},{type:"added",content:"   * application."},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * ## Instantiating Multiple Applications on a Single Page"},{type:"added",content:"   * "},{type:"added",content:"   * There are two ways to do this."},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * ### Isolated Applications"},{type:"added",content:"   * "},{type:"added",content:"   * Angular creates a new application each time that the `bootstrap()` method is invoked. When"},{type:"added",content:"   * multiple applications"},{type:"added",content:"   * are created for a page, Angular treats each application as independent within an isolated change"},{type:"added",content:"   * detection and"},{type:"added",content:"   * `Zone` domain. If you need to share data between applications, use the strategy described in the"},{type:"added",content:"   * next"},{type:"added",content:'   * section, "Applications That Share Change Detection."'},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * ### Applications That Share Change Detection"},{type:"added",content:"   * "},{type:"added",content:"   * If you need to bootstrap multiple applications that share common data, the applications must"},{type:"added",content:"   * share a common"},{type:"added",content:"   * change detection and zone. To do that, create a meta-component that lists the application"},{type:"added",content:"   * components in its template."},{type:"added",content:"   * By only invoking the `bootstrap()` method once, with the meta-component as its argument, you"},{type:"added",content:"   * ensure that only a"},{type:"added",content:"   * single change detection zone is created and therefore data can be shared across the applications."},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * ## Platform Injector"},{type:"added",content:"   * "},{type:"added",content:"   * When working within a browser window, there are many singleton resources: cookies, title,"},{type:"added",content:"   * location, and others."},{type:"added",content:"   * Angular services that represent these resources must likewise be shared across all Angular"},{type:"added",content:"   * applications that"},{type:"added",content:"   * occupy the same browser window.  For this reason, Angular creates exactly one global platform"},{type:"added",content:"   * injector which stores"},{type:"added",content:"   * all shared services, and each angular application injector has the platform injector as its"},{type:"added",content:"   * parent."},{type:"added",content:"   * "},{type:"added",content:"   * Each application has its own private injector as well. When there are multiple applications on a"},{type:"added",content:"   * page, Angular treats"},{type:"added",content:"   * each application injector's services as private to that application."},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * # API"},{type:"added",content:"   * - `appComponentType`: The root component which should act as the application. This is a reference"},{type:"added",content:"   * to a `Type`"},{type:"added",content:"   *   which is annotated with `@Component(...)`."},{type:"added",content:"   * - `componentInjectableBindings`: An additional set of bindings that can be added to the app"},{type:"added",content:"   * injector"},{type:"added",content:"   * to override default injection behavior."},{type:"added",content:"   * - `errorReporter`: `function(exception:any, stackTrace:string)` a default error reporter for"},{type:"added",content:"   * unhandled exceptions."},{type:"added",content:"   * "},{type:"added",content:"   * Returns a `Promise` of {@link ApplicationRef}."},{type:"added",content:"   */"},{type:"added",content:"  function bootstrap(appComponentType: /*Type*/ any, componentInjectableBindings?: List<Type | Binding | List<any>>) : Promise<ApplicationRef> ;"},{type:"added",content:"  "},{type:"added",content:"  class DehydratedException extends BaseException {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class ExpressionChangedAfterItHasBeenChecked extends BaseException {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class ChangeDetectionError extends BaseException {"},{type:"added",content:"    "},{type:"added",content:"     location: string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * ON_PUSH means that the change detector's mode will be set to CHECK_ONCE during hydration."},{type:"added",content:"   */"},{type:"added",content:"  const ON_PUSH : string ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * DEFAULT means that the change detector's mode will be set to CHECK_ALWAYS during hydration."},{type:"added",content:"   */"},{type:"added",content:"  const DEFAULT : string ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Controls change detection."},{type:"added",content:"   * "},{type:"added",content:"   * {@link ChangeDetectorRef} allows requesting checks for detectors that rely on observables. It"},{type:"added",content:"   * also allows detaching and"},{type:"added",content:"   * attaching change detector subtrees."},{type:"added",content:"   */"},{type:"added",content:"  class ChangeDetectorRef {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Request to check all ON_PUSH ancestors."},{type:"added",content:"     */"},{type:"added",content:"     requestCheck(): void;"},{type:"added",
content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Detaches the change detector from the change detector tree."},{type:"added",content:"     * "},{type:"added",content:"     * The detached change detector will not be checked until it is reattached."},{type:"added",content:"     */"},{type:"added",content:"     detach(): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Reattach the change detector to the change detector tree."},{type:"added",content:"     * "},{type:"added",content:"     * This also requests a check of this change detector. This reattached change detector will be"},{type:"added",content:"     * checked during the"},{type:"added",content:"     * next change detection run."},{type:"added",content:"     */"},{type:"added",content:"     reattach(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class Pipes {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Map of {@link Pipe} names to {@link PipeFactory} lists used to configure the"},{type:"added",content:"     * {@link Pipes} registry."},{type:"added",content:"     * "},{type:"added",content:"     * #Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * var pipesConfig = {"},{type:"added",content:"     *   'json': [jsonPipeFactory]"},{type:"added",content:"     * }"},{type:"added",content:"     * @Component({"},{type:"added",content:"     *   viewInjector: ["},{type:"added",content:"     *     bind(Pipes).toValue(new Pipes(pipesConfig))"},{type:"added",content:"     *   ]"},{type:"added",content:"     * })"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     config: StringMap<string, PipeFactory[]>;"},{type:"added",content:"    "},{type:"added",content:"     get(type: string, obj: any, cdRef?: ChangeDetectorRef, existingPipe?: Pipe): Pipe;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Indicates that the result of a {@link Pipe} transformation has changed even though the reference"},{type:"added",content:"   * has not changed."},{type:"added",content:"   * "},{type:"added",content:"   * The wrapped value will be unwrapped by change detection, and the unwrapped value will be stored."},{type:"added",content:"   */"},{type:"added",content:"  class WrappedValue {"},{type:"added",content:"    "},{type:"added",content:"     wrapped: any;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * An interface for extending the list of pipes known to Angular."},{type:"added",content:"   * "},{type:"added",content:"   * If you are writing a custom {@link Pipe}, you must extend this interface."},{type:"added",content:"   * "},{type:"added",content:"   * #Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class DoublePipe implements Pipe {"},{type:"added",content:"   *  supports(obj) {"},{type:"added",content:"   *    return true;"},{type:"added",content:"   *  }"},{type:"added",content:"   * "},{type:"added",content:"   *  onDestroy() {}"},{type:"added",content:"   * "},{type:"added",content:"   *  transform(value, args = []) {"},{type:"added",content:"   *    return `${value}${value}`;"},{type:"added",content:"   *  }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  interface Pipe {"},{type:"added",content:"    "},{type:"added",content:"     supports(obj: any): boolean;"},{type:"added",content:"    "},{type:"added",content:"     onDestroy(): void;"},{type:"added",content:"    "},{type:"added",content:"     transform(value: any, args: List<any>): any;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  interface PipeFactory {"},{type:"added",content:"    "},{type:"added",content:"     supports(obs: any): boolean;"},{type:"added",content:"    "},{type:"added",content:"     create(cdRef: ChangeDetectorRef): Pipe;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class NullPipe extends BasePipe {"},{type:"added",content:"    "},{type:"added",content:"     called: boolean;"},{type:"added",content:"    "},{type:"added",content:"     supports(obj: any): boolean;"},{type:"added",content:"    "},{type:"added",content:"     transform(value: any, args?: List<any>): WrappedValue;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class NullPipeFactory implements PipeFactory {"},{type:"added",content:"    "},{type:"added",content:"     supports(obj: any): boolean;"},{type:"added",content:"    "},{type:"added",content:"     create(cdRef: ChangeDetectorRef): Pipe;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  const defaultPipes : Pipes ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Provides default implementation of supports and onDestroy."},{type:"added",content:"   * "},{type:"added",content:"   * #Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class DoublePipe extends BasePipe {*"},{type:"added",content:"   *  transform(value) {"},{type:"added",content:"   *    return `${value}${value}`;"},{type:"added",content:"   *  }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class BasePipe implements Pipe {"},{type:"added",content:"    "},{type:"added",content:"     supports(obj: any): boolean;"},{type:"added",content:"    "},{type:"added",content:"     onDestroy(): void;"},{type:"added",content:"    "},{type:"added",content:"     transform(value: any, args: List<any>): any;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class Locals {"},{type:"added",content:"    "},{type:"added",content:"     parent: Locals;"},{type:"added",content:"    "},{type:"added",content:"     current: Map<any, any>;"},{type:"added",content:"    "},{type:"added",content:"     contains(name: string): boolean;"},{type:"added",content:"    "},{type:"added",content:"     get(name: string): any;"},{type:"added",content:"    "},{type:"added",content:"     set(name: string, value: any): void;"},{type:"added",content:"    "},{type:"added",content:"     clearValues(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A dispatcher for all events happening in a view."},{type:"added",content:"   */"},{type:"added",content:"  interface RenderEventDispatcher {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Called when an event was triggered for a on-* attribute on an element."},{type:"added",content:"     * @param {Map<string, any>} locals Locals to be used to evaluate the"},{type:"added",content:"     *   event expressions"},{type:"added",content:"     */"},{type:"added",content:"     dispatchRenderEvent(elementIndex: number, eventName: string, locals: Map<string, any>): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class Renderer {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Creates a root host view that includes the given element."},{type:"added",content:"     * Note that the fragmentCount needs to be passed in so that we can create a result"},{type:"added",content:"     * synchronously even when dealing with webworkers!"},{type:"added",content:"     * "},{type:"added",content:"     * @param {RenderProtoViewRef} hostProtoViewRef a RenderProtoViewRef of type"},{type:"added",content:"     * ProtoViewDto.HOST_VIEW_TYPE"},{type:"added",content:"     * @param {any} hostElementSelector css selector for the host element (will be queried against the"},{type:"added",content:"     * main document)"},{type:"added",content:"     * @return {RenderViewWithFragments} the created view including fragments"},{type:"added",content:"     */"},{type:"added",content:"     createRootHostView(hostProtoViewRef: RenderProtoViewRef, fragmentCount: number, hostElementSelector: string): RenderViewWithFragments;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Creates a regular view out of the given ProtoView."},{type:"added",content:"     * Note that the fragmentCount needs to be passed in so that we can create a result"},{type:"added",content:"     * synchronously even when dealing with webworkers!"},{type:"added",content:"     */"},{type:"added",content:"     createView(protoViewRef: RenderProtoViewRef, fragmentCount: number): RenderViewWithFragments;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Destroys the given view after it has been dehydrated and detached"},{type:"added",content:"     */"},{type:"added",content:"     destroyView(viewRef: RenderViewRef): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Attaches a fragment after another fragment."},{type:"added",content:"     */"},{type:"added",content:"     attachFragmentAfterFragment(previousFragmentRef: RenderFragmentRef, fragmentRef: RenderFragmentRef): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Attaches a fragment after an element."},{type:"added",content:"     */"},{type:"added",content:"     attachFragmentAfterElement(elementRef: RenderElementRef, fragmentRef: RenderFragmentRef): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Detaches a fragment."},{type:"added",content:"     */"},{type:"added",content:"     detachFragment(fragmentRef: RenderFragmentRef): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Hydrates a view after it has been attached. Hydration/dehydration is used for reusing views"},{type:"added",content:"     * inside of the view pool."},{type:"added",content:"     */"},{type:"added",content:"     hydrateView(viewRef: RenderViewRef): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Dehydrates a view after it has been attached. Hydration/dehydration is used for reusing views"},{type:"added",content:"     * inside of the view pool."},{type:"added",content:"     */"},{type:"added",content:"     dehydrateView(viewRef: RenderViewRef): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns the native element at the given location."},{type:"added",content:"     * Attention: In a WebWorker scenario, this should always return null!"},{type:"added",content:"     */"},{type:"added",content:"     getNativeElementSync(location: RenderElementRef): any;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets a property on an element."},{type:"added",content:"     */"},{type:"added",content:"     setElementProperty(location: RenderElementRef, propertyName: string, propertyValue: any): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets an attribute on an element."},{type:"added",content:"     */"},{type:"added",content:"     setElementAttribute(location: RenderElementRef, attributeName: string, attributeValue: string): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets a class on an element."},{type:"added",content:"     */"},{type:"added",content:"     setElementClass(location: RenderElementRef, className: string, isAdd: boolean): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets a style on an element."},{type:"added",content:"     */"},{type:"added",content:"     setElementStyle(location: RenderElementRef, styleName: string, styleValue: string): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Calls a method on an element."},{type:"added",content:"     */"},{type:"added",content:"     invokeElementMethod(location: RenderElementRef, methodName: string, args: List<any>): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets the value of a text node."},{type:"added",content:"     */"},{type:"added",content:"     setText(viewRef: RenderViewRef, textNodeIndex: number, text: string): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets the dispatcher for all events of the given view"},{type:"added",content:"     */"},{type:"added",content:"     setEventDispatcher(viewRef: RenderViewRef, dispatcher: RenderEventDispatcher): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Abstract reference to the element which can be marshaled across web-worker boundry."},{type:"added",content:"   * "},{type:"added",content:"   * This interface is used by the Renderer API."},{type:"added",content:"   */"},{type:"added",content:"  interface RenderElementRef {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Reference to the `RenderViewRef` where the `RenderElementRef` is inside of."},{type:"added",content:"     */"},{type:"added",content:"     renderView: RenderViewRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Index of the element inside the `RenderViewRef`."},{type:"added",content:"     * "},{type:"added",content:"     * This is used internally by the Angular framework to locate elements."},{type:"added",content:"     */"},{type:"added",content:"     renderBoundElementIndex: number;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class RenderViewRef {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class RenderProtoViewRef {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class RenderFragmentRef {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class RenderViewWithFragments {"},{type:"added",content:"    "},{type:"added",content:"     viewRef: RenderViewRef;"},{type:"added",content:"    "},{type:"added",content:"     fragmentRefs: RenderFragmentRef[];"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class DomRenderer extends Renderer {"},{type:"added",content:"    "},{type:"added",content:"     createRootHostView(hostProtoViewRef: RenderProtoViewRef, fragmentCount: number, hostElementSelector: string): RenderViewWithFragments;"},{type:"added",content:"    "},{type:"added",content:"     createView(protoViewRef: RenderProtoViewRef, fragmentCount: number): RenderViewWithFragments;"},{type:"added",content:"    "},{type:"added",content:"     destroyView(viewRef: RenderViewRef): void;"},{type:"added",content:"    "},{type:"added",content:"     getNativeElementSync(location: RenderElementRef): any;"},{type:"added",content:"    "},{type:"added",content:"     getRootNodes(fragment: RenderFragmentRef): List<Node>;"},{type:"added",content:"    "},{type:"added",content:"     attachFragmentAfterFragment(previousFragmentRef: RenderFragmentRef, fragmentRef: RenderFragmentRef): void;"},{type:"added",content:"    "},{type:"added",content:"     attachFragmentAfterElement(elementRef: RenderElementRef, fragmentRef: RenderFragmentRef): void;"},{type:"added",content:"    "},{type:"added",content:"     detachFragment(fragmentRef: RenderFragmentRef): void;"},{type:"added",content:"    "},{type:"added",content:"     hydrateView(viewRef: RenderViewRef): void;"},{type:"added",content:"    "},{type:"added",content:"     dehydrateView(viewRef: RenderViewRef): void;"},{type:"added",content:"    "},{type:"added",content:"     setElementProperty(location: RenderElementRef, propertyName: string, propertyValue: any): void;"},{type:"added",content:"    "},{type:"added",content:"     setElementAttribute(location: RenderElementRef, attributeName: string, attributeValue: string): void;"},{type:"added",content:"    "},{type:"added",content:"     setElementClass(location: RenderElementRef, className: string, isAdd: boolean): void;"},{type:"added",content:"    "},{type:"added",content:"     setElementStyle(location: RenderElementRef, styleName: string, styleValue: string): void;"},{type:"added",content:"    "},{type:"added",content:"     invokeElementMethod(location: RenderElementRef, methodName: string, args: List<any>): void;"},{type:"added",content:"    "},{type:"added",content:"     setText(viewRef: RenderViewRef, textNodeIndex: number, text: string): void;"},{type:"added",content:"    "},{type:"added",content:"     setEventDispatcher(viewRef: RenderViewRef, dispatcher: any): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  const DOCUMENT_TOKEN : OpaqueToken ;"},{type:"added",content:"  "},{type:"added",content:"  const DOM_REFLECT_PROPERTIES_AS_ATTRIBUTES : OpaqueToken ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Declare reusable UI building blocks for an application."},{type:"added",content:"   * "},{type:"added",content:"   * Each Angular component requires a single `@Component` and at least one `@View` annotation. The"},{type:"added",content:"   * `@Component`"},{type:"added",content:"   * annotation specifies when a component is instantiated, and which properties and hostListeners it"},{type:"added",content:"   * binds to."},{type:"added",content:"   * "},{type:"added",content:"   * When a component is instantiated, Angular"},{type:"added",content:"   * - creates a shadow DOM for the component."},{type:"added",content:"   * - loads the selected template into the shadow DOM."},{type:"added",content:"   * - creates all the injectable objects configured with `hostInjector` and `viewInjector`."},{type:"added",content:"   * "},{type:"added",content:"   * All template expressions and statements are then evaluated against the component instance."},{type:"added",content:"   * "},{type:"added",content:"   * For details on the `@View` annotation, see {@link View}."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Component({"},{type:"added",content:"   *   selector: 'greet'"},{type:"added",content:"   * })"},{type:"added",content:"   * @View({"},{type:"added",content:"   *   template: 'Hello {{name}}!'"},{type:"added",content:"   * })"},{type:"added",content:"   * class Greet {"},{type:"added",content:"   *   name: string;"},{type:"added",content:"   * "},{type:"added",content:"   *   constructor() {"},{type:"added",content:"   *     this.name = 'World';"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class ComponentAnnotation extends DirectiveAnnotation {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Defines the used change detection strategy."},{type:"added",content:"     * "},{type:"added",content:"     * When a component is instantiated, Angular creates a change detector, which is responsible for"},{type:"added",content:"     * propagating"},{type:"added",content:"     * the component's bindings."},{type:"added",content:"     * "},{type:"added",content:"     * The `changeDetection` property defines, whether the change detection will be checked every time"},{type:"added",content:"     * or only when the component"},{type:"added",content:"     * tells it to do so."},{type:"added",content:"     */"},{type:"added",content:"     changeDetection: string;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Defines the set of injectable objects that are visible to its view dom children."},{type:"added",content:"     * "},{type:"added",content:"     * ## Simple Example"},{type:"added",content:"     * "},{type:"added",content:"     * Here is an example of a class that can be injected:"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * class Greeter {"},{type:"added",content:"     *    greet(name:string) {"},{type:"added",content:"     *      return 'Hello ' + name + '!';"},{type:"added",content:"     *    }"},{type:"added",content:"     * }"},{type:"added",content:"     * "},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   selector: 'needs-greeter'"},{type:"added",content:"     * })"},{type:"added",content:"     * class NeedsGreeter {"},{type:"added",content:"     *   greeter:Greeter;"},{type:"added",content:"     * "},{type:"added",content:"     *   constructor(greeter:Greeter) {"},{type:"added",content:"     *     this.greeter = greeter;"},{type:"added",content:"     *   }"},{type:"added",content:"     * }"},{type:"added",content:"     * "},{type:"added",content:"     * @Component({"},{type:"added",content:"     *   selector: 'greet',"},{type:"added",content:"     *   viewInjector: ["},{type:"added",content:"     *     Greeter"},{type:"added",content:"     *   ]"},{type:"added",content:"     * })"},{type:"added",content:"     * @View({"},{type:"added",content:"     *   template: `<needs-greeter></needs-greeter>`,"},{type:"added",content:"     *   directives: [NeedsGreeter]"},{type:"added",content:"     * })"},{type:"added",content:"     * class HelloWorld {"},{type:"added",content:"     * }"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     viewInjector: List<any>;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Directives allow you to attach behavior to elements in the DOM."},{type:"added",content:"   * "},{type:"added",content:"   * {@link Directive}s with an embedded view are called {@link Component}s."},{type:"added",content:"   * "},{type:"added",content:"   * A directive consists of a single directive annotation and a controller class. When the"},{type:"added",content:"   * directive's `selector` matches"},{type:"added",content:"   * elements in the DOM, the following steps occur:"},{type:"added",content:"   * "},{type:"added",content:"   * 1. For each directive, the `ElementInjector` attempts to resolve the directive's constructor"},{type:"added",content:"   * arguments."},{type:"added",content:"   * 2. Angular instantiates directives for each matched element using `ElementInjector` in a"},{type:"added",content:"   * depth-first order,"},{type:"added",content:"   *    as declared in the HTML."},{type:"added",content:"   * "},{type:"added",content:"   * ## Understanding How Injection Works"},{type:"added",content:"   * "},{type:"added",content:"   * There are three stages of injection resolution."},{type:"added",content:"   * - *Pre-existing Injectors*:"},{type:"added",content:"   *   - The terminal {@link Injector} cannot resolve dependencies. It either throws an error or, if"},{type:"added",content:"   * the dependency was"},{type:"added",content:"   *     specified as `@Optional`, returns `null`."},{type:"added",content:"   *   - The platform injector resolves browser singleton resources, such as: cookies, title,"},{type:"added",content:"   * location, and others."},{type:"added",content:"   * - *Component Injectors*: Each component instance has its own {@link Injector}, and they follow"},{type:"added",content:"   * the same parent-child hierarchy"},{type:"added",content:"   *     as the component instances in the DOM."},{type:"added",content:"   * - *Element Injectors*: Each component instance has a Shadow DOM. Within the Shadow DOM each"},{type:"added",content:"   * element has an `ElementInjector`"},{type:"added",content:"   *     which follow the same parent-child hierarchy as the DOM elements themselves."},{type:"added",content:"   * "},{type:"added",content:"   * When a template is instantiated, it also must instantiate the corresponding directives in a"},{type:"added",content:"   * depth-first order. The"},{type:"added",content:"   * current `ElementInjector` resolves the constructor dependencies for each directive."},{type:"added",content:"   * "},{type:"added",content:"   * Angular then resolves dependencies as follows, according to the order in which they appear in the"},{type:"added",content:"   * {@link View}:"},{type:"added",content:"   * "},{type:"added",content:"   * 1. Dependencies on the current element"},{type:"added",content:"   * 2. Dependencies on element injectors and their parents until it encounters a Shadow DOM boundary"},{type:"added",content:"   * 3. Dependencies on component injectors and their parents until it encounters the root component"},{type:"added",content:"   * 4. Dependencies on pre-existing injectors"},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * The `ElementInjector` can inject other directives, element-specific special objects, or it can"},{type:"added",content:"   * delegate to the parent"},{type:"added",content:"   * injector."},{type:"added",content:"   * "},{type:"added",content:"   * To inject other directives, declare the constructor parameter as:"},{type:"added",content:"   * - `directive:DirectiveType`: a directive on the current element only"},{type:"added",content:"   * - `@Ancestor() directive:DirectiveType`: any directive that matches the type between the current"},{type:"added",content:"   * element and the"},{type:"added",content:"   *    Shadow DOM root. Current element is not included in the resolution, therefore even if it could"},{type:"added",content:"   * resolve it, it will"},{type:"added",content:"   *    be ignored."},{type:"added",content:"   * - `@Query(DirectiveType) query:QueryList<DirectiveType>`: A live collection of direct child"},{type:"added",content:"   * directives."},{type:"added",content:"   * - `@QueryDescendants(DirectiveType) query:QueryList<DirectiveType>`: A live collection of any"},{type:"added",content:"   * child directives."},{type:"added",content:"   * "},{type:"added",content:"   * To inject element-specific special objects, declare the constructor parameter as:"},{type:"added",content:"   * - `element: ElementRef` to obtain a reference to logical element in the view."},{type:"added",content:"   * - `viewContainer: ViewContainerRef` to control child template instantiation, for"},{type:"added",content:"   * {@link Directive} directives only"},{type:"added",content:"   * - `bindingPropagation: BindingPropagation` to control change detection in a more granular way."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * The following example demonstrates how dependency injection resolves constructor arguments in"},{type:"added",content:"   * practice."},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * Assume this HTML template:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * <div dependency="1">'},{type:"added",content:'   *   <div dependency="2">'},{type:"added",content:'   *     <div dependency="3" my-directive>'},{type:"added",content:'   *       <div dependency="4">'},{type:"added",content:'   *         <div dependency="5"></div>'},{type:"added",content:"   *       </div>"},{type:"added",content:'   *       <div dependency="6"></div>'},{type:"added",content:"   *     </div>"},{type:"added",content:"   *   </div>"},{type:"added",content:"   * </div>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * With the following `dependency` decorator and `SomeService` injectable class."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Injectable()"},{type:"added",content:"   * class SomeService {"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * @Directive({"},{type:"added",content:"   *   selector: '[dependency]',"},{type:"added",content:"   *   properties: ["},{type:"added",content:"   *     'id: dependency'"},{type:"added",content:"   *   ]"},{type:"added",content:"   * })"},{type:"added",content:"   * class Dependency {"},{type:"added",content:"   *   id:string;"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Let's step through the different ways in which `MyDirective` could be declared..."},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * ### No injection"},{type:"added",content:"   * "},{type:"added",content:"   * Here the constructor is declared with no arguments, therefore nothing is injected into"},{type:"added",content:"   * `MyDirective`."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Directive({ selector: '[my-directive]' })"},{type:"added",content:"   * class MyDirective {"},{type:"added",content:"   *   constructor() {"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * This directive would be instantiated with no dependencies."},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * ### Component-level injection"},{type:"added",content:"   * "},{type:"added",content:"   * Directives can inject any injectable instance from the closest component injector or any of its"},{type:"added",content:"   * parents."},{type:"added",content:"   * "},{type:"added",content:"   * Here, the constructor declares a parameter, `someService`, and injects the `SomeService` type"},{type:"added",content:"   * from the parent"},{type:"added",content:"   * component's injector."},{type:"added",content:"   * ```"},{type:"added",content:"   * @Directive({ selector: '[my-directive]' })"},{type:"added",content:"   * class MyDirective {"},{type:"added",content:"   *   constructor(someService: SomeService) {"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * This directive would be instantiated with a dependency on `SomeService`."},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * ### Injecting a directive from the current element"},{type:"added",content:"   * "},{type:"added",content:"   * Directives can inject other directives declared on the current element."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Directive({ selector: '[my-directive]' })"
},{type:"added",content:"   * class MyDirective {"},{type:"added",content:"   *   constructor(dependency: Dependency) {"},{type:"added",content:"   *     expect(dependency.id).toEqual(3);"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * This directive would be instantiated with `Dependency` declared at the same element, in this case"},{type:"added",content:'   * `dependency="3"`.'},{type:"added",content:"   * "},{type:"added",content:"   * ### Injecting a directive from any ancestor elements"},{type:"added",content:"   * "},{type:"added",content:"   * Directives can inject other directives declared on any ancestor element (in the current Shadow"},{type:"added",content:"   * DOM), i.e. on the"},{type:"added",content:"   * parent element and its parents. By definition, a directive with an `@Ancestor` annotation does"},{type:"added",content:"   * not attempt to"},{type:"added",content:"   * resolve dependencies for the current element, even if this would satisfy the dependency."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Directive({ selector: '[my-directive]' })"},{type:"added",content:"   * class MyDirective {"},{type:"added",content:"   *   constructor(@Ancestor() dependency: Dependency) {"},{type:"added",content:"   *     expect(dependency.id).toEqual(2);"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:'   * `@Ancestor` checks the parent, as well as its parents recursively. If `dependency="2"` didn\'t'},{type:"added",content:"   * exist on the direct parent, this injection would"},{type:"added",content:"   * have returned"},{type:"added",content:'   * `dependency="1"`.'},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * ### Injecting a live collection of direct child directives"},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * A directive can also query for other child directives. Since parent directives are instantiated"},{type:"added",content:"   * before child directives, a directive can't simply inject the list of child directives. Instead,"},{type:"added",content:"   * the directive injects a {@link QueryList}, which updates its contents as children are added,"},{type:"added",content:"   * removed, or moved by a directive that uses a {@link ViewContainerRef} such as a `ng-for`, an"},{type:"added",content:"   * `ng-if`, or an `ng-switch`."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Directive({ selector: '[my-directive]' })"},{type:"added",content:"   * class MyDirective {"},{type:"added",content:"   *   constructor(@Query(Dependency) dependencies:QueryList<Dependency>) {"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * This directive would be instantiated with a {@link QueryList} which contains `Dependency` 4 and"},{type:"added",content:"   * 6. Here, `Dependency` 5 would not be included, because it is not a direct child."},{type:"added",content:"   * "},{type:"added",content:"   * ### Injecting a live collection of descendant directives"},{type:"added",content:"   * "},{type:"added",content:"   * By passing the descendant flag to `@Query` above, we can include the children of the child"},{type:"added",content:"   * elements."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Directive({ selector: '[my-directive]' })"},{type:"added",content:"   * class MyDirective {"},{type:"added",content:"   *   constructor(@Query(Dependency, {descendants: true}) dependencies:QueryList<Dependency>) {"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * This directive would be instantiated with a Query which would contain `Dependency` 4, 5 and 6."},{type:"added",content:"   * "},{type:"added",content:"   * ### Optional injection"},{type:"added",content:"   * "},{type:"added",content:"   * The normal behavior of directives is to return an error when a specified dependency cannot be"},{type:"added",content:"   * resolved. If you"},{type:"added",content:"   * would like to inject `null` on unresolved dependency instead, you can annotate that dependency"},{type:"added",content:"   * with `@Optional()`."},{type:"added",content:"   * This explicitly permits the author of a template to treat some of the surrounding directives as"},{type:"added",content:"   * optional."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Directive({ selector: '[my-directive]' })"},{type:"added",content:"   * class MyDirective {"},{type:"added",content:"   *   constructor(@Optional() dependency:Dependency) {"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * This directive would be instantiated with a `Dependency` directive found on the current element."},{type:"added",content:"   * If none can be"},{type:"added",content:"   * found, the injector supplies `null` instead of throwing an error."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * Here we use a decorator directive to simply define basic tool-tip behavior."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Directive({"},{type:"added",content:"   *   selector: '[tooltip]',"},{type:"added",content:"   *   properties: ["},{type:"added",content:"   *     'text: tooltip'"},{type:"added",content:"   *   ],"},{type:"added",content:"   *   hostListeners: {"},{type:"added",content:"   *     'onmouseenter': 'onMouseEnter()',"},{type:"added",content:"   *     'onmouseleave': 'onMouseLeave()'"},{type:"added",content:"   *   }"},{type:"added",content:"   * })"},{type:"added",content:"   * class Tooltip{"},{type:"added",content:"   *   text:string;"},{type:"added",content:"   *   overlay:Overlay; // NOT YET IMPLEMENTED"},{type:"added",content:"   *   overlayManager:OverlayManager; // NOT YET IMPLEMENTED"},{type:"added",content:"   * "},{type:"added",content:"   *   constructor(overlayManager:OverlayManager) {"},{type:"added",content:"   *     this.overlay = overlay;"},{type:"added",content:"   *   }"},{type:"added",content:"   * "},{type:"added",content:"   *   onMouseEnter() {"},{type:"added",content:"   *     // exact signature to be determined"},{type:"added",content:"   *     this.overlay = this.overlayManager.open(text, ...);"},{type:"added",content:"   *   }"},{type:"added",content:"   * "},{type:"added",content:"   *   onMouseLeave() {"},{type:"added",content:"   *     this.overlay.close();"},{type:"added",content:"   *     this.overlay = null;"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * In our HTML template, we can then add this behavior to a `<div>` or any other element with the"},{type:"added",content:"   * `tooltip` selector,"},{type:"added",content:"   * like so:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * <div tooltip="some text here"></div>'},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Directives can also control the instantiation, destruction, and positioning of inline template"},{type:"added",content:"   * elements:"},{type:"added",content:"   * "},{type:"added",content:"   * A directive uses a {@link ViewContainerRef} to instantiate, insert, move, and destroy views at"},{type:"added",content:"   * runtime."},{type:"added",content:"   * The {@link ViewContainerRef} is created as a result of `<template>` element, and represents a"},{type:"added",content:"   * location in the current view"},{type:"added",content:"   * where these actions are performed."},{type:"added",content:"   * "},{type:"added",content:"   * Views are always created as children of the current {@link View}, and as siblings of the"},{type:"added",content:"   * `<template>` element. Thus a"},{type:"added",content:"   * directive in a child view cannot inject the directive that created it."},{type:"added",content:"   * "},{type:"added",content:"   * Since directives that create views via ViewContainers are common in Angular, and using the full"},{type:"added",content:"   * `<template>` element syntax is wordy, Angular"},{type:"added",content:'   * also supports a shorthand notation: `<li *foo="bar">` and `<li template="foo: bar">` are'},{type:"added",content:"   * equivalent."},{type:"added",content:"   * "},{type:"added",content:"   * Thus,"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * <ul>"},{type:"added",content:'   *   <li *foo="bar" title="text"></li>'},{type:"added",content:"   * </ul>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Expands in use to:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * <ul>"},{type:"added",content:'   *   <template [foo]="bar">'},{type:"added",content:'   *     <li title="text"></li>'},{type:"added",content:"   *   </template>"},{type:"added",content:"   * </ul>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:'   * Notice that although the shorthand places `*foo="bar"` within the `<li>` element, the binding for'},{type:"added",content:"   * the directive"},{type:"added",content:"   * controller is correctly instantiated on the `<template>` element rather than the `<li>` element."},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * Let's suppose we want to implement the `unless` behavior, to conditionally include a template."},{type:"added",content:"   * "},{type:"added",content:"   * Here is a simple directive that triggers on an `unless` selector:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Directive({"},{type:"added",content:"   *   selector: '[unless]',"},{type:"added",content:"   *   properties: ['unless']"},{type:"added",content:"   * })"},{type:"added",content:"   * export class Unless {"},{type:"added",content:"   *   viewContainer: ViewContainerRef;"},{type:"added",content:"   *   templateRef: TemplateRef;"},{type:"added",content:"   *   prevCondition: boolean;"},{type:"added",content:"   * "},{type:"added",content:"   *   constructor(viewContainer: ViewContainerRef, templateRef: TemplateRef) {"},{type:"added",content:"   *     this.viewContainer = viewContainer;"},{type:"added",content:"   *     this.templateRef = templateRef;"},{type:"added",content:"   *     this.prevCondition = null;"},{type:"added",content:"   *   }"},{type:"added",content:"   * "},{type:"added",content:"   *   set unless(newCondition) {"},{type:"added",content:"   *     if (newCondition && (isBlank(this.prevCondition) || !this.prevCondition)) {"},{type:"added",content:"   *       this.prevCondition = true;"},{type:"added",content:"   *       this.viewContainer.clear();"},{type:"added",content:"   *     } else if (!newCondition && (isBlank(this.prevCondition) || this.prevCondition)) {"},{type:"added",content:"   *       this.prevCondition = false;"},{type:"added",content:"   *       this.viewContainer.create(this.templateRef);"},{type:"added",content:"   *     }"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * We can then use this `unless` selector in a template:"},{type:"added",content:"   * ```"},{type:"added",content:"   * <ul>"},{type:"added",content:'   *   <li *unless="expr"></li>'},{type:"added",content:"   * </ul>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Once the directive instantiates the child view, the shorthand notation for the template expands"},{type:"added",content:"   * and the result is:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * <ul>"},{type:"added",content:'   *   <template [unless]="exp">'},{type:"added",content:"   *     <li></li>"},{type:"added",content:"   *   </template>"},{type:"added",content:"   *   <li></li>"},{type:"added",content:"   * </ul>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Note also that although the `<li></li>` template still exists inside the `<template></template>`,"},{type:"added",content:"   * the instantiated"},{type:"added",content:"   * view occurs on the second `<li></li>` which is a sibling to the `<template>` element."},{type:"added",content:"   */"},{type:"added",content:"  class DirectiveAnnotation extends InjectableMetadata {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * The CSS selector that triggers the instantiation of a directive."},{type:"added",content:"     * "},{type:"added",content:"     * Angular only allows directives to trigger on CSS selectors that do not cross element"},{type:"added",content:"     * boundaries."},{type:"added",content:"     * "},{type:"added",content:"     * `selector` may be declared as one of the following:"},{type:"added",content:"     * "},{type:"added",content:"     * - `element-name`: select by element name."},{type:"added",content:"     * - `.class`: select by class name."},{type:"added",content:"     * - `[attribute]`: select by attribute name."},{type:"added",content:"     * - `[attribute=value]`: select by attribute name and value."},{type:"added",content:"     * - `:not(sub_selector)`: select only if the element does not match the `sub_selector`."},{type:"added",content:"     * - `selector1, selector2`: select if either `selector1` or `selector2` matches."},{type:"added",content:"     * "},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * Suppose we have a directive with an `input[type=text]` selector."},{type:"added",content:"     * "},{type:"added",content:"     * And the following HTML:"},{type:"added",content:"     * "},{type:"added",content:"     * ```html"},{type:"added",content:"     * <form>"},{type:"added",content:'     *   <input type="text">'},{type:"added",content:'     *   <input type="radio">'},{type:"added",content:"     * <form>"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:'     * The directive would only be instantiated on the `<input type="text">` element.'},{type:"added",content:"     */"},{type:"added",content:"     selector: string;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Enumerates the set of properties that accept data binding for a directive."},{type:"added",content:"     * "},{type:"added",content:"     * The `properties` property defines a set of `directiveProperty` to `bindingProperty`"},{type:"added",content:"     * configuration:"},{type:"added",content:"     * "},{type:"added",content:"     * - `directiveProperty` specifies the component property where the value is written."},{type:"added",content:"     * - `bindingProperty` specifies the DOM property where the value is read from."},{type:"added",content:"     * "},{type:"added",content:"     * You can include a {@link Pipe} when specifying a `bindingProperty` to allow for data"},{type:"added",content:"     * transformation and structural change detection of the value. These pipes will be evaluated in"},{type:"added",content:"     * the context of this component."},{type:"added",content:"     * "},{type:"added",content:"     * ## Syntax"},{type:"added",content:"     * "},{type:"added",content:"     * There is no need to specify both `directiveProperty` and `bindingProperty` when they both have"},{type:"added",content:"     * the same value."},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   properties: ["},{type:"added",content:"     *     'propertyName', // shorthand notation for 'propertyName: propertyName'"},{type:"added",content:"     *     'directiveProperty1: bindingProperty1',"},{type:"added",content:"     *     'directiveProperty2: bindingProperty2 | pipe1 | ...',"},{type:"added",content:"     *     ..."},{type:"added",content:"     *   ]"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * "},{type:"added",content:"     * ## Basic Property Binding"},{type:"added",content:"     * "},{type:"added",content:"     * We can easily build a simple `Tooltip` directive that exposes a `tooltip` property, which can"},{type:"added",content:"     * be used in templates with standard Angular syntax. For example:"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   selector: '[tooltip]',"},{type:"added",content:"     *   properties: ["},{type:"added",content:"     *     'text: tooltip'"},{type:"added",content:"     *   ]"},{type:"added",content:"     * })"},{type:"added",content:"     * class Tooltip {"},{type:"added",content:"     *   set text(value: string) {"},{type:"added",content:"     *     // This will get called every time with the new value when the 'tooltip' property changes"},{type:"added",content:"     *   }"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * We can then bind to the `tooltip' property as either an expression (`someExpression`) or as a"},{type:"added",content:"     * string literal, as shown in the HTML template below:"},{type:"added",content:"     * "},{type:"added",content:"     * ```html"},{type:"added",content:'     * <div [tooltip]="someExpression">...</div>'},{type:"added",content:'     * <div tooltip="Some Text">...</div>'},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * Whenever the `someExpression` expression changes, the `properties` declaration instructs"},{type:"added",content:"     * Angular to update the `Tooltip`'s `text` property."},{type:"added",content:"     * "},{type:"added",content:"     * ## Bindings With Pipes"},{type:"added",content:"     * "},{type:"added",content:"     * You can also use pipes when writing binding definitions for a directive."},{type:"added",content:"     * "},{type:"added",content:"     * For example, we could write a binding that updates the directive on structural changes, rather"},{type:"added",content:"     * than on reference changes, as normally occurs in change detection."},{type:"added",content:"     * "},{type:"added",content:"     * See {@link Pipe} and {@link KeyValueChanges} documentation for more details."},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   selector: '[class-set]',"},{type:"added",content:"     *   properties: ["},{type:"added",content:"     *     'classChanges: classSet | keyValDiff'"},{type:"added",content:"     *   ]"},{type:"added",content:"     * })"},{type:"added",content:"     * class ClassSet {"},{type:"added",content:"     *   set classChanges(changes: KeyValueChanges) {"},{type:"added",content:"     *     // This will get called every time the `class-set` expressions changes its structure."},{type:"added",content:"     *   }"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * The template that this directive is used in may also contain its own pipes. For example:"},{type:"added",content:"     * "},{type:"added",content:"     * ```html"},{type:"added",content:'     * <div [class-set]="someExpression | somePipe">'},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * In this case, the two pipes compose as if they were inlined: `someExpression | somePipe |"},{type:"added",content:"     * keyValDiff`."},{type:"added",content:"     */"},{type:"added",content:"     properties: List<string>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Enumerates the set of emitted events."},{type:"added",content:"     * "},{type:"added",content:"     * ## Syntax"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Component({"},{type:"added",content:"     *   events: ['statusChange']"},{type:"added",content:"     * })"},{type:"added",content:"     * class TaskComponent {"},{type:"added",content:"     *   statusChange: EventEmitter;"},{type:"added",content:"     * "},{type:"added",content:"     *   constructor() {"},{type:"added",content:"     *     this.statusChange = new EventEmitter();"},{type:"added",content:"     *   }"},{type:"added",content:"     * "},{type:"added",content:"     *   onComplete() {"},{type:"added",content:"     *     this.statusChange.next('completed');"},{type:"added",content:"     *   }"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * Use `propertyName: eventName` when the event emitter property name is different from the name"},{type:"added",content:"     * of the emitted event:"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Component({"},{type:"added",content:"     *   events: ['status: statusChange']"},{type:"added",content:"     * })"},{type:"added",content:"     * class TaskComponent {"},{type:"added",content:"     *   status: EventEmitter;"},{type:"added",content:"     * "},{type:"added",content:"     *   constructor() {"},{type:"added",content:"     *     this.status = new EventEmitter();"},{type:"added",content:"     *   }"},{type:"added",content:"     * "},{type:"added",content:"     *   onComplete() {"},{type:"added",content:"     *     this.status.next('completed');"},{type:"added",content:"     *   }"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     events: List<string>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Specifiy the events, actions, properties and attributes related to the host element."},{type:"added",content:"     * "},{type:"added",content:"     * ## Events"},{type:"added",content:"     * "},{type:"added",content:"     * Specifies which DOM hostListeners a directive listens to via a set of `(event)` to `method`"},{type:"added",content:"     * key-value pairs:"},{type:"added",content:"     * "},{type:"added",content:"     * - `event1`: the DOM event that the directive listens to."},{type:"added",content:"     * - `statement`: the statement to execute when the event occurs."},{type:"added",content:"     * If the evalutation of the statement returns `false`, then `preventDefault`is applied on the DOM"},{type:"added",content:"     * event."},{type:"added",content:"     * "},{type:"added",content:"     * To listen to global events, a target must be added to the event name."},{type:"added",content:"     * The target can be `window`, `document` or `body`."},{type:"added",content:"     * "},{type:"added",content:"     * When writing a directive event binding, you can also refer to the following local variables:"},{type:"added",content:"     * - `$event`: Current event object which triggered the event."},{type:"added",content:"     * - `$target`: The source of the event. This will be either a DOM element or an Angular"},{type:"added",content:"     * directive. (will be implemented in later release)"},{type:"added",content:"     * "},{type:"added",content:"     * ## Syntax"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   host: {"},{type:"added",content:"     *     '(event1)': 'onMethod1(arguments)',"},{type:"added",content:"     *     '(target:event2)': 'onMethod2(arguments)',"},{type:"added",content:"     *     ..."},{type:"added",content:"     *   }"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * ## Basic Event Binding:"},{type:"added",content:"     * "},{type:"added",content:"     * Suppose you want to write a directive that reacts to `change` events in the DOM and on"},{type:"added",content:"     * `resize` events in window."},{type:"added",content:"     * You would define the event binding as follows:"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   selector: 'input',"},{type:"added",content:"     *   host: {"},{type:"added",content:"     *     '(change)': 'onChange($event)',"},{type:"added",content:"     *     '(window:resize)': 'onResize($event)'"},{type:"added",content:"     *   }"},{type:"added",content:"     * })"},{type:"added",content:"     * class InputDirective {"},{type:"added",content:"     *   onChange(event:Event) {"},{type:"added",content:"     *     // invoked when the input element fires the 'change' event"},{type:"added",content:"     *   }"},{type:"added",content:"     *   onResize(event:Event) {"},{type:"added",content:"     *     // invoked when the window fires the 'resize' event"},{type:"added",content:"     *   }"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * ## Properties"},{type:"added",content:"     * "},{type:"added",content:"     * Specifies which DOM properties a directives updates."},{type:"added",content:"     * "},{type:"added",content:"     * ## Syntax"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   selector: 'input',"},{type:"added",content:"     *   host: {"},{type:"added",content:"     *     '[prop]': 'expression'"},{type:"added",content:"     *   }"},{type:"added",content:"     * })"},{type:"added",content:"     * class InputDirective {"},{type:"added",content:"     *   value:string;"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * In this example the prop property of the host element is updated with the expression value"},{type:"added",content:"     * every time it changes."},{type:"added",content:"     * "},{type:"added",content:"     * ## Attributes"},{type:"added",content:"     * "},{type:"added",content:"     * Specifies static attributes that should be propagated to a host element. Attributes specified"},{type:"added",content:"     * in `hostAttributes` are propagated only if a given attribute is not present on a host element."},{type:"added",content:"     * "},{type:"added",content:"     * ## Syntax"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   selector: '[my-button]',"},{type:"added",content:"     *   host: {"},{type:"added",content:"     *     'role': 'button'"},{type:"added",content:"     *   }"},{type:"added",content:"     * })"},{type:"added",content:"     * class MyButton {"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * In this example using `my-button` directive (ex.: `<div my-button></div>`) on a host element"},{type:"added",content:'     * (here: `<div>` ) will ensure that this element will get the "button" role.'},{type:"added",content:"     * "},{type:"added",content:"     * ## Actions"},{type:"added",content:"     * "},{type:"added",content:"     * Specifies which DOM methods a directive can invoke."},{type:"added",content:"     * "},{type:"added",content:"     * ## Syntax"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   selector: 'input',"},{type:"added",content:"     *   host: {"},{type:"added",content:"     *     '@emitFocus': 'focus()'"},{type:"added",content:"     *   }"},{type:"added",content:"     * })"},{type:"added",content:"     * class InputDirective {"},{type:"added",content:"     *   constructor() {"},{type:"added",content:"     *     this.emitFocus = new EventEmitter();"},{type:"added",content:"     *   }"},{type:"added",content:"     * "},{type:"added",content:"     *   focus() {"},{type:"added",content:"     *     this.emitFocus.next();"},{type:"added",content:"     *   }"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * In this example calling focus on InputDirective will result in calling focus on the input."},{type:"added",content:"     */"},{type:"added",content:"     host: StringMap<string, string>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Specifies which lifecycle should be notified to the directive."},{type:"added",content:"     * "},{type:"added",content:"     * See {@link LifecycleEvent} for details."},{type:"added",content:"     */"},{type:"added",content:"     lifecycle: List<LifecycleEvent>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * If set to false the compiler does not compile the children of this directive."},{type:"added",content:"     */"},{type:"added",content:"     compileChildren: boolean;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Defines the set of injectable objects that are visible to a Directive and its light dom"},{type:"added",content:"     * children."},{type:"added",content:"     * "},{type:"added",content:"     * ## Simple Example"},{type:"added",content:"     * "},{type:"added",content:"     * Here is an example of a class that can be injected:"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * class Greeter {"},{type:"added",content:"     *    greet(name:string) {"},{type:"added",content:"     *      return 'Hello ' + name + '!';"},{type:"added",content:"     *    }"},{type:"added",content:"     * }"},{type:"added",content:"     * "},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   selector: 'greet',"},{type:"added",content:"     *   hostInjector: ["},{type:"added",content:"     *     Greeter"},{type:"added",content:"     *   ]"},{type:"added",content:"     * })"},{type:"added",content:"     * class HelloWorld {"},{type:"added",content:"     *   greeter:Greeter;"},{type:"added",content:"     * "},{type:"added",content:"     *   constructor(greeter:Greeter) {"},{type:"added",content:"     *     this.greeter = greeter;"},{type:"added",content:"     *   }"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     hostInjector: List<any>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Defines the name that can be used in the template to assign this directive to a variable."
},{type:"added",content:"     * "},{type:"added",content:"     * ## Simple Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @Directive({"},{type:"added",content:"     *   selector: 'child-dir',"},{type:"added",content:"     *   exportAs: 'child'"},{type:"added",content:"     * })"},{type:"added",content:"     * class ChildDir {"},{type:"added",content:"     * }"},{type:"added",content:"     * "},{type:"added",content:"     * @Component({"},{type:"added",content:"     *   selector: 'main',"},{type:"added",content:"     * })"},{type:"added",content:"     * @View({"},{type:"added",content:'     *   template: `<child-dir #c="child"></child-dir>`,'},{type:"added",content:"     *   directives: [ChildDir]"},{type:"added",content:"     * })"},{type:"added",content:"     * class MainComponent {"},{type:"added",content:"     * }"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     exportAs: string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Lifecycle events are guaranteed to be called in the following order:"},{type:"added",content:"   * - `onChange` (optional if any bindings have changed),"},{type:"added",content:"   * - `onInit` (optional after the first check only),"},{type:"added",content:"   * - `onCheck`,"},{type:"added",content:"   * - `onAllChangesDone`"},{type:"added",content:"   */"},{type:"added",content:"  enum LifecycleEvent {"},{type:"added",content:"    onDestroy,"},{type:"added",content:"    onChange,"},{type:"added",content:"    onCheck,"},{type:"added",content:"    onInit,"},{type:"added",content:"    onAllChangesDone"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Declares the available HTML templates for an application."},{type:"added",content:"   * "},{type:"added",content:"   * Each angular component requires a single `@Component` and at least one `@View` annotation. The"},{type:"added",content:"   * `@View` annotation specifies the HTML template to use, and lists the directives that are active"},{type:"added",content:"   * within the template."},{type:"added",content:"   * "},{type:"added",content:"   * When a component is instantiated, the template is loaded into the component's shadow root, and"},{type:"added",content:"   * the expressions and statements in the template are evaluated against the component."},{type:"added",content:"   * "},{type:"added",content:"   * For details on the `@Component` annotation, see {@link Component}."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Component({"},{type:"added",content:"   *   selector: 'greet'"},{type:"added",content:"   * })"},{type:"added",content:"   * @View({"},{type:"added",content:"   *   template: 'Hello {{name}}!',"},{type:"added",content:"   *   directives: [GreetUser, Bold]"},{type:"added",content:"   * })"},{type:"added",content:"   * class Greet {"},{type:"added",content:"   *   name: string;"},{type:"added",content:"   * "},{type:"added",content:"   *   constructor() {"},{type:"added",content:"   *     this.name = 'World';"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class ViewAnnotation {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Specifies an inline template for an angular component."},{type:"added",content:"     * "},{type:"added",content:"     * NOTE: either `templateUrl` or `template` should be used, but not both."},{type:"added",content:"     */"},{type:"added",content:"     templateUrl: string;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Specifies a template URL for an angular component."},{type:"added",content:"     * "},{type:"added",content:"     * NOTE: either `templateUrl` or `template` should be used, but not both."},{type:"added",content:"     */"},{type:"added",content:"     template: string;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Specifies stylesheet URLs for an angular component."},{type:"added",content:"     */"},{type:"added",content:"     styleUrls: List<string>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Specifies an inline stylesheet for an angular component."},{type:"added",content:"     */"},{type:"added",content:"     styles: List<string>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Specifies a list of directives that can be used within a template."},{type:"added",content:"     * "},{type:"added",content:"     * Directives must be listed explicitly to provide proper component encapsulation."},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```javascript"},{type:"added",content:"     * @Component({"},{type:"added",content:"     *     selector: 'my-component'"},{type:"added",content:"     *   })"},{type:"added",content:"     * @View({"},{type:"added",content:"     *   directives: [For]"},{type:"added",content:"     *   template: '"},{type:"added",content:"     *   <ul>"},{type:"added",content:'     *     <li *ng-for="#item of items">{{item}}</li>'},{type:"added",content:"     *   </ul>'"},{type:"added",content:"     * })"},{type:"added",content:"     * class MyComponent {"},{type:"added",content:"     * }"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     directives: List<Type | any | List<any>>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Specify a custom renderer for this View."},{type:"added",content:"     * If this is set, neither `template`, `templateUrl`, `styles`, `styleUrls` nor `directives` are"},{type:"added",content:"     * used."},{type:"added",content:"     */"},{type:"added",content:"     renderer: string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Specifies that a {@link QueryList} should be injected."},{type:"added",content:"   * "},{type:"added",content:"   * See {@link QueryList} for usage and example."},{type:"added",content:"   */"},{type:"added",content:"  class QueryAnnotation extends DependencyMetadata {"},{type:"added",content:"    "},{type:"added",content:"     descendants: boolean;"},{type:"added",content:"    "},{type:"added",content:"     isViewQuery: void;"},{type:"added",content:"    "},{type:"added",content:"     selector: void;"},{type:"added",content:"    "},{type:"added",content:"     isVarBindingQuery: boolean;"},{type:"added",content:"    "},{type:"added",content:"     varBindings: List<string>;"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Specifies that a constant attribute value should be injected."},{type:"added",content:"   * "},{type:"added",content:"   * The directive can inject constant string literals of host element attributes."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * Suppose we have an `<input>` element and want to know its `type`."},{type:"added",content:"   * "},{type:"added",content:"   * ```html"},{type:"added",content:'   * <input type="text">'},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * A decorator can inject string literal `text` like so:"},{type:"added",content:"   * "},{type:"added",content:"   * ```javascript"},{type:"added",content:"   * @Directive({"},{type:"added",content:"   *   selector: `input'"},{type:"added",content:"   * })"},{type:"added",content:"   * class InputDirective {"},{type:"added",content:"   *   constructor(@Attribute('type') type) {"},{type:"added",content:"   *     // type would be `text` in this example"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class AttributeAnnotation extends DependencyMetadata {"},{type:"added",content:"    "},{type:"added",content:"     attributeName: string;"},{type:"added",content:"    "},{type:"added",content:"     token: void;"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Defines lifecycle method [onAllChangesDone ] called when the bindings of all its children have"},{type:"added",content:"   * been changed."},{type:"added",content:"   */"},{type:"added",content:"  interface OnAllChangesDone {"},{type:"added",content:"    "},{type:"added",content:"     onAllChangesDone(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Defines lifecycle method [onChange] called after all of component's bound"},{type:"added",content:"   * properties are updated."},{type:"added",content:"   */"},{type:"added",content:"  interface OnChange {"},{type:"added",content:"    "},{type:"added",content:"     onChange(changes: StringMap<string, any>): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Defines lifecycle method [onDestroy] called when a directive is being destroyed."},{type:"added",content:"   */"},{type:"added",content:"  interface OnDestroy {"},{type:"added",content:"    "},{type:"added",content:"     onDestroy(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Defines lifecycle method [onInit] called when a directive is being checked the first time."},{type:"added",content:"   */"},{type:"added",content:"  interface OnInit {"},{type:"added",content:"    "},{type:"added",content:"     onInit(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Defines lifecycle method [onCheck] called when a directive is being checked."},{type:"added",content:"   */"},{type:"added",content:"  interface OnCheck {"},{type:"added",content:"    "},{type:"added",content:"     onCheck(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Provides a way for expressing ES6 classes with parameter annotations in ES5."},{type:"added",content:"   * "},{type:"added",content:"   * ## Basic Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var Greeter = ng.Class({"},{type:"added",content:"   *   constructor: function(name) {"},{type:"added",content:"   *     this.name = name;"},{type:"added",content:"   *   },"},{type:"added",content:"   * "},{type:"added",content:"   *   greet: function() {"},{type:"added",content:"   *     alert('Hello ' + this.name + '!');"},{type:"added",content:"   *   }"},{type:"added",content:"   * });"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * is equivalent to ES6:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class Greeter {"},{type:"added",content:"   *   constructor(name) {"},{type:"added",content:"   *     this.name = name;"},{type:"added",content:"   *   }"},{type:"added",content:"   * "},{type:"added",content:"   *   greet() {"},{type:"added",content:"   *     alert('Hello ' + this.name + '!');"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * or equivalent to ES5:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var Greeter = function (name) {"},{type:"added",content:"   *   this.name = name;"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * Greeter.prototype.greet = function () {"},{type:"added",content:"   *   alert('Hello ' + this.name + '!');"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example with parameter annotations"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyService = neg.Class({"},{type:"added",content:"   *   constructor: [String, [new Query(), QueryList], function(name, queryList) {"},{type:"added",content:"   *     ..."},{type:"added",content:"   *   }];"},{type:"added",content:"   * });"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * is equivalent to ES6:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class MyService {"},{type:"added",content:"   *   constructor(name: string, @Query() queryList: QueryList) {"},{type:"added",content:"   *     ..."},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example with inheritance"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var Shape = ng.Class({"},{type:"added",content:"   *   constructor: (color) {"},{type:"added",content:"   *     this.color = color;"},{type:"added",content:"   *   }"},{type:"added",content:"   * });"},{type:"added",content:"   * "},{type:"added",content:"   * var Square = ng.Class({"},{type:"added",content:"   *   extends: Shape,"},{type:"added",content:"   *   constructor: function(color, size) {"},{type:"added",content:"   *     Shape.call(this, color);"},{type:"added",content:"   *     this.size = size;"},{type:"added",content:"   *   }"},{type:"added",content:"   * });"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  function Class(clsDef: ClassDefinition) : Type ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Declares the interface to be used with {@link Class}."},{type:"added",content:"   */"},{type:"added",content:"  interface ClassDefinition {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Optional argument for specifying the superclass."},{type:"added",content:"     */"},{type:"added",content:"     extends?: Type;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Required constructor function for a class."},{type:"added",content:"     * "},{type:"added",content:"     * The function may be optionally wrapped in an `Array`, in which case additional parameter"},{type:"added",content:"     * annotations may be specified."},{type:"added",content:"     * The number of arguments and the number of parameter annotations must match."},{type:"added",content:"     * "},{type:"added",content:"     * See {@link Class} for example of usage."},{type:"added",content:"     */"},{type:"added",content:"     constructor: (Function | Array<any>);"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * An interface implemented by all Angular parameter decorators, which allows them to be used as ES7"},{type:"added",content:"   * decorators."},{type:"added",content:"   */"},{type:"added",content:"  interface ParameterDecorator {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Invoke as ES7 decorator."},{type:"added",content:"     */"},{type:"added",content:"     (cls: Type, unusedKey: any, index: number): void;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * An interface implemented by all Angular type decorators, which allows them to be used as ES7"},{type:"added",content:"   * decorators as well as"},{type:"added",content:"   * Angular DSL syntax."},{type:"added",content:"   * "},{type:"added",content:"   * DSL syntax:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyClass = ng"},{type:"added",content:"   *   .Component({...})"},{type:"added",content:"   *   .View({...})"},{type:"added",content:"   *   .Class({...});"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ES7 syntax:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @ng.Component({...})"},{type:"added",content:"   * @ng.View({...})"},{type:"added",content:"   * class MyClass {...}"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  interface TypeDecorator {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Invoke as ES7 decorator."},{type:"added",content:"     */"},{type:"added",content:"     <T extends Type>(type: T): T;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Storage for the accumulated annotations so far used by the DSL syntax."},{type:"added",content:"     * "},{type:"added",content:"     * Used by {@link Class} to annotate the generated class."},{type:"added",content:"     */"},{type:"added",content:"     annotations: Array<any>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Generate a class from the definition and annotate it with {@link TypeDecorator#annotations}."},{type:"added",content:"     */"},{type:"added",content:"     Class(obj: ClassDefinition): Type;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link Attribute} factory function."},{type:"added",content:"   */"},{type:"added",content:"  var Attribute : AttributeFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link Attribute} factory for creating annotations, decorators or DSL."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as TypeScript Decorator"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * import {Attribute, Component, View} from "angular2/angular2";'},{type:"added",content:"   * "},{type:"added",content:"   * @Component({...})"},{type:"added",content:"   * @View({...})"},{type:"added",content:"   * class MyComponent {"},{type:"added",content:"   *   constructor(@Attribute('title') title: string) {"},{type:"added",content:"   *     ..."},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as ES5 DSL"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyComponent = ng"},{type:"added",content:"   *   .Component({...})"},{type:"added",content:"   *   .View({...})"},{type:"added",content:"   *   .Class({"},{type:"added",content:"   *     constructor: [new ng.Attribute('title'), function(title) {"},{type:"added",content:"   *       ..."},{type:"added",content:"   *     }]"},{type:"added",content:"   *   })"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as ES5 annotation"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyComponent = function(title) {"},{type:"added",content:"   *   ..."},{type:"added",content:"   * };"},{type:"added",content:"   * "},{type:"added",content:"   * MyComponent.annotations = ["},{type:"added",content:"   *   new ng.Component({...})"},{type:"added",content:"   *   new ng.View({...})"},{type:"added",content:"   * ]"},{type:"added",content:"   * MyComponent.parameters = ["},{type:"added",content:"   *   [new ng.Attribute('title')]"},{type:"added",content:"   * ]"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  interface AttributeFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(name: string): AttributeAnnotation;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (name: string): TypeDecorator;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link Component} factory function."},{type:"added",content:"   */"},{type:"added",content:"  var Component : ComponentFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Interface for the {@link Component} decorator function."},{type:"added",content:"   * "},{type:"added",content:"   * See {@link ComponentFactory}."},{type:"added",content:"   */"},{type:"added",content:"  interface ComponentDecorator extends TypeDecorator {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Chain {@link View} annotation."},{type:"added",content:"     */"},{type:"added",content:"     View(obj: {"},{type:"added",content:"    templateUrl?: string,"},{type:"added",content:"    template?: string,"},{type:"added",content:"    directives?: List<Type | any | List<any>>,"},{type:"added",content:"    renderer?: string,"},{type:"added",content:"    styles?: List<string>,"},{type:"added",content:"    styleUrls?: List<string>,"},{type:"added",content:"  }): ViewDecorator;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link ComponentAnnotation} factory for creating annotations, decorators or DSL."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as TypeScript Decorator"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * import {Component, View} from "angular2/angular2";'},{type:"added",content:"   * "},{type:"added",content:"   * @Component({...})"},{type:"added",content:"   * @View({...})"},{type:"added",content:"   * class MyComponent {"},{type:"added",content:"   *   constructor() {"},{type:"added",content:"   *     ..."},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as ES5 DSL"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyComponent = ng"},{type:"added",content:"   *   .Component({...})"},{type:"added",content:"   *   .View({...})"},{type:"added",content:"   *   .Class({"},{type:"added",content:"   *     constructor: function() {"},{type:"added",content:"   *       ..."},{type:"added",content:"   *     }"},{type:"added",content:"   *   })"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as ES5 annotation"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyComponent = function() {"},{type:"added",content:"   *   ..."},{type:"added",content:"   * };"},{type:"added",content:"   * "},{type:"added",content:"   * MyComponent.annotations = ["},{type:"added",content:"   *   new ng.Component({...})"},{type:"added",content:"   *   new ng.View({...})"},{type:"added",content:"   * ]"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  interface ComponentFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(obj: {"},{type:"added",content:"    selector?: string,"},{type:"added",content:"    properties?: List<string>,"},{type:"added",content:"    events?: List<string>,"},{type:"added",content:"    host?: StringMap<string, string>,"},{type:"added",content:"    lifecycle?: List<LifecycleEvent>,"},{type:"added",content:"    hostInjector?: List<any>,"},{type:"added",content:"    exportAs?: string,"},{type:"added",content:"    compileChildren?: boolean,"},{type:"added",content:"    viewInjector?: List<any>,"},{type:"added",content:"    changeDetection?: string,"},{type:"added",content:"  }): ComponentAnnotation;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (obj: {"},{type:"added",content:"    selector?: string,"},{type:"added",content:"    properties?: List<string>,"},{type:"added",content:"    events?: List<string>,"},{type:"added",content:"    host?: StringMap<string, string>,"},{type:"added",content:"    lifecycle?: List<LifecycleEvent>,"},{type:"added",content:"    hostInjector?: List<any>,"},{type:"added",content:"    exportAs?: string,"},{type:"added",content:"    compileChildren?: boolean,"},{type:"added",content:"    viewInjector?: List<any>,"},{type:"added",content:"    changeDetection?: string,"},{type:"added",content:"  }): ComponentDecorator;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link Directive} factory function."},{type:"added",content:"   */"},{type:"added",content:"  var Directive : DirectiveFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Interface for the {@link Directive} decorator function."},{type:"added",content:"   * "},{type:"added",content:"   * See {@link DirectiveFactory}."},{type:"added",content:"   */"},{type:"added",content:"  interface DirectiveDecorator extends TypeDecorator {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link Directive} factory for creating annotations, decorators or DSL."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as TypeScript Decorator"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * import {Directive} from "angular2/angular2";'},{type:"added",content:"   * "},{type:"added",content:"   * @Directive({...})"},{type:"added",content:"   * class MyDirective {"},{type:"added",content:"   *   constructor() {"},{type:"added",content:"   *     ..."},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as ES5 DSL"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyDirective = ng"},{type:"added",content:"   *   .Directive({...})"},{type:"added",content:"   *   .Class({"},{type:"added",content:"   *     constructor: function() {"},{type:"added",content:"   *       ..."},{type:"added",content:"   *     }"},{type:"added",content:"   *   })"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as ES5 annotation"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyDirective = function() {"},{type:"added",content:"   *   ..."},{type:"added",content:"   * };"},{type:"added",content:"   * "},{type:"added",content:"   * MyDirective.annotations = ["},{type:"added",content:"   *   new ng.Directive({...})"},{type:"added",content:"   * ]"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  interface DirectiveFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(obj: {"},{type:"added",content:"    selector?: string, properties?: List<string>, events?: List<string>,"},{type:"added",content:"        host?: StringMap<string, string>, lifecycle?: List<LifecycleEvent>,"},{type:"added",content:"        hostInjector?: List<any>, exportAs?: string, compileChildren?: boolean;"},{type:"added",content:"  }): DirectiveAnnotation;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (obj: {"},{type:"added",content:"    selector?: string, properties?: List<string>, events?: List<string>,"},{type:"added",content:"        host?: StringMap<string, string>, lifecycle?: List<LifecycleEvent>,"},{type:"added",content:"        hostInjector?: List<any>, exportAs?: string, compileChildren?: boolean;"},{type:"added",content:"  }): DirectiveDecorator;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link View} factory function."},{type:"added",content:"   */"},{type:"added",content:"  var View : ViewFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Interface for the {@link View} decorator function."},{type:"added",content:"   * "},{type:"added",content:"   * See {@link ViewFactory}."},{type:"added",content:"   */"},{type:"added",content:"  interface ViewDecorator extends TypeDecorator {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Chain {@link View} annotation."},{type:"added",content:"     */"},{type:"added",content:"     View(obj: {"},{type:"added",content:"    templateUrl?: string,"},{type:"added",content:"    template?: string,"},{type:"added",content:"    directives?: List<Type | any | List<any>>,"},{type:"added",content:"    renderer?: string,"},{type:"added",content:"    styles?: List<string>,"},{type:"added",content:"    styleUrls?: List<string>,"},{type:"added",content:"  }): ViewDecorator;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link ViewAnnotation} factory for creating annotations, decorators or DSL."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as TypeScript Decorator"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * import {Component, View} from "angular2/angular2";'},{type:"added",content:"   * "},{type:"added",content:"   * @Component({...})"},{type:"added",content:"   * @View({...})"},{type:"added",content:"   * class MyComponent {"},{type:"added",content:"   *   constructor() {"},{type:"added",content:"   *     ..."},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as ES5 DSL"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyComponent = ng"},{type:"added",content:"   *   .Component({...})"},{type:"added",content:"   *   .View({...})"},{type:"added",content:"   *   .Class({"},{type:"added",content:"   *     constructor: function() {"},{type:"added",content:"   *       ..."
},{type:"added",content:"   *     }"},{type:"added",content:"   *   })"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as ES5 annotation"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyComponent = function() {"},{type:"added",content:"   *   ..."},{type:"added",content:"   * };"},{type:"added",content:"   * "},{type:"added",content:"   * MyComponent.annotations = ["},{type:"added",content:"   *   new ng.Component({...})"},{type:"added",content:"   *   new ng.View({...})"},{type:"added",content:"   * ]"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  interface ViewFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(obj: {"},{type:"added",content:"    templateUrl?: string,"},{type:"added",content:"    template?: string,"},{type:"added",content:"    directives?: List<Type | any | List<any>>,"},{type:"added",content:"    renderer?: string,"},{type:"added",content:"    styles?: List<string>,"},{type:"added",content:"    styleUrls?: List<string>,"},{type:"added",content:"  }): ViewAnnotation;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (obj: {"},{type:"added",content:"    templateUrl?: string,"},{type:"added",content:"    template?: string,"},{type:"added",content:"    directives?: List<Type | any | List<any>>,"},{type:"added",content:"    renderer?: string,"},{type:"added",content:"    styles?: List<string>,"},{type:"added",content:"    styleUrls?: List<string>,"},{type:"added",content:"  }): ViewDecorator;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link Query} factory function."},{type:"added",content:"   */"},{type:"added",content:"  var Query : QueryFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link Query} factory for creating annotations, decorators or DSL."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as TypeScript Decorator"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * import {Query, QueryList, Component, View} from "angular2/angular2";'},{type:"added",content:"   * "},{type:"added",content:"   * @Component({...})"},{type:"added",content:"   * @View({...})"},{type:"added",content:"   * class MyComponent {"},{type:"added",content:"   *   constructor(@Query(SomeType) queryList: QueryList) {"},{type:"added",content:"   *     ..."},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as ES5 DSL"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyComponent = ng"},{type:"added",content:"   *   .Component({...})"},{type:"added",content:"   *   .View({...})"},{type:"added",content:"   *   .Class({"},{type:"added",content:"   *     constructor: [new ng.Query(SomeType), function(queryList) {"},{type:"added",content:"   *       ..."},{type:"added",content:"   *     }]"},{type:"added",content:"   *   })"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * ## Example as ES5 annotation"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var MyComponent = function(queryList) {"},{type:"added",content:"   *   ..."},{type:"added",content:"   * };"},{type:"added",content:"   * "},{type:"added",content:"   * MyComponent.annotations = ["},{type:"added",content:"   *   new ng.Component({...})"},{type:"added",content:"   *   new ng.View({...})"},{type:"added",content:"   * ]"},{type:"added",content:"   * MyComponent.parameters = ["},{type:"added",content:"   *   [new ng.Query(SomeType)]"},{type:"added",content:"   * ]"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  interface QueryFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(selector: Type | string, {descendants}?: {descendants?: boolean}): QueryAnnotation;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (selector: Type | string, {descendants}?: {descendants?: boolean}): ParameterDecorator;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * {@link ViewQuery} factory function."},{type:"added",content:"   */"},{type:"added",content:"  var ViewQuery : QueryFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * An opaque token representing the application root type in the {@link Injector}."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * @Component(...)"},{type:"added",content:"   * @View(...)"},{type:"added",content:"   * class MyApp {"},{type:"added",content:"   *   ..."},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * bootstrap(MyApp).then((appRef:ApplicationRef) {"},{type:"added",content:"   *   expect(appRef.injector.get(appComponentTypeToken)).toEqual(MyApp);"},{type:"added",content:"   * });"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  const appComponentTypeToken : OpaqueToken ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Represents a Angular's representation of an Application."},{type:"added",content:"   * "},{type:"added",content:"   * `ApplicationRef` represents a running application instance. Use it to retrieve the host"},{type:"added",content:"   * component, injector,"},{type:"added",content:"   * or dispose of an application."},{type:"added",content:"   */"},{type:"added",content:"  interface ApplicationRef {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns the current {@link Component} type."},{type:"added",content:"     */"},{type:"added",content:"     hostComponentType: Type;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns the current {@link Component} instance."},{type:"added",content:"     */"},{type:"added",content:"     hostComponent: any;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Dispose (un-load) the application."},{type:"added",content:"     */"},{type:"added",content:"     dispose(): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns the root application {@link Injector}."},{type:"added",content:"     */"},{type:"added",content:"     injector: Injector;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Specifies app root url for the application."},{type:"added",content:"   * "},{type:"added",content:"   * Used by the {@link Compiler} when resolving HTML and CSS template URLs."},{type:"added",content:"   * "},{type:"added",content:"   * This interface can be overridden by the application developer to create custom behavior."},{type:"added",content:"   * "},{type:"added",content:"   * See {@link Compiler}"},{type:"added",content:"   */"},{type:"added",content:"  class AppRootUrl {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns the base URL of the currently running application."},{type:"added",content:"     */"},{type:"added",content:"     value: void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Used by the {@link Compiler} when resolving HTML and CSS template URLs."},{type:"added",content:"   * "},{type:"added",content:"   * This interface can be overridden by the application developer to create custom behavior."},{type:"added",content:"   * "},{type:"added",content:"   * See {@link Compiler}"},{type:"added",content:"   */"},{type:"added",content:"  class UrlResolver {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Resolves the `url` given the `baseUrl`:"},{type:"added",content:"     * - when the `url` is null, the `baseUrl` is returned,"},{type:"added",content:"     * - if `url` is relative ('path/to/here', './path/to/here'), the resolved url is a combination of"},{type:"added",content:"     * `baseUrl` and `url`,"},{type:"added",content:"     * - if `url` is absolute (it has a scheme: 'http://', 'https://' or start with '/'), the `url` is"},{type:"added",content:"     * returned as is (ignoring the `baseUrl`)"},{type:"added",content:"     * "},{type:"added",content:"     * @param {string} baseUrl"},{type:"added",content:"     * @param {string} url"},{type:"added",content:"     * @returns {string} the resolved URL"},{type:"added",content:"     */"},{type:"added",content:"     resolve(baseUrl: string, url: string): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Resolve a `Type` from a {@link Component} into a URL."},{type:"added",content:"   * "},{type:"added",content:"   * This interface can be overridden by the application developer to create custom behavior."},{type:"added",content:"   * "},{type:"added",content:"   * See {@link Compiler}"},{type:"added",content:"   */"},{type:"added",content:"  class ComponentUrlMapper {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns the base URL to the component source file."},{type:"added",content:"     * The returned URL could be:"},{type:"added",content:"     * - an absolute URL,"},{type:"added",content:"     * - a path relative to the application"},{type:"added",content:"     */"},{type:"added",content:"     getUrl(component: Type): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Resolve a `Type` for {@link Directive}."},{type:"added",content:"   * "},{type:"added",content:"   * This interface can be overridden by the application developer to create custom behavior."},{type:"added",content:"   * "},{type:"added",content:"   * See {@link Compiler}"},{type:"added",content:"   */"},{type:"added",content:"  class DirectiveResolver {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Return {@link Directive} for a given `Type`."},{type:"added",content:"     */"},{type:"added",content:"     resolve(type: Type): DirectiveAnnotation;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * ## URL Resolution"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * var appRootUrl: AppRootUrl = ...;"},{type:"added",content:"   * var componentUrlMapper: ComponentUrlMapper = ...;"},{type:"added",content:"   * var urlResolver: UrlResolver = ...;"},{type:"added",content:"   * "},{type:"added",content:"   * var componentType: Type = ...;"},{type:"added",content:"   * var componentAnnotation: ComponentAnnotation = ...;"},{type:"added",content:"   * var viewAnnotation: ViewAnnotation = ...;"},{type:"added",content:"   * "},{type:"added",content:"   * // Resolving a URL"},{type:"added",content:"   * "},{type:"added",content:"   * var url = viewAnnotation.templateUrl;"},{type:"added",content:"   * var componentUrl = componentUrlMapper.getUrl(componentType);"},{type:"added",content:"   * var componentResolvedUrl = urlResolver.resolve(appRootUrl.value, componentUrl);"},{type:"added",content:"   * var templateResolvedUrl = urlResolver.resolve(componetResolvedUrl, url);"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  interface Compiler {"},{type:"added",content:"    "},{type:"added",content:"     compileInHost(componentTypeOrBinding: Type | Binding): Promise<ProtoViewRef>;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Entry point for creating, moving views in the view hierarchy and destroying views."},{type:"added",content:"   * This manager contains all recursion and delegates to helper methods"},{type:"added",content:"   * in AppViewManagerUtils and the Renderer, so unit tests get simpler."},{type:"added",content:"   */"},{type:"added",content:"  interface AppViewManager {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns a {@link ViewContainerRef} at the {@link ElementRef} location."},{type:"added",content:"     */"},{type:"added",content:"     getViewContainer(location: ElementRef): ViewContainerRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Return the first child element of the host element view."},{type:"added",content:"     */"},{type:"added",content:"     getHostElement(hostViewRef: ViewRef): ElementRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns an ElementRef for the element with the given variable name"},{type:"added",content:"     * in the current view."},{type:"added",content:"     * "},{type:"added",content:"     * - `hostLocation`: {@link ElementRef} of any element in the View which defines the scope of"},{type:"added",content:"     *   search."},{type:"added",content:"     * - `variableName`: Name of the variable to locate."},{type:"added",content:"     * - Returns {@link ElementRef} of the found element or null. (Throws if not found.)"},{type:"added",content:"     */"},{type:"added",content:"     getNamedElementInComponentView(hostLocation: ElementRef, variableName: string): ElementRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns the component instance for a given element."},{type:"added",content:"     * "},{type:"added",content:"     * The component is the execution context as seen by an expression at that {@link ElementRef}"},{type:"added",content:"     * location."},{type:"added",content:"     */"},{type:"added",content:"     getComponent(hostLocation: ElementRef): any;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Load component view into existing element."},{type:"added",content:"     * "},{type:"added",content:"     * Use this if a host element is already in the DOM and it is necessary to upgrade"},{type:"added",content:"     * the element into Angular component by attaching a view but reusing the existing element."},{type:"added",content:"     * "},{type:"added",content:"     * - `hostProtoViewRef`: {@link ProtoViewRef} Proto view to use in creating a view for this"},{type:"added",content:"     *   component."},{type:"added",content:"     * - `overrideSelector`: (optional) selector to use in locating the existing element to load"},{type:"added",content:"     *   the view into. If not specified use the selector in the component definition of the"},{type:"added",content:"     *   `hostProtoView`."},{type:"added",content:"     * - injector: {@link Injector} to use as parent injector for the view."},{type:"added",content:"     * "},{type:"added",content:"     * See {@link AppViewManager#destroyRootHostView}."},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * @ng.Component({"},{type:"added",content:"     *   selector: 'child-component'"},{type:"added",content:"     * })"},{type:"added",content:"     * @ng.View({"},{type:"added",content:"     *   template: 'Child'"},{type:"added",content:"     * })"},{type:"added",content:"     * class ChildComponent {"},{type:"added",content:"     * "},{type:"added",content:"     * }"},{type:"added",content:"     * "},{type:"added",content:"     * @ng.Component({"},{type:"added",content:"     *   selector: 'my-app'"},{type:"added",content:"     * })"},{type:"added",content:"     * @ng.View({"},{type:"added",content:"     *   template: `"},{type:"added",content:"     *     Parent (<some-component></some-component>)"},{type:"added",content:"     *   `"},{type:"added",content:"     * })"},{type:"added",content:"     * class MyApp {"},{type:"added",content:"     *   viewRef: ng.ViewRef;"},{type:"added",content:"     * "},{type:"added",content:"     *   constructor(public appViewManager: ng.AppViewManager, compiler: ng.Compiler) {"},{type:"added",content:"     *     compiler.compileInHost(ChildComponent).then((protoView: ng.ProtoViewRef) => {"},{type:"added",content:"     *       this.viewRef = appViewManager.createRootHostView(protoView, 'some-component', null);"},{type:"added",content:"     *     })"},{type:"added",content:"     *   }"},{type:"added",content:"     * "},{type:"added",content:"     *   onDestroy() {"},{type:"added",content:"     *     this.appViewManager.destroyRootHostView(this.viewRef);"},{type:"added",content:"     *     this.viewRef = null;"},{type:"added",content:"     *   }"},{type:"added",content:"     * }"},{type:"added",content:"     * "},{type:"added",content:"     * ng.bootstrap(MyApp);"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     createRootHostView(hostProtoViewRef: ProtoViewRef, overrideSelector: string, injector: Injector): ViewRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Remove the View created with {@link AppViewManager#createRootHostView}."},{type:"added",content:"     */"},{type:"added",content:"     destroyRootHostView(hostViewRef: ViewRef): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * See {@link AppViewManager#destroyViewInContainer}."},{type:"added",content:"     */"},{type:"added",content:"     createEmbeddedViewInContainer(viewContainerLocation: ElementRef, atIndex: number, templateRef: TemplateRef): ViewRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * See {@link AppViewManager#destroyViewInContainer}."},{type:"added",content:"     */"},{type:"added",content:"     createHostViewInContainer(viewContainerLocation: ElementRef, atIndex: number, protoViewRef: ProtoViewRef, imperativelyCreatedInjector: ResolvedBinding[]): ViewRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * See {@link AppViewManager#createViewInContainer}."},{type:"added",content:"     */"},{type:"added",content:"     destroyViewInContainer(viewContainerLocation: ElementRef, atIndex: number): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * See {@link AppViewManager#detachViewInContainer}."},{type:"added",content:"     */"},{type:"added",content:"     attachViewInContainer(viewContainerLocation: ElementRef, atIndex: number, viewRef: ViewRef): ViewRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * See {@link AppViewManager#attachViewInContainer}."},{type:"added",content:"     */"},{type:"added",content:"     detachViewInContainer(viewContainerLocation: ElementRef, atIndex: number): ViewRef;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * An iterable live list of components in the Light DOM."},{type:"added",content:"   * "},{type:"added",content:"   * Injectable Objects that contains a live list of child directives in the light DOM of a directive."},{type:"added",content:"   * The directives are kept in depth-first pre-order traversal of the DOM."},{type:"added",content:"   * "},{type:"added",content:"   * The `QueryList` is iterable, therefore it can be used in both javascript code with `for..of` loop"},{type:"added",content:"   * as well as in"},{type:"added",content:'   * template with `*ng-for="of"` directive.'},{type:"added",content:"   * "},{type:"added",content:"   * NOTE: In the future this class will implement an `Observable` interface. For now it uses a plain"},{type:"added",content:"   * list of observable"},{type:"added",content:"   * callbacks."},{type:"added",content:"   * "},{type:"added",content:"   * # Example:"},{type:"added",content:"   * "},{type:"added",content:"   * Assume that `<tabs>` component would like to get a list its children which are `<pane>`"},{type:"added",content:"   * components as shown in this"},{type:"added",content:"   * example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```html"},{type:"added",content:"   * <tabs>"},{type:"added",content:'   *   <pane title="Overview">...</pane>'},{type:"added",content:'   *   <pane *ng-for="#o of objects" [title]="o.title">{{o.text}}</pane>'},{type:"added",content:"   * </tabs>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * In the above example the list of `<tabs>` elements needs to get a list of `<pane>` elements so"},{type:"added",content:"   * that it could render"},{type:"added",content:"   * tabs with the correct titles and in the correct order."},{type:"added",content:"   * "},{type:"added",content:"   * A possible solution would be for a `<pane>` to inject `<tabs>` component and then register itself"},{type:"added",content:"   * with `<tabs>`"},{type:"added",content:"   * component's on `hydrate` and deregister on `dehydrate` event. While a reasonable approach, this"},{type:"added",content:"   * would only work"},{type:"added",content:"   * partialy since `*ng-for` could rearrange the list of `<pane>` components which would not be"},{type:"added",content:"   * reported to `<tabs>`"},{type:"added",content:"   * component and thus the list of `<pane>` components would be out of sync with respect to the list"},{type:"added",content:"   * of `<pane>` elements."},{type:"added",content:"   * "},{type:"added",content:"   * A preferred solution is to inject a `QueryList` which is a live list of directives in the"},{type:"added",content:"   * component`s light DOM."},{type:"added",content:"   * "},{type:"added",content:"   * ```javascript"},{type:"added",content:"   * @Component({"},{type:"added",content:"   *   selector: 'tabs'"},{type:"added",content:"   * })"},{type:"added",content:"   * @View({"},{type:"added",content:"   *  template: `"},{type:"added",content:"   *    <ul>"},{type:"added",content:'   *      <li *ng-for="#pane of panes">{{pane.title}}</li>'},{type:"added",content:"   *    </ul>"},{type:"added",content:"   *    <content></content>"},{type:"added",content:"   *  `"},{type:"added",content:"   * })"},{type:"added",content:"   * class Tabs {"},{type:"added",content:"   *   panes: QueryList<Pane>"},{type:"added",content:"   * "},{type:"added",content:"   *   constructor(@Query(Pane) panes:QueryList<Pane>) {"},{type:"added",content:"   *     this.panes = panes;"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * @Component({"},{type:"added",content:"   *   selector: 'pane',"},{type:"added",content:"   *   properties: ['title']"},{type:"added",content:"   * })"},{type:"added",content:"   * @View(...)"},{type:"added",content:"   * class Pane {"},{type:"added",content:"   *   title:string;"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  interface IQueryList<T> {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Injectable Objects that contains a live list of child directives in the light Dom of a directive."},{type:"added",content:"   * The directives are kept in depth-first pre-order traversal of the DOM."},{type:"added",content:"   * "},{type:"added",content:"   * In the future this class will implement an Observable interface."},{type:"added",content:"   * For now it uses a plain list of observable callbacks."},{type:"added",content:"   */"},{type:"added",content:"  class QueryList<T> implements IQueryList<T> {"},{type:"added",content:"    "},{type:"added",content:"     reset(newList: List<T>): void;"},{type:"added",content:"    "},{type:"added",content:"     add(obj: T): void;"},{type:"added",content:"    "},{type:"added",content:"     fireCallbacks(): void;"},{type:"added",content:"    "},{type:"added",content:"     onChange(callback: () => void): void;"},{type:"added",content:"    "},{type:"added",content:"     removeCallback(callback: () => void): void;"},{type:"added",content:"    "},{type:"added",content:"     length: number;"},{type:"added",content:"    "},{type:"added",content:"     first: T;"},{type:"added",content:"    "},{type:"added",content:"     last: T;"},{type:"added",content:"    "},{type:"added",content:"     map<U>(fn: (item: T) => U): U[];"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Reference to the element."},{type:"added",content:"   * "},{type:"added",content:"   * Represents an opaque reference to the underlying element. The element is a DOM ELement in"},{type:"added",content:"   * a Browser, but may represent other types on other rendering platforms. In the browser the"},{type:"added",content:"   * `ElementRef` can be sent to the web-worker. Web Workers can not have references to the"},{type:"added",content:"   * DOM Elements."},{type:"added",content:"   */"},{type:"added",content:"  class ElementRef implements RenderElementRef {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Reference to the {@link ViewRef} where the `ElementRef` is inside of."},{type:"added",content:"     */"},{type:"added",content:"     parentView: ViewRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Index of the element inside the {@link ViewRef}."},{type:"added",content:"     * "},{type:"added",content:"     * This is used internally by the Angular framework to locate elements."},{type:"added",content:"     */"},{type:"added",content:"     boundElementIndex: number;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Index of the element inside the `RenderViewRef`."},{type:"added",content:"     * "},{type:"added",content:"     * This is used internally by the Angular framework to locate elements."},{type:"added",content:"     */"},{type:"added",content:"     renderBoundElementIndex: number;"},{type:"added",content:"    "},{type:"added",content:"     renderView: RenderViewRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns the native Element implementation."},{type:"added",content:"     * "},{type:"added",content:"     * In the browser this represents the DOM Element."},{type:"added",content:"     * "},{type:"added",content:"     * The `nativeElement` can be used as an escape hatch when direct DOM manipulation is needed. Use"},{type:"added",content:"     * this with caution, as it creates tight coupling between your application and the Browser, which"},{type:"added",content:"     * will not work in WebWorkers."},{type:"added",content:"     * "},{type:"added",content:"     * NOTE: This method will return null in the webworker scenario!"},{type:"added",content:"     */"},{type:"added",content:"     nativeElement: any;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Reference to a template within a component."},{type:"added",content:"   * "},{type:"added",content:"   * Represents an opaque reference to the underlying template that can"},{type:"added",content:"   * be instantiated using the {@link ViewContainerRef}."},{type:"added",content:"   */"},{type:"added",content:"  class TemplateRef {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * The location of the template"},{type:"added",content:"     */"},{type:"added",content:"     elementRef: ElementRef;"},{type:"added",content:"    "},{type:"added",content:"     protoViewRef: ProtoViewRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Whether this template has a local variable with the given name"},{type:"added",content:"     */"},{type:"added",content:"     hasLocal(name: string): boolean;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A reference to an Angular View."},{type:"added",content:"   * "},{type:"added",content:"   * A View is a fundamental building block of Application UI. A View is the smallest set of"},{type:"added",content:"   * elements which are created and destroyed together. A View can change properties on the elements"},{type:"added",content:"   * within the view, but it can not change the structure of those elements."},{type:"added",content:"   * "},{type:"added",content:"   * To change structure of the elements, the Views can contain zero or more {@link ViewContainerRef}s"},{type:"added",content:"   * which allow the views to be nested."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * Given this template"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * Count: {{items.length}}"},{type:"added",content:"   * <ul>"},{type:"added",content:'   *   <li *ng-for="var item of items">{{item}}</li>'},{type:"added",content:"   * </ul>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * The above example we have two {@link ProtoViewRef}s:"},{type:"added",content:"   * "},{type:"added",content:"   * Outter {@link ProtoViewRef}:"},{type:"added",content:"   * ```"},{type:"added",content:"   * Count: {{items.length}}"},{type:"added",content:"   * <ul>"},{type:"added",content:'   *   <template ng-for var-item [ng-for-of]="items"></template>'},{type:"added",content:"   * </ul>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Inner {@link ProtoViewRef}:"},{type:"added",content:"   * ```"},{type:"added",content:"   *   <li>{{item}}</li>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Notice that the original template is broken down into two separate {@link ProtoViewRef}s."},{type:"added",content:"   * "},{type:"added",content:"   * The outter/inner {@link ProtoViewRef}s are then assembled into views like so:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"
},{type:"added",content:"   * <!-- ViewRef: outter-0 -->"},{type:"added",content:"   * Count: 2"},{type:"added",content:"   * <ul>"},{type:"added",content:"   *   <template view-container-ref></template>"},{type:"added",content:"   *   <!-- ViewRef: inner-1 --><li>first</li><!-- /ViewRef: inner-1 -->"},{type:"added",content:"   *   <!-- ViewRef: inner-2 --><li>second</li><!-- /ViewRef: inner-2 -->"},{type:"added",content:"   * </ul>"},{type:"added",content:"   * <!-- /ViewRef: outter-0 -->"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class ViewRef {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Return `RenderViewRef`"},{type:"added",content:"     */"},{type:"added",content:"     render: RenderViewRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Return `RenderFragmentRef`"},{type:"added",content:"     */"},{type:"added",content:"     renderFragment: RenderFragmentRef;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Set local variable for a view."},{type:"added",content:"     */"},{type:"added",content:"     setLocal(contextName: string, value: any): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A reference to an Angular ProtoView."},{type:"added",content:"   * "},{type:"added",content:"   * A ProtoView is a reference to a template for easy creation of views."},{type:"added",content:"   * (See {@link AppViewManager#createViewInContainer} and {@link AppViewManager#createRootHostView})."},{type:"added",content:"   * "},{type:"added",content:"   * A `ProtoView` is a foctary for creating `View`s."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * Given this template"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * Count: {{items.length}}"},{type:"added",content:"   * <ul>"},{type:"added",content:'   *   <li *ng-for="var item of items">{{item}}</li>'},{type:"added",content:"   * </ul>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * The above example we have two {@link ProtoViewRef}s:"},{type:"added",content:"   * "},{type:"added",content:"   * Outter {@link ProtoViewRef}:"},{type:"added",content:"   * ```"},{type:"added",content:"   * Count: {{items.length}}"},{type:"added",content:"   * <ul>"},{type:"added",content:'   *   <template ng-for var-item [ng-for-of]="items"></template>'},{type:"added",content:"   * </ul>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Inner {@link ProtoViewRef}:"},{type:"added",content:"   * ```"},{type:"added",content:"   *   <li>{{item}}</li>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Notice that the original template is broken down into two separate {@link ProtoViewRef}s."},{type:"added",content:"   */"},{type:"added",content:"  interface ProtoViewRef {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class ViewContainerRef {"},{type:"added",content:"    "},{type:"added",content:"     viewManager: AppViewManager;"},{type:"added",content:"    "},{type:"added",content:"     element: ElementRef;"},{type:"added",content:"    "},{type:"added",content:"     clear(): void;"},{type:"added",content:"    "},{type:"added",content:"     get(index: number): ViewRef;"},{type:"added",content:"    "},{type:"added",content:"     length: number;"},{type:"added",content:"    "},{type:"added",content:"     createEmbeddedView(templateRef: TemplateRef, atIndex?: number): ViewRef;"},{type:"added",content:"    "},{type:"added",content:"     createHostView(protoViewRef?: ProtoViewRef, atIndex?: number, dynamicallyCreatedBindings?: ResolvedBinding[]): ViewRef;"},{type:"added",content:"    "},{type:"added",content:"     insert(viewRef: ViewRef, atIndex?: number): ViewRef;"},{type:"added",content:"    "},{type:"added",content:"     indexOf(viewRef: ViewRef): number;"},{type:"added",content:"    "},{type:"added",content:"     remove(atIndex?: number): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * The method can be used together with insert to implement a view move, i.e."},{type:"added",content:"     * moving the dom nodes while the directives in the view stay intact."},{type:"added",content:"     */"},{type:"added",content:"     detach(atIndex?: number): ViewRef;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Service for dynamically loading a Component into an arbitrary position in the internal Angular"},{type:"added",content:"   * application tree."},{type:"added",content:"   */"},{type:"added",content:"  class DynamicComponentLoader {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Loads a root component that is placed at the first element that matches the component's"},{type:"added",content:"     * selector."},{type:"added",content:"     * "},{type:"added",content:"     * The loaded component receives injection normally as a hosted view."},{type:"added",content:"     */"},{type:"added",content:"     loadAsRoot(typeOrBinding: Type | Binding, overrideSelector: string, injector: Injector): Promise<ComponentRef>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Loads a component into the component view of the provided ElementRef"},{type:"added",content:"     * next to the element with the given name"},{type:"added",content:"     * The loaded component receives"},{type:"added",content:"     * injection normally as a hosted view."},{type:"added",content:"     */"},{type:"added",content:"     loadIntoLocation(typeOrBinding: Type | Binding, hostLocation: ElementRef, anchorName: string, bindings?: ResolvedBinding[]): Promise<ComponentRef>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Loads a component next to the provided ElementRef. The loaded component receives"},{type:"added",content:"     * injection normally as a hosted view."},{type:"added",content:"     */"},{type:"added",content:"     loadNextToLocation(typeOrBinding: Type | Binding, location: ElementRef, bindings?: ResolvedBinding[]): Promise<ComponentRef>;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class ComponentRef {"},{type:"added",content:"    "},{type:"added",content:"     location: ElementRef;"},{type:"added",content:"    "},{type:"added",content:"     instance: any;"},{type:"added",content:"    "},{type:"added",content:"     dispose: Function;"},{type:"added",content:"    "},{type:"added",content:"     hostView: ViewRef;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A wrapper around zones that lets you schedule tasks after it has executed a task."},{type:"added",content:"   * "},{type:"added",content:'   * The wrapper maintains an "inner" and an "mount" `Zone`. The application code will executes'},{type:"added",content:'   * in the "inner" zone unless `runOutsideAngular` is explicitely called.'},{type:"added",content:"   * "},{type:"added",content:"   * A typical application will create a singleton `NgZone`. The outer `Zone` is a fork of the root"},{type:"added",content:"   * `Zone`. The default `onTurnDone` runs the Angular change detection."},{type:"added",content:"   */"},{type:"added",content:"  class NgZone {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets the zone hook that is called just before Angular event turn starts."},{type:"added",content:"     * It is called once per browser event."},{type:"added",content:"     */"},{type:"added",content:"     overrideOnTurnStart(onTurnStartFn: Function): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets the zone hook that is called immediately after Angular processes"},{type:"added",content:"     * all pending microtasks."},{type:"added",content:"     */"},{type:"added",content:"     overrideOnTurnDone(onTurnDoneFn: Function): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets the zone hook that is called immediately after the last turn in"},{type:"added",content:"     * an event completes. At this point Angular will no longer attempt to"},{type:"added",content:"     * sync the UI. Any changes to the data model will not be reflected in the"},{type:"added",content:"     * DOM. `onEventDoneFn` is executed outside Angular zone."},{type:"added",content:"     * "},{type:"added",content:"     * This hook is useful for validating application state (e.g. in a test)."},{type:"added",content:"     */"},{type:"added",content:"     overrideOnEventDone(onEventDoneFn: Function): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets the zone hook that is called when an error is uncaught in the"},{type:"added",content:"     * Angular zone. The first argument is the error. The second argument is"},{type:"added",content:"     * the stack trace."},{type:"added",content:"     */"},{type:"added",content:"     overrideOnErrorHandler(errorHandlingFn: Function): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Runs `fn` in the inner zone and returns whatever it returns."},{type:"added",content:"     * "},{type:"added",content:"     * In a typical app where the inner zone is the Angular zone, this allows one to make use of the"},{type:"added",content:"     * Angular's auto digest mechanism."},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * var zone: NgZone = [ref to the application zone];"},{type:"added",content:"     * "},{type:"added",content:"     * zone.run(() => {"},{type:"added",content:"     *   // the change detection will run after this function and the microtasks it enqueues have"},{type:"added",content:"     * executed."},{type:"added",content:"     * });"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     run(fn: () => any): any;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Runs `fn` in the outer zone and returns whatever it returns."},{type:"added",content:"     * "},{type:"added",content:"     * In a typical app where the inner zone is the Angular zone, this allows one to escape Angular's"},{type:"added",content:"     * auto-digest mechanism."},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * var zone: NgZone = [ref to the application zone];"},{type:"added",content:"     * "},{type:"added",content:"     * zone.runOusideAngular(() => {"},{type:"added",content:"     *   element.onClick(() => {"},{type:"added",content:"     *     // Clicking on the element would not trigger the change detection"},{type:"added",content:"     *   });"},{type:"added",content:"     * });"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     runOutsideAngular(fn: () => any): any;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class Observable {"},{type:"added",content:"    "},{type:"added",content:"     observer(generator: any): Object;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Use Rx.Observable but provides an adapter to make it work as specified here:"},{type:"added",content:"   * https://github.com/jhusain/observable-spec"},{type:"added",content:"   * "},{type:"added",content:"   * Once a reference implementation of the spec is available, switch to it."},{type:"added",content:"   */"},{type:"added",content:"  class EventEmitter extends Observable {"},{type:"added",content:"    "},{type:"added",content:"     observer(generator: any): Rx.IDisposable;"},{type:"added",content:"    "},{type:"added",content:"     toRx(): Rx.Observable<any>;"},{type:"added",content:"    "},{type:"added",content:"     next(value: any): void;"},{type:"added",content:"    "},{type:"added",content:"     throw(error: any): void;"},{type:"added",content:"    "},{type:"added",content:"     return(value?: any): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A parameter metadata that specifies a dependency."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class AComponent {"},{type:"added",content:"   *   constructor(@Inject(MyService) aService:MyService) {}"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class InjectMetadata {"},{type:"added",content:"    "},{type:"added",content:"     token: void;"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A parameter metadata that marks a dependency as optional. {@link Injector} provides `null` if"},{type:"added",content:"   * the dependency is not found."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class AComponent {"},{type:"added",content:"   *   constructor(@Optional() aService:MyService) {"},{type:"added",content:"   *     this.aService = aService;"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class OptionalMetadata {"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A marker metadata that marks a class as available to `Injector` for creation. Used by tooling"},{type:"added",content:"   * for generating constructor stubs."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class NeedsService {"},{type:"added",content:"   *   constructor(svc:UsefulService) {}"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * @Injectable"},{type:"added",content:"   * class UsefulService {}"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class InjectableMetadata {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Specifies how injector should resolve a dependency."},{type:"added",content:"   * "},{type:"added",content:"   * See {@link Self}, {@link Ancestor}, {@link Unbounded}."},{type:"added",content:"   */"},{type:"added",content:"  class VisibilityMetadata {"},{type:"added",content:"    "},{type:"added",content:"     crossBoundaries: boolean;"},{type:"added",content:"    "},{type:"added",content:"     includeSelf: boolean;"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Specifies that an injector should retrieve a dependency from itself."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class Dependency {"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * class NeedsDependency {"},{type:"added",content:"   *   constructor(public @Self() dependency:Dependency) {}"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * var inj = Injector.resolveAndCreate([Dependency, NeedsDependency]);"},{type:"added",content:"   * var nd = inj.get(NeedsDependency);"},{type:"added",content:"   * expect(nd.dependency).toBeAnInstanceOf(Dependency);"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class SelfMetadata extends VisibilityMetadata {"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Specifies that an injector should retrieve a dependency from any ancestor from the same boundary."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class Dependency {"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * class NeedsDependency {"},{type:"added",content:"   *   constructor(public @Ancestor() dependency:Dependency) {}"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * var parent = Injector.resolveAndCreate(["},{type:"added",content:"   *   bind(Dependency).toClass(AncestorDependency)"},{type:"added",content:"   * ]);"},{type:"added",content:"   * var child = parent.resolveAndCreateChild([]);"},{type:"added",content:"   * var grandChild = child.resolveAndCreateChild([NeedsDependency, Depedency]);"},{type:"added",content:"   * var nd = grandChild.get(NeedsDependency);"},{type:"added",content:"   * expect(nd.dependency).toBeAnInstanceOf(AncestorDependency);"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * You can make an injector to retrive a dependency either from itself or its ancestor by setting"},{type:"added",content:"   * self to true."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class NeedsDependency {"},{type:"added",content:"   *   constructor(public @Ancestor({self:true}) dependency:Dependency) {}"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class AncestorMetadata extends VisibilityMetadata {"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Specifies that an injector should retrieve a dependency from any ancestor, crossing boundaries."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class Dependency {"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * class NeedsDependency {"},{type:"added",content:"   *   constructor(public @Ancestor() dependency:Dependency) {}"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * var parent = Injector.resolveAndCreate(["},{type:"added",content:"   *   bind(Dependency).toClass(AncestorDependency)"},{type:"added",content:"   * ]);"},{type:"added",content:"   * var child = parent.resolveAndCreateChild([]);"},{type:"added",content:"   * var grandChild = child.resolveAndCreateChild([NeedsDependency, Depedency]);"},{type:"added",content:"   * var nd = grandChild.get(NeedsDependency);"},{type:"added",content:"   * expect(nd.dependency).toBeAnInstanceOf(AncestorDependency);"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * You can make an injector to retrive a dependency either from itself or its ancestor by setting"},{type:"added",content:"   * self to true."},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class NeedsDependency {"},{type:"added",content:"   *   constructor(public @Ancestor({self:true}) dependency:Dependency) {}"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class UnboundedMetadata extends VisibilityMetadata {"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * `DependencyMetadata is used by the framework to extend DI."},{type:"added",content:"   * "},{type:"added",content:"   * Only metadata implementing `DependencyMetadata` are added to the list of dependency"},{type:"added",content:"   * properties."},{type:"added",content:"   * "},{type:"added",content:"   * For example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class Exclude extends DependencyMetadata {}"},{type:"added",content:"   * class NotDependencyProperty {}"},{type:"added",content:"   * "},{type:"added",content:"   * class AComponent {"},{type:"added",content:"   *   constructor(@Exclude @NotDependencyProperty aService:AService) {}"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * will create the following dependency:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * new Dependency(Key.get(AService), [new Exclude()])"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * The framework can use `new Exclude()` to handle the `aService` dependency"},{type:"added",content:"   * in a specific way."},{type:"added",content:"   */"},{type:"added",content:"  class DependencyMetadata {"},{type:"added",content:"    "},{type:"added",content:"     token: void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  const DEFAULT_VISIBILITY : VisibilityMetadata ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Allows to refer to references which are not yet defined."},{type:"added",content:"   * "},{type:"added",content:"   * This situation arises when the key which we need te refer to for the purposes of DI is declared,"},{type:"added",content:"   * but not yet defined."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * class Door {"},{type:"added",content:"   *   // Incorrect way to refer to a reference which is defined later."},{type:"added",content:"   *   // This fails because `Lock` is undefined at this point."},{type:"added",content:"   *   constructor(lock:Lock) { }"},{type:"added",content:"   * "},{type:"added",content:"   *   // Correct way to refer to a reference which is defined later."},{type:"added",content:"   *   // The reference needs to be captured in a closure."},{type:"added",content:"   *   constructor(@Inject(forwardRef(() => Lock)) lock:Lock) { }"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * // Only at this point the lock is defined."},{type:"added",content:"   * class Lock {"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  function forwardRef(forwardRefFn: ForwardRefFn) : Type ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Lazily retrieve the reference value."},{type:"added",content:"   * "},{type:"added",content:"   * See: {@link forwardRef}"},{type:"added",content:"   */"},{type:"added",content:"  function resolveForwardRef(type: any) : any ;"},{type:"added",content:"  "},{type:"added",content:"  interface ForwardRefFn {"},{type:"added",content:"    "},{type:"added",content:"     (): any;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A dependency injection container used for resolving dependencies."},{type:"added",content:"   * "},{type:"added",content:"   * An `Injector` is a replacement for a `new` operator, which can automatically resolve the"},{type:"added",content:"   * constructor dependencies."},{type:"added",content:"   * In typical use, application code asks for the dependencies in the constructor and they are"},{type:"added",content:"   * resolved by the `Injector`."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example:"},{type:"added",content:"   * "},{type:"added",content:"   * Suppose that we want to inject an `Engine` into class `Car`, we would define it like this:"},{type:"added",content:"   * "},{type:"added",content:"   * ```javascript"},{type:"added",content:"   * class Engine {"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * class Car {"},{type:"added",content:"   *   constructor(@Inject(Engine) engine) {"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Next we need to write the code that creates and instantiates the `Injector`. We then ask for the"},{type:"added",content:"   * `root` object, `Car`, so that the `Injector` can recursively build all of that object's"},{type:"added",content:"   * dependencies."},{type:"added",content:"   * "},{type:"added",content:"   * ```javascript"},{type:"added",content:"   * main() {"},{type:"added",content:"   *   var injector = Injector.resolveAndCreate([Car, Engine]);"},{type:"added",content:"   * "},{type:"added",content:"   *   // Get a reference to the `root` object, which will recursively instantiate the tree."},{type:"added",content:"   *   var car = injector.get(Car);"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * Notice that we don't use the `new` operator because we explicitly want to have the `Injector`"},{type:"added",content:"   * resolve all of the object's dependencies automatically."},{type:"added",content:"   */"},{type:"added",content:"  class Injector {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns debug information about the injector."},{type:"added",content:"     * "},{type:"added",content:"     * This information is included into exceptions thrown by the injector."},{type:"added",content:"     */"},{type:"added",content:"     debugContext(): any;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Retrieves an instance from the injector."},{type:"added",content:"     * "},{type:"added",content:"     * @param `token`: usually the `Type` of an object. (Same as the token used while setting up a"},{type:"added",content:"     * binding)."},{type:"added",content:"     * @returns an instance represented by the token. Throws if not found."},{type:"added",content:"     */"},{type:"added",content:"     get(token: any): any;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Retrieves an instance from the injector."},{type:"added",content:"     * "},{type:"added",content:"     * @param `token`: usually a `Type`. (Same as the token used while setting up a binding)."},{type:"added",content:"     * @returns an instance represented by the token. Returns `null` if not found."},{type:"added",content:"     */"},{type:"added",content:"     getOptional(token: any): any;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Retrieves an instance from the injector."},{type:"added",content:"     * "},{type:"added",content:"     * @param `index`: index of an instance."},{type:"added",content:"     * @returns an instance represented by the index. Throws if not found."},{type:"added",content:"     */"},{type:"added",content:"     getAt(index: number): any;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Direct parent of this injector."},{type:"added",content:"     */"},{type:"added",content:"     parent: Injector;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Internal. Do not use."},{type:"added",content:"     * "},{type:"added",content:"     * We return `any` not to export the InjectorStrategy type."},{type:"added",content:"     */"},{type:"added",content:"     internalStrategy: any;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Creates a child injector and loads a new set of bindings into it."},{type:"added",content:"     * "},{type:"added",content:"     * A resolution is a process of flattening multiple nested lists and converting individual"},{type:"added",content:"     * bindings into a list of {@link ResolvedBinding}s. The resolution can be cached by `resolve`"},{type:"added",content:"     * for the {@link Injector} for performance-sensitive code."},{type:"added",content:"     * "},{type:"added",content:"     * @param `bindings` can be a list of `Type`, {@link Binding}, {@link ResolvedBinding}, or a"},{type:"added",content:"     * recursive list of more bindings."},{type:"added",content:"     * @param `depProvider`"},{type:"added",content:"     */"},{type:"added",content:"     resolveAndCreateChild(bindings: List<Type | Binding | List<any>>, depProvider?: DependencyProvider): Injector;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Creates a child injector and loads a new set of {@link ResolvedBinding}s into it."},{type:"added",content:"     * "},{type:"added",content:"     * @param `bindings`: A sparse list of {@link ResolvedBinding}s."},{type:"added",content:"     * See `resolve` for the {@link Injector}."},{type:"added",content:"     * @param `depProvider`"},{type:"added",content:"     * @returns a new child {@link Injector}."},{type:"added",content:"     */"},{type:"added",content:"     createChildFromResolved(bindings: List<ResolvedBinding>, depProvider?: DependencyProvider): Injector;"},{type:"added",content:"    "},{type:"added",content:"     displayName: string;"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class ProtoInjector {"},{type:"added",content:"    "},{type:"added",content:"     numberOfBindings: number;"},{type:"added",content:"    "},{type:"added",content:"     getBindingAtIndex(index: number): any;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class BindingWithVisibility {"},{type:"added",content:"    "},{type:"added",content:"     binding: ResolvedBinding;"},{type:"added",content:"    "},{type:"added",content:"     visibility: number;"},{type:"added",content:"    "},{type:"added",content:"     getKeyId(): number;"},{type:"added",content:"  }"},{
type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Used to provide dependencies that cannot be easily expressed as bindings."},{type:"added",content:"   */"},{type:"added",content:"  interface DependencyProvider {"},{type:"added",content:"    "},{type:"added",content:"     getDependency(injector: Injector, binding: ResolvedBinding, dependency: Dependency): any;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  const PUBLIC_AND_PRIVATE : number ;"},{type:"added",content:"  "},{type:"added",content:"  const PUBLIC : number ;"},{type:"added",content:"  "},{type:"added",content:"  const PRIVATE : number ;"},{type:"added",content:"  "},{type:"added",content:"  const undefinedValue : Object ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Describes how the {@link Injector} should instantiate a given token."},{type:"added",content:"   * "},{type:"added",content:"   * See {@link bind}."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```javascript"},{type:"added",content:"   * var injector = Injector.resolveAndCreate(["},{type:"added",content:"   *   new Binding(String, { toValue: 'Hello' })"},{type:"added",content:"   * ]);"},{type:"added",content:"   * "},{type:"added",content:"   * expect(injector.get(String)).toEqual('Hello');"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class Binding {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Token used when retrieving this binding. Usually the `Type`."},{type:"added",content:"     */"},{type:"added",content:"     token: void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Binds an interface to an implementation / subclass."},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * Becuse `toAlias` and `toClass` are often confused, the example contains both use cases for easy"},{type:"added",content:"     * comparison."},{type:"added",content:"     * "},{type:"added",content:"     * ```javascript"},{type:"added",content:"     * "},{type:"added",content:"     * class Vehicle {}"},{type:"added",content:"     * "},{type:"added",content:"     * class Car extends Vehicle {}"},{type:"added",content:"     * "},{type:"added",content:"     * var injectorClass = Injector.resolveAndCreate(["},{type:"added",content:"     *   Car,"},{type:"added",content:"     *   new Binding(Vehicle, { toClass: Car })"},{type:"added",content:"     * ]);"},{type:"added",content:"     * var injectorAlias = Injector.resolveAndCreate(["},{type:"added",content:"     *   Car,"},{type:"added",content:"     *   new Binding(Vehicle, { toAlias: Car })"},{type:"added",content:"     * ]);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injectorClass.get(Vehicle)).not.toBe(injectorClass.get(Car));"},{type:"added",content:"     * expect(injectorClass.get(Vehicle) instanceof Car).toBe(true);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injectorAlias.get(Vehicle)).toBe(injectorAlias.get(Car));"},{type:"added",content:"     * expect(injectorAlias.get(Vehicle) instanceof Car).toBe(true);"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     toClass: Type;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Binds a key to a value."},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```javascript"},{type:"added",content:"     * var injector = Injector.resolveAndCreate(["},{type:"added",content:"     *   new Binding(String, { toValue: 'Hello' })"},{type:"added",content:"     * ]);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injector.get(String)).toEqual('Hello');"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     toValue: void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Binds a key to the alias for an existing key."},{type:"added",content:"     * "},{type:"added",content:"     * An alias means that {@link Injector} returns the same instance as if the alias token was used."},{type:"added",content:"     * This is in contrast to `toClass` where a separate instance of `toClass` is returned."},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * Becuse `toAlias` and `toClass` are often confused the example contains both use cases for easy"},{type:"added",content:"     * comparison."},{type:"added",content:"     * "},{type:"added",content:"     * ```javascript"},{type:"added",content:"     * "},{type:"added",content:"     * class Vehicle {}"},{type:"added",content:"     * "},{type:"added",content:"     * class Car extends Vehicle {}"},{type:"added",content:"     * "},{type:"added",content:"     * var injectorAlias = Injector.resolveAndCreate(["},{type:"added",content:"     *   Car,"},{type:"added",content:"     *   new Binding(Vehicle, { toAlias: Car })"},{type:"added",content:"     * ]);"},{type:"added",content:"     * var injectorClass = Injector.resolveAndCreate(["},{type:"added",content:"     *   Car,"},{type:"added",content:"     *   new Binding(Vehicle, { toClass: Car })"},{type:"added",content:"     * ]);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injectorAlias.get(Vehicle)).toBe(injectorAlias.get(Car));"},{type:"added",content:"     * expect(injectorAlias.get(Vehicle) instanceof Car).toBe(true);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injectorClass.get(Vehicle)).not.toBe(injectorClass.get(Car));"},{type:"added",content:"     * expect(injectorClass.get(Vehicle) instanceof Car).toBe(true);"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     toAlias: void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Binds a key to a function which computes the value."},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```javascript"},{type:"added",content:"     * var injector = Injector.resolveAndCreate(["},{type:"added",content:"     *   new Binding(Number, { toFactory: () => { return 1+2; }}),"},{type:"added",content:'     *   new Binding(String, { toFactory: (value) => { return "Value: " + value; },'},{type:"added",content:"     *                         dependencies: [Number] })"},{type:"added",content:"     * ]);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injector.get(Number)).toEqual(3);"},{type:"added",content:"     * expect(injector.get(String)).toEqual('Value: 3');"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     toFactory: Function;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Used in conjunction with `toFactory` and specifies a set of dependencies"},{type:"added",content:"     * (as `token`s) which should be injected into the factory function."},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```javascript"},{type:"added",content:"     * var injector = Injector.resolveAndCreate(["},{type:"added",content:"     *   new Binding(Number, { toFactory: () => { return 1+2; }}),"},{type:"added",content:'     *   new Binding(String, { toFactory: (value) => { return "Value: " + value; },'},{type:"added",content:"     *                         dependencies: [Number] })"},{type:"added",content:"     * ]);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injector.get(Number)).toEqual(3);"},{type:"added",content:"     * expect(injector.get(String)).toEqual('Value: 3');"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     dependencies: List<any>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Converts the {@link Binding} into {@link ResolvedBinding}."},{type:"added",content:"     * "},{type:"added",content:"     * {@link Injector} internally only uses {@link ResolvedBinding}, {@link Binding} contains"},{type:"added",content:"     * convenience binding syntax."},{type:"added",content:"     */"},{type:"added",content:"     resolve(): ResolvedBinding;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Helper class for the {@link bind} function."},{type:"added",content:"   */"},{type:"added",content:"  class BindingBuilder {"},{type:"added",content:"    "},{type:"added",content:"     token: void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Binds an interface to an implementation / subclass."},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * Because `toAlias` and `toClass` are often confused, the example contains both use cases for"},{type:"added",content:"     * easy comparison."},{type:"added",content:"     * "},{type:"added",content:"     * ```javascript"},{type:"added",content:"     * "},{type:"added",content:"     * class Vehicle {}"},{type:"added",content:"     * "},{type:"added",content:"     * class Car extends Vehicle {}"},{type:"added",content:"     * "},{type:"added",content:"     * var injectorClass = Injector.resolveAndCreate(["},{type:"added",content:"     *   Car,"},{type:"added",content:"     *   bind(Vehicle).toClass(Car)"},{type:"added",content:"     * ]);"},{type:"added",content:"     * var injectorAlias = Injector.resolveAndCreate(["},{type:"added",content:"     *   Car,"},{type:"added",content:"     *   bind(Vehicle).toAlias(Car)"},{type:"added",content:"     * ]);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injectorClass.get(Vehicle)).not.toBe(injectorClass.get(Car));"},{type:"added",content:"     * expect(injectorClass.get(Vehicle) instanceof Car).toBe(true);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injectorAlias.get(Vehicle)).toBe(injectorAlias.get(Car));"},{type:"added",content:"     * expect(injectorAlias.get(Vehicle) instanceof Car).toBe(true);"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     toClass(type: Type): Binding;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Binds a key to a value."},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```javascript"},{type:"added",content:"     * var injector = Injector.resolveAndCreate(["},{type:"added",content:"     *   bind(String).toValue('Hello')"},{type:"added",content:"     * ]);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injector.get(String)).toEqual('Hello');"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     toValue(value: any): Binding;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Binds a key to the alias for an existing key."},{type:"added",content:"     * "},{type:"added",content:"     * An alias means that we will return the same instance as if the alias token was used. (This is"},{type:"added",content:"     * in contrast to `toClass` where a separate instance of `toClass` will be returned.)"},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * Becuse `toAlias` and `toClass` are often confused, the example contains both use cases for easy"},{type:"added",content:"     * comparison."},{type:"added",content:"     * "},{type:"added",content:"     * ```javascript"},{type:"added",content:"     * "},{type:"added",content:"     * class Vehicle {}"},{type:"added",content:"     * "},{type:"added",content:"     * class Car extends Vehicle {}"},{type:"added",content:"     * "},{type:"added",content:"     * var injectorAlias = Injector.resolveAndCreate(["},{type:"added",content:"     *   Car,"},{type:"added",content:"     *   bind(Vehicle).toAlias(Car)"},{type:"added",content:"     * ]);"},{type:"added",content:"     * var injectorClass = Injector.resolveAndCreate(["},{type:"added",content:"     *   Car,"},{type:"added",content:"     *   bind(Vehicle).toClass(Car)"},{type:"added",content:"     * ]);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injectorAlias.get(Vehicle)).toBe(injectorAlias.get(Car));"},{type:"added",content:"     * expect(injectorAlias.get(Vehicle) instanceof Car).toBe(true);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injectorClass.get(Vehicle)).not.toBe(injectorClass.get(Car));"},{type:"added",content:"     * expect(injectorClass.get(Vehicle) instanceof Car).toBe(true);"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     toAlias(aliasToken: /*Type*/ any): Binding;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Binds a key to a function which computes the value."},{type:"added",content:"     * "},{type:"added",content:"     * ## Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```javascript"},{type:"added",content:"     * var injector = Injector.resolveAndCreate(["},{type:"added",content:"     *   bind(Number).toFactory(() => { return 1+2; }),"},{type:"added",content:'     *   bind(String).toFactory((v) => { return "Value: " + v; }, [Number])'},{type:"added",content:"     * ]);"},{type:"added",content:"     * "},{type:"added",content:"     * expect(injector.get(Number)).toEqual(3);"},{type:"added",content:"     * expect(injector.get(String)).toEqual('Value: 3');"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     toFactory(factoryFunction: Function, dependencies?: List<any>): Binding;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * An internal resolved representation of a {@link Binding} used by the {@link Injector}."},{type:"added",content:"   * "},{type:"added",content:"   * A {@link Binding} is resolved when it has a factory function. Binding to a class, alias, or"},{type:"added",content:"   * value, are just convenience methods, as {@link Injector} only operates on calling factory"},{type:"added",content:"   * functions."},{type:"added",content:"   */"},{type:"added",content:"  class ResolvedBinding {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * A key, usually a `Type`."},{type:"added",content:"     */"},{type:"added",content:"     key: Key;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Factory function which can return an instance of an object represented by a key."},{type:"added",content:"     */"},{type:"added",content:"     factory: Function;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Arguments (dependencies) to the `factory` function."},{type:"added",content:"     */"},{type:"added",content:"     dependencies: List<Dependency>;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * @private"},{type:"added",content:"   */"},{type:"added",content:"  class Dependency {"},{type:"added",content:"    "},{type:"added",content:"     key: Key;"},{type:"added",content:"    "},{type:"added",content:"     optional: boolean;"},{type:"added",content:"    "},{type:"added",content:"     visibility: VisibilityMetadata;"},{type:"added",content:"    "},{type:"added",content:"     properties: List<any>;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Provides an API for imperatively constructing {@link Binding}s."},{type:"added",content:"   * "},{type:"added",content:"   * This is only relevant for JavaScript. See {@link BindingBuilder}."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```javascript"},{type:"added",content:"   * bind(MyInterface).toClass(MyClass)"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  function bind(token: any) : BindingBuilder ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A unique object used for retrieving items from the {@link Injector}."},{type:"added",content:"   * "},{type:"added",content:"   * Keys have:"},{type:"added",content:"   * - a system-wide unique `id`."},{type:"added",content:"   * - a `token`, usually the `Type` of the instance."},{type:"added",content:"   * "},{type:"added",content:"   * Keys are used internally by the {@link Injector} because their system-wide unique `id`s allow the"},{type:"added",content:"   * injector to index in arrays rather than looking up items in maps."},{type:"added",content:"   */"},{type:"added",content:"  interface Key {"},{type:"added",content:"    "},{type:"added",content:"     token: Object;"},{type:"added",content:"    "},{type:"added",content:"     id: number;"},{type:"added",content:"    "},{type:"added",content:"     displayName: string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * @private"},{type:"added",content:"   */"},{type:"added",content:"  class KeyRegistry {"},{type:"added",content:"    "},{type:"added",content:"     get(token: Object): Key;"},{type:"added",content:"    "},{type:"added",content:"     numberOfKeys: number;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Type literals is a Dart-only feature. This is here only so we can x-compile"},{type:"added",content:"   * to multiple languages."},{type:"added",content:"   */"},{type:"added",content:"  class TypeLiteral {"},{type:"added",content:"    "},{type:"added",content:"     type: any;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Thrown when trying to retrieve a dependency by `Key` from {@link Injector}, but the"},{type:"added",content:"   * {@link Injector} does not have a {@link Binding} for {@link Key}."},{type:"added",content:"   */"},{type:"added",content:"  class NoBindingError extends AbstractBindingError {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Base class for all errors arising from misconfigured bindings."},{type:"added",content:"   */"},{type:"added",content:"  class AbstractBindingError extends BaseException {"},{type:"added",content:"    "},{type:"added",content:"     name: string;"},{type:"added",content:"    "},{type:"added",content:"     message: string;"},{type:"added",content:"    "},{type:"added",content:"     keys: List<Key>;"},{type:"added",content:"    "},{type:"added",content:"     injectors: List<Injector>;"},{type:"added",content:"    "},{type:"added",content:"     constructResolvingMessage: Function;"},{type:"added",content:"    "},{type:"added",content:"     addKey(injector: Injector, key: Key): void;"},{type:"added",content:"    "},{type:"added",content:"     context: void;"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Thrown when dependencies form a cycle."},{type:"added",content:"   * "},{type:"added",content:"   * ## Example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```javascript"},{type:"added",content:"   * class A {"},{type:"added",content:"   *   constructor(b:B) {}"},{type:"added",content:"   * }"},{type:"added",content:"   * class B {"},{type:"added",content:"   *   constructor(a:A) {}"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * Retrieving `A` or `B` throws a `CyclicDependencyError` as the graph above cannot be constructed."},{type:"added",content:"   */"},{type:"added",content:"  class CyclicDependencyError extends AbstractBindingError {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Thrown when a constructing type returns with an Error."},{type:"added",content:"   * "},{type:"added",content:"   * The `InstantiationError` class contains the original error plus the dependency graph which caused"},{type:"added",content:"   * this object to be instantiated."},{type:"added",content:"   */"},{type:"added",content:"  class InstantiationError extends AbstractBindingError {"},{type:"added",content:"    "},{type:"added",content:"     causeKey: Key;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Thrown when an object other then {@link Binding} (or `Type`) is passed to {@link Injector}"},{type:"added",content:"   * creation."},{type:"added",content:"   */"},{type:"added",content:"  class InvalidBindingError extends BaseException {"},{type:"added",content:"    "},{type:"added",content:"     message: string;"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Thrown when the class has no annotation information."},{type:"added",content:"   * "},{type:"added",content:"   * Lack of annotation information prevents the {@link Injector} from determining which dependencies"},{type:"added",content:"   * need to be injected into the constructor."},{type:"added",content:"   */"},{type:"added",content:"  class NoAnnotationError extends BaseException {"},{type:"added",content:"    "},{type:"added",content:"     name: string;"},{type:"added",content:"    "},{type:"added",content:"     message: string;"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Thrown when getting an object by index."},{type:"added",content:"   */"},{type:"added",content:"  class OutOfBoundsError extends BaseException {"},{type:"added",content:"    "},{type:"added",content:"     message: string;"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class OpaqueToken {"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link InjectMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  interface InjectFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(token: any): InjectMetadata;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (token: any): any;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link OptionalMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  interface OptionalFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(): OptionalMetadata;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (): any;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link InjectableMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  interface InjectableFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(): InjectableMetadata;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (): any;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link SelfMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  interface SelfFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(): SelfMetadata;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (): any;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link AncestorMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  interface AncestorFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(visibility?: {self: boolean}): AncestorMetadata;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (visibility?: {self: boolean}): any;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link UnboundedMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  interface UnboundedFactory {"},{type:"added",content:"    "},{type:"added",content:"     new(visibility?: {self: boolean}): UnboundedMetadata;"},{type:"added",content:"  "},{type:"added",content:"    "},{type:"added",content:"     (visibility?: {self: boolean}): any;"},{type:"added",content:"  "},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link InjectMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  var Inject : InjectFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link OptionalMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  var Optional : OptionalFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link InjectableMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  var Injectable : InjectableFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link SelfMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  var Self : SelfFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link AncestorMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  var Ancestor : AncestorFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Factory for creating {@link UnboundedMetadata}."},{type:"added",content:"   */"},{type:"added",content:"  var Unbounded : UnboundedFactory ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Omitting from external API doc as this is really an abstract internal concept."},{type:"added",content:"   */"},{type:"added",content:"  class AbstractControl {"},{type:"added",content:"    "},{type:"added",content:"     validator: Function;"},{type:"added",content:"    "},{type:"added",content:"     value: any;"},{type:"added",content:"    "},{type:"added",content:"     status: string;"},{type:"added",content:"    "},{type:"added",content:"     valid: boolean;"},{type:"added",content:"    "},{type:"added",content:"     errors: StringMap<string, any>;"},{type:"added",content:"    "},{type:"added",content:"     pristine: boolean;"},{type:"added",content:"    "},{type:"added",content:"     dirty: boolean;"},{type:"added",content:"    "},{type:"added",content:"     touched: boolean;"},{type:"added",content:"    "},{type:"added",content:"     untouched: boolean;"},{type:"added",content:"    "},{type:"added",content:"     valueChanges: Observable;"},{type:"added",content:"    "},{type:"added",content:"     markAsTouched(): void;"},{type:"added",content:"    "},{type:"added",content:"     markAsDirty({onlySelf}?: {onlySelf?: boolean}): void;"},{type:"added",content:"    "},{type:"added",content:"     setParent(parent: ControlGroup | ControlArray): void;"},{type:"added",content:"    "},{type:"added",content:"     updateValidity({onlySelf}?: {onlySelf?: boolean}): void;"},{type:"added",content:"    "},{type:"added",content:"     updateValueAndValidity({onlySelf, emitEvent}?: {onlySelf?: boolean, emitEvent?: boolean}): void;"},{type:"added",content:"    "},{type:"added",content:"     find(path: List<string | number>| string): AbstractControl;"},{type:"added",content:"    "},{type:"added",content:"     getError(errorCode: string, path?: List<string>): any;"},{type:"added",content:"    "},{type:"added",content:"     hasError(errorCode: string, path?: List<string>): boolean;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Defines a part of a form that cannot be divided into other controls."},{type:"added",content:"   * "},{type:"added",content:"   * `Control` is one of the three fundamental building blocks used to define forms in Angular, along"},{type:"added",content:"   * with"},{type:"added",content:"   * {@link ControlGroup} and {@link ControlArray}."},{type:"added",content:"   */"},{type:"added",content:"  class Control extends AbstractControl {"},{type:"added",content:"    "},{type:"added",content:"     updateValue(value: any, {onlySelf, emitEvent, emitModelToViewChange}?:"},{type:"added",content:"                  {onlySelf?: boolean, emitEvent?: boolean, emitModelToViewChange?: boolean}): void;"},{type:"added",content:"    "},{type:"added",content:"     registerOnChange(fn: Function): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Defines a part of a form, of fixed length, that can contain other controls."},{type:"added",content:"   * "},{type:"added",content:"   * A ControlGroup aggregates the values and errors of each {@link Control} in the group. Thus, if"
},{type:"added",content:"   * one of the controls"},{type:"added",content:"   * in a group is invalid, the entire group is invalid. Similarly, if a control changes its value,"},{type:"added",content:"   * the entire group"},{type:"added",content:"   * changes as well."},{type:"added",content:"   * "},{type:"added",content:"   * `ControlGroup` is one of the three fundamental building blocks used to define forms in Angular,"},{type:"added",content:"   * along with"},{type:"added",content:"   * {@link Control} and {@link ControlArray}. {@link ControlArray} can also contain other controls,"},{type:"added",content:"   * but is of variable"},{type:"added",content:"   * length."},{type:"added",content:"   */"},{type:"added",content:"  class ControlGroup extends AbstractControl {"},{type:"added",content:"    "},{type:"added",content:"     controls: StringMap<string, AbstractControl>;"},{type:"added",content:"    "},{type:"added",content:"     addControl(name: string, c: AbstractControl): void;"},{type:"added",content:"    "},{type:"added",content:"     removeControl(name: string): void;"},{type:"added",content:"    "},{type:"added",content:"     include(controlName: string): void;"},{type:"added",content:"    "},{type:"added",content:"     exclude(controlName: string): void;"},{type:"added",content:"    "},{type:"added",content:"     contains(controlName: string): boolean;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Defines a part of a form, of variable length, that can contain other controls."},{type:"added",content:"   * "},{type:"added",content:"   * A `ControlArray` aggregates the values and errors of each {@link Control} in the group. Thus, if"},{type:"added",content:"   * one of the controls"},{type:"added",content:"   * in a group is invalid, the entire group is invalid. Similarly, if a control changes its value,"},{type:"added",content:"   * the entire group"},{type:"added",content:"   * changes as well."},{type:"added",content:"   * "},{type:"added",content:"   * `ControlArray` is one of the three fundamental building blocks used to define forms in Angular,"},{type:"added",content:"   * along with {@link Control} and {@link ControlGroup}. {@link ControlGroup} can also contain"},{type:"added",content:"   * other controls, but is of fixed length."},{type:"added",content:"   */"},{type:"added",content:"  class ControlArray extends AbstractControl {"},{type:"added",content:"    "},{type:"added",content:"     controls: List<AbstractControl>;"},{type:"added",content:"    "},{type:"added",content:"     at(index: number): AbstractControl;"},{type:"added",content:"    "},{type:"added",content:"     push(control: AbstractControl): void;"},{type:"added",content:"    "},{type:"added",content:"     insert(index: number, control: AbstractControl): void;"},{type:"added",content:"    "},{type:"added",content:"     removeAt(index: number): void;"},{type:"added",content:"    "},{type:"added",content:"     length: number;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class AbstractControlDirective {"},{type:"added",content:"    "},{type:"added",content:"     control: AbstractControl;"},{type:"added",content:"    "},{type:"added",content:"     value: any;"},{type:"added",content:"    "},{type:"added",content:"     valid: boolean;"},{type:"added",content:"    "},{type:"added",content:"     errors: StringMap<string, any>;"},{type:"added",content:"    "},{type:"added",content:"     pristine: boolean;"},{type:"added",content:"    "},{type:"added",content:"     dirty: boolean;"},{type:"added",content:"    "},{type:"added",content:"     touched: boolean;"},{type:"added",content:"    "},{type:"added",content:"     untouched: boolean;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * An interface that {@link NgFormModel} and {@link NgForm} implement."},{type:"added",content:"   * "},{type:"added",content:"   * Only used by the forms module."},{type:"added",content:"   */"},{type:"added",content:"  interface Form {"},{type:"added",content:"    "},{type:"added",content:"     addControl(dir: NgControl): void;"},{type:"added",content:"    "},{type:"added",content:"     removeControl(dir: NgControl): void;"},{type:"added",content:"    "},{type:"added",content:"     getControl(dir: NgControl): Control;"},{type:"added",content:"    "},{type:"added",content:"     addControlGroup(dir: NgControlGroup): void;"},{type:"added",content:"    "},{type:"added",content:"     removeControlGroup(dir: NgControlGroup): void;"},{type:"added",content:"    "},{type:"added",content:"     getControlGroup(dir: NgControlGroup): ControlGroup;"},{type:"added",content:"    "},{type:"added",content:"     updateModel(dir: NgControl, value: any): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A directive that contains a group of [NgControl]."},{type:"added",content:"   * "},{type:"added",content:"   * Only used by the forms module."},{type:"added",content:"   */"},{type:"added",content:"  class ControlContainer extends AbstractControlDirective {"},{type:"added",content:"    "},{type:"added",content:"     name: string;"},{type:"added",content:"    "},{type:"added",content:"     formDirective: Form;"},{type:"added",content:"    "},{type:"added",content:"     path: List<string>;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Creates and binds a control with a specified name to a DOM element."},{type:"added",content:"   * "},{type:"added",content:"   * This directive can only be used as a child of {@link NgForm} or {@link NgFormModel}."},{type:"added",content:"   * "},{type:"added",content:"   * # Example"},{type:"added",content:"   * "},{type:"added",content:"   * In this example, we create the login and password controls."},{type:"added",content:"   * We can work with each control separately: check its validity, get its value, listen to its"},{type:"added",content:"   *  changes."},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:'   * @Component({selector: "login-comp"})'},{type:"added",content:"   * @View({"},{type:"added",content:"   *      directives: [formDirectives],"},{type:"added",content:"   *      template: `"},{type:"added",content:"   *              <form #f=\"form\" (submit)='onLogIn(f.value)'>"},{type:"added",content:"   *                Login <input type='text' ng-control='login' #l=\"form\">"},{type:"added",content:'   *                <div *ng-if="!l.valid">Login is invalid</div>'},{type:"added",content:"   * "},{type:"added",content:"   *                Password <input type='password' ng-control='password'>"},{type:"added",content:"   * "},{type:"added",content:"   *                <button type='submit'>Log in!</button>"},{type:"added",content:"   *              </form>"},{type:"added",content:"   *      `})"},{type:"added",content:"   * class LoginComp {"},{type:"added",content:"   *  onLogIn(value) {"},{type:"added",content:"   *    // value === {login: 'some login', password: 'some password'}"},{type:"added",content:"   *  }"},{type:"added",content:"   * }"},{type:"added",content:"   *  ```"},{type:"added",content:"   * "},{type:"added",content:"   * We can also use ng-model to bind a domain model to the form."},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:'   * @Component({selector: "login-comp"})'},{type:"added",content:"   * @View({"},{type:"added",content:"   *      directives: [formDirectives],"},{type:"added",content:"   *      template: `"},{type:"added",content:"   *              <form (submit)='onLogIn()'>"},{type:"added",content:"   *                Login <input type='text' ng-control='login' [(ng-model)]=\"credentials.login\">"},{type:"added",content:"   *                Password <input type='password' ng-control='password'"},{type:"added",content:'   *  [(ng-model)]="credentials.password">'},{type:"added",content:"   *                <button type='submit'>Log in!</button>"},{type:"added",content:"   *              </form>"},{type:"added",content:"   *      `})"},{type:"added",content:"   * class LoginComp {"},{type:"added",content:"   *  credentials: {login:string, password:string};"},{type:"added",content:"   * "},{type:"added",content:"   *  onLogIn() {"},{type:"added",content:'   *    // this.credentials.login === "some login"'},{type:"added",content:'   *    // this.credentials.password === "some password"'},{type:"added",content:"   *  }"},{type:"added",content:"   * }"},{type:"added",content:"   *  ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgControlName extends NgControl {"},{type:"added",content:"    "},{type:"added",content:"     update: void;"},{type:"added",content:"    "},{type:"added",content:"     model: any;"},{type:"added",content:"    "},{type:"added",content:"     viewModel: any;"},{type:"added",content:"    "},{type:"added",content:"     ngValidators: QueryList<NgValidator>;"},{type:"added",content:"    "},{type:"added",content:"     onChange(c: StringMap<string, any>): void;"},{type:"added",content:"    "},{type:"added",content:"     onDestroy(): void;"},{type:"added",content:"    "},{type:"added",content:"     viewToModelUpdate(newValue: any): void;"},{type:"added",content:"    "},{type:"added",content:"     path: List<string>;"},{type:"added",content:"    "},{type:"added",content:"     formDirective: any;"},{type:"added",content:"    "},{type:"added",content:"     control: Control;"},{type:"added",content:"    "},{type:"added",content:"     validator: Function;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Binds an existing control to a DOM element."},{type:"added",content:"   * "},{type:"added",content:"   * # Example"},{type:"added",content:"   * "},{type:"added",content:"   * In this example, we bind the control to an input element. When the value of the input element"},{type:"added",content:"   * changes, the value of"},{type:"added",content:"   * the control will reflect that change. Likewise, if the value of the control changes, the input"},{type:"added",content:"   * element reflects that"},{type:"added",content:"   * change."},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:'   * @Component({selector: "login-comp"})'},{type:"added",content:"   * @View({"},{type:"added",content:"   *      directives: [formDirectives],"},{type:"added",content:"   *      template: \"<input type='text' [ng-form-control]='loginControl'>\""},{type:"added",content:"   *      })"},{type:"added",content:"   * class LoginComp {"},{type:"added",content:"   *  loginControl:Control;"},{type:"added",content:"   * "},{type:"added",content:"   *  constructor() {"},{type:"added",content:"   *    this.loginControl = new Control('');"},{type:"added",content:"   *  }"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:"   * "},{type:"added",content:"   * We can also use ng-model to bind a domain model to the form."},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:'   * @Component({selector: "login-comp"})'},{type:"added",content:"   * @View({"},{type:"added",content:"   *      directives: [formDirectives],"},{type:"added",content:"   *      template: \"<input type='text' [ng-form-control]='loginControl' [(ng-model)]='login'>\""},{type:"added",content:"   *      })"},{type:"added",content:"   * class LoginComp {"},{type:"added",content:"   *  loginControl:Control;"},{type:"added",content:"   *  login:string;"},{type:"added",content:"   * "},{type:"added",content:"   *  constructor() {"},{type:"added",content:"   *    this.loginControl = new Control('');"},{type:"added",content:"   *  }"},{type:"added",content:"   * }"},{type:"added",content:"   *  ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgFormControl extends NgControl {"},{type:"added",content:"    "},{type:"added",content:"     form: Control;"},{type:"added",content:"    "},{type:"added",content:"     update: void;"},{type:"added",content:"    "},{type:"added",content:"     model: any;"},{type:"added",content:"    "},{type:"added",content:"     viewModel: any;"},{type:"added",content:"    "},{type:"added",content:"     ngValidators: QueryList<NgValidator>;"},{type:"added",content:"    "},{type:"added",content:"     onChange(c: StringMap<string, any>): void;"},{type:"added",content:"    "},{type:"added",content:"     path: List<string>;"},{type:"added",content:"    "},{type:"added",content:"     control: Control;"},{type:"added",content:"    "},{type:"added",content:"     validator: Function;"},{type:"added",content:"    "},{type:"added",content:"     viewToModelUpdate(newValue: any): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Binds a domain model to the form."},{type:"added",content:"   * "},{type:"added",content:"   * # Example"},{type:"added",content:"   *  ```"},{type:"added",content:'   * @Component({selector: "search-comp"})'},{type:"added",content:"   * @View({"},{type:"added",content:"   *      directives: [formDirectives],"},{type:"added",content:"   *      template: `"},{type:"added",content:"   *               <input type='text' [(ng-model)]=\"searchQuery\">"},{type:"added",content:"   *      `})"},{type:"added",content:"   * class SearchComp {"},{type:"added",content:"   *  searchQuery: string;"},{type:"added",content:"   * }"},{type:"added",content:"   *  ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgModel extends NgControl {"},{type:"added",content:"    "},{type:"added",content:"     update: void;"},{type:"added",content:"    "},{type:"added",content:"     model: any;"},{type:"added",content:"    "},{type:"added",content:"     viewModel: any;"},{type:"added",content:"    "},{type:"added",content:"     ngValidators: QueryList<NgValidator>;"},{type:"added",content:"    "},{type:"added",content:"     onChange(c: StringMap<string, any>): void;"},{type:"added",content:"    "},{type:"added",content:"     control: Control;"},{type:"added",content:"    "},{type:"added",content:"     path: List<string>;"},{type:"added",content:"    "},{type:"added",content:"     validator: Function;"},{type:"added",content:"    "},{type:"added",content:"     viewToModelUpdate(newValue: any): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * An abstract class that all control directive extend."},{type:"added",content:"   * "},{type:"added",content:"   * It binds a {@link Control} object to a DOM element."},{type:"added",content:"   */"},{type:"added",content:"  class NgControl extends AbstractControlDirective {"},{type:"added",content:"    "},{type:"added",content:"     name: string;"},{type:"added",content:"    "},{type:"added",content:"     valueAccessor: ControlValueAccessor;"},{type:"added",content:"    "},{type:"added",content:"     validator: Function;"},{type:"added",content:"    "},{type:"added",content:"     path: List<string>;"},{type:"added",content:"    "},{type:"added",content:"     viewToModelUpdate(newValue: any): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Creates and binds a control group to a DOM element."},{type:"added",content:"   * "},{type:"added",content:"   * This directive can only be used as a child of {@link NgForm} or {@link NgFormModel}."},{type:"added",content:"   * "},{type:"added",content:"   * # Example"},{type:"added",content:"   * "},{type:"added",content:"   * In this example, we create the credentials and personal control groups."},{type:"added",content:"   * We can work with each group separately: check its validity, get its value, listen to its changes."},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:'   * @Component({selector: "signup-comp"})'},{type:"added",content:"   * @View({"},{type:"added",content:"   *      directives: [formDirectives],"},{type:"added",content:"   *      template: `"},{type:"added",content:"   *              <form #f=\"form\" (submit)='onSignUp(f.value)'>"},{type:"added",content:"   *                <div ng-control-group='credentials' #credentials=\"form\">"},{type:"added",content:"   *                  Login <input type='text' ng-control='login'>"},{type:"added",content:"   *                  Password <input type='password' ng-control='password'>"},{type:"added",content:"   *                </div>"},{type:"added",content:'   *                <div *ng-if="!credentials.valid">Credentials are invalid</div>'},{type:"added",content:"   * "},{type:"added",content:"   *                <div ng-control-group='personal'>"},{type:"added",content:"   *                  Name <input type='text' ng-control='name'>"},{type:"added",content:"   *                </div>"},{type:"added",content:"   *                <button type='submit'>Sign Up!</button>"},{type:"added",content:"   *              </form>"},{type:"added",content:"   *      `})"},{type:"added",content:"   * class SignupComp {"},{type:"added",content:"   *  onSignUp(value) {"},{type:"added",content:"   *    // value === {personal: {name: 'some name'},"},{type:"added",content:"   *    //  credentials: {login: 'some login', password: 'some password'}}"},{type:"added",content:"   *  }"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgControlGroup extends ControlContainer {"},{type:"added",content:"    "},{type:"added",content:"     onInit(): void;"},{type:"added",content:"    "},{type:"added",content:"     onDestroy(): void;"},{type:"added",content:"    "},{type:"added",content:"     control: ControlGroup;"},{type:"added",content:"    "},{type:"added",content:"     path: List<string>;"},{type:"added",content:"    "},{type:"added",content:"     formDirective: Form;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Binds an existing control group to a DOM element."},{type:"added",content:"   * "},{type:"added",content:"   * # Example"},{type:"added",content:"   * "},{type:"added",content:"   * In this example, we bind the control group to the form element, and we bind the login and"},{type:"added",content:"   * password controls to the"},{type:"added",content:"   * login and password elements."},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:'   * @Component({selector: "login-comp"})'},{type:"added",content:"   * @View({"},{type:"added",content:"   *      directives: [formDirectives],"},{type:"added",content:"   *      template: \"<form [ng-form-model]='loginForm'>\" +"},{type:"added",content:"   *              \"Login <input type='text' ng-control='login'>\" +"},{type:"added",content:"   *              \"Password <input type='password' ng-control='password'>\" +"},{type:"added",content:'   *              "<button (click)="onLogin()">Login</button>" +'},{type:"added",content:'   *              "</form>"'},{type:"added",content:"   *      })"},{type:"added",content:"   * class LoginComp {"},{type:"added",content:"   *  loginForm:ControlGroup;"},{type:"added",content:"   * "},{type:"added",content:"   *  constructor() {"},{type:"added",content:"   *    this.loginForm = new ControlGroup({"},{type:"added",content:'   *      login: new Control(""),'},{type:"added",content:'   *      password: new Control("")'},{type:"added",content:"   *    });"},{type:"added",content:"   *  }"},{type:"added",content:"   * "},{type:"added",content:"   *  onLogin() {"},{type:"added",content:"   *    // this.loginForm.value"},{type:"added",content:"   *  }"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:"   * "},{type:"added",content:"   * We can also use ng-model to bind a domain model to the form."},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:'   * @Component({selector: "login-comp"})'},{type:"added",content:"   * @View({"},{type:"added",content:"   *      directives: [formDirectives],"},{type:"added",content:"   *      template: \"<form [ng-form-model]='loginForm'>\" +"},{type:"added",content:"   *              \"Login <input type='text' ng-control='login' [(ng-model)]='login'>\" +"},{type:"added",content:"   *              \"Password <input type='password' ng-control='password' [(ng-model)]='password'>\" +"},{type:"added",content:'   *              "<button (click)="onLogin()">Login</button>" +'},{type:"added",content:'   *              "</form>"'},{type:"added",content:"   *      })"},{type:"added",content:"   * class LoginComp {"},{type:"added",content:"   *  credentials:{login:string, password:string}"},{type:"added",content:"   *  loginForm:ControlGroup;"},{type:"added",content:"   * "},{type:"added",content:"   *  constructor() {"},{type:"added",content:"   *    this.loginForm = new ControlGroup({"},{type:"added",content:'   *      login: new Control(""),'},{type:"added",content:'   *      password: new Control("")'},{type:"added",content:"   *    });"},{type:"added",content:"   *  }"},{type:"added",content:"   * "},{type:"added",content:"   *  onLogin() {"},{type:"added",content:"   *    // this.credentials.login === 'some login'"},{type:"added",content:"   *    // this.credentials.password === 'some password'"},{type:"added",content:"   *  }"},{type:"added",content:"   * }"},{type:"added",content:"   *  ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgFormModel extends ControlContainer implements Form {"},{type:"added",content:"    "},{type:"added",content:"     form: ControlGroup;"},{type:"added",content:"    "},{type:"added",content:"     directives: List<NgControl>;"},{type:"added",content:"    "},{type:"added",content:"     ngSubmit: void;"},{type:"added",content:"    "},{type:"added",content:"     onChange(_: any): void;"},{type:"added",content:"    "},{type:"added",content:"     formDirective: Form;"},{type:"added",content:"    "},{type:"added",content:"     control: ControlGroup;"},{type:"added",content:"    "},{type:"added",content:"     path: List<string>;"},{type:"added",content:"    "},{type:"added",content:"     addControl(dir: NgControl): void;"},{type:"added",content:"    "},{type:"added",content:"     getControl(dir: NgControl): Control;"},{type:"added",content:"    "},{type:"added",content:"     removeControl(dir: NgControl): void;"},{type:"added",content:"    "},{type:"added",content:"     addControlGroup(dir: NgControlGroup): void;"},{type:"added",content:"    "},{type:"added",content:"     removeControlGroup(dir: NgControlGroup): void;"},{type:"added",content:"    "},{type:"added",content:"     getControlGroup(dir: NgControlGroup): ControlGroup;"},{type:"added",content:"    "},{type:"added",content:"     updateModel(dir: NgControl, value: any): void;"},{type:"added",content:"    "},{type:"added",content:"     onSubmit(): boolean;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Creates and binds a form object to a DOM element."},{type:"added",content:"   * "},{type:"added",content:"   * # Example"},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:'   * @Component({selector: "signup-comp"})'},{type:"added",content:"   * @View({"},{type:"added",content:"   *      directives: [formDirectives],"},{type:"added",content:"   *      template: `"},{type:"added",content:"   *              <form #f=\"form\" (submit)='onSignUp(f.value)'>"},{type:"added",content:"   *                <div ng-control-group='credentials' #credentials=\"form\">"},{type:"added",content:"   *                  Login <input type='text' ng-control='login'>"},{type:"added",content:"   *                  Password <input type='password' ng-control='password'>"},{type:"added",content:"   *                </div>"},{type:"added",content:'   *                <div *ng-if="!credentials.valid">Credentials are invalid</div>'},{type:"added",content:"   * "},{type:"added",content:"   *                <div ng-control-group='personal'>"},{type:"added",content:"   *                  Name <input type='text' ng-control='name'>"},{type:"added",content:"   *                </div>"},{type:"added",content:"   *                <button type='submit'>Sign Up!</button>"},{type:"added",content:"   *              </form>"},{type:"added",content:"   *      `})"},{type:"added",content:"   * class SignupComp {"},{type:"added",content:"   *  onSignUp(value) {"},{type:"added",content:"   *    // value === {personal: {name: 'some name'},"},{type:"added",content:"   *    //  credentials: {login: 'some login', password: 'some password'}}"},{type:"added",content:"   *  }"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgForm extends ControlContainer implements Form {"},{type:"added",content:"    "},{type:"added",content:"     form: ControlGroup;"},{type:"added",content:"    "},{type:"added",content:"     ngSubmit: void;"},{type:"added",content:"    "},{type:"added",content:"     formDirective: Form;"},{type:"added",content:"    "},{type:"added",content:"     control: ControlGroup;"},{type:"added",content:"    "},{type:"added",content:"     path: List<string>;"},{type:"added",content:"    "},{type:"added",content:"     controls: StringMap<string, AbstractControl>;"},{type:"added",content:"    "},{type:"added",content:"     addControl(dir: NgControl): void;"},{type:"added",content:"    "},{type:"added",content:"     getControl(dir: NgControl): Control;"},{type:"added",content:"    "},{type:"added",content:"     removeControl(dir: NgControl): void;"},{type:"added",content:"    "},{type:"added",content:"     addControlGroup(dir: NgControlGroup): void;"},{type:"added",content:"    "},{type:"added",content:"     removeControlGroup(dir: NgControlGroup): void;"},{type:"added",content:"    "},{type:"added",content:"     getControlGroup(dir: NgControlGroup): ControlGroup;"},{type:"added",content:"    "},{type:"added",content:"     updateModel(dir: NgControl, value: any): void;"},{type:"added",content:"    "},{type:"added",content:"     onSubmit(): boolean;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A bridge between a control and a native element."},{type:"added",content:"   * "},{type:"added",content:"   * Please see {@link DefaultValueAccessor} for more information."},{type:"added",content:"   */"},{type:"added",content:"  interface ControlValueAccessor {"},{type:"added",content:"    "},{type:"added",content:"     writeValue(obj: any): void;"},{type:"added",content:"    "},{type:"added",content:"     registerOnChange(fn: any): void;"},{type:"added",content:"    "},{type:"added",content:"     registerOnTouched(fn: any): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * The default accessor for writing a value and listening to changes that is used by the"},{type:"added",content:"   * {@link NgModel}, {@link NgFormControl}, and {@link NgControlName} directives."},{type:"added",content:"   * "},{type:"added",content:"   *  # Example"},{type:"added",content:"   *  ```"},{type:"added",content:'   *  <input type="text" [(ng-model)]="searchQuery">'},{type:"added",content:"   *  ```"},{type:"added",content:"   */"},{type:"added",content:"  class DefaultValueAccessor implements ControlValueAccessor {"},{type:"added",content:"    "},{type:"added",content:"     onChange: void;"},{type:"added",content:"    "},{type:"added",content:"     onTouched: void;"},{type:"added",content:"    "},{type:"added",content:"     cd: NgControl;"},{type:"added",content:"    "},{type:"added",content:"     renderer: Renderer;"},{type:"added",content:"    "},{type:"added",content:"     elementRef: ElementRef;"},{type:"added",content:"    "},{type:"added",content:"     writeValue(value: any): void;"},{type:"added",content:"    "},{type:"added",content:"     ngClassUntouched: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassTouched: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassPristine: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassDirty: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassValid: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassInvalid: boolean;"},{type:"added",content:"    "},{type:"added",content:"     registerOnChange(fn: (_: any) => void): void;"},{type:"added",content:"    "},{type:"added",content:"     registerOnTouched(fn: () => void): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * The accessor for writing a value and listening to changes on a checkbox input element."},{type:"added",content:"   * "},{type:"added",content:"   *  # Example"},{type:"added",content:"   *  ```"},{type:"added",content:'   *  <input type="checkbox" [ng-control]="rememberLogin">'},{type:"added",content:"   *  ```"},{type:"added",content:"   */"},{type:"added",content:"  class CheckboxControlValueAccessor implements ControlValueAccessor {"},{type:"added",content:"    "},{type:"added",content:"     onChange: void;"},{type:"added",content:"    "},{type:"added",content:"     onTouched: void;"},{type:"added",content:"    "},{type:"added",content:"     cd: NgControl;"},{type:"added",content:"    "},{type:"added",content:"     renderer: Renderer;"},{type:"added",content:"    "},{type:"added",content:"     elementRef: ElementRef;"},{type:"added",content:"    "},{type:"added",content:"     writeValue(value: any): void;"},{type:"added",content:"    "},{type:"added",content:"     ngClassUntouched: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassTouched: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassPristine: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassDirty: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassValid: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassInvalid: boolean;"},{type:"added",content:"    "},{type:"added",content:"     registerOnChange(fn: (_: any) => {}): void;"},{type:"added",content:"    "},{type:"added",content:"     registerOnTouched(fn: () => {}): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Marks <option> as dynamic, so Angular can be notified when options change."},{type:"added",content:"   * "},{type:"added",content:"   * #Example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * <select ng-control="city">'},{type:"added",content:'   *   <option *ng-for="#c of cities" [value]="c"></option>'},{type:"added",content:"   * </select>"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgSelectOption {"},{type:"added",
content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * The accessor for writing a value and listening to changes on a select element."},{type:"added",content:"   */"},{type:"added",content:"  class SelectControlValueAccessor implements ControlValueAccessor {"},{type:"added",content:"    "},{type:"added",content:"     value: string;"},{type:"added",content:"    "},{type:"added",content:"     onChange: void;"},{type:"added",content:"    "},{type:"added",content:"     onTouched: void;"},{type:"added",content:"    "},{type:"added",content:"     cd: NgControl;"},{type:"added",content:"    "},{type:"added",content:"     renderer: Renderer;"},{type:"added",content:"    "},{type:"added",content:"     elementRef: ElementRef;"},{type:"added",content:"    "},{type:"added",content:"     writeValue(value: any): void;"},{type:"added",content:"    "},{type:"added",content:"     ngClassUntouched: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassTouched: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassPristine: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassDirty: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassValid: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngClassInvalid: boolean;"},{type:"added",content:"    "},{type:"added",content:"     registerOnChange(fn: () => any): void;"},{type:"added",content:"    "},{type:"added",content:"     registerOnTouched(fn: () => any): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A list of all the form directives used as part of a `@View` annotation."},{type:"added",content:"   * "},{type:"added",content:"   *  This is a shorthand for importing them each individually."},{type:"added",content:"   */"},{type:"added",content:"  const formDirectives : List<Type> ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Provides a set of validators used by form controls."},{type:"added",content:"   * "},{type:"added",content:"   * # Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * var loginControl = new Control("", Validators.required)'},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class Validators {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class NgValidator {"},{type:"added",content:"    "},{type:"added",content:"     validator: Function;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class NgRequiredValidator extends NgValidator {"},{type:"added",content:"    "},{type:"added",content:"     validator: Function;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Creates a form object from a user-specified configuration."},{type:"added",content:"   * "},{type:"added",content:"   * # Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * import {Component, View, bootstrap} from 'angular2/angular2';"},{type:"added",content:"   * import {FormBuilder, Validators, formDirectives, ControlGroup} from 'angular2/forms';"},{type:"added",content:"   * "},{type:"added",content:"   * @Component({"},{type:"added",content:"   *   selector: 'login-comp',"},{type:"added",content:"   *   viewInjector: ["},{type:"added",content:"   *     FormBuilder"},{type:"added",content:"   *   ]"},{type:"added",content:"   * })"},{type:"added",content:"   * @View({"},{type:"added",content:"   *   template: `"},{type:"added",content:'   *     <form [control-group]="loginForm">'},{type:"added",content:'   *       Login <input control="login">'},{type:"added",content:"   * "},{type:"added",content:'   *       <div control-group="passwordRetry">'},{type:"added",content:'   *         Password <input type="password" control="password">'},{type:"added",content:'   *         Confirm password <input type="password" control="passwordConfirmation">'},{type:"added",content:"   *       </div>"},{type:"added",content:"   *     </form>"},{type:"added",content:"   *   `,"},{type:"added",content:"   *   directives: ["},{type:"added",content:"   *     formDirectives"},{type:"added",content:"   *   ]"},{type:"added",content:"   * })"},{type:"added",content:"   * class LoginComp {"},{type:"added",content:"   *   loginForm: ControlGroup;"},{type:"added",content:"   * "},{type:"added",content:"   *   constructor(builder: FormBuilder) {"},{type:"added",content:"   *     this.loginForm = builder.group({"},{type:"added",content:'   *       login: ["", Validators.required],'},{type:"added",content:"   * "},{type:"added",content:"   *       passwordRetry: builder.group({"},{type:"added",content:'   *         password: ["", Validators.required],'},{type:"added",content:'   *         passwordConfirmation: ["", Validators.required]'},{type:"added",content:"   *       })"},{type:"added",content:"   *     });"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * bootstrap(LoginComp)"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * This example creates a {@link ControlGroup} that consists of a `login` {@link Control}, and a"},{type:"added",content:"   * nested"},{type:"added",content:"   * {@link ControlGroup} that defines a `password` and a `passwordConfirmation` {@link Control}:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   *  var loginForm = builder.group({"},{type:"added",content:'   *    login: ["", Validators.required],'},{type:"added",content:"   * "},{type:"added",content:"   *    passwordRetry: builder.group({"},{type:"added",content:'   *      password: ["", Validators.required],'},{type:"added",content:'   *      passwordConfirmation: ["", Validators.required]'},{type:"added",content:"   *    })"},{type:"added",content:"   *  });"},{type:"added",content:"   * "},{type:"added",content:"   *  ```"},{type:"added",content:"   */"},{type:"added",content:"  class FormBuilder {"},{type:"added",content:"    "},{type:"added",content:"     group(controlsConfig: StringMap<string, any>, extra?: StringMap<string, any>): ControlGroup;"},{type:"added",content:"    "},{type:"added",content:"     control(value: Object, validator?: Function): Control;"},{type:"added",content:"    "},{type:"added",content:"     array(controlsConfig: List<any>, validator?: Function): ControlArray;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  const formInjectables : List<Type> ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A collection of the Angular core directives that are likely to be used in each and every Angular"},{type:"added",content:"   * application."},{type:"added",content:"   * "},{type:"added",content:"   * This collection can be used to quickly enumerate all the built-in directives in the `@View`"},{type:"added",content:"   * annotation. For example,"},{type:"added",content:"   * instead of writing:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * import {If, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault} from 'angular2/angular2';"},{type:"added",content:"   * import {OtherDirective} from 'myDirectives';"},{type:"added",content:"   * "},{type:"added",content:"   * @Component({"},{type:"added",content:"   *  selector: 'my-component'"},{type:"added",content:"   * })"},{type:"added",content:"   * @View({"},{type:"added",content:"   *   templateUrl: 'myComponent.html',"},{type:"added",content:"   *   directives: [If, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, OtherDirective]"},{type:"added",content:"   * })"},{type:"added",content:"   * export class MyComponent {"},{type:"added",content:"   *   ..."},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * one could enumerate all the core directives at once:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * import {coreDirectives} from 'angular2/angular2';"},{type:"added",content:"   * import {OtherDirective} from 'myDirectives';"},{type:"added",content:"   * "},{type:"added",content:"   * @Component({"},{type:"added",content:"   *  selector: 'my-component'"},{type:"added",content:"   * })"},{type:"added",content:"   * @View({"},{type:"added",content:"   *   templateUrl: 'myComponent.html',"},{type:"added",content:"   *   directives: [coreDirectives, OtherDirective]"},{type:"added",content:"   * })"},{type:"added",content:"   * export class MyComponent {"},{type:"added",content:"   *   ..."},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  const coreDirectives : List<Type> ;"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Adds and removes CSS classes based on an {expression} value."},{type:"added",content:"   * "},{type:"added",content:"   * The result of expression is used to add and remove CSS classes using the following logic,"},{type:"added",content:"   * based on expression's value type:"},{type:"added",content:"   * - {string} - all the CSS classes (space - separated) are added"},{type:"added",content:"   * - {Array} - all the CSS classes (Array elements) are added"},{type:"added",content:"   * - {Object} - each key corresponds to a CSS class name while values"},{type:"added",content:"   * are interpreted as {boolean} expression. If a given expression"},{type:"added",content:"   * evaluates to {true} a corresponding CSS class is added - otherwise"},{type:"added",content:"   * it is removed."},{type:"added",content:"   * "},{type:"added",content:"   * # Example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * <div class="message" [class]="{error: errorCount > 0}">'},{type:"added",content:"   *     Please check errors."},{type:"added",content:"   * </div>"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class CSSClass {"},{type:"added",content:"    "},{type:"added",content:"     rawClass: void;"},{type:"added",content:"    "},{type:"added",content:"     onCheck(): void;"},{type:"added",content:"    "},{type:"added",content:"     onDestroy(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * The `NgFor` directive instantiates a template once per item from an iterable. The context for"},{type:"added",content:"   * each instantiated template inherits from the outer context with the given loop variable set"},{type:"added",content:"   * to the current item from the iterable."},{type:"added",content:"   * "},{type:"added",content:"   * It is possible to alias the `index` to a local variable that will be set to the current loop"},{type:"added",content:"   * iteration in the template context."},{type:"added",content:"   * "},{type:"added",content:"   * When the contents of the iterator changes, `NgFor` makes the corresponding changes to the DOM:"},{type:"added",content:"   * "},{type:"added",content:"   * * When an item is added, a new instance of the template is added to the DOM."},{type:"added",content:"   * * When an item is removed, its template instance is removed from the DOM."},{type:"added",content:"   * * When items are reordered, their respective templates are reordered in the DOM."},{type:"added",content:"   * "},{type:"added",content:"   * # Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * <ul>"},{type:"added",content:'   *   <li *ng-for="#error of errors; #i = index">'},{type:"added",content:"   *     Error {{i}} of {{errors.length}}: {{error.message}}"},{type:"added",content:"   *   </li>"},{type:"added",content:"   * </ul>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * # Syntax"},{type:"added",content:"   * "},{type:"added",content:'   * - `<li *ng-for="#item of items; #i = index">...</li>`'},{type:"added",content:'   * - `<li template="ng-for #item of items; #i = index">...</li>`'},{type:"added",content:'   * - `<template ng-for #item [ng-for-of]="items" #i="index"><li>...</li></template>`'},{type:"added",content:"   */"},{type:"added",content:"  class NgFor {"},{type:"added",content:"    "},{type:"added",content:"     viewContainer: ViewContainerRef;"},{type:"added",content:"    "},{type:"added",content:"     templateRef: TemplateRef;"},{type:"added",content:"    "},{type:"added",content:"     pipes: Pipes;"},{type:"added",content:"    "},{type:"added",content:"     cdr: ChangeDetectorRef;"},{type:"added",content:"    "},{type:"added",content:"     ngForOf: void;"},{type:"added",content:"    "},{type:"added",content:"     onCheck(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class RecordViewTuple {"},{type:"added",content:"    "},{type:"added",content:"     view: ViewRef;"},{type:"added",content:"    "},{type:"added",content:"     record: any;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Removes or recreates a portion of the DOM tree based on an {expression}."},{type:"added",content:"   * "},{type:"added",content:"   * If the expression assigned to `ng-if` evaluates to a false value then the element"},{type:"added",content:"   * is removed from the DOM, otherwise a clone of the element is reinserted into the DOM."},{type:"added",content:"   * "},{type:"added",content:"   * # Example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * <div *ng-if="errorCount > 0" class="error">'},{type:"added",content:"   *   <!-- Error message displayed when the errorCount property on the current context is greater"},{type:"added",content:"   * than 0. -->"},{type:"added",content:"   *   {{errorCount}} errors detected"},{type:"added",content:"   * </div>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * # Syntax"},{type:"added",content:"   * "},{type:"added",content:'   * - `<div *ng-if="condition">...</div>`'},{type:"added",content:'   * - `<div template="ng-if condition">...</div>`'},{type:"added",content:'   * - `<template [ng-if]="condition"><div>...</div></template>`'},{type:"added",content:"   */"},{type:"added",content:"  class NgIf {"},{type:"added",content:"    "},{type:"added",content:"     viewContainer: ViewContainerRef;"},{type:"added",content:"    "},{type:"added",content:"     templateRef: TemplateRef;"},{type:"added",content:"    "},{type:"added",content:"     prevCondition: boolean;"},{type:"added",content:"    "},{type:"added",content:"     ngIf: void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * The `NgNonBindable` directive tells Angular not to compile or bind the contents of the current"},{type:"added",content:"   * DOM element. This is useful if the element contains what appears to be Angular directives and"},{type:"added",content:"   * bindings but which should be ignored by Angular. This could be the case if you have a site that"},{type:"added",content:"   * displays snippets of code, for instance."},{type:"added",content:"   * "},{type:"added",content:"   * Example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * <div>Normal: {{1 + 2}}</div> // output "Normal: 3"'},{type:"added",content:'   * <div non-bindable>Ignored: {{1 + 2}}</div> // output "Ignored: {{1 + 2}}"'},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgNonBindable {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Adds or removes styles based on an {expression}."},{type:"added",content:"   * "},{type:"added",content:"   * When the expression assigned to `ng-style` evaluates to an object, the corresponding element"},{type:"added",content:"   * styles are updated. Style names to update are taken from the object keys and values - from the"},{type:"added",content:"   * corresponding object values."},{type:"added",content:"   * "},{type:"added",content:"   * # Example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * <div ng-style=\"{'text-align': alignEpr}\"></div>"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * In the above example the `text-align` style will be updated based on the `alignEpr` value"},{type:"added",content:"   * changes."},{type:"added",content:"   * "},{type:"added",content:"   * # Syntax"},{type:"added",content:"   * "},{type:"added",content:"   * - `<div ng-style=\"{'text-align': alignEpr}\"></div>`"},{type:"added",content:'   * - `<div ng-style="styleExp"></div>`'},{type:"added",content:"   */"},{type:"added",content:"  class NgStyle {"},{type:"added",content:"    "},{type:"added",content:"     rawStyle: void;"},{type:"added",content:"    "},{type:"added",content:"     onCheck(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class SwitchView {"},{type:"added",content:"    "},{type:"added",content:"     create(): void;"},{type:"added",content:"    "},{type:"added",content:"     destroy(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * The `NgSwitch` directive is used to conditionally swap DOM structure on your template based on a"},{type:"added",content:"   * scope expression."},{type:"added",content:"   * Elements within `NgSwitch` but without `NgSwitchWhen` or `NgSwitchDefault` directives will be"},{type:"added",content:"   * preserved at the location as specified in the template."},{type:"added",content:"   * "},{type:"added",content:"   * `NgSwitch` simply chooses nested elements and makes them visible based on which element matches"},{type:"added",content:"   * the value obtained from the evaluated expression. In other words, you define a container element"},{type:"added",content:'   * (where you place the directive), place an expression on the **`[ng-switch]="..."` attribute**),'},{type:"added",content:"   * define any inner elements inside of the directive and place a `[ng-switch-when]` attribute per"},{type:"added",content:"   * element."},{type:"added",content:"   * The when attribute is used to inform NgSwitch which element to display when the expression is"},{type:"added",content:"   * evaluated. If a matching expression is not found via a when attribute then an element with the"},{type:"added",content:"   * default attribute is displayed."},{type:"added",content:"   * "},{type:"added",content:"   * # Example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:'   * <ANY [ng-switch]="expression">'},{type:"added",content:'   *   <template [ng-switch-when]="whenExpression1">...</template>'},{type:"added",content:'   *   <template [ng-switch-when]="whenExpression1">...</template>'},{type:"added",content:"   *   <template ng-switch-default>...</template>"},{type:"added",content:"   * </ANY>"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgSwitch {"},{type:"added",content:"    "},{type:"added",content:"     ngSwitch: void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Defines a case statement as an expression."},{type:"added",content:"   * "},{type:"added",content:"   * If multiple `NgSwitchWhen` match the `NgSwitch` value, all of them are displayed."},{type:"added",content:"   * "},{type:"added",content:"   * Example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * // match against a context variable"},{type:"added",content:'   * <template [ng-switch-when]="contextVariable">...</template>'},{type:"added",content:"   * "},{type:"added",content:"   * // match against a constant string"},{type:"added",content:'   * <template ng-switch-when="stringValue">...</template>'},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgSwitchWhen {"},{type:"added",content:"    "},{type:"added",content:"     onDestroy(): void;"},{type:"added",content:"    "},{type:"added",content:"     ngSwitchWhen: void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Defines a default case statement."},{type:"added",content:"   * "},{type:"added",content:"   * Default case statements are displayed when no `NgSwitchWhen` match the `ng-switch` value."},{type:"added",content:"   * "},{type:"added",content:"   * Example:"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * <template ng-switch-default>...</template>"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class NgSwitchDefault {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Mock Connection to represent a {@link Connection} for tests."},{type:"added",content:"   */"},{type:"added",content:"  class MockConnection {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Describes the state of the connection, based on `XMLHttpRequest.readyState`, but with"},{type:"added",content:"     * additional states. For example, state 5 indicates an aborted connection."},{type:"added",content:"     */"},{type:"added",content:"     readyState: ReadyStates;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * {@link Request} instance used to create the connection."},{type:"added",content:"     */"},{type:"added",content:"     request: Request;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * {@link EventEmitter} of {@link Response}. Can be subscribed to in order to be notified when a"},{type:"added",content:"     * response is available."},{type:"added",content:"     */"},{type:"added",content:"     response: EventEmitter;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Changes the `readyState` of the connection to a custom state of 5 (cancelled)."},{type:"added",content:"     */"},{type:"added",content:"     dispose(): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sends a mock response to the connection. This response is the value that is emitted to the"},{type:"added",content:"     * {@link EventEmitter} returned by {@link Http}."},{type:"added",content:"     * "},{type:"added",content:"     * #Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * var connection;"},{type:"added",content:"     * backend.connections.subscribe(c => connection = c);"},{type:"added",content:"     * http.request('data.json').subscribe(res => console.log(res.text()));"},{type:"added",content:"     * connection.mockRespond(new Response('fake response')); //logs 'fake response'"},{type:"added",content:"     * ```"},{type:"added",content:"     */"},{type:"added",content:"     mockRespond(res: Response): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Not yet implemented!"},{type:"added",content:"     * "},{type:"added",content:"     * Sends the provided {@link Response} to the `downloadObserver` of the `Request`"},{type:"added",content:"     * associated with this connection."},{type:"added",content:"     */"},{type:"added",content:"     mockDownload(res: Response): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Emits the provided error object as an error to the {@link Response} {@link EventEmitter}"},{type:"added",content:"     * returned"},{type:"added",content:"     * from {@link Http}."},{type:"added",content:"     */"},{type:"added",content:"     mockError(err?: Error): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * A mock backend for testing the {@link Http} service."},{type:"added",content:"   * "},{type:"added",content:"   * This class can be injected in tests, and should be used to override bindings"},{type:"added",content:"   * to other backends, such as {@link XHRBackend}."},{type:"added",content:"   * "},{type:"added",content:"   * #Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * import {MockBackend, DefaultOptions, Http} from 'angular2/http';"},{type:"added",content:"   * it('should get some data', inject([AsyncTestCompleter], (async) => {"},{type:"added",content:"   *   var connection;"},{type:"added",content:"   *   var injector = Injector.resolveAndCreate(["},{type:"added",content:"   *     MockBackend,"},{type:"added",content:"   *     bind(Http).toFactory((backend, defaultOptions) => {"},{type:"added",content:"   *       return new Http(backend, defaultOptions)"},{type:"added",content:"   *     }, [MockBackend, DefaultOptions])]);"},{type:"added",content:"   *   var http = injector.get(Http);"},{type:"added",content:"   *   var backend = injector.get(MockBackend);"},{type:"added",content:"   *   //Assign any newly-created connection to local variable"},{type:"added",content:"   *   backend.connections.subscribe(c => connection = c);"},{type:"added",content:"   *   http.request('data.json').subscribe((res) => {"},{type:"added",content:"   *     expect(res.text()).toBe('awesome');"},{type:"added",content:"   *     async.done();"},{type:"added",content:"   *   });"},{type:"added",content:"   *   connection.mockRespond(new Response('awesome'));"},{type:"added",content:"   * }));"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * This method only exists in the mock implementation, not in real Backends."},{type:"added",content:"   */"},{type:"added",content:"  class MockBackend {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * {@link EventEmitter}"},{type:"added",content:"     * of {@link MockConnection} instances that have been created by this backend. Can be subscribed"},{type:"added",content:"     * to in order to respond to connections."},{type:"added",content:"     * "},{type:"added",content:"     * #Example"},{type:"added",content:"     * "},{type:"added",content:"     * ```"},{type:"added",content:"     * import {MockBackend, Http, BaseRequestOptions} from 'angular2/http';"},{type:"added",content:"     * import {Injector} from 'angular2/di';"},{type:"added",content:"     * "},{type:"added",content:"     * it('should get a response', () => {"},{type:"added",content:"     *   var connection; //this will be set when a new connection is emitted from the backend."},{type:"added",content:"     *   var text; //this will be set from mock response"},{type:"added",content:"     *   var injector = Injector.resolveAndCreate(["},{type:"added",content:"     *     MockBackend,"},{type:"added",content:"     *     bind(Http).toFactory(backend, options) {"},{type:"added",content:"     *       return new Http(backend, options);"},{type:"added",content:"     *     }, [MockBackend, BaseRequestOptions]]);"},{type:"added",content:"     *   var backend = injector.get(MockBackend);"},{type:"added",content:"     *   var http = injector.get(Http);"},{type:"added",content:"     *   backend.connections.subscribe(c => connection = c);"},{type:"added",content:"     *   http.request('something.json').subscribe(res => {"},{type:"added",content:"     *     text = res.text();"},{type:"added",content:"     *   });"},{type:"added",content:"     *   connection.mockRespond(new Response({body: 'Something'}));"},{type:"added",content:"     *   expect(text).toBe('Something');"},{type:"added",content:"     * });"},{type:"added",content:"     * ```"},{type:"added",content:"     * "},{type:"added",content:"     * This property only exists in the mock implementation, not in real Backends."},{type:"added",content:"     */"},{type:"added",content:"     connections: EventEmitter;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * An array representation of `connections`. This array will be updated with each connection that"},{type:"added",content:"     * is created by this backend."},{type:"added",content:"     * "},{type:"added",content:"     * This property only exists in the mock implementation, not in real Backends."},{type:"added",content:"     */"},{type:"added",content:"     connectionsArray: Array<MockConnection>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * {@link EventEmitter} of {@link MockConnection} instances that haven't yet been resolved (i.e."},{type:"added",content:"     * with a `readyState`"},{type:"added",content:"     * less than 4). Used internally to verify that no connections are pending via the"},{type:"added",content:"     * `verifyNoPendingRequests` method."},{type:"added",content:"     * "},{type:"added",content:"     * This property only exists in the mock implementation, not in real Backends."},{type:"added",content:"     */"},{type:"added",content:"     pendingConnections: EventEmitter;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Checks all connections, and raises an exception if any connection has not received a response."},{type:"added",content:"     * "},{type:"added",content:"     * This method only exists in the mock implementation, not in real Backends."},{type:"added",content:"     */"},{type:"added",content:"     verifyNoPendingRequests(): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Can be used in conjunction with `verifyNoPendingRequests` to resolve any not-yet-resolve"},{type:"added",content:"     * connections, if it's expected that there are connections that have not yet received a response."},{type:"added",content:"     * "},{type:"added",content:"     * This method only exists in the mock implementation, not in real Backends."},{type:"added",content:"     */"},{type:"added",content:"     resolveAllConnections(): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Creates a new {@link MockConnection}. This is equivalent to calling `new"},{type:"added",content:"     * MockConnection()`, except that it also will emit the new `Connection` to the `connections`"},{type:"added",content:"     * emitter of this `MockBackend` instance. This method will usually only be used by tests"},{type:"added",
content:"     * against the framework itself, not by end-users."},{type:"added",content:"     */"},{type:"added",content:"     createConnection(req: Request): Connection;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Creates `Request` instances from provided values."},{type:"added",content:"   * "},{type:"added",content:"   * The Request's interface is inspired by the Request constructor defined in the [Fetch"},{type:"added",content:"   * Spec](https://fetch.spec.whatwg.org/#request-class),"},{type:"added",content:"   * but is considered a static value whose body can be accessed many times. There are other"},{type:"added",content:"   * differences in the implementation, but this is the most significant."},{type:"added",content:"   */"},{type:"added",content:"  class Request {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Http method with which to perform the request."},{type:"added",content:"     * "},{type:"added",content:"     * Defaults to GET."},{type:"added",content:"     */"},{type:"added",content:"     method: RequestMethods;"},{type:"added",content:"    "},{type:"added",content:"     mode: RequestModesOpts;"},{type:"added",content:"    "},{type:"added",content:"     credentials: RequestCredentialsOpts;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Headers object based on the `Headers` class in the [Fetch"},{type:"added",content:"     * Spec](https://fetch.spec.whatwg.org/#headers-class). {@link Headers} class reference."},{type:"added",content:"     */"},{type:"added",content:"     headers: Headers;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Url of the remote resource"},{type:"added",content:"     */"},{type:"added",content:"     url: string;"},{type:"added",content:"    "},{type:"added",content:"     cache: RequestCacheOpts;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns the request's body as string, assuming that body exists. If body is undefined, return"},{type:"added",content:"     * empty"},{type:"added",content:"     * string."},{type:"added",content:"     */"},{type:"added",content:"     text(): String;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Creates `Response` instances from provided values."},{type:"added",content:"   * "},{type:"added",content:"   * Though this object isn't"},{type:"added",content:"   * usually instantiated by end-users, it is the primary object interacted with when it comes time to"},{type:"added",content:"   * add data to a view."},{type:"added",content:"   * "},{type:"added",content:"   * #Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * http.request('my-friends.txt').subscribe(response => this.friends = response.text());"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:"   * The Response's interface is inspired by the Response constructor defined in the [Fetch"},{type:"added",content:"   * Spec](https://fetch.spec.whatwg.org/#response-class), but is considered a static value whose body"},{type:"added",content:"   * can be accessed many times. There are other differences in the implementation, but this is the"},{type:"added",content:"   * most significant."},{type:"added",content:"   */"},{type:"added",content:"  class Response {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:'     * One of "basic", "cors", "default", "error, or "opaque".'},{type:"added",content:"     * "},{type:"added",content:'     * Defaults to "default".'},{type:"added",content:"     */"},{type:"added",content:"     type: ResponseTypes;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * True if the response's status is within 200-299"},{type:"added",content:"     */"},{type:"added",content:"     ok: boolean;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * URL of response."},{type:"added",content:"     * "},{type:"added",content:"     * Defaults to empty string."},{type:"added",content:"     */"},{type:"added",content:"     url: string;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Status code returned by server."},{type:"added",content:"     * "},{type:"added",content:"     * Defaults to 200."},{type:"added",content:"     */"},{type:"added",content:"     status: number;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Text representing the corresponding reason phrase to the `status`, as defined in [ietf rfc 2616"},{type:"added",content:"     * section 6.1.1](https://tools.ietf.org/html/rfc2616#section-6.1.1)"},{type:"added",content:"     * "},{type:"added",content:'     * Defaults to "OK"'},{type:"added",content:"     */"},{type:"added",content:"     statusText: string;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Non-standard property"},{type:"added",content:"     * "},{type:"added",content:"     * Denotes how many of the response body's bytes have been loaded, for example if the response is"},{type:"added",content:"     * the result of a progress event."},{type:"added",content:"     */"},{type:"added",content:"     bytesLoaded: number;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Non-standard property"},{type:"added",content:"     * "},{type:"added",content:"     * Denotes how many bytes are expected in the final response body."},{type:"added",content:"     */"},{type:"added",content:"     totalBytes: number;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Headers object based on the `Headers` class in the [Fetch"},{type:"added",content:"     * Spec](https://fetch.spec.whatwg.org/#headers-class)."},{type:"added",content:"     */"},{type:"added",content:"     headers: Headers;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Not yet implemented"},{type:"added",content:"     */"},{type:"added",content:"     blob(): any;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Attempts to return body as parsed `JSON` object, or raises an exception."},{type:"added",content:"     */"},{type:"added",content:"     json(): Object;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns the body as a string, presuming `toString()` can be called on the response body."},{type:"added",content:"     */"},{type:"added",content:"     text(): string;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Not yet implemented"},{type:"added",content:"     */"},{type:"added",content:"     arrayBuffer(): any;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Interface for options to construct a Request, based on"},{type:"added",content:"   * [RequestInit](https://fetch.spec.whatwg.org/#requestinit) from the Fetch spec."},{type:"added",content:"   */"},{type:"added",content:"  interface IRequestOptions {"},{type:"added",content:"    "},{type:"added",content:"     url?: string;"},{type:"added",content:"    "},{type:"added",content:"     method?: RequestMethods;"},{type:"added",content:"    "},{type:"added",content:"     headers?: Headers;"},{type:"added",content:"    "},{type:"added",content:"     body?: string;"},{type:"added",content:"    "},{type:"added",content:"     mode?: RequestModesOpts;"},{type:"added",content:"    "},{type:"added",content:"     credentials?: RequestCredentialsOpts;"},{type:"added",content:"    "},{type:"added",content:"     cache?: RequestCacheOpts;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Interface for options to construct a Response, based on"},{type:"added",content:"   * [ResponseInit](https://fetch.spec.whatwg.org/#responseinit) from the Fetch spec."},{type:"added",content:"   */"},{type:"added",content:"  interface IResponseOptions {"},{type:"added",content:"    "},{type:"added",content:"     body?: string | Object | FormData;"},{type:"added",content:"    "},{type:"added",content:"     status?: number;"},{type:"added",content:"    "},{type:"added",content:"     statusText?: string;"},{type:"added",content:"    "},{type:"added",content:"     headers?: Headers;"},{type:"added",content:"    "},{type:"added",content:"     type?: ResponseTypes;"},{type:"added",content:"    "},{type:"added",content:"     url?: string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Abstract class from which real connections are derived."},{type:"added",content:"   */"},{type:"added",content:"  class Connection {"},{type:"added",content:"    "},{type:"added",content:"     readyState: ReadyStates;"},{type:"added",content:"    "},{type:"added",content:"     request: Request;"},{type:"added",content:"    "},{type:"added",content:"     response: EventEmitter;"},{type:"added",content:"    "},{type:"added",content:"     dispose(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Abstract class from which real backends are derived."},{type:"added",content:"   * "},{type:"added",content:"   * The primary purpose of a `ConnectionBackend` is to create new connections to fulfill a given"},{type:"added",content:"   * {@link Request}."},{type:"added",content:"   */"},{type:"added",content:"  class ConnectionBackend {"},{type:"added",content:"    "},{type:"added",content:"     createConnection(request: any): Connection;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Injectable version of {@link RequestOptions}, with overridable default values."},{type:"added",content:"   * "},{type:"added",content:"   * #Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * import {Http, BaseRequestOptions, Request} from 'angular2/http';"},{type:"added",content:"   * ..."},{type:"added",content:"   * class MyComponent {"},{type:"added",content:"   *   constructor(baseRequestOptions:BaseRequestOptions, http:Http) {"},{type:"added",content:"   *     var options = baseRequestOptions.merge({body: 'foobar', url: 'https://foo'});"},{type:"added",content:"   *     var request = new Request(options);"},{type:"added",content:"   *     http.request(request).subscribe(res => this.bars = res.json());"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class BaseRequestOptions extends RequestOptions {"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Creates a request options object similar to the `RequestInit` description"},{type:"added",content:"   * in the [Fetch"},{type:"added",content:"   * Spec](https://fetch.spec.whatwg.org/#requestinit) to be optionally provided when instantiating a"},{type:"added",content:"   * {@link Request}."},{type:"added",content:"   * "},{type:"added",content:"   * All values are null by default."},{type:"added",content:"   */"},{type:"added",content:"  class RequestOptions implements IRequestOptions {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Http method with which to execute the request."},{type:"added",content:"     * "},{type:"added",content:'     * Defaults to "GET".'},{type:"added",content:"     */"},{type:"added",content:"     method: RequestMethods;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Headers object based on the `Headers` class in the [Fetch"},{type:"added",content:"     * Spec](https://fetch.spec.whatwg.org/#headers-class)."},{type:"added",content:"     */"},{type:"added",content:"     headers: Headers;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Body to be used when creating the request."},{type:"added",content:"     */"},{type:"added",content:"     body: string;"},{type:"added",content:"    "},{type:"added",content:"     mode: RequestModesOpts;"},{type:"added",content:"    "},{type:"added",content:"     credentials: RequestCredentialsOpts;"},{type:"added",content:"    "},{type:"added",content:"     cache: RequestCacheOpts;"},{type:"added",content:"    "},{type:"added",content:"     url: string;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Creates a copy of the `RequestOptions` instance, using the optional input as values to override"},{type:"added",content:"     * existing values."},{type:"added",content:"     */"},{type:"added",content:"     merge(options?: IRequestOptions): RequestOptions;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Injectable version of {@link ResponseOptions}, with overridable default values."},{type:"added",content:"   */"},{type:"added",content:"  class BaseResponseOptions extends ResponseOptions {"},{type:"added",content:"    "},{type:"added",content:"     body: string | Object | ArrayBuffer | JSON | FormData | Blob;"},{type:"added",content:"    "},{type:"added",content:"     status: number;"},{type:"added",content:"    "},{type:"added",content:"     headers: Headers;"},{type:"added",content:"    "},{type:"added",content:"     statusText: string;"},{type:"added",content:"    "},{type:"added",content:"     type: ResponseTypes;"},{type:"added",content:"    "},{type:"added",content:"     url: string;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Creates a response options object similar to the"},{type:"added",content:"   * [ResponseInit](https://fetch.spec.whatwg.org/#responseinit) description"},{type:"added",content:"   * in the Fetch"},{type:"added",content:"   * Spec to be optionally provided when instantiating a"},{type:"added",content:"   * {@link Response}."},{type:"added",content:"   * "},{type:"added",content:"   * All values are null by default."},{type:"added",content:"   */"},{type:"added",content:"  class ResponseOptions implements IResponseOptions {"},{type:"added",content:"    "},{type:"added",content:"     body: string | Object;"},{type:"added",content:"    "},{type:"added",content:"     status: number;"},{type:"added",content:"    "},{type:"added",content:"     headers: Headers;"},{type:"added",content:"    "},{type:"added",content:"     statusText: string;"},{type:"added",content:"    "},{type:"added",content:"     type: ResponseTypes;"},{type:"added",content:"    "},{type:"added",content:"     url: string;"},{type:"added",content:"    "},{type:"added",content:"     merge(options?: IResponseOptions): ResponseOptions;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Creates {@link XHRConnection} instances."},{type:"added",content:"   * "},{type:"added",content:"   * This class would typically not be used by end users, but could be"},{type:"added",content:"   * overridden if a different backend implementation should be used,"},{type:"added",content:"   * such as in a node backend."},{type:"added",content:"   * "},{type:"added",content:"   * #Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * import {Http, MyNodeBackend, httpInjectables, BaseRequestOptions} from 'angular2/http';"},{type:"added",content:"   * @Component({"},{type:"added",content:"   *   viewInjector: ["},{type:"added",content:"   *     httpInjectables,"},{type:"added",content:"   *     bind(Http).toFactory((backend, options) => {"},{type:"added",content:"   *       return new Http(backend, options);"},{type:"added",content:"   *     }, [MyNodeBackend, BaseRequestOptions])]"},{type:"added",content:"   * })"},{type:"added",content:"   * class MyComponent {"},{type:"added",content:"   *   constructor(http:Http) {"},{type:"added",content:"   *     http('people.json').subscribe(res => this.people = res.json());"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class XHRBackend implements ConnectionBackend {"},{type:"added",content:"    "},{type:"added",content:"     createConnection(request: Request): XHRConnection;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Creates connections using `XMLHttpRequest`. Given a fully-qualified"},{type:"added",content:"   * request, an `XHRConnection` will immediately create an `XMLHttpRequest` object and send the"},{type:"added",content:"   * request."},{type:"added",content:"   * "},{type:"added",content:"   * This class would typically not be created or interacted with directly inside applications, though"},{type:"added",content:"   * the {@link MockConnection} may be interacted with in tests."},{type:"added",content:"   */"},{type:"added",content:"  class XHRConnection implements Connection {"},{type:"added",content:"    "},{type:"added",content:"     request: Request;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Response {@link EventEmitter} which emits a single {@link Response} value on load event of"},{type:"added",content:"     * `XMLHttpRequest`."},{type:"added",content:"     */"},{type:"added",content:"     response: EventEmitter;"},{type:"added",content:"    "},{type:"added",content:"     readyState: ReadyStates;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Calls abort on the underlying XMLHttpRequest."},{type:"added",content:"     */"},{type:"added",content:"     dispose(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class JSONPBackend implements ConnectionBackend {"},{type:"added",content:"    "},{type:"added",content:"     createConnection(request: Request): JSONPConnection;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class JSONPConnection implements Connection {"},{type:"added",content:"    "},{type:"added",content:"     readyState: ReadyStates;"},{type:"added",content:"    "},{type:"added",content:"     request: Request;"},{type:"added",content:"    "},{type:"added",content:"     response: EventEmitter;"},{type:"added",content:"    "},{type:"added",content:"     baseResponseOptions: ResponseOptions;"},{type:"added",content:"    "},{type:"added",content:"     finished(data?: any): void;"},{type:"added",content:"    "},{type:"added",content:"     dispose(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Performs http requests using `XMLHttpRequest` as the default backend."},{type:"added",content:"   * "},{type:"added",content:"   * `Http` is available as an injectable class, with methods to perform http requests. Calling"},{type:"added",content:"   * `request` returns an {@link EventEmitter} which will emit a single {@link Response} when a"},{type:"added",content:"   * response is received."},{type:"added",content:"   * "},{type:"added",content:"   * "},{type:"added",content:"   * ## Breaking Change"},{type:"added",content:"   * "},{type:"added",content:"   * Previously, methods of `Http` would return an RxJS Observable directly. For now,"},{type:"added",content:"   * the `toRx()` method of {@link EventEmitter} needs to be called in order to get the RxJS"},{type:"added",content:"   * Subject. `EventEmitter` does not provide combinators like `map`, and has different semantics for"},{type:"added",content:"   * subscribing/observing. This is temporary; the result of all `Http` method calls will be either an"},{type:"added",content:"   * Observable"},{type:"added",content:"   * or Dart Stream when [issue #2794](https://github.com/angular/angular/issues/2794) is resolved."},{type:"added",content:"   * "},{type:"added",content:"   * #Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * import {Http, httpInjectables} from 'angular2/http';"},{type:"added",content:"   * @Component({selector: 'http-app', viewInjector: [httpInjectables]})"},{type:"added",content:"   * @View({templateUrl: 'people.html'})"},{type:"added",content:"   * class PeopleComponent {"},{type:"added",content:"   *   constructor(http: Http) {"},{type:"added",content:"   *     http.get('people.json')"},{type:"added",content:"   *       //Get the RxJS Subject"},{type:"added",content:"   *       .toRx()"},{type:"added",content:"   *       // Call map on the response observable to get the parsed people object"},{type:"added",content:"   *       .map(res => res.json())"},{type:"added",content:"   *       // Subscribe to the observable to get the parsed people object and attach it to the"},{type:"added",content:"   *       // component"},{type:"added",content:"   *       .subscribe(people => this.people = people);"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:'   * To use the {@link EventEmitter} returned by `Http`, simply pass a generator (See "interface'},{type:"added",content:'   * Generator" in the Async Generator spec: https://github.com/jhusain/asyncgenerator) to the'},{type:"added",content:"   * `observer` method of the returned emitter, with optional methods of `next`, `throw`, and `return`."},{type:"added",content:"   * "},{type:"added",content:"   * #Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * http.get('people.json').observer({next: (value) => this.people = people});"},{type:"added",content:"   * ```"},{type:"added",content:"   * "},{type:"added",content:'   * The default construct used to perform requests, `XMLHttpRequest`, is abstracted as a "Backend" ('},{type:"added",content:"   * {@link XHRBackend} in this case), which could be mocked with dependency injection by replacing"},{type:"added",content:"   * the {@link XHRBackend} binding, as in the following example:"},{type:"added",content:"   * "},{type:"added",content:"   * #Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * import {MockBackend, BaseRequestOptions, Http} from 'angular2/http';"},{type:"added",content:"   * var injector = Injector.resolveAndCreate(["},{type:"added",content:"   *   BaseRequestOptions,"},{type:"added",content:"   *   MockBackend,"},{type:"added",content:"   *   bind(Http).toFactory("},{type:"added",content:"   *       function(backend, defaultOptions) {"},{type:"added",content:"   *         return new Http(backend, defaultOptions);"},{type:"added",content:"   *       },"},{type:"added",content:"   *       [MockBackend, BaseRequestOptions])"},{type:"added",content:"   * ]);"},{type:"added",content:"   * var http = injector.get(Http);"},{type:"added",content:"   * http.get('request-from-mock-backend.json').toRx().subscribe((res:Response) => doSomething(res));"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  class Http {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Performs any type of http request. First argument is required, and can either be a url or"},{type:"added",content:"     * a {@link Request} instance. If the first argument is a url, an optional {@link RequestOptions}"},{type:"added",content:"     * object can be provided as the 2nd argument. The options object will be merged with the values"},{type:"added",content:"     * of {@link BaseRequestOptions} before performing the request."},{type:"added",content:"     */"},{type:"added",content:"     request(url: string | Request, options?: IRequestOptions): EventEmitter;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Performs a request with `get` http method."},{type:"added",content:"     */"},{type:"added",content:"     get(url: string, options?: IRequestOptions): EventEmitter;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Performs a request with `post` http method."},{type:"added",content:"     */"},{type:"added",content:"     post(url: string, body: string, options?: IRequestOptions): EventEmitter;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Performs a request with `put` http method."},{type:"added",content:"     */"},{type:"added",content:"     put(url: string, body: string, options?: IRequestOptions): EventEmitter;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Performs a request with `delete` http method."},{type:"added",content:"     */"},{type:"added",content:"     delete(url: string, options?: IRequestOptions): EventEmitter;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Performs a request with `patch` http method."},{type:"added",content:"     */"},{type:"added",content:"     patch(url: string, body: string, options?: IRequestOptions): EventEmitter;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Performs a request with `head` http method."},{type:"added",content:"     */"},{type:"added",content:"     head(url: string, options?: IRequestOptions): EventEmitter;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:"  class Jsonp extends Http {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Performs any type of http request. First argument is required, and can either be a url or"},{type:"added",content:"     * a {@link Request} instance. If the first argument is a url, an optional {@link RequestOptions}"},{type:"added",content:"     * object can be provided as the 2nd argument. The options object will be merged with the values"},{type:"added",content:"     * of {@link BaseRequestOptions} before performing the request."},{type:"added",content:"     */"},{type:"added",content:"     request(url: string | Request, options?: IRequestOptions): EventEmitter;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Polyfill for [Headers](https://developer.mozilla.org/en-US/docs/Web/API/Headers/Headers), as"},{type:"added",content:"   * specified in the [Fetch Spec](https://fetch.spec.whatwg.org/#headers-class). The only known"},{type:"added",content:"   * difference from the spec is the lack of an `entries` method."},{type:"added",content:"   */"},{type:"added",content:"  class Headers {"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Appends a header to existing list of header values for a given header name."},{type:"added",content:"     */"},{type:"added",content:"     append(name: string, value: string): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Deletes all header values for the given name."},{type:"added",content:"     */"},{type:"added",content:"     delete(name: string): void;"},{type:"added",content:"    "},{type:"added",content:"     forEach(fn: Function): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns first header that matches given name."},{type:"added",content:"     */"},{type:"added",content:"     get(header: string): string;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Check for existence of header by given name."},{type:"added",content:"     */"},{type:"added",content:"     has(header: string): boolean;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Provides names of set headers"},{type:"added",content:"     */"},{type:"added",content:"     keys(): List<string>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Sets or overrides header value for given name."},{type:"added",content:"     */"},{type:"added",content:"     set(header: string, value: string | List<string>): void;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns values of all headers."},{type:"added",content:"     */"},{type:"added",content:"     values(): List<List<string>>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * Returns list of header values for a given name."},{type:"added",content:"     */"},{type:"added",content:"     getAll(header: string): Array<string>;"},{type:"added",content:"    "},{type:"added",content:""},{type:"added",content:"    /**"},{type:"added",content:"     * This method is not implemented."},{type:"added",content:"     */"},{type:"added",content:"     entries(): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Acceptable response types to be associated with a {@link Response}, based on"},{type:"added",content:"   * [ResponseType](https://fetch.spec.whatwg.org/#responsetype) from the Fetch spec."},{type:"added",content:"   */"},{type:"added",content:"  enum ResponseTypes {"},{type:"added",content:"    Basic,"},{type:"added",content:"    Cors,"},{type:"added",content:"    Default,"},{type:"added",content:"    Error,"},{type:"added",content:"    Opaque"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * All possible states in which a connection can be, based on"},{type:"added",content:"   * [States](http://www.w3.org/TR/XMLHttpRequest/#states) from the `XMLHttpRequest` spec, but with an"},{type:"added",content:'   * additional "CANCELLED" state.'},{type:"added",content:"   */"
},{type:"added",content:"  enum ReadyStates {"},{type:"added",content:"    UNSENT,"},{type:"added",content:"    OPEN,"},{type:"added",content:"    HEADERS_RECEIVED,"},{type:"added",content:"    LOADING,"},{type:"added",content:"    DONE,"},{type:"added",content:"    CANCELLED"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Supported http methods."},{type:"added",content:"   */"},{type:"added",content:"  enum RequestMethods {"},{type:"added",content:"    GET,"},{type:"added",content:"    POST,"},{type:"added",content:"    PUT,"},{type:"added",content:"    DELETE,"},{type:"added",content:"    OPTIONS,"},{type:"added",content:"    HEAD,"},{type:"added",content:"    PATCH"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Acceptable credentials option to be associated with a {@link Request}, based on"},{type:"added",content:"   * [RequestCredentials](https://fetch.spec.whatwg.org/#requestcredentials) from the Fetch spec."},{type:"added",content:"   */"},{type:"added",content:"  enum RequestCredentialsOpts {"},{type:"added",content:"    Omit,"},{type:"added",content:"    SameOrigin,"},{type:"added",content:"    Include"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Acceptable cache option to be associated with a {@link Request}, based on"},{type:"added",content:"   * [RequestCache](https://fetch.spec.whatwg.org/#requestcache) from the Fetch spec."},{type:"added",content:"   */"},{type:"added",content:"  enum RequestCacheOpts {"},{type:"added",content:"    Default,"},{type:"added",content:"    NoStore,"},{type:"added",content:"    Reload,"},{type:"added",content:"    NoCache,"},{type:"added",content:"    ForceCache,"},{type:"added",content:"    OnlyIfCached"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Acceptable origin modes to be associated with a {@link Request}, based on"},{type:"added",content:"   * [RequestMode](https://fetch.spec.whatwg.org/#requestmode) from the Fetch spec."},{type:"added",content:"   */"},{type:"added",content:"  enum RequestModesOpts {"},{type:"added",content:"    Cors,"},{type:"added",content:"    NoCors,"},{type:"added",content:"    SameOrigin"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Map-like representation of url search parameters, based on"},{type:"added",content:"   * [URLSearchParams](https://url.spec.whatwg.org/#urlsearchparams) in the url living standard."},{type:"added",content:"   */"},{type:"added",content:"  class URLSearchParams {"},{type:"added",content:"    "},{type:"added",content:"     paramsMap: Map<string, List<string>>;"},{type:"added",content:"    "},{type:"added",content:"     rawParams: string;"},{type:"added",content:"    "},{type:"added",content:"     has(param: string): boolean;"},{type:"added",content:"    "},{type:"added",content:"     get(param: string): string;"},{type:"added",content:"    "},{type:"added",content:"     getAll(param: string): List<string>;"},{type:"added",content:"    "},{type:"added",content:"     append(param: string, val: string): void;"},{type:"added",content:"    "},{type:"added",content:"     toString(): string;"},{type:"added",content:"    "},{type:"added",content:"     delete(param: string): void;"},{type:"added",content:"  }"},{type:"added",content:"  "},{type:"added",content:""},{type:"added",content:"  /**"},{type:"added",content:"   * Provides a basic set of injectables to use the {@link Http} service in any application."},{type:"added",content:"   * "},{type:"added",content:"   * #Example"},{type:"added",content:"   * "},{type:"added",content:"   * ```"},{type:"added",content:"   * import {httpInjectables, Http} from 'angular2/http';"},{type:"added",content:"   * @Component({selector: 'http-app', viewInjector: [httpInjectables]})"},{type:"added",content:"   * @View({template: '{{data}}'})"},{type:"added",content:"   * class MyApp {"},{type:"added",content:"   *   constructor(http:Http) {"},{type:"added",content:"   *     http.request('data.txt').subscribe(res => this.data = res.text());"},{type:"added",content:"   *   }"},{type:"added",content:"   * }"},{type:"added",content:"   * ```"},{type:"added",content:"   */"},{type:"added",content:"  var httpInjectables : List<any> ;"},{type:"added",content:"  "},{type:"added",content:"  var jsonpInjectables : List<any> ;"},{type:"added",content:"  "},{type:"added",content:"  var ApplicationRef: InjectableReference;"},{type:"added",content:"  "},{type:"added",content:"  var Compiler: InjectableReference;"},{type:"added",content:"  "},{type:"added",content:"  var AppViewManager: InjectableReference;"},{type:"added",content:"  "},{type:"added",content:"  var ProtoViewRef: InjectableReference;"},{type:"added",content:"  "},{type:"added",content:"  var Key: InjectableReference;"},{type:"added",content:"  "},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:""},{type:"added",content:""},{type:"added",content:'declare module "angular2/angular2" {'},{type:"added",content:"  export = ng;"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:6043}}}],"typings/es6-promise/es6-promise.d.ts":[{lines:[{type:"added",content:"// Type definitions for es6-promise"},{type:"added",content:"// Project: https://github.com/jakearchibald/ES6-Promise"},{type:"added",content:"// Definitions by: François de Campredon <https://github.com/fdecampredon/>, vvakame <https://github.com/vvakame>"},{type:"added",content:"// Definitions: https://github.com/borisyankov/DefinitelyTyped"},{type:"added",content:""},{type:"added",content:"interface Thenable<R> {"},{type:"added",content:"    then<U>(onFulfilled?: (value: R) => U | Thenable<U>, onRejected?: (error: any) => U | Thenable<U>): Thenable<U>;"},{type:"added",content:"    then<U>(onFulfilled?: (value: R) => U | Thenable<U>, onRejected?: (error: any) => void): Thenable<U>;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare class Promise<R> implements Thenable<R> {"},{type:"added",content:"	/**"},{type:"added",content:"	 * If you call resolve in the body of the callback passed to the constructor,"},{type:"added",content:"	 * your promise is fulfilled with result object passed to resolve."},{type:"added",content:"	 * If you call reject your promise is rejected with the object passed to resolve."},{type:"added",content:"	 * For consistency and debugging (eg stack traces), obj should be an instanceof Error."},{type:"added",content:"	 * Any errors thrown in the constructor callback will be implicitly passed to reject()."},{type:"added",content:"	 */"},{type:"added",content:"	constructor(callback: (resolve : (value?: R | Thenable<R>) => void, reject: (error?: any) => void) => void);"},{type:"added",content:""},{type:"added",content:"	/**"},{type:"added",content:'	 * onFulfilled is called when/if "promise" resolves. onRejected is called when/if "promise" rejects.'},{type:"added",content:"	 * Both are optional, if either/both are omitted the next onFulfilled/onRejected in the chain is called."},{type:"added",content:"	 * Both callbacks have a single parameter , the fulfillment value or rejection reason."},{type:"added",content:'	 * "then" returns a new promise equivalent to the value you return from onFulfilled/onRejected after being passed through Promise.resolve.'},{type:"added",content:"	 * If an error is thrown in the callback, the returned promise rejects with that error."},{type:"added",content:"	 *"},{type:"added",content:'	 * @param onFulfilled called when/if "promise" resolves'},{type:"added",content:'	 * @param onRejected called when/if "promise" rejects'},{type:"added",content:"	 */"},{type:"added",content:"    then<U>(onFulfilled?: (value: R) => U | Thenable<U>, onRejected?: (error: any) => U | Thenable<U>): Promise<U>;"},{type:"added",content:"    then<U>(onFulfilled?: (value: R) => U | Thenable<U>, onRejected?: (error: any) => void): Promise<U>;"},{type:"added",content:""},{type:"added",content:"	/**"},{type:"added",content:"	 * Sugar for promise.then(undefined, onRejected)"},{type:"added",content:"	 *"},{type:"added",content:'	 * @param onRejected called when/if "promise" rejects'},{type:"added",content:"	 */"},{type:"added",content:"	catch<U>(onRejected?: (error: any) => U | Thenable<U>): Promise<U>;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Promise {"},{type:"added",content:"	/**"},{type:"added",content:"	 * Make a new promise from the thenable."},{type:"added",content:'	 * A thenable is promise-like in as far as it has a "then" method.'},{type:"added",content:"	 */"},{type:"added",content:"	function resolve<R>(value?: R | Thenable<R>): Promise<R>;"},{type:"added",content:""},{type:"added",content:"	/**"},{type:"added",content:"	 * Make a promise that rejects to obj. For consistency and debugging (eg stack traces), obj should be an instanceof Error"},{type:"added",content:"	 */"},{type:"added",content:"	function reject(error: any): Promise<any>;"},{type:"added",content:""},{type:"added",content:"	/**"},{type:"added",content:"	 * Make a promise that fulfills when every item in the array fulfills, and rejects if (and when) any item rejects."},{type:"added",content:"	 * the array passed to all can be a mixture of promise-like objects and other objects."},{type:"added",content:"	 * The fulfillment value is an array (in order) of fulfillment values. The rejection value is the first rejection value."},{type:"added",content:"	 */"},{type:"added",content:"	function all<R>(promises: (R | Thenable<R>)[]): Promise<R[]>;"},{type:"added",content:""},{type:"added",content:"	/**"},{type:"added",content:"	 * Make a Promise that fulfills when any item fulfills, and rejects if any item rejects."},{type:"added",content:"	 */"},{type:"added",content:"	function race<R>(promises: (R | Thenable<R>)[]): Promise<R>;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module 'es6-promise' {"},{type:"added",content:"	var foo: typeof Promise; // Temp variable to reference Promise in local context"},{type:"added",content:"	module rsvp {"},{type:"added",content:"		export var Promise: typeof foo;"},{type:"added",content:"	}"},{type:"added",content:"	export = rsvp;"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:73}}}],"typings/meteor/meteor.d.ts":[{lines:[{type:"added",content:"// Type definitions for Meteor 1.1.0.1"},{type:"added",content:"// Project: http://www.meteor.com/"},{type:"added",content:"// Definitions by: Dave Allen <https://github.com/fullflavedave>"},{type:"added",content:"// Definitions: https://github.com/borisyankov/DefinitelyTyped"},{type:"added",content:""},{type:"added",content:"/**"},{type:"added",content:" * These are the modules and interfaces that can't be automatically generated from the Meteor data.js file"},{type:"added",content:" */"},{type:"added",content:""},{type:"added",content:"interface EJSONable {"},{type:"added",content:"	[key: string]: number | string | boolean | Object | number[] | string[] | Object[] | Date | Uint8Array | EJSON.CustomType;"},{type:"added",content:"}"},{type:"added",content:"interface JSONable {"},{type:"added",content:"	[key: string]: number | string | boolean | Object | number[] | string[] | Object[];"},{type:"added",content:"}"},{type:"added",content:"interface EJSON extends EJSONable {}"},{type:"added",content:""},{type:"added",content:"declare module Match {"},{type:"added",content:"	var Any:any;"},{type:"added",content:"	var String:any;"},{type:"added",content:"	var Integer:any;"},{type:"added",content:"	var Boolean:any;"},{type:"added",content:"	var undefined:any;"},{type:"added",content:"	//function null();  // not allowed in TypeScript"},{type:"added",content:"	var Object:any;"},{type:"added",content:"	function Optional(pattern:any):boolean;"},{type:"added",content:"	function ObjectIncluding(dico:any):boolean;"},{type:"added",content:"	function OneOf(...patterns:any[]):any;"},{type:"added",content:"	function Where(condition:any):any;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Meteor {"},{type:"added",content:"	/** Start definitions for Template **/"},{type:"added",content:"	interface Event {"},{type:"added",content:"		type:string;"},{type:"added",content:"		target:HTMLElement;"},{type:"added",content:"		currentTarget:HTMLElement;"},{type:"added",content:"		which: number;"},{type:"added",content:"		stopPropagation():void;"},{type:"added",content:"		stopImmediatePropagation():void;"},{type:"added",content:"		preventDefault():void;"},{type:"added",content:"		isPropagationStopped():boolean;"},{type:"added",content:"		isImmediatePropagationStopped():boolean;"},{type:"added",content:"		isDefaultPrevented():boolean;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface EventHandlerFunction extends Function {"},{type:"added",content:"		(event?:Meteor.Event):void;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface EventMap {"},{type:"added",content:"		[id:string]:Meteor.EventHandlerFunction;"},{type:"added",content:"	}"},{type:"added",content:"	/** End definitions for Template **/"},{type:"added",content:""},{type:"added",content:"	interface LoginWithExternalServiceOptions {"},{type:"added",content:"		requestPermissions?: string[];"},{type:"added",content:"		requestOfflineToken?: Boolean;"},{type:"added",content:"		forceApprovalPrompt?: Boolean;"},{type:"added",content:"		userEmail?: string;"},{type:"added",content:"		loginStyle?: string;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	function loginWithMeteorDeveloperAccount(options?: Meteor.LoginWithExternalServiceOptions, callback?: Function): void;"},{type:"added",content:"	function loginWithFacebook(options?: Meteor.LoginWithExternalServiceOptions, callback?: Function): void;"},{type:"added",content:"	function loginWithGithub(options?: Meteor.LoginWithExternalServiceOptions, callback?: Function): void;"},{type:"added",content:"	function loginWithGoogle(options?: Meteor.LoginWithExternalServiceOptions, callback?: Function): void;"},{type:"added",content:"	function loginWithMeetup(options?: Meteor.LoginWithExternalServiceOptions, callback?: Function): void;"},{type:"added",content:"	function loginWithTwitter(options?: Meteor.LoginWithExternalServiceOptions, callback?: Function): void;"},{type:"added",content:"	function loginWithWeibo(options?: Meteor.LoginWithExternalServiceOptions, callback?: Function): void;"},{type:"added",content:""},{type:"added",content:"	interface UserEmail {"},{type:"added",content:"		address:string;"},{type:"added",content:"		verified:boolean;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface User {"},{type:"added",content:"		_id?:string;"},{type:"added",content:"		username?:string;"},{type:"added",content:"		emails?:Meteor.UserEmail[];"},{type:"added",content:"		createdAt?: number;"},{type:"added",content:"		profile?: any;"},{type:"added",content:"		services?: any;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface SubscriptionHandle {"},{type:"added",content:"		stop(): void;"},{type:"added",content:"		ready(): boolean;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface Tinytest {"},{type:"added",content:"		add(name:string, func:Function):any;"},{type:"added",content:"		addAsync(name:string, func:Function):any;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	enum StatusEnum {"},{type:"added",content:"		connected,"},{type:"added",content:"		connecting,"},{type:"added",content:"		failed,"},{type:"added",content:"		waiting,"},{type:"added",content:"		offline"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface LiveQueryHandle {"},{type:"added",content:"		stop(): void;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface EmailFields {"},{type:"added",content:"		subject?: Function;"},{type:"added",content:"		text?: Function;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface EmailTemplates {"},{type:"added",content:"		from: string;"},{type:"added",content:"		siteName: string;"},{type:"added",content:"		resetPassword: Meteor.EmailFields;"},{type:"added",content:"		enrollAccount:  Meteor.EmailFields;"},{type:"added",content:"		verifyEmail:  Meteor.EmailFields;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface Error {"},{type:"added",content:"		error: number;"},{type:"added",content:"		reason?: string;"},{type:"added",content:"		details?: string;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface Connection {"},{type:"added",content:"		id: string;"},{type:"added",content:"		close: Function;"},{type:"added",content:"		onClose: Function;"},{type:"added",content:"		clientAddress: string;"},{type:"added",content:"		httpHeaders: Object;"},{type:"added",content:"	}"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Mongo {"},{type:"added",content:"	interface Selector extends Object {}"},{type:"added",content:"	interface Modifier {}"},{type:"added",content:"	interface SortSpecifier {}"},{type:"added",content:"	interface FieldSpecifier {"},{type:"added",content:"		[id: string]: Number;"},{type:"added",content:"	}"},{type:"added",content:"	enum IdGenerationEnum {"},{type:"added",content:"		STRING,"},{type:"added",content:"		MONGO"},{type:"added",content:"	}"},{type:"added",content:"	interface AllowDenyOptions {"},{type:"added",content:"		insert?: (userId:string, doc:any) => boolean;"},{type:"added",content:"		update?: (userId:string, doc:any, fieldNames:string[], modifier:any) => boolean;"},{type:"added",content:"		remove?: (userId:string, doc:any) => boolean;"},{type:"added",content:"		fetch?: string[];"},{type:"added",content:"		transform?: Function;"},{type:"added",content:"	}"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module HTTP {"},{type:"added",content:""},{type:"added",content:"	interface HTTPRequest {"},{type:"added",content:"		content?:string;"},{type:"added",content:"		data?:any;"},{type:"added",content:"		query?:string;"},{type:"added",content:"		params?:{[id:string]:string};"},{type:"added",content:"		auth?:string;"},{type:"added",content:"		headers?:{[id:string]:string};"},{type:"added",content:"		timeout?:number;"},{type:"added",content:"		followRedirects?:boolean;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface HTTPResponse {"},{type:"added",content:"		statusCode?:number;"},{type:"added",content:"		headers?:{[id:string]: string};"},{type:"added",content:"		content?:string;"},{type:"added",content:"		data?:any;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	function call(method: string, url: string, options?: HTTP.HTTPRequest, asyncCallback?:Function):HTTP.HTTPResponse;"},{type:"added",content:"	function del(url: string, callOptions?: HTTP.HTTPRequest, asyncCallback?: Function): HTTP.HTTPResponse;"},{type:"added",content:"	function get(url: string, callOptions?: HTTP.HTTPRequest, asyncCallback?: Function): HTTP.HTTPResponse;"},{type:"added",content:"	function post(url: string, callOptions?: HTTP.HTTPRequest, asyncCallback?: Function): HTTP.HTTPResponse;"},{type:"added",content:"	function put(url: string, callOptions?: HTTP.HTTPRequest, asyncCallback?: Function): HTTP.HTTPResponse;"},{type:"added",content:""},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Email {"},{type:"added",content:"	interface EmailMessage {"},{type:"added",content:"		from: string;"},{type:"added",content:"		to: string|string[];"},{type:"added",content:"		cc?: string|string[];"},{type:"added",content:"		bcc?: string|string[];"},{type:"added",content:"		replyTo?: string|string[];"},{type:"added",content:"		subject: string;"},{type:"added",content:"		text?: string;"},{type:"added",content:"		html?: string;"},{type:"added",content:"		headers?: {[id: string]: string};"},{type:"added",content:"	}"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module DDP {"},{type:"added",content:"	interface DDPStatic {"},{type:"added",content:"		subscribe(name:string, ...rest:any[]):void;"},{type:"added",content:"		call(method:string, ...parameters:any[]):void;"},{type:"added",content:"		apply(method:string, ...parameters:any[]):void;"},{type:"added",content:"		methods(IMeteorMethodsDictionary:any):any;"},{type:"added",content:"		status():DDPStatus;"},{type:"added",content:"		reconnect():void;"},{type:"added",content:"		disconnect():void;"},{type:"added",content:"		onReconnect():void;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface DDPStatus {"},{type:"added",content:"		connected: boolean;"},{type:"added",content:"		status: Meteor.StatusEnum;"},{type:"added",content:"		retryCount: number;"},{type:"added",content:"		//To turn this into an interval until the next reconnection, use retryTime - (new Date()).getTime()"},{type:"added",content:"		retryTime?: number;"},{type:"added",content:"		reason?: string;"},{type:"added",content:"	}"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Random {"},{type:"added",content:"	function id(numberOfChars?: number): string;"},{type:"added",content:"	function secret(numberOfChars?: number): string;"},{type:"added",content:"	function fraction():number;"},{type:"added",content:"	function hexString(numberOfDigits:number):string; // @param numberOfDigits, @returns a random hex string of the given length"},{type:"added",content:"	function choice(array:any[]):string; // @param array, @return a random element in array"},{type:"added",content:"	function choice(str:string):string; // @param str, @return a random char in str"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Blaze {"},{type:"added",content:"	interface View {"},{type:"added",content:"		name: string;"},{type:"added",content:"		parentView: Blaze.View;"},{type:"added",content:"		isCreated: boolean;"},{type:"added",content:"		isRendered: boolean;"},{type:"added",content:"		isDestroyed: boolean;"},{type:"added",content:"		renderCount: number;"},{type:"added",content:"		autorun(runFunc: Function): void;"},{type:"added",content:"		onViewCreated(func: Function): void;"},{type:"added",content:"		onViewReady(func: Function): void;"},{type:"added",content:"		onViewDestroyed(func: Function): void;"},{type:"added",content:"		firstNode(): Node;"},{type:"added",content:"		lastNode(): Node;"},{type:"added",content:"		template: Blaze.Template;"},{type:"added",content:"		templateInstance(): any;"},{type:"added",content:"	}"},{type:"added",content:"	interface Template {"},{type:"added",content:"		viewName: string;"},{type:"added",content:"		renderFunction: Function;"},{type:"added",content:"		constructView(): Blaze.View;"},{type:"added",content:"	}"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module BrowserPolicy {"},{type:"added",content:""},{type:"added",content:"	interface framing {"},{type:"added",content:"		disallow():void;"},{type:"added",content:"		restrictToOrigin(origin:string):void;"},{type:"added",content:"		allowAll():void;"},{type:"added",content:"	}"},{type:"added",content:"	interface content {"},{type:"added",content:"		allowEval():void;"},{type:"added",content:"		allowInlineStyles():void;"},{type:"added",content:"		allowInlineScripts():void;"},{type:"added",content:"		allowSameOriginForAll():void;"},{type:"added",content:"		allowDataUrlForAll():void;"},{type:"added",content:"		allowOriginForAll(origin:string):void;"},{type:"added",content:"		allowImageOrigin(origin:string):void;"},{type:"added",content:"		allowFrameOrigin(origin:string):void;"},{type:"added",content:"		allowContentTypeSniffing():void;"},{type:"added",content:"		allowAllContentOrigin():void;"},{type:"added",content:"		allowAllContentDataUrl():void;"},{type:"added",content:"		allowAllContentSameOrigin():void;"},{type:"added",content:""},{type:"added",content:"		disallowAll():void;"},{type:"added",content:"		disallowInlineStyles():void;"},{type:"added",content:"		disallowEval():void;"},{type:"added",content:"		disallowInlineScripts():void;"},{type:"added",content:"		disallowFont():void;"},{type:"added",content:"		disallowObject():void;"},{type:"added",content:"		disallowAllContent():void;"},{type:"added",content:"		//TODO: add the basic content types"},{type:"added",content:"		// allow<content type>Origin(origin)"},{type:"added",content:"		// allow<content type>DataUrl()"},{type:"added",content:"		// allow<content type>SameOrigin()"},{type:"added",content:"		// disallow<content type>()"},{type:"added",content:"	}"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Tracker {"},{type:"added",content:"	export var ComputationFunction: (computation: Tracker.Computation) => void;"},{type:"added",content:""},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare var IterationCallback: <T>(doc: T, index: number, cursor: Mongo.Cursor<T>) => void;"},{type:"added",content:""},{type:"added",content:"/**"},{type:"added",content:" * These modules and interfaces are automatically generated from the Meteor api.js file"},{type:"added",content:" */"},{type:"added",content:"declare module Accounts {"},{type:"added",content:"	function changePassword(oldPassword: string, newPassword: string, callback?: Function): void;"},{type:"added",content:"	function config(options: {"},{type:"added",content:"		sendVerificationEmail?: boolean;"},{type:"added",content:"		forbidClientAccountCreation?: boolean;"},{type:"added",content:"		restrictCreationByEmailDomain?: string | Function;"},{type:"added",content:"		loginExpirationInDays?: number;"},{type:"added",content:"		oauthSecretKey?: string;"},{type:"added",content:"	}): void;"},{type:"added",content:"	function createUser(options: {"},{type:"added",content:"		username?: string;"},{type:"added",content:"		email?: string;"},{type:"added",content:"		password?: string;"},{type:"added",content:"		profile?: Object;"},{type:"added",content:"	}, callback?: Function): string;"},{type:"added",content:"	var emailTemplates: Meteor.EmailTemplates;"},{type:"added",content:"	function forgotPassword(options: {"},{type:"added",content:"		email?: string;"},{type:"added",content:"	}, callback?: Function): void;"},{type:"added",content:"	function onCreateUser(func: Function): void;"},{type:"added",content:"	function onEmailVerificationLink(callback: Function): void;"},{type:"added",content:"	function onEnrollmentLink(callback: Function): void;"},{type:"added",content:"	function onLogin(func: Function): {stop: Function};"},{type:"added",content:"	function onLoginFailure(func: Function): {stop: Function};"},{type:"added",content:"	function onResetPasswordLink(callback: Function): void;"},{type:"added",content:"	function resetPassword(token: string, newPassword: string, callback?: Function): void;"},{type:"added",content:"	function sendEnrollmentEmail(userId: string, email?: string): void;"},{type:"added",content:"	function sendResetPasswordEmail(userId: string, email?: string): void;"},{type:"added",content:"	function sendVerificationEmail(userId: string, email?: string): void;"},{type:"added",content:"	function setPassword(userId: string, newPassword: string, options?: {"},{type:"added",content:"		logout?: Object;"},{type:"added",content:"	}): void;"},{type:"added",content:"	var ui: {"},{type:"added",content:"		config(options: {"},{type:"added",content:"			requestPermissions?: Object;"},{type:"added",content:"			requestOfflineToken?: Object;"},{type:"added",content:"			forceApprovalPrompt?: Object;"},{type:"added",content:"			passwordSignupFields?: string;"},{type:"added",content:"		}): void;"},{type:"added",content:"	};"},{type:"added",content:"	function validateLoginAttempt(func: Function): {stop: Function};"},{type:"added",content:"	function validateNewUser(func: Function): void;"},{type:"added",content:"	function verifyEmail(token: string, callback?: Function): void;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module App {"},{type:"added",content:"	function accessRule(domainRule: string, options?: {"},{type:"added",content:"		launchExternal?: boolean;"},{type:"added",content:"	}):any; /** TODO: add return value **/"},{type:"added",content:"function configurePlugin(pluginName: string, config: Object): void;"},{type:"added",content:"	function icons(icons: Object): void;"},{type:"added",content:"	function info(options: {"},{type:"added",content:"		id?: string;"},{type:"added",content:"		version?: string;"},{type:"added",content:"		name?: string;"},{type:"added",content:"		description?: string;"},{type:"added",content:"		author?: string;"},{type:"added",content:"		email?: string;"},{type:"added",content:"		website?: string;"},{type:"added",content:"	}): void;"},{type:"added",content:"	function launchScreens(launchScreens: Object): void;"},{type:"added",content:"	function setPreference(name: string, value: string): void;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Assets {"},{type:"added",content:"	function getBinary(assetPath: string, asyncCallback?: Function): EJSON;"},{type:"added",content:"	function getText(assetPath: string, asyncCallback?: Function): string;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Blaze {"},{type:"added",content:"	function Each(argFunc: Function, contentFunc: Function, elseFunc?: Function): Blaze.View;"},{type:"added",content:"	function If(conditionFunc: Function, contentFunc: Function, elseFunc?: Function): Blaze.View;"},{type:"added",content:"	var Template: TemplateStatic;"},{type:"added",content:"	interface TemplateStatic {"},{type:"added",content:"		new(viewName?: string, renderFunction?: Function): Template;"},{type:"added",content:"		// It should be [templateName: string]: TemplateInstance but this is not possible -- user will need to cast to TemplateInstance"},{type:"added",content:'		[templateName: string]: any | Template; // added "any" to make it work'},{type:"added",content:"		head: Template;"},{type:"added",content:"		find(selector:string):Blaze.Template;"},{type:"added",content:"		findAll(selector:string):Blaze.Template[];"},{type:"added",content:"		$:any;"},{type:"added",content:"	}"},{type:"added",content:"	interface Template {"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	var TemplateInstance: TemplateInstanceStatic;"},{type:"added",content:"	interface TemplateInstanceStatic {"},{type:"added",content:"		new(view: Blaze.View): TemplateInstance;"},{type:"added",content:"	}"},{type:"added",content:"	interface TemplateInstance {"},{type:"added",content:"		$(selector: string): any;"},{type:"added",content:"		autorun(runFunc: Function): Object;"},{type:"added",content:"		data: Object;"},{type:"added",content:"		find(selector?: string): Blaze.TemplateInstance;"},{type:"added",content:"		findAll(selector: string): Blaze.TemplateInstance[];"},{type:"added",content:"		firstNode: Object;"},{type:"added",content:"		lastNode: Object;"},{type:"added",content:"		subscribe(name: string, ...args: any[]): Meteor.SubscriptionHandle;"
},{type:"added",content:"		subscriptionsReady(): boolean;"},{type:"added",content:"		view: Object;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	function Unless(conditionFunc: Function, contentFunc: Function, elseFunc?: Function): Blaze.View;"},{type:"added",content:"	var View: ViewStatic;"},{type:"added",content:"	interface ViewStatic {"},{type:"added",content:"		new(name?: string, renderFunction?: Function): View;"},{type:"added",content:"	}"},{type:"added",content:"	interface View {"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	function With(data: Object | Function, contentFunc: Function): Blaze.View;"},{type:"added",content:"	var currentView: Blaze.View;"},{type:"added",content:"	function getData(elementOrView?: HTMLElement | Blaze.View): Object;"},{type:"added",content:"	function getView(element?: HTMLElement): Blaze.View;"},{type:"added",content:"	function isTemplate(value: any): boolean;"},{type:"added",content:"	function remove(renderedView: Blaze.View): void;"},{type:"added",content:"	function render(templateOrView: Template | Blaze.View, parentNode: Node, nextNode?: Node, parentView?: Blaze.View): Blaze.View;"},{type:"added",content:"	function renderWithData(templateOrView: Template | Blaze.View, data: Object | Function, parentNode: Node, nextNode?: Node, parentView?: Blaze.View): Blaze.View;"},{type:"added",content:"	function toHTML(templateOrView: Template | Blaze.View): string;"},{type:"added",content:"	function toHTMLWithData(templateOrView: Template | Blaze.View, data: Object | Function): string;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Cordova {"},{type:"added",content:"	function depends(dependencies:{[id:string]:string}): void;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module DDP {"},{type:"added",content:"	function connect(url: string): DDP.DDPStatic;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module EJSON {"},{type:"added",content:"	var CustomType: CustomTypeStatic;"},{type:"added",content:"	interface CustomTypeStatic {"},{type:"added",content:"		new(): CustomType;"},{type:"added",content:"	}"},{type:"added",content:"	interface CustomType {"},{type:"added",content:"		clone(): EJSON.CustomType;"},{type:"added",content:"		equals(other: Object): boolean;"},{type:"added",content:"		toJSONValue(): JSON;"},{type:"added",content:"		typeName(): string;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	function addType(name: string, factory: (val: EJSONable) => JSONable): void;"},{type:"added",content:"	function clone<T>(val:T): T;"},{type:"added",content:"	function equals(a: EJSON, b: EJSON, options?: {"},{type:"added",content:"		keyOrderSensitive?: boolean;"},{type:"added",content:"	}): boolean;"},{type:"added",content:"	function fromJSONValue(val: JSON): any;"},{type:"added",content:"	function isBinary(x: Object): boolean;"},{type:"added",content:"	var newBinary: any;"},{type:"added",content:"	function parse(str: string): EJSON;"},{type:"added",content:"	function stringify(val: EJSON, options?: {"},{type:"added",content:"		indent?: boolean | number | string;"},{type:"added",content:"		canonical?: boolean;"},{type:"added",content:"	}): string;"},{type:"added",content:"	function toJSONValue(val: EJSON): JSON;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Match {"},{type:"added",content:"	function test(value: any, pattern: any): boolean;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Meteor {"},{type:"added",content:"	var Error: ErrorStatic;"},{type:"added",content:"	interface ErrorStatic {"},{type:"added",content:"		new(error: string, reason?: string, details?: string): Error;"},{type:"added",content:"	}"},{type:"added",content:"	interface Error {"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	function absoluteUrl(path?: string, options?: {"},{type:"added",content:"		secure?: boolean;"},{type:"added",content:"		replaceLocalhost?: boolean;"},{type:"added",content:"		rootUrl?: string;"},{type:"added",content:"	}): string;"},{type:"added",content:"	function apply(name: string, args: EJSONable[], options?: {"},{type:"added",content:"		wait?: boolean;"},{type:"added",content:"		onResultReceived?: Function;"},{type:"added",content:"	}, asyncCallback?: Function): any;"},{type:"added",content:"	function call(name: string, ...args: any[]): any;"},{type:"added",content:"	function clearInterval(id: number): void;"},{type:"added",content:"	function clearTimeout(id: number): void;"},{type:"added",content:"	function disconnect(): void;"},{type:"added",content:"	var isClient: boolean;"},{type:"added",content:"	var isCordova: boolean;"},{type:"added",content:"	var isServer: boolean;"},{type:"added",content:"	function loggingIn(): boolean;"},{type:"added",content:"	function loginWith<ExternalService>(options?: {"},{type:"added",content:"		requestPermissions?: string[];"},{type:"added",content:"		requestOfflineToken?: boolean;"},{type:"added",content:"		forceApprovalPrompt?: boolean;"},{type:"added",content:"		userEmail?: string;"},{type:"added",content:"		loginStyle?: string;"},{type:"added",content:"	}, callback?: Function): void;"},{type:"added",content:"	function loginWithPassword(user: Object | string, password: string, callback?: Function): void;"},{type:"added",content:"	function logout(callback?: Function): void;"},{type:"added",content:"	function logoutOtherClients(callback?: Function): void;"},{type:"added",content:"	function methods(methods: Object): void;"},{type:"added",content:"	function onConnection(callback: Function): void;"},{type:"added",content:"	function publish(name: string, func: Function): void;"},{type:"added",content:"	function reconnect(): void;"},{type:"added",content:"	var release: string;"},{type:"added",content:"	function setInterval(func: Function, delay: number): number;"},{type:"added",content:"	function setTimeout(func: Function, delay: number): number;"},{type:"added",content:"	var settings: {[id:string]: any};"},{type:"added",content:"	function startup(func: Function): void;"},{type:"added",content:"	function status(): Meteor.StatusEnum;"},{type:"added",content:"	function subscribe(name: string, ...args: any[]): Meteor.SubscriptionHandle;"},{type:"added",content:"	function user(): Meteor.User;"},{type:"added",content:"	function userId(): string;"},{type:"added",content:"	var users: Mongo.Collection<User>;"},{type:"added",content:"	function wrapAsync(func: Function, context?: Object): any;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Mongo {"},{type:"added",content:"	var Collection: CollectionStatic;"},{type:"added",content:"	interface CollectionStatic {"},{type:"added",content:"		new<T>(name: string, options?: {"},{type:"added",content:"			connection?: Object;"},{type:"added",content:"			idGeneration?: string;"},{type:"added",content:"			transform?: Function;"},{type:"added",content:"		}): Collection<T>;"},{type:"added",content:"	}"},{type:"added",content:"	interface Collection<T> {"},{type:"added",content:"		allow(options: {"},{type:"added",content:"			insert?: (userId:string, doc:any) => boolean;"},{type:"added",content:"			update?: (userId:string, doc:any, fieldNames:string[], modifier:any) => boolean;"},{type:"added",content:"			remove?: (userId:string, doc:any) => boolean;"},{type:"added",content:"			fetch?: string[];"},{type:"added",content:"			transform?: Function;"},{type:"added",content:"		}): boolean;"},{type:"added",content:"		deny(options: {"},{type:"added",content:"			insert?: (userId:string, doc:any) => boolean;"},{type:"added",content:"			update?: (userId:string, doc:any, fieldNames:string[], modifier:any) => boolean;"},{type:"added",content:"			remove?: (userId:string, doc:any) => boolean;"},{type:"added",content:"			fetch?: string[];"},{type:"added",content:"			transform?: Function;"},{type:"added",content:"		}): boolean;"},{type:"added",content:"		find(selector?: Mongo.Selector, options?: {"},{type:"added",content:"			sort?: Mongo.SortSpecifier;"},{type:"added",content:"			skip?: number;"},{type:"added",content:"			limit?: number;"},{type:"added",content:"			fields?: Mongo.FieldSpecifier;"},{type:"added",content:"			reactive?: boolean;"},{type:"added",content:"			transform?: Function;"},{type:"added",content:"		}): Mongo.Cursor<T>;"},{type:"added",content:"		findOne(selector?: Mongo.Selector, options?: {"},{type:"added",content:"			sort?: Mongo.SortSpecifier;"},{type:"added",content:"			skip?: number;"},{type:"added",content:"			fields?: Mongo.FieldSpecifier;"},{type:"added",content:"			reactive?: boolean;"},{type:"added",content:"			transform?: Function;"},{type:"added",content:"		}): T;"},{type:"added",content:"		insert(doc: Object, callback?: Function): string;"},{type:"added",content:"		remove(selector: Mongo.Selector, callback?: Function): void;"},{type:"added",content:"		update(selector: Mongo.Selector, modifier: Mongo.Modifier, options?: {"},{type:"added",content:"			multi?: boolean;"},{type:"added",content:"			upsert?: boolean;"},{type:"added",content:"		}, callback?: Function): number;"},{type:"added",content:"		upsert(selector: Mongo.Selector, modifier: Mongo.Modifier, options?: {"},{type:"added",content:"			multi?: boolean;"},{type:"added",content:"		}, callback?: Function): {numberAffected?: number; insertedId?: string;};"},{type:"added",content:"		_ensureIndex(indexName: string, options?: {[key: string]: any}): void;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	var Cursor: CursorStatic;"},{type:"added",content:"	interface CursorStatic {"},{type:"added",content:"		new<T>(): Cursor<T>;"},{type:"added",content:"	}"},{type:"added",content:"	interface Cursor<T> {"},{type:"added",content:"		count(): number;"},{type:"added",content:"		fetch(): Array<T>;"},{type:"added",content:"		forEach(callback: <T>(doc: T, index: number, cursor: Mongo.Cursor<T>) => void, thisArg?: any): void;"},{type:"added",content:"		map(callback: <T>(doc: T, index: number, cursor: Mongo.Cursor<T>) => void, thisArg?: any): Array<T>;"},{type:"added",content:"		observe(callbacks: Object): Meteor.LiveQueryHandle;"},{type:"added",content:"		observeChanges(callbacks: Object): Meteor.LiveQueryHandle;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	var ObjectID: ObjectIDStatic;"},{type:"added",content:"	interface ObjectIDStatic {"},{type:"added",content:"		new(hexString: string): ObjectID;"},{type:"added",content:"	}"},{type:"added",content:"	interface ObjectID {"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Npm {"},{type:"added",content:"	function depends(dependencies:{[id:string]:string}): void;"},{type:"added",content:"	function require(name: string): any;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Package {"},{type:"added",content:"	function describe(options: {"},{type:"added",content:"		summary?: string;"},{type:"added",content:"		version?: string;"},{type:"added",content:"		name?: string;"},{type:"added",content:"		git?: string;"},{type:"added",content:"		documentation?: string;"},{type:"added",content:"	}): void;"},{type:"added",content:"	function onTest(func: Function): void;"},{type:"added",content:"	function onUse(func: Function): void;"},{type:"added",content:"	function registerBuildPlugin(options?: {"},{type:"added",content:"		name?: string;"},{type:"added",content:"		use?: string | string[];"},{type:"added",content:"		sources?: string[];"},{type:"added",content:"		npmDependencies?: Object;"},{type:"added",content:"	}): void;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Tracker {"},{type:"added",content:"	function Computation(): void;"},{type:"added",content:"	interface Computation {"},{type:"added",content:"		firstRun: boolean;"},{type:"added",content:"		invalidate(): void;"},{type:"added",content:"		invalidated: boolean;"},{type:"added",content:"		onInvalidate(callback: Function): void;"},{type:"added",content:"		stop(): void;"},{type:"added",content:"		stopped: boolean;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	var Dependency: DependencyStatic;"},{type:"added",content:"	interface DependencyStatic {"},{type:"added",content:"		new(): Dependency;"},{type:"added",content:"	}"},{type:"added",content:"	interface Dependency {"},{type:"added",content:"		changed(): void;"},{type:"added",content:"		depend(fromComputation?: Tracker.Computation): boolean;"},{type:"added",content:"		hasDependents(): boolean;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	var active: boolean;"},{type:"added",content:"	function afterFlush(callback: Function): void;"},{type:"added",content:"	function autorun(runFunc: (computation: Tracker.Computation) => void, options?: {"},{type:"added",content:"		onError?: Function;"},{type:"added",content:"	}): Tracker.Computation;"},{type:"added",content:"	var currentComputation: Tracker.Computation;"},{type:"added",content:"	function flush(): void;"},{type:"added",content:"	function nonreactive(func: Function): void;"},{type:"added",content:"	function onInvalidate(callback: Function): void;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Session {"},{type:"added",content:"	function equals(key: string, value: string | number | boolean | any /** Null **/ | any /** Undefined **/): boolean;"},{type:"added",content:"	function get(key: string): any;"},{type:"added",content:"	function set(key: string, value: EJSONable | any /** Undefined **/): void;"},{type:"added",content:"	function setDefault(key: string, value: EJSONable | any /** Undefined **/): void;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module HTTP {"},{type:"added",content:"	function call(method: string, url: string, options?: {"},{type:"added",content:"		content?: string;"},{type:"added",content:"		data?: Object;"},{type:"added",content:"		query?: string;"},{type:"added",content:"		params?: Object;"},{type:"added",content:"		auth?: string;"},{type:"added",content:"		headers?: Object;"},{type:"added",content:"		timeout?: number;"},{type:"added",content:"		followRedirects?: boolean;"},{type:"added",content:"		npmRequestOptions?: Object;"},{type:"added",content:"	}, asyncCallback?: Function): HTTP.HTTPResponse;"},{type:"added",content:"	function del(url: string, callOptions?: Object, asyncCallback?: Function): HTTP.HTTPResponse;"},{type:"added",content:"	function get(url: string, callOptions?: Object, asyncCallback?: Function): HTTP.HTTPResponse;"},{type:"added",content:"	function post(url: string, callOptions?: Object, asyncCallback?: Function): HTTP.HTTPResponse;"},{type:"added",content:"	function put(url: string, callOptions?: Object, asyncCallback?: Function): HTTP.HTTPResponse;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare module Email {"},{type:"added",content:"	function send(options: {"},{type:"added",content:"		from?: string;"},{type:"added",content:"		to?: string | string[];"},{type:"added",content:"		cc?: string | string[];"},{type:"added",content:"		bcc?: string | string[];"},{type:"added",content:"		replyTo?: string | string[];"},{type:"added",content:"		subject?: string;"},{type:"added",content:"		text?: string;"},{type:"added",content:"		html?: string;"},{type:"added",content:"		headers?: Object;"},{type:"added",content:"		attachments?: Object[];"},{type:"added",content:"	}): void;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare var CompileStep: CompileStepStatic;"},{type:"added",content:"interface CompileStepStatic {"},{type:"added",content:"	new(): CompileStep;"},{type:"added",content:"}"},{type:"added",content:"interface CompileStep {"},{type:"added",content:"	addAsset(options: {"},{type:"added",content:"	}, path: string, data: any /** Buffer **/ | string): any; /** TODO: add return value **/"},{type:"added",content:"	addHtml(options: {"},{type:"added",content:"		section?: string;"},{type:"added",content:"		data?: string;"},{type:"added",content:"	}): any; /** TODO: add return value **/"},{type:"added",content:"	addJavaScript(options: {"},{type:"added",content:"		path?: string;"},{type:"added",content:"		data?: string;"},{type:"added",content:"		sourcePath?: string;"},{type:"added",content:"	}): any; /** TODO: add return value **/"},{type:"added",content:"	addStylesheet(options: {"},{type:"added",content:"	}, path: string, data: string, sourceMap: string): any; /** TODO: add return value **/"},{type:"added",content:"	arch: any; /** TODO: add return value **/"},{type:"added",content:"	declaredExports: any; /** TODO: add return value **/"},{type:"added",content:"	error(options: {"},{type:"added",content:"	}, message: string, sourcePath?: string, line?: number, func?: string): any; /** TODO: add return value **/"},{type:"added",content:"	fileOptions: any; /** TODO: add return value **/"},{type:"added",content:"	fullInputPath: any; /** TODO: add return value **/"},{type:"added",content:"	inputPath: any; /** TODO: add return value **/"},{type:"added",content:"	inputSize: any; /** TODO: add return value **/"},{type:"added",content:"	packageName: any; /** TODO: add return value **/"},{type:"added",content:"	pathForSourceMap: any; /** TODO: add return value **/"},{type:"added",content:"	read(n?: number): any;"},{type:"added",content:"	rootOutputPath: any; /** TODO: add return value **/"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare var PackageAPI: PackageAPIStatic;"},{type:"added",content:"interface PackageAPIStatic {"},{type:"added",content:"	new(): PackageAPI;"},{type:"added",content:"}"},{type:"added",content:"interface PackageAPI {"},{type:"added",content:"	addFiles(filename: string | string[], architecture?: string): void;"},{type:"added",content:"	export(exportedObject: string, architecture?: string): void;"},{type:"added",content:"	imply(packageSpecs: string | string[]): void;"},{type:"added",content:"	use(packageNames: string | string[], architecture?: string, options?: {"},{type:"added",content:"		weak?: boolean;"},{type:"added",content:"		unordered?: boolean;"},{type:"added",content:"	}): void;"},{type:"added",content:"	versionsFrom(meteorRelease: string | string[]): void;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare var ReactiveVar: ReactiveVarStatic;"},{type:"added",content:"interface ReactiveVarStatic {"},{type:"added",content:"	new<T>(initialValue: T, equalsFunc?: Function): ReactiveVar<T>;"},{type:"added",content:"}"},{type:"added",content:"interface ReactiveVar<T> {"},{type:"added",content:"	get(): T;"},{type:"added",content:"	set(newValue: T): void;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare var Subscription: SubscriptionStatic;"},{type:"added",content:"interface SubscriptionStatic {"},{type:"added",content:"	new(): Subscription;"},{type:"added",content:"}"},{type:"added",content:"interface Subscription {"},{type:"added",content:"	added(collection: string, id: string, fields: Object): void;"},{type:"added",content:"	changed(collection: string, id: string, fields: Object): void;"},{type:"added",content:"	connection: Meteor.Connection;"},{type:"added",content:"	error(error: Error): void;"},{type:"added",content:"	onStop(func: Function): void;"},{type:"added",content:"	ready(): void;"},{type:"added",content:"	removed(collection: string, id: string): void;"},{type:"added",content:"	stop(): void;"},{type:"added",content:"	userId: string;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare var Template: TemplateStatic;"},{type:"added",content:"interface TemplateStatic {"},{type:"added",content:"	new(): Template;"},{type:"added",content:"	// It should be [templateName: string]: TemplateInstance but this is not possible -- user will need to cast to TemplateInstance"},{type:"added",content:'	[templateName: string]: any | Template; // added "any" to make it work'},{type:"added",content:"	head: Template;"},{type:"added",content:"	find(selector:string):Blaze.Template;"},{type:"added",content:"	findAll(selector:string):Blaze.Template[];"},{type:"added",content:"	$:any;"},{type:"added",content:"	body: Template;"},{type:"added",content:"	currentData(): {};"},{type:"added",content:"	instance(): Blaze.TemplateInstance;"},{type:"added",content:"	parentData(numLevels?: number): {};"},{type:"added",content:"	registerHelper(name: string, helperFunction: Function): void;"},{type:"added",content:"}"},{type:"added",content:"interface Template {"},{type:"added",content:"	created: Function;"},{type:"added",content:"	destroyed: Function;"},{type:"added",content:"	events(eventMap: {[actions: string]: Function}): void;"},{type:"added",content:"	helpers(helpers:{[id:string]: any}): void;"},{type:"added",content:"	onCreated: Function;"},{type:"added",content:"	onDestroyed: Function;"},{type:"added",content:"	onRendered: Function;"},{type:"added",content:"	rendered: Function;"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:"declare function MethodInvocation(options: {"},{type:"added",content:"}): any; /** TODO: add return value **/"},{type:"added",content:"declare function check(value: any, pattern: any): void;"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:781}}}],"typings/rx/rx-lite.d.ts":[{lines:[{type:"added",content:"// DefinitelyTyped: partial"},{type:"added",content:""},{type:"added",content:"// This file contains common part of defintions for rx.d.ts and rx.lite.d.ts"},{type:"added",content:"// Do not include the file separately."},{type:"added",content:""},{type:"added",content:"declare module Rx {"},{type:"added",content:"	export module internals {"},{type:"added",content:"		function isEqual(left: any, right: any): boolean;"},{type:"added",content:"		function addRef<T>(xs: Observable<T>, r: { getDisposable(): IDisposable; }): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		// Priority Queue for Scheduling"},{type:"added",content:"		export class PriorityQueue<TTime> {"},{type:"added",content:"			constructor(capacity: number);"},{type:"added",content:""},{type:"added",content:"			length: number;"},{type:"added",content:""},{type:"added",content:"			isHigherPriority(left: number, right: number): boolean;"},{type:"added",content:"			percolate(index: number): void;"},{type:"added",content:"			heapify(index: number): void;"},{type:"added",content:"			peek(): ScheduledItem<TTime>;"},{type:"added",content:"			removeAt(index: number): void;"},{type:"added",content:"			dequeue(): ScheduledItem<TTime>;"},{type:"added",content:"			enqueue(item: ScheduledItem<TTime>): void;"},{type:"added",content:"			remove(item: ScheduledItem<TTime>): boolean;"},{type:"added",content:""},{type:"added",content:"			static count: number;"},{type:"added",content:"		}"},{type:"added",content:""},{type:"added",content:"		export class ScheduledItem<TTime> {"},{type:"added",content:"			constructor(scheduler: IScheduler, state: any, action: (scheduler: IScheduler, state: any) => IDisposable, dueTime: TTime, comparer?: (x: TTime, y: TTime) => number);"},{type:"added",content:""},{type:"added",content:"			scheduler: IScheduler;"},{type:"added",content:"			state: TTime;"},{type:"added",content:"			action: (scheduler: IScheduler, state: any) => IDisposable;"},{type:"added",content:"			dueTime: TTime;"},{type:"added",content:"			comparer: (x: TTime, y: TTime) => number;"},{type:"added",content:"			disposable: SingleAssignmentDisposable;"},{type:"added",content:""},{type:"added",content:"			invoke(): void;"},{type:"added",content:"			compareTo(other: ScheduledItem<TTime>): number;"},{type:"added",content:"			isCancelled(): boolean;"},{type:"added",content:"			invokeCore(): IDisposable;"},{type:"added",content:"		}"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export module config {"},{type:"added",content:"		export var Promise: { new <T>(resolver: (resolvePromise: (value: T) => void, rejectPromise: (reason: any) => void) => void): IPromise<T>; };"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export module helpers {"},{type:"added",content:"		function noop(): void;"},{type:"added",content:"		function notDefined(value: any): boolean;"},{type:"added",content:"		function isScheduler(value: any): boolean;"},{type:"added",content:"		function identity<T>(value: T): T;"},{type:"added",content:"		function defaultNow(): number;"},{type:"added",content:"		function defaultComparer(left: any, right: any): boolean;"},{type:"added",content:"		function defaultSubComparer(left: any, right: any): number;"},{type:"added",content:"		function defaultKeySerializer(key: any): string;"},{type:"added",content:"		function defaultError(err: any): void;"},{type:"added",content:"		function isPromise(p: any): boolean;"},{type:"added",content:"		function asArray<T>(...args: T[]): T[];"},{type:"added",content:"		function not(value: any): boolean;"},{type:"added",content:"		function isFunction(value: any): boolean;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export interface IDisposable {"},{type:"added",content:"		dispose(): void;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export class CompositeDisposable implements IDisposable {"},{type:"added",content:"		constructor (...disposables: IDisposable[]);"},{type:"added",content:"		constructor (disposables: IDisposable[]);"},{type:"added",content:""},{type:"added",content:"		isDisposed: boolean;"},{type:"added",content:"		length: number;"},{type:"added",content:""},{type:"added",content:"		dispose(): void;"},{type:"added",content:"		add(item: IDisposable): void;"},{type:"added",content:"		remove(item: IDisposable): boolean;"},{type:"added",content:"		toArray(): IDisposable[];"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export class Disposable implements IDisposable {"},{type:"added",content:"		constructor(action: () => void);"},{type:"added",content:""},{type:"added",content:"		static create(action: () => void): IDisposable;"},{type:"added",content:"		static empty: IDisposable;"},{type:"added",content:""},{type:"added",content:"		dispose(): void;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	// Single assignment"},{type:"added",content:"	export class SingleAssignmentDisposable implements IDisposable {"},{type:"added",content:"		constructor();"},{type:"added",content:""},{type:"added",content:"		isDisposed: boolean;"},{type:"added",content:"		current: IDisposable;"},{type:"added",content:""},{type:"added",content:"		dispose(): void ;"},{type:"added",content:"		getDisposable(): IDisposable;"},{type:"added",content:"		setDisposable(value: IDisposable): void ;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	// SerialDisposable it's an alias of SingleAssignmentDisposable"},{type:"added",content:"	export class SerialDisposable extends SingleAssignmentDisposable {"},{type:"added",content:"		constructor();"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export class RefCountDisposable implements IDisposable {"},{type:"added",content:"		constructor(disposable: IDisposable);"},{type:"added",content:""},{type:"added",content:"		dispose(): void;"},{type:"added",content:""},{type:"added",content:"		isDisposed: boolean;"},{type:"added",content:"		getDisposable(): IDisposable;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export interface IScheduler {"},{type:"added",content:"		now(): number;"},{type:"added",content:""},{type:"added",content:"		schedule(action: () => void): IDisposable;"},{type:"added",content:"		scheduleWithState<TState>(state: TState, action: (scheduler: IScheduler, state: TState) => IDisposable): IDisposable;"},{type:"added",content:"		scheduleWithAbsolute(dueTime: number, action: () => void): IDisposable;"},{type:"added",content:"		scheduleWithAbsoluteAndState<TState>(state: TState, dueTime: number, action: (scheduler: IScheduler, state: TState) =>IDisposable): IDisposable;"},{type:"added",content:"		scheduleWithRelative(dueTime: number, action: () => void): IDisposable;"},{type:"added",content:"		scheduleWithRelativeAndState<TState>(state: TState, dueTime: number, action: (scheduler: IScheduler, state: TState) =>IDisposable): IDisposable;"},{type:"added",content:""},{type:"added",content:"		scheduleRecursive(action: (action: () =>void ) =>void ): IDisposable;"},{type:"added",content:"		scheduleRecursiveWithState<TState>(state: TState, action: (state: TState, action: (state: TState) =>void ) =>void ): IDisposable;"},{type:"added",content:"		scheduleRecursiveWithAbsolute(dueTime: number, action: (action: (dueTime: number) => void) => void): IDisposable;"},{type:"added",content:"		scheduleRecursiveWithAbsoluteAndState<TState>(state: TState, dueTime: number, action: (state: TState, action: (state: TState, dueTime: number) => void) => void): IDisposable;"},{type:"added",content:"		scheduleRecursiveWithRelative(dueTime: number, action: (action: (dueTime: number) =>void ) =>void ): IDisposable;"},{type:"added",content:"		scheduleRecursiveWithRelativeAndState<TState>(state: TState, dueTime: number, action: (state: TState, action: (state: TState, dueTime: number) =>void ) =>void ): IDisposable;"},{type:"added",content:""},{type:"added",content:"		schedulePeriodic(period: number, action: () => void): IDisposable;"},{type:"added",content:"		schedulePeriodicWithState<TState>(state: TState, period: number, action: (state: TState) => TState): IDisposable;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export interface Scheduler extends IScheduler {"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export interface SchedulerStatic {"},{type:"added",content:"		new ("},{type:"added",content:"			now: () => number,"},{type:"added",content:"			schedule: (state: any, action: (scheduler: IScheduler, state: any) => IDisposable) => IDisposable,"},{type:"added",content:"			scheduleRelative: (state: any, dueTime: number, action: (scheduler: IScheduler, state: any) => IDisposable) => IDisposable,"},{type:"added",content:"			scheduleAbsolute: (state: any, dueTime: number, action: (scheduler: IScheduler, state: any) => IDisposable) => IDisposable): Scheduler;"},{type:"added",content:""},{type:"added",content:"		normalize(timeSpan: number): number;"},{type:"added",content:""},{type:"added",content:"		immediate: IScheduler;"},{type:"added",content:"		currentThread: ICurrentThreadScheduler;"},{type:"added",content:"                default: IScheduler; // alias for Scheduler.timeout"},{type:"added",content:"		timeout: IScheduler;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export var Scheduler: SchedulerStatic;"},{type:"added",content:""},{type:"added",content:"	// Current Thread IScheduler"},{type:"added",content:"	interface ICurrentThreadScheduler extends IScheduler {"},{type:"added",content:"		scheduleRequired(): boolean;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	// Notifications"},{type:"added",content:"	export class Notification<T> {"},{type:"added",content:"		accept(observer: IObserver<T>): void;"},{type:"added",content:"		accept<TResult>(onNext: (value: T) => TResult, onError?: (exception: any) => TResult, onCompleted?: () => TResult): TResult;"},{type:"added",content:"		toObservable(scheduler?: IScheduler): Observable<T>;"
},{type:"added",content:"		hasValue: boolean;"},{type:"added",content:"		equals(other: Notification<T>): boolean;"},{type:"added",content:"		kind: string;"},{type:"added",content:"		value: T;"},{type:"added",content:"		exception: any;"},{type:"added",content:""},{type:"added",content:"		static createOnNext<T>(value: T): Notification<T>;"},{type:"added",content:"		static createOnError<T>(exception: any): Notification<T>;"},{type:"added",content:"		static createOnCompleted<T>(): Notification<T>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	/**"},{type:"added",content:"	 * Promise A+"},{type:"added",content:"	 */"},{type:"added",content:"	export interface IPromise<T> {"},{type:"added",content:"		then<R>(onFulfilled: (value: T) => IPromise<R>, onRejected: (reason: any) => IPromise<R>): IPromise<R>;"},{type:"added",content:"		then<R>(onFulfilled: (value: T) => IPromise<R>, onRejected?: (reason: any) => R): IPromise<R>;"},{type:"added",content:"		then<R>(onFulfilled: (value: T) => R, onRejected: (reason: any) => IPromise<R>): IPromise<R>;"},{type:"added",content:"		then<R>(onFulfilled?: (value: T) => R, onRejected?: (reason: any) => R): IPromise<R>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	// Observer"},{type:"added",content:"	export interface IObserver<T> {"},{type:"added",content:"		onNext(value: T): void;"},{type:"added",content:"		onError(exception: any): void;"},{type:"added",content:"		onCompleted(): void;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export interface Observer<T> extends IObserver<T> {"},{type:"added",content:"		toNotifier(): (notification: Notification<T>) => void;"},{type:"added",content:"		asObserver(): Observer<T>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface ObserverStatic {"},{type:"added",content:"		create<T>(onNext?: (value: T) => void, onError?: (exception: any) => void, onCompleted?: () => void): Observer<T>;"},{type:"added",content:"		fromNotifier<T>(handler: (notification: Notification<T>, thisArg?: any) => void): Observer<T>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export var Observer: ObserverStatic;"},{type:"added",content:""},{type:"added",content:"	export interface IObservable<T> {"},{type:"added",content:"		subscribe(observer: Observer<T>): IDisposable;"},{type:"added",content:"		subscribe(onNext?: (value: T) => void, onError?: (exception: any) => void, onCompleted?: () => void): IDisposable;"},{type:"added",content:""},{type:"added",content:"		subscribeOnNext(onNext: (value: T) => void, thisArg?: any): IDisposable;"},{type:"added",content:"		subscribeOnError(onError: (exception: any) => void, thisArg?: any): IDisposable;"},{type:"added",content:"		subscribeOnCompleted(onCompleted: () => void, thisArg?: any): IDisposable;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export interface Observable<T> extends IObservable<T> {"},{type:"added",content:"		forEach(onNext?: (value: T) => void, onError?: (exception: any) => void, onCompleted?: () => void): IDisposable;	// alias for subscribe"},{type:"added",content:"		toArray(): Observable<T[]>;"},{type:"added",content:""},{type:"added",content:"		catch(handler: (exception: any) => Observable<T>): Observable<T>;"},{type:"added",content:"		catchException(handler: (exception: any) => Observable<T>): Observable<T>;	// alias for catch"},{type:"added",content:"		catch(handler: (exception: any) => IPromise<T>): Observable<T>;"},{type:"added",content:"		catchException(handler: (exception: any) => IPromise<T>): Observable<T>;	// alias for catch"},{type:"added",content:"		catch(second: Observable<T>): Observable<T>;"},{type:"added",content:"		catchException(second: Observable<T>): Observable<T>;	// alias for catch"},{type:"added",content:"		combineLatest<T2, TResult>(second: Observable<T2>, resultSelector: (v1: T, v2: T2) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, TResult>(second: IPromise<T2>, resultSelector: (v1: T, v2: T2) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, TResult>(second: Observable<T2>, third: Observable<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, TResult>(second: Observable<T2>, third: IPromise<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, TResult>(second: IPromise<T2>, third: Observable<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, TResult>(second: IPromise<T2>, third: IPromise<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, T4, TResult>(second: Observable<T2>, third: Observable<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, T4, TResult>(second: Observable<T2>, third: Observable<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, T4, TResult>(second: Observable<T2>, third: IPromise<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, T4, TResult>(second: Observable<T2>, third: IPromise<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, T4, TResult>(second: IPromise<T2>, third: Observable<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, T4, TResult>(second: IPromise<T2>, third: Observable<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, T4, TResult>(second: IPromise<T2>, third: IPromise<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, T4, TResult>(second: IPromise<T2>, third: IPromise<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T2, T3, T4, T5, TResult>(second: Observable<T2>, third: Observable<T3>, fourth: Observable<T4>, fifth: Observable<T5>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<TOther, TResult>(souces: Observable<TOther>[], resultSelector: (firstValue: T, ...otherValues: TOther[]) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<TOther, TResult>(souces: IPromise<TOther>[], resultSelector: (firstValue: T, ...otherValues: TOther[]) => TResult): Observable<TResult>;"},{type:"added",content:"		concat(...sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		concat(...sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		concat(sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		concat(sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		concatAll(): T;"},{type:"added",content:"		concatObservable(): T;	// alias for concatAll"},{type:"added",content:"		concatMap<T2, R>(selector: (value: T, index: number) => Observable<T2>, resultSelector: (value1: T, value2: T2, index: number) => R): Observable<R>;	// alias for selectConcat"},{type:"added",content:"		concatMap<T2, R>(selector: (value: T, index: number) => IPromise<T2>, resultSelector: (value1: T, value2: T2, index: number) => R): Observable<R>;	// alias for selectConcat"},{type:"added",content:"		concatMap<R>(selector: (value: T, index: number) => Observable<R>): Observable<R>;	// alias for selectConcat"},{type:"added",content:"		concatMap<R>(selector: (value: T, index: number) => IPromise<R>): Observable<R>;	// alias for selectConcat"},{type:"added",content:"		concatMap<R>(sequence: Observable<R>): Observable<R>;	// alias for selectConcat"},{type:"added",content:"		merge(maxConcurrent: number): T;"},{type:"added",content:"		merge(other: Observable<T>): Observable<T>;"},{type:"added",content:"		merge(other: IPromise<T>): Observable<T>;"},{type:"added",content:"		mergeAll(): T;"},{type:"added",content:"		mergeObservable(): T;	// alias for mergeAll"},{type:"added",content:"		skipUntil<T2>(other: Observable<T2>): Observable<T>;"},{type:"added",content:"		skipUntil<T2>(other: IPromise<T2>): Observable<T>;"},{type:"added",content:"		switch(): T;"},{type:"added",content:"		switchLatest(): T;	// alias for switch"},{type:"added",content:"		takeUntil<T2>(other: Observable<T2>): Observable<T>;"},{type:"added",content:"		takeUntil<T2>(other: IPromise<T2>): Observable<T>;"},{type:"added",content:"		zip<T2, TResult>(second: Observable<T2>, resultSelector: (v1: T, v2: T2) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, TResult>(second: IPromise<T2>, resultSelector: (v1: T, v2: T2) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, TResult>(second: Observable<T2>, third: Observable<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, TResult>(second: Observable<T2>, third: IPromise<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, TResult>(second: IPromise<T2>, third: Observable<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, TResult>(second: IPromise<T2>, third: IPromise<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, T4, TResult>(second: Observable<T2>, third: Observable<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, T4, TResult>(second: Observable<T2>, third: Observable<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, T4, TResult>(second: Observable<T2>, third: IPromise<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, T4, TResult>(second: Observable<T2>, third: IPromise<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, T4, TResult>(second: IPromise<T2>, third: Observable<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, T4, TResult>(second: IPromise<T2>, third: Observable<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, T4, TResult>(second: IPromise<T2>, third: IPromise<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, T4, TResult>(second: IPromise<T2>, third: IPromise<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T2, T3, T4, T5, TResult>(second: Observable<T2>, third: Observable<T3>, fourth: Observable<T4>, fifth: Observable<T5>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<TOther, TResult>(second: Observable<TOther>[], resultSelector: (left: T, ...right: TOther[]) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<TOther, TResult>(second: IPromise<TOther>[], resultSelector: (left: T, ...right: TOther[]) => TResult): Observable<TResult>;"},{type:"added",content:""},{type:"added",content:"		asObservable(): Observable<T>;"},{type:"added",content:"		dematerialize<TOrigin>(): Observable<TOrigin>;"},{type:"added",content:"		distinctUntilChanged(skipParameter: boolean, comparer: (x: T, y: T) => boolean): Observable<T>;"},{type:"added",content:"		distinctUntilChanged<TValue>(keySelector?: (value: T) => TValue, comparer?: (x: TValue, y: TValue) => boolean): Observable<T>;"},{type:"added",content:"		do(observer: Observer<T>): Observable<T>;"},{type:"added",content:"		doAction(observer: Observer<T>): Observable<T>;	// alias for do"},{type:"added",content:"		tap(observer: Observer<T>): Observable<T>;	// alias for do"},{type:"added",content:"		do(onNext?: (value: T) => void, onError?: (exception: any) => void, onCompleted?: () => void): Observable<T>;"},{type:"added",content:"		doAction(onNext?: (value: T) => void, onError?: (exception: any) => void, onCompleted?: () => void): Observable<T>;	// alias for do"},{type:"added",content:"		tap(onNext?: (value: T) => void, onError?: (exception: any) => void, onCompleted?: () => void): Observable<T>;	// alias for do"},{type:"added",content:"		"},{type:"added",content:"		doOnNext(onNext: (value: T) => void, thisArg?: any): Observable<T>;"},{type:"added",content:"		doOnError(onError: (exception: any) => void, thisArg?: any): Observable<T>;"},{type:"added",content:"		doOnCompleted(onCompleted: () => void, thisArg?: any): Observable<T>;"},{type:"added",content:"		tapOnNext(onNext: (value: T) => void, thisArg?: any): Observable<T>;"},{type:"added",content:"		tapOnError(onError: (exception: any) => void, thisArg?: any): Observable<T>;"},{type:"added",content:"		tapOnCompleted(onCompleted: () => void, thisArg?: any): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		finally(action: () => void): Observable<T>;"},{type:"added",content:"		finallyAction(action: () => void): Observable<T>;	// alias for finally"},{type:"added",content:"		ignoreElements(): Observable<T>;"},{type:"added",content:"		materialize(): Observable<Notification<T>>;"},{type:"added",content:"		repeat(repeatCount?: number): Observable<T>;"},{type:"added",content:"		retry(retryCount?: number): Observable<T>;"},{type:"added",content:"		scan<TAcc>(seed: TAcc, accumulator: (acc: TAcc, value: T) => TAcc): Observable<TAcc>;"},{type:"added",content:"		scan(accumulator: (acc: T, value: T) => T): Observable<T>;"},{type:"added",content:"		skipLast(count: number): Observable<T>;"},{type:"added",content:"		startWith(...values: T[]): Observable<T>;"},{type:"added",content:"		startWith(scheduler: IScheduler, ...values: T[]): Observable<T>;"},{type:"added",content:"		takeLast(count: number): Observable<T>;"},{type:"added",content:"		takeLastBuffer(count: number): Observable<T[]>;"},{type:"added",content:""},{type:"added",content:"		select<TResult>(selector: (value: T, index: number, source: Observable<T>) => TResult, thisArg?: any): Observable<TResult>;"},{type:"added",content:"		map<TResult>(selector: (value: T, index: number, source: Observable<T>) => TResult, thisArg?: any): Observable<TResult>;	// alias for select"},{type:"added",content:"		pluck<TResult>(prop: string): Observable<TResult>;"},{type:"added",content:"		selectMany<TOther, TResult>(selector: (value: T) => Observable<TOther>, resultSelector: (item: T, other: TOther) => TResult): Observable<TResult>;"},{type:"added",content:"		selectMany<TOther, TResult>(selector: (value: T) => IPromise<TOther>, resultSelector: (item: T, other: TOther) => TResult): Observable<TResult>;"},{type:"added",content:"		selectMany<TResult>(selector: (value: T) => Observable<TResult>): Observable<TResult>;"},{type:"added",content:"		selectMany<TResult>(selector: (value: T) => IPromise<TResult>): Observable<TResult>;"},{type:"added",content:"		selectMany<TResult>(other: Observable<TResult>): Observable<TResult>;"},{type:"added",content:"		selectMany<TResult>(other: IPromise<TResult>): Observable<TResult>;"},{type:"added",content:"		flatMap<TOther, TResult>(selector: (value: T) => Observable<TOther>, resultSelector: (item: T, other: TOther) => TResult): Observable<TResult>;	// alias for selectMany"},{type:"added",content:"		flatMap<TOther, TResult>(selector: (value: T) => IPromise<TOther>, resultSelector: (item: T, other: TOther) => TResult): Observable<TResult>;	// alias for selectMany"},{type:"added",content:"		flatMap<TResult>(selector: (value: T) => Observable<TResult>): Observable<TResult>;	// alias for selectMany"},{type:"added",content:"		flatMap<TResult>(selector: (value: T) => IPromise<TResult>): Observable<TResult>;	// alias for selectMany"},{type:"added",content:"		flatMap<TResult>(other: Observable<TResult>): Observable<TResult>;	// alias for selectMany"},{type:"added",content:"		flatMap<TResult>(other: IPromise<TResult>): Observable<TResult>;	// alias for selectMany"},{type:"added",content:""},{type:"added",content:"		selectConcat<T2, R>(selector: (value: T, index: number) => Observable<T2>, resultSelector: (value1: T, value2: T2, index: number) => R): Observable<R>;"},{type:"added",content:"		selectConcat<T2, R>(selector: (value: T, index: number) => IPromise<T2>, resultSelector: (value1: T, value2: T2, index: number) => R): Observable<R>;"},{type:"added",content:"		selectConcat<R>(selector: (value: T, index: number) => Observable<R>): Observable<R>;"},{type:"added",content:"		selectConcat<R>(selector: (value: T, index: number) => IPromise<R>): Observable<R>;"},{type:"added",content:"		selectConcat<R>(sequence: Observable<R>): Observable<R>;"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		*  Projects each element of an observable sequence into a new sequence of observable sequences by incorporating the element's index and then "},{type:"added",content:"		*  transforms an observable sequence of observable sequences into an observable sequence producing values only from the most recent observable sequence."},{type:"added",content:"		* @param selector A transform function to apply to each source element; the second parameter of the function represents the index of the source element."},{type:"added",content:"		* @param [thisArg] Object to use as this when executing callback."},{type:"added",content:"		* @returns An observable sequence whose elements are the result of invoking the transform function on each element of source producing an Observable of Observable sequences "},{type:"added",content:"		*  and that at any point in time produces the elements of the most recent inner observable sequence that has been received."},{type:"added",content:"		*/"},{type:"added",content:"		selectSwitch<TResult>(selector: (value: T, index: number, source: Observable<T>) => Observable<TResult>, thisArg?: any): Observable<TResult>;"},{type:"added",content:"		/**"},{type:"added",content:"		*  Projects each element of an observable sequence into a new sequence of observable sequences by incorporating the element's index and then "},{type:"added",content:"		*  transforms an observable sequence of observable sequences into an observable sequence producing values only from the most recent observable sequence."},{type:"added",content:"		* @param selector A transform function to apply to each source element; the second parameter of the function represents the index of the source element."},{type:"added",content:"		* @param [thisArg] Object to use as this when executing callback."},{type:"added",content:"		* @returns An observable sequence whose elements are the result of invoking the transform function on each element of source producing an Observable of Observable sequences "},{type:"added",content:"		*  and that at any point in time produces the elements of the most recent inner observable sequence that has been received."},{type:"added",content:"		*/"},{type:"added",content:"		flatMapLatest<TResult>(selector: (value: T, index: number, source: Observable<T>) => Observable<TResult>, thisArg?: any): Observable<TResult>;	// alias for selectSwitch"},{type:"added",content:"		/**"},{type:"added",content:"		*  Projects each element of an observable sequence into a new sequence of observable sequences by incorporating the element's index and then "},{type:"added",content:"		*  transforms an observable sequence of observable sequences into an observable sequence producing values only from the most recent observable sequence."},{type:"added",content:"		* @param selector A transform function to apply to each source element; the second parameter of the function represents the index of the source element."},{type:"added",content:"		* @param [thisArg] Object to use as this when executing callback."},{type:"added",content:"		* @since 2.2.28"},{type:"added",content:"		* @returns An observable sequence whose elements are the result of invoking the transform function on each element of source producing an Observable of Observable sequences "},{type:"added",content:"		*  and that at any point in time produces the elements of the most recent inner observable sequence that has been received."},{type:"added",content:"		*/"},{type:"added",content:"		switchMap<TResult>(selector: (value: T, index: number, source: Observable<T>) => TResult, thisArg?: any): Observable<TResult>;	// alias for selectSwitch"},{type:"added",content:""},{type:"added",content:"		skip(count: number): Observable<T>;"},{type:"added",content:"		skipWhile(predicate: (value: T, index: number, source: Observable<T>) => boolean, thisArg?: any): Observable<T>;"},{type:"added",content:"		take(count: number, scheduler?: IScheduler): Observable<T>;"},{type:"added",content:"		takeWhile(predicate: (value: T, index: number, source: Observable<T>) => boolean, thisArg?: any): Observable<T>;"},{type:"added",content:"		where(predicate: (value: T, index: number, source: Observable<T>) => boolean, thisArg?: any): Observable<T>;"},{type:"added",content:"		filter(predicate: (value: T, index: number, source: Observable<T>) => boolean, thisArg?: any): Observable<T>; // alias for where"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		* Converts an existing observable sequence to an ES6 Compatible Promise"},{type:"added",content:"		* @example"},{type:"added",content:"		* var promise = Rx.Observable.return(42).toPromise(RSVP.Promise);"},{type:"added",content:"		* @param promiseCtor The constructor of the promise."},{type:"added",content:"		* @returns An ES6 compatible promise with the last value from the observable sequence."},{type:"added",content:"		*/"},{type:"added",content:"		toPromise<TPromise extends IPromise<T>>(promiseCtor: { new (resolver: (resolvePromise: (value: T) => void, rejectPromise: (reason: any) => void) => void): TPromise; }): TPromise;"},{type:"added",content:"		/**"},{type:"added",content:"		* Converts an existing observable sequence to an ES6 Compatible Promise"},{type:"added",content:"		* @example"},{type:"added",content:"		* var promise = Rx.Observable.return(42).toPromise(RSVP.Promise);"},{type:"added",content:"		* "},{type:"added",content:"		* // With config"},{type:"added",content:"		* Rx.config.Promise = RSVP.Promise;"},{type:"added",content:"		* var promise = Rx.Observable.return(42).toPromise();"},{type:"added",content:"		* @param [promiseCtor] The constructor of the promise. If not provided, it looks for it in Rx.config.Promise."},{type:"added",content:"		* @returns An ES6 compatible promise with the last value from the observable sequence."},{type:"added",content:"		*/"},{type:"added",content:"		toPromise(promiseCtor?: { new (resolver: (resolvePromise: (value: T) => void, rejectPromise: (reason: any) => void) => void): IPromise<T>; }): IPromise<T>;"},{type:"added",content:""},{type:"added",content:"		// Experimental Flattening"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		* Performs a exclusive waiting for the first to finish before subscribing to another observable."},{type:"added",content:"		* Observables that come in between subscriptions will be dropped on the floor."},{type:"added",content:"		* Can be applied on `Observable<Observable<R>>` or `Observable<IPromise<R>>`."},{type:"added",content:"		* @since 2.2.28"},{type:"added",content:"		* @returns A exclusive observable with only the results that happen when subscribed."},{type:"added",content:"		*/"},{type:"added",content:"		exclusive<R>(): Observable<R>;"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		* Performs a exclusive map waiting for the first to finish before subscribing to another observable."},{type:"added",content:"		* Observables that come in between subscriptions will be dropped on the floor."},{type:"added",content:"		* Can be applied on `Observable<Observable<I>>` or `Observable<IPromise<I>>`."},{type:"added",content:"		* @since 2.2.28"},{type:"added",content:"		* @param selector Selector to invoke for every item in the current subscription."},{type:"added",content:"		* @param [thisArg] An optional context to invoke with the selector parameter."},{type:"added",content:"		* @returns {An exclusive observable with only the results that happen when subscribed."},{type:"added",content:"		*/"},{type:"added",content:"		exclusiveMap<I, R>(selector: (value: I, index: number, source: Observable<I>) => R, thisArg?: any): Observable<R>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface ObservableStatic {"},{type:"added",content:"		create<T>(subscribe: (observer: Observer<T>) => IDisposable): Observable<T>;"},{type:"added",content:"		create<T>(subscribe: (observer: Observer<T>) => () => void): Observable<T>;"},{type:"added",content:"		create<T>(subscribe: (observer: Observer<T>) => void): Observable<T>;"},{type:"added",content:"		createWithDisposable<T>(subscribe: (observer: Observer<T>) => IDisposable): Observable<T>;"},{type:"added",content:"		defer<T>(observableFactory: () => Observable<T>): Observable<T>;"},{type:"added",content:"		defer<T>(observableFactory: () => IPromise<T>): Observable<T>;"},{type:"added",content:"		empty<T>(scheduler?: IScheduler): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		* This method creates a new Observable sequence from an array object."},{type:"added",content:"		* @param array An array-like or iterable object to convert to an Observable sequence."},{type:"added",content:"		* @param mapFn Map function to call on every element of the array."},{type:"added",content:"		* @param [thisArg] The context to use calling the mapFn if provided."},{type:"added",content:"		* @param [scheduler] Optional scheduler to use for scheduling.  If not provided, defaults to Scheduler.currentThread."},{type:"added",content:"		*/"},{type:"added",content:"		from<T, TResult>(array: T[], mapFn: (value: T, index: number) => TResult, thisArg?: any, scheduler?: IScheduler): Observable<TResult>;"},{type:"added",content:"		/**"},{type:"added",content:"		* This method creates a new Observable sequence from an array object."},{type:"added",content:"		* @param array An array-like or iterable object to convert to an Observable sequence."},{type:"added",content:"		* @param [mapFn] Map function to call on every element of the array."},{type:"added",content:"		* @param [thisArg] The context to use calling the mapFn if provided."},{type:"added",content:"		* @param [scheduler] Optional scheduler to use for scheduling.  If not provided, defaults to Scheduler.currentThread."},{type:"added",content:"		*/"},{type:"added",content:"		from<T>(array: T[], mapFn?: (value: T, index: number) => T, thisArg?: any, scheduler?: IScheduler): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		* This method creates a new Observable sequence from an array-like object."},{type:"added",content:"		* @param array An array-like or iterable object to convert to an Observable sequence."},{type:"added",content:"		* @param mapFn Map function to call on every element of the array."},{type:"added",content:"		* @param [thisArg] The context to use calling the mapFn if provided."},{type:"added",content:"		* @param [scheduler] Optional scheduler to use for scheduling.  If not provided, defaults to Scheduler.currentThread."},{type:"added",content:"		*/"},{type:"added",content:"		from<T, TResult>(array: { length: number;[index: number]: T; }, mapFn: (value: T, index: number) => TResult, thisArg?: any, scheduler?: IScheduler): Observable<TResult>;"},{type:"added",content:"		/**"},{type:"added",content:"		* This method creates a new Observable sequence from an array-like object."},{type:"added",content:"		* @param array An array-like or iterable object to convert to an Observable sequence."},{type:"added",content:"		* @param [mapFn] Map function to call on every element of the array."},{type:"added",content:"		* @param [thisArg] The context to use calling the mapFn if provided."},{type:"added",content:"		* @param [scheduler] Optional scheduler to use for scheduling.  If not provided, defaults to Scheduler.currentThread."},{type:"added",content:"		*/"},{type:"added",content:"		from<T>(array: { length: number;[index: number]: T; }, mapFn?: (value: T, index: number) => T, thisArg?: any, scheduler?: IScheduler): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		* This method creates a new Observable sequence from an array-like or iterable object."},{type:"added",content:"		* @param array An array-like or iterable object to convert to an Observable sequence."},{type:"added",content:"		* @param [mapFn] Map function to call on every element of the array."},{type:"added",content:"		* @param [thisArg] The context to use calling the mapFn if provided."},{type:"added",content:"		* @param [scheduler] Optional scheduler to use for scheduling.  If not provided, defaults to Scheduler.currentThread."},{type:"added",content:"		*/"},{type:"added",content:"		from<T>(iterable: any, mapFn?: (value: any, index: number) => T, thisArg?: any, scheduler?: IScheduler): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		fromArray<T>(array: T[], scheduler?: IScheduler): Observable<T>;"},{type:"added",content:"		fromArray<T>(array: { length: number;[index: number]: T; }, scheduler?: IScheduler): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		*  Converts an iterable into an Observable sequence"},{type:"added",content:"		*  "},{type:"added",content:"		* @example"},{type:"added",content:"		*  var res = Rx.Observable.fromIterable(new Map());"},{type:"added",content:"		*  var res = Rx.Observable.fromIterable(function* () { yield 42; });"},{type:"added",content:"		*  var res = Rx.Observable.fromIterable(new Set(), Rx.Scheduler.timeout);"},{type:"added",content:"		* @param generator Generator to convert from."},{type:"added",content:"		* @param [scheduler] Scheduler to run the enumeration of the input sequence on."},{type:"added",content:"		* @returns The observable sequence whose elements are pulled from the given generator sequence."},{type:"added",content:"		*/"},{type:"added",content:"		fromIterable<T>(generator: () => { next(): { done: boolean; value?: T; }; }, scheduler?: IScheduler): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		*  Converts an iterable into an Observable sequence"},{type:"added",content:"		*  "},{type:"added",content:"		* @example"},{type:"added",content:"		*  var res = Rx.Observable.fromIterable(new Map());"},{type:"added",content:"		*  var res = Rx.Observable.fromIterable(new Set(), Rx.Scheduler.timeout);"},{type:"added",content:"		* @param iterable Iterable to convert from."},{type:"added",content:"		* @param [scheduler] Scheduler to run the enumeration of the input sequence on."
},{type:"added",content:"		* @returns The observable sequence whose elements are pulled from the given generator sequence."},{type:"added",content:"		*/"},{type:"added",content:"		fromIterable<T>(iterable: {}, scheduler?: IScheduler): Observable<T>;	// todo: can't describe ES6 Iterable via TypeScript type system"},{type:"added",content:"		generate<TState, TResult>(initialState: TState, condition: (state: TState) => boolean, iterate: (state: TState) => TState, resultSelector: (state: TState) => TResult, scheduler?: IScheduler): Observable<TResult>;"},{type:"added",content:"		never<T>(): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		*  This method creates a new Observable instance with a variable number of arguments, regardless of number or type of the arguments."},{type:"added",content:"		* "},{type:"added",content:"		* @example"},{type:"added",content:"		*  var res = Rx.Observable.of(1, 2, 3);"},{type:"added",content:"		* @since 2.2.28"},{type:"added",content:"		* @returns The observable sequence whose elements are pulled from the given arguments."},{type:"added",content:"		*/"},{type:"added",content:"		of<T>(...values: T[]): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		*  This method creates a new Observable instance with a variable number of arguments, regardless of number or type of the arguments. "},{type:"added",content:"		* @example"},{type:"added",content:"		*  var res = Rx.Observable.ofWithScheduler(Rx.Scheduler.timeout, 1, 2, 3);"},{type:"added",content:"		* @since 2.2.28"},{type:"added",content:"		* @param [scheduler] A scheduler to use for scheduling the arguments."},{type:"added",content:"		* @returns The observable sequence whose elements are pulled from the given arguments."},{type:"added",content:"		*/"},{type:"added",content:"		ofWithScheduler<T>(scheduler?: IScheduler, ...values: T[]): Observable<T>;"},{type:"added",content:"		range(start: number, count: number, scheduler?: IScheduler): Observable<number>;"},{type:"added",content:"		repeat<T>(value: T, repeatCount?: number, scheduler?: IScheduler): Observable<T>;"},{type:"added",content:"		return<T>(value: T, scheduler?: IScheduler): Observable<T>;"},{type:"added",content:"		/**"},{type:"added",content:"		 * @since 2.2.28"},{type:"added",content:"		 */"},{type:"added",content:"		just<T>(value: T, scheduler?: IScheduler): Observable<T>;	// alias for return"},{type:"added",content:"		returnValue<T>(value: T, scheduler?: IScheduler): Observable<T>;	// alias for return"},{type:"added",content:"		throw<T>(exception: Error, scheduler?: IScheduler): Observable<T>;"},{type:"added",content:"		throw<T>(exception: any, scheduler?: IScheduler): Observable<T>;"},{type:"added",content:"		throwException<T>(exception: Error, scheduler?: IScheduler): Observable<T>;	// alias for throw"},{type:"added",content:"		throwException<T>(exception: any, scheduler?: IScheduler): Observable<T>;	// alias for throw"},{type:"added",content:"		throwError<T>(error: Error, scheduler?: IScheduler): Observable<T>;	// alias for throw"},{type:"added",content:"		throwError<T>(error: any, scheduler?: IScheduler): Observable<T>;	// alias for throw"},{type:"added",content:""},{type:"added",content:"		catch<T>(sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		catch<T>(sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		catchException<T>(sources: Observable<T>[]): Observable<T>;	// alias for catch"},{type:"added",content:"		catchException<T>(sources: IPromise<T>[]): Observable<T>;	// alias for catch"},{type:"added",content:"		catchError<T>(sources: Observable<T>[]): Observable<T>;	// alias for catch"},{type:"added",content:"		catchError<T>(sources: IPromise<T>[]): Observable<T>;	// alias for catch"},{type:"added",content:"		catch<T>(...sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		catch<T>(...sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		catchException<T>(...sources: Observable<T>[]): Observable<T>;	// alias for catch"},{type:"added",content:"		catchException<T>(...sources: IPromise<T>[]): Observable<T>;	// alias for catch"},{type:"added",content:"		catchError<T>(...sources: Observable<T>[]): Observable<T>;	// alias for catch"},{type:"added",content:"		catchError<T>(...sources: IPromise<T>[]): Observable<T>;	// alias for catch"},{type:"added",content:""},{type:"added",content:"		combineLatest<T, T2, TResult>(first: Observable<T>, second: Observable<T2>, resultSelector: (v1: T, v2: T2) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, TResult>(first: IPromise<T>, second: Observable<T2>, resultSelector: (v1: T, v2: T2) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, TResult>(first: Observable<T>, second: IPromise<T2>, resultSelector: (v1: T, v2: T2) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, TResult>(first: IPromise<T>, second: IPromise<T2>, resultSelector: (v1: T, v2: T2) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, TResult>(first: Observable<T>, second: Observable<T2>, third: Observable<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, TResult>(first: Observable<T>, second: Observable<T2>, third: IPromise<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, TResult>(first: Observable<T>, second: IPromise<T2>, third: Observable<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, TResult>(first: Observable<T>, second: IPromise<T2>, third: IPromise<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, TResult>(first: IPromise<T>, second: Observable<T2>, third: Observable<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, TResult>(first: IPromise<T>, second: Observable<T2>, third: IPromise<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, TResult>(first: IPromise<T>, second: IPromise<T2>, third: Observable<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, TResult>(first: IPromise<T>, second: IPromise<T2>, third: IPromise<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: Observable<T>, second: Observable<T2>, third: Observable<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: Observable<T>, second: Observable<T2>, third: Observable<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: Observable<T>, second: Observable<T2>, third: IPromise<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: Observable<T>, second: Observable<T2>, third: IPromise<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: Observable<T>, second: IPromise<T2>, third: Observable<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: Observable<T>, second: IPromise<T2>, third: Observable<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: Observable<T>, second: IPromise<T2>, third: IPromise<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: Observable<T>, second: IPromise<T2>, third: IPromise<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: IPromise<T>, second: Observable<T2>, third: Observable<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: IPromise<T>, second: Observable<T2>, third: Observable<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: IPromise<T>, second: Observable<T2>, third: IPromise<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: IPromise<T>, second: Observable<T2>, third: IPromise<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: IPromise<T>, second: IPromise<T2>, third: Observable<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: IPromise<T>, second: IPromise<T2>, third: Observable<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: IPromise<T>, second: IPromise<T2>, third: IPromise<T3>, fourth: Observable<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, TResult>(first: IPromise<T>, second: IPromise<T2>, third: IPromise<T3>, fourth: IPromise<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<T, T2, T3, T4, T5, TResult>(first: Observable<T>, second: Observable<T2>, third: Observable<T3>, fourth: Observable<T4>, fifth: Observable<T5>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<TOther, TResult>(souces: Observable<TOther>[], resultSelector: (...otherValues: TOther[]) => TResult): Observable<TResult>;"},{type:"added",content:"		combineLatest<TOther, TResult>(souces: IPromise<TOther>[], resultSelector: (...otherValues: TOther[]) => TResult): Observable<TResult>;"},{type:"added",content:""},{type:"added",content:"		concat<T>(...sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		concat<T>(...sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		concat<T>(sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		concat<T>(sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		merge<T>(...sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		merge<T>(...sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		merge<T>(sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		merge<T>(sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		merge<T>(scheduler: IScheduler, ...sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		merge<T>(scheduler: IScheduler, ...sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		merge<T>(scheduler: IScheduler, sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		merge<T>(scheduler: IScheduler, sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		pairs<T>(obj: { [key: string]: T }, scheduler?: IScheduler): Observable<[string, T]>;"},{type:"added",content:""},{type:"added",content:"		zip<T1, T2, TResult>(first: Observable<T1>, sources: Observable<T2>[], resultSelector: (item1: T1, ...right: T2[]) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, TResult>(first: Observable<T1>, sources: IPromise<T2>[], resultSelector: (item1: T1, ...right: T2[]) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, TResult>(source1: Observable<T1>, source2: Observable<T2>, resultSelector: (item1: T1, item2: T2) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, TResult>(source1: Observable<T1>, source2: IPromise<T2>, resultSelector: (item1: T1, item2: T2) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, TResult>(source1: Observable<T1>, source2: Observable<T2>, source3: Observable<T3>, resultSelector: (item1: T1, item2: T2, item3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, TResult>(source1: Observable<T1>, source2: Observable<T2>, source3: IPromise<T3>, resultSelector: (item1: T1, item2: T2, item3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, TResult>(source1: Observable<T1>, source2: IPromise<T2>, source3: Observable<T3>, resultSelector: (item1: T1, item2: T2, item3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, TResult>(source1: Observable<T1>, source2: IPromise<T2>, source3: IPromise<T3>, resultSelector: (item1: T1, item2: T2, item3: T3) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, T4, TResult>(source1: Observable<T1>, source2: Observable<T2>, source3: Observable<T3>, source4: Observable<T4>, resultSelector: (item1: T1, item2: T2, item3: T3, item4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, T4, TResult>(source1: Observable<T1>, source2: Observable<T2>, source3: Observable<T3>, source4: IPromise<T4>, resultSelector: (item1: T1, item2: T2, item3: T3, item4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, T4, TResult>(source1: Observable<T1>, source2: Observable<T2>, source3: IPromise<T3>, source4: Observable<T4>, resultSelector: (item1: T1, item2: T2, item3: T3, item4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, T4, TResult>(source1: Observable<T1>, source2: Observable<T2>, source3: IPromise<T3>, source4: IPromise<T4>, resultSelector: (item1: T1, item2: T2, item3: T3, item4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, T4, TResult>(source1: Observable<T1>, source2: IPromise<T2>, source3: Observable<T3>, source4: Observable<T4>, resultSelector: (item1: T1, item2: T2, item3: T3, item4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, T4, TResult>(source1: Observable<T1>, source2: IPromise<T2>, source3: Observable<T3>, source4: IPromise<T4>, resultSelector: (item1: T1, item2: T2, item3: T3, item4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, T4, TResult>(source1: Observable<T1>, source2: IPromise<T2>, source3: IPromise<T3>, source4: Observable<T4>, resultSelector: (item1: T1, item2: T2, item3: T3, item4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, T4, TResult>(source1: Observable<T1>, source2: IPromise<T2>, source3: IPromise<T3>, source4: IPromise<T4>, resultSelector: (item1: T1, item2: T2, item3: T3, item4: T4) => TResult): Observable<TResult>;"},{type:"added",content:"		zip<T1, T2, T3, T4, T5, TResult>(source1: Observable<T1>, source2: Observable<T2>, source3: Observable<T3>, source4: Observable<T4>, source5: Observable<T5>, resultSelector: (item1: T1, item2: T2, item3: T3, item4: T4, item5: T5) => TResult): Observable<TResult>;"},{type:"added",content:"		zipArray<T>(...sources: Observable<T>[]): Observable<T[]>;"},{type:"added",content:"		zipArray<T>(sources: Observable<T>[]): Observable<T[]>;"},{type:"added",content:""},{type:"added",content:"		/**"},{type:"added",content:"		* Converts a Promise to an Observable sequence"},{type:"added",content:"		* @param promise An ES6 Compliant promise."},{type:"added",content:"		* @returns An Observable sequence which wraps the existing promise success and failure."},{type:"added",content:"		*/"},{type:"added",content:"		fromPromise<T>(promise: IPromise<T>): Observable<T>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export var Observable: ObservableStatic;"},{type:"added",content:""},{type:"added",content:"	interface ISubject<T> extends Observable<T>, Observer<T>, IDisposable {"},{type:"added",content:"		hasObservers(): boolean;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export interface Subject<T> extends ISubject<T> {"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface SubjectStatic {"},{type:"added",content:"		new <T>(): Subject<T>;"},{type:"added",content:"		create<T>(observer?: Observer<T>, observable?: Observable<T>): ISubject<T>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export var Subject: SubjectStatic;"},{type:"added",content:""},{type:"added",content:"	export interface AsyncSubject<T> extends Subject<T> {"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface AsyncSubjectStatic {"},{type:"added",content:"		new <T>(): AsyncSubject<T>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export var AsyncSubject: AsyncSubjectStatic;"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:647}}}],"typings/rx/rx.d.ts":[{lines:[{type:"added",content:"// Type definitions for RxJS v2.2.28"},{type:"added",content:"// Project: http://rx.codeplex.com/"},{type:"added",content:"// Definitions by: gsino <http://www.codeplex.com/site/users/view/gsino>, Igor Oleinikov <https://github.com/Igorbek>"},{type:"added",content:"// Definitions: https://github.com/borisyankov/DefinitelyTyped"},{type:"added",content:""},{type:"added",content:'///<reference path="rx-lite.d.ts"/>'},{type:"added",content:""},{type:"added",content:"declare module Rx {"},{type:"added",content:"    export interface IScheduler {"},{type:"added",content:"		catch(handler: (exception: any) => boolean): IScheduler;"},{type:"added",content:"		catchException(handler: (exception: any) => boolean): IScheduler;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"    // Observer"},{type:"added",content:"	export interface Observer<T> {"},{type:"added",content:"		checked(): Observer<any>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface ObserverStatic {"},{type:"added",content:"		/**"},{type:"added",content:"		* Schedules the invocation of observer methods on the given scheduler."},{type:"added",content:"		* @param scheduler Scheduler to schedule observer messages on."},{type:"added",content:"		* @returns Observer whose messages are scheduled on the given scheduler."},{type:"added",content:"		*/"},{type:"added",content:"		notifyOn<T>(scheduler: IScheduler): Observer<T>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	export interface Observable<T> {"},{type:"added",content:"		observeOn(scheduler: IScheduler): Observable<T>;"},{type:"added",content:"		subscribeOn(scheduler: IScheduler): Observable<T>;"},{type:"added",content:""},{type:"added",content:"		amb(rightSource: Observable<T>): Observable<T>;"},{type:"added",content:"		amb(rightSource: IPromise<T>): Observable<T>;"},{type:"added",content:"		onErrorResumeNext(second: Observable<T>): Observable<T>;"},{type:"added",content:"		onErrorResumeNext(second: IPromise<T>): Observable<T>;"},{type:"added",content:"		bufferWithCount(count: number, skip?: number): Observable<T[]>;"},{type:"added",content:"		windowWithCount(count: number, skip?: number): Observable<Observable<T>>;"},{type:"added",content:"		defaultIfEmpty(defaultValue?: T): Observable<T>;"},{type:"added",content:"		distinct(skipParameter: boolean, valueSerializer: (value: T) => string): Observable<T>;"},{type:"added",content:"		distinct<TKey>(keySelector?: (value: T) => TKey, keySerializer?: (key: TKey) => string): Observable<T>;"},{type:"added",content:"		groupBy<TKey, TElement>(keySelector: (value: T) => TKey, skipElementSelector?: boolean, keySerializer?: (key: TKey) => string): Observable<GroupedObservable<TKey, T>>;"},{type:"added",content:"		groupBy<TKey, TElement>(keySelector: (value: T) => TKey, elementSelector: (value: T) => TElement, keySerializer?: (key: TKey) => string): Observable<GroupedObservable<TKey, T>>;"},{type:"added",content:"		groupByUntil<TKey, TDuration>(keySelector: (value: T) => TKey, skipElementSelector: boolean, durationSelector: (group: GroupedObservable<TKey, T>) => Observable<TDuration>, keySerializer?: (key: TKey) => string): Observable<GroupedObservable<TKey, T>>;"},{type:"added",content:"		groupByUntil<TKey, TElement, TDuration>(keySelector: (value: T) => TKey, elementSelector: (value: T) => TElement, durationSelector: (group: GroupedObservable<TKey, TElement>) => Observable<TDuration>, keySerializer?: (key: TKey) => string): Observable<GroupedObservable<TKey, TElement>>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface ObservableStatic {"},{type:"added",content:"		using<TSource, TResource extends IDisposable>(resourceFactory: () => TResource, observableFactory: (resource: TResource) => Observable<TSource>): Observable<TSource>;"},{type:"added",content:"		amb<T>(...sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		amb<T>(...sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		amb<T>(sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		amb<T>(sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		onErrorResumeNext<T>(...sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		onErrorResumeNext<T>(...sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"		onErrorResumeNext<T>(sources: Observable<T>[]): Observable<T>;"},{type:"added",content:"		onErrorResumeNext<T>(sources: IPromise<T>[]): Observable<T>;"},{type:"added",content:"	}"},{type:"added",content:""},{type:"added",content:"	interface GroupedObservable<TKey, TElement> extends Observable<TElement> {"},{type:"added",content:"		key: TKey;"},{type:"added",content:"		underlyingObservable: Observable<TElement>;"},{type:"added",content:"	}"},{type:"added",content:"}"},{type:"added",content:""},{type:"added",content:'declare module "rx" {'},{type:"added",content:"    export = Rx"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:67}}}]},sha:"c9ef62de95bc868b9f7222e4a502aca475808afc",message:"Step 7.7: tsd install angular2 meteor",stepNumber:"7.7",summary:"tsd install angular2 meteor"},7.8:{files:{"typings/socially/socially.d.ts":[{lines:[{type:"removed",content:"declare var Parties;"},{type:"added",content:"declare var Parties:Mongo.Collection;"},{type:"context",content:""},{type:"context",content:"interface IParty {"},{type:"context",content:"  _id?: string;"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}}]},sha:"4115d80daf869df235d2158a3a39cef8b44dd3fa",message:"Step 7.8: give Parties a type of Mongo.Collection",stepNumber:"7.8",summary:"give Parties a type of Mongo.Collection"},7.9:{files:{"typings/socially/socially.d.ts":[{lines:[{type:"removed",content:"declare var Parties:Mongo.Collection;"},{type:"added",content:"declare var Parties:Mongo.Collection<IParty>;"},{type:"context",content:""},{type:"context",content:"interface IParty {"},{type:"context",content:"  _id?: string;"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}}]},sha:"44320c87b30c242b61181d0a87dffd3f48e11333",message:"Step 7.9: Provide Parties a generic type of IParty",stepNumber:"7.9",summary:"Provide Parties a generic type of IParty"},"7.10":{files:{".meteor/packages":[{lines:[{type:"context",content:""},{type:"context",content:"meteor-platform"},{type:"context",content:"autopublish"},{type:"removed",content:"insecure"},{type:"added",content:""},{type:"context",content:"shmck:angular2"},{type:"context",content:"netanelgilad:angular2-typescript"},{type:"context",content:"shmck:angular2-router"},{type:"added",content:""},{type:"added",content:"# Accounts"},{type:"added",content:"accounts-password"},{type:"added",content:"accounts-ui"}],lineNumbers:{removed:{start:6,lines:7},added:{start:6,lines:11}}}],"client/parties-form/parties-form.ts":[{lines:[{type:"context",content:"  directives: [FORM_DIRECTIVES]"},{type:"context",content:"})"},{type:"context",content:"export class PartiesForm {"},{type:"added",content:"  partiesForm: ControlGroup;"},{type:"context",content:"  constructor() {"},{type:"context",content:"    this.partiesForm = new ControlGroup({"},{type:"context",content:"      name: new Control('', Validators.required),"},{type:"context",content:"      description: new Control('', Validators.required)"},{type:"context",content:"    });"},{type:"context",content:"  }"},{type:"removed",content:"  add(party) {"},{type:"added",content:"  add(party:IParty) {"},{type:"context",content:"    // validate if the form is valid"},{type:"context",content:"    if (this.partiesForm.valid) {"},{type:"context",content:""}],lineNumbers:{removed:{start:9,lines:13},added:{start:9,lines:14}}}],"client/parties-list/parties-list.ts":[{lines:[{type:"context",content:"      this.parties = Parties.find().fetch();"},{type:"context",content:"    }));"},{type:"context",content:"  }"},{type:"removed",content:"  remove(party) {"},{type:"added",content:"  remove(party:IParty) {"},{type:"context",content:"    Parties.remove(party._id);"},{type:"context",content:"  }"},{type:"context",content:"}"}],lineNumbers:{removed:{start:16,lines:7},added:{start:16,lines:7}}}],"typings/socially/socially.d.ts":[{lines:[{type:"context",content:"declare var Parties:Mongo.Collection<IParty>;"},{type:"added",content:"declare var _;"},{type:"added",content:"declare var zone;"},{type:"context",content:""},{type:"context",content:"interface IParty {"},{type:"context",content:"  _id?: string;"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:6}}}]},sha:"b08f4069144113fbcf5fbfa47bccc6f1d2c591a0",message:"Step 7.10: implement typescript features. multiple files.",stepNumber:"7.10",summary:"implement typescript features. multiple files."},8.1:{files:{"client/index.html":[{lines:[{type:"context",content:'  <base href="/">'},{type:"context",content:"</head>"},{type:"context",content:"<body>"},{type:"added",content:"  {{> loginButtons}}"},{type:"context",content:"  <app></app>"},{type:"context",content:'  <script>System.import("client/app");</script>'},{type:"context",content:"</body>"}],lineNumbers:{removed:{start:2,lines:6},added:{start:2,lines:7}}}]},sha:"d9499817e767b5f13740123611a81a09e1b48e1c",message:"Step 8.1: Add loginButtons template to index.html",stepNumber:"8.1",summary:"Add loginButtons template to index.html"},8.3:{files:{"model/parties.ts":[{lines:[{type:"removed",content:"Parties = new Mongo.Collection('parties');"},{type:"added",content:"Parties = new Mongo.Collection('parties');"},{type:"added",content:""},{type:"added",content:"Parties.allow({"},{type:"added",content:"  insert: function (party:IParty) {"},{type:"added",content:"    var userId = Meteor.userId();"},{type:"added",content:"    return userId && party.owner === userId;"},{type:"added",content:"  },"},{type:"added",content:"  update: function (party:IParty, fields, modifier) {"},{type:"added",content:"    var userId = Meteor.userId();"},{type:"added",content:"    return userId && party.owner === userId;"},{type:"added",content:"  },"},{type:"added",content:"  remove: function (party:IParty) {"},{type:"added",content:"    var userId = Meteor.userId();"},{type:"added",content:"    return userId && party.owner === userId;"},{type:"added",content:"  }"},{type:"added",content:"});"}],lineNumbers:{removed:{start:1,lines:null},added:{start:1,lines:16}}}]},sha:"cd97fbb7fbf3b65c4cfe652bf7568a4f06a9bb97",message:"Step 8.3: Create security rules for insert, update & removing Parties",stepNumber:"8.3",summary:"Create security rules for insert, update & removing Parties"},8.4:{files:{"typings/socially/socially.d.ts":[{lines:[{type:"context",content:"  _id?: string;"},{type:"context",content:"  name: string;"},{type:"context",content:"  description: string;"},{type:"added",content:"  owner: string;"},{type:"context",content:"}"}],lineNumbers:{removed:{start:6,lines:4},added:{start:6,lines:5}}}]},sha:"fe303e79df0706265fba336d54b6c67e4ef7734f",message:"Step 8.4: Add owner to IParty interface",stepNumber:"8.4",summary:"Add owner to IParty interface"},8.5:{files:{"client/parties-form/parties-form.ts":[{lines:[{type:"context",content:"      // insert parties (insecure way)"},{type:"context",content:"      Parties.insert({"},{type:"context",content:"        name: party.name,"},{type:"removed",content:"        description: party.description"},{type:"added",content:"        description: party.description,"},{type:"added",content:"        owner: Meteor.userId()"},{type:"context",content:"      });"},{type:"context",content:""},{type:"context",content:"      //reset input values to empty strings"}],lineNumbers:{removed:{start:23,lines:7},added:{start:23,lines:8}}}]},sha:"58750fa0f2e3ee5c901f6227ec3c46ade23e3df1",message:"Step 8.5: add owner to PartiesForm add method",stepNumber:"8.5",summary:"add owner to PartiesForm add method"},8.6:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"      _.isString(party.description) && party.description.length) {"},{type:"context",content:"      Parties.update(party._id, {"},{type:"context",content:"        name: party.name,"},{type:"removed",content:"        description: party.description"},{type:"added",content:"        description: party.description,"},{type:"added",content:"        owner: Meteor.userId()"},{type:"context",content:"      });"},{type:"context",content:"      this.resetToParty = _.clone(party);"},{type:"context",content:"    }"}],lineNumbers:{removed:{start:24,lines:7},added:{start:24,lines:8}}}]},sha:"c8d367987b745e9960b818cb58304cebc4f01a04",message:"Step 8.6: Add owner to PartyDetails save method",stepNumber:"8.6",summary:"Add owner to PartyDetails save method"},8.7:{files:{"client/lib/party-service.ts":[{lines:[{type:"added",content:"export class PartyService {"},{type:"added",content:"  add(party) { }"},{type:"added",content:"  update (party) { }"},{type:"added",content:"  remove(partyId) { }"},{type:"added",content:"}"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:5}}}]},sha:"829bd2871ba0f30e35c93a79479a56fab8f7b93c",message:"Step 8.7: PartyService init",stepNumber:"8.7",summary:"PartyService init"},8.8:{files:{"client/lib/party-service.ts":[{lines:[{type:"context",content:"export class PartyService {"},{type:"removed",content:"  add(party) { }"},{type:"removed",content:"  update (party) { }"},{type:"removed",content:"  remove(partyId) { }"},{type:"added",content:"  add(party:IParty) { }"},{type:"added",content:"  update (party:IParty) { }"},{type:"added",content:"  remove(partyId:string) { }"},{type:"context",content:"}"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:5}}}]},sha:"fd00f46a15f171a5ae1bb14531a2a7a7d264f94d",message:"Step 8.8: Add types to PartyService",stepNumber:"8.8",summary:"Add types to PartyService"},8.9:{files:{"client/lib/party-service.ts":[{lines:[{type:"context",
content:"  add(party:IParty) { }"},{type:"context",content:"  update (party:IParty) { }"},{type:"context",content:"  remove(partyId:string) { }"},{type:"added",content:"  getPartyObject(party:IParty) {"},{type:"added",content:"    return {"},{type:"added",content:"      name: party.name,"},{type:"added",content:"      description: party.description,"},{type:"added",content:"      user: Meteor.userId()"},{type:"added",content:"    };"},{type:"added",content:"  }"},{type:"context",content:"}"}],lineNumbers:{removed:{start:2,lines:4},added:{start:2,lines:11}}}]},sha:"1b9c1de4de210c6720be05360613ed9025ee7115",message:"Step 8.9: create getPartyObject in PartyService",stepNumber:"8.9",summary:"create getPartyObject in PartyService"},"8.10":{files:{"client/lib/party-service.ts":[{lines:[{type:"context",content:"export class PartyService {"},{type:"removed",content:"  add(party:IParty) { }"},{type:"removed",content:"  update (party:IParty) { }"},{type:"removed",content:"  remove(partyId:string) { }"},{type:"added",content:"  add(party:IParty) {"},{type:"added",content:"    Parties.insert(this.getPartyObject(party));"},{type:"added",content:"  }"},{type:"added",content:"  update (party:IParty) {"},{type:"added",content:"    Parties.update(party._id, this.getPartyObject(party));"},{type:"added",content:"  }"},{type:"added",content:"  remove(partyId:string) {"},{type:"added",content:"    Parties.remove(partyId);"},{type:"added",content:"  }"},{type:"context",content:"  getPartyObject(party:IParty) {"},{type:"context",content:"    return {"},{type:"context",content:"      name: party.name,"}],lineNumbers:{removed:{start:1,lines:7},added:{start:1,lines:13}}}]},sha:"b94994d83392968a8435ab8483762027482a8060",message:"Step 8.10: create add, update, & remove methods on PartyService",stepNumber:"8.10",summary:"create add, update, & remove methods on PartyService"},8.11:{files:{"client/parties-list/parties-list.ts":[{lines:[{type:"removed",content:"import {Component, View, NgFor, bootstrap} from 'angular2/angular2';"},{type:"added",content:"import {Component, View, NgFor, Inject, bootstrap} from 'angular2/angular2';"},{type:"context",content:"import {RouterLink} from 'angular2/router';"},{type:"context",content:"import {PartiesForm} from 'client/parties-form/parties-form';"},{type:"added",content:"import {PartyService} from 'client/lib/party-service';"},{type:"context",content:""},{type:"context",content:"@Component({"},{type:"removed",content:"  selector: 'parties-list'"},{type:"added",content:"  selector: 'parties-list',"},{type:"added",content:"  viewBindings: [PartyService]"},{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"context",content:"  templateUrl: 'client/parties-list/parties-list.ng.html',"}],lineNumbers:{removed:{start:1,lines:9},added:{start:1,lines:11}}},{lines:[{type:"context",content:"})"},{type:"context",content:"export class PartiesList {"},{type:"context",content:"  parties: IParty[];"},{type:"removed",content:"  constructor () {"},{type:"added",content:"  partyService:PartyService;"},{type:"added",content:"  constructor (@Inject(PartyService) partyService:PartyService) {"},{type:"added",content:"    this.partyService = partyService;"},{type:"context",content:"    Tracker.autorun(zone.bind(() => {"},{type:"context",content:"      this.parties = Parties.find().fetch();"},{type:"context",content:"    }));"},{type:"context",content:"  }"},{type:"context",content:"  remove(party:IParty) {"},{type:"removed",content:"    Parties.remove(party._id);"},{type:"added",content:"    this.partyService.remove(party._id);"},{type:"context",content:"  }"},{type:"context",content:"}"}],lineNumbers:{removed:{start:11,lines:12},added:{start:13,lines:14}}}]},sha:"10fd6e2fd8d69a470c7836bca1dadb5eaf4e7e7c",message:"Step 8.11: modify PartiesList to use PartyService.remove",stepNumber:"8.11",summary:"modify PartiesList to use PartyService.remove"},8.12:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"import {Component, View, Inject} from 'angular2/angular2';"},{type:"context",content:"import {RouteParams, RouterLink} from 'angular2/router';"},{type:"context",content:"import {FORM_DIRECTIVES} from 'angular2/angular2';"},{type:"added",content:"import {PartyService} from 'client/lib/party-service';"},{type:"context",content:""},{type:"context",content:"@Component({"},{type:"removed",content:"  selector: 'party-details'"},{type:"added",content:"  selector: 'party-details',"},{type:"added",content:"  viewBindings: [PartyService]"},{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"context",content:"  templateUrl: 'client/party-details/party-details.ng.html',"}],lineNumbers:{removed:{start:1,lines:9},added:{start:1,lines:11}}},{lines:[{type:"context",content:"  partyId: string;"},{type:"context",content:"  party: IParty;"},{type:"context",content:"  resetToParty: IParty;"},{type:"removed",content:"  constructor(@Inject(RouteParams) routeParams:RouteParams) {"},{type:"added",content:"  partyService:PartyService;"},{type:"added",content:"  constructor(@Inject(RouteParams) routeParams:RouteParams,"},{type:"added",content:"  @Inject(PartyService) partyService:PartyService) {"},{type:"added",content:"    this.partyService = partyService;"},{type:"context",content:"    this.partyId = routeParams.params.partyId;"},{type:"context",content:"  }"},{type:"context",content:"  save(event) {"}],lineNumbers:{removed:{start:13,lines:7},added:{start:15,lines:10}}},{lines:[{type:"context",content:""},{type:"context",content:"    if (_.isString(party.name) && party.name.length &&"},{type:"context",content:"      _.isString(party.description) && party.description.length) {"},{type:"removed",content:"      Parties.update(party._id, {"},{type:"removed",content:"        name: party.name,"},{type:"removed",content:"        description: party.description,"},{type:"removed",content:"        owner: Meteor.userId()"},{type:"removed",content:"      });"},{type:"added",content:"      this.partyService.update(party);"},{type:"context",content:"      this.resetToParty = _.clone(party);"},{type:"context",content:"    }"},{type:"context",content:"  }"}],lineNumbers:{removed:{start:22,lines:11},added:{start:27,lines:7}}}]},sha:"99e854c835b117e50d580a18674ede770a61cde8",message:"Step 8.12: mody PartyDetails to use PartyService.update",stepNumber:"8.12",summary:"mody PartyDetails to use PartyService.update"},8.13:{files:{"client/parties-form/parties-form.ts":[{lines:[{type:"removed",content:"import {Component, View} from 'angular2/angular2';"},{type:"added",content:"import {Component, View, Inject} from 'angular2/angular2';"},{type:"context",content:"import {FORM_DIRECTIVES, Control, ControlGroup, Validators} from 'angular2/angular2';"},{type:"added",content:"import {PartyService} from 'client/lib/party-service';"},{type:"context",content:""},{type:"context",content:"@Component({"},{type:"context",content:"  selector: 'parties-form'"}],lineNumbers:{removed:{start:1,lines:5},added:{start:1,lines:6}}},{lines:[{type:"context",content:"})"},{type:"context",content:"export class PartiesForm {"},{type:"context",content:"  partiesForm: ControlGroup;"},{type:"removed",content:"  constructor() {"},{type:"added",content:"  partyService: PartyService;"},{type:"added",content:"  constructor(@Inject(PartyService) partyService:PartyService) {"},{type:"added",content:"    this.partyService = partyService;"},{type:"context",content:"    this.partiesForm = new ControlGroup({"},{type:"context",content:"      name: new Control('', Validators.required),"},{type:"context",content:"      description: new Control('', Validators.required)"}],lineNumbers:{removed:{start:10,lines:7},added:{start:11,lines:9}}},{lines:[{type:"context",content:"    if (this.partiesForm.valid) {"},{type:"context",content:""},{type:"context",content:"      // insert parties (insecure way)"},{type:"removed",content:"      Parties.insert({"},{type:"removed",content:"        name: party.name,"},{type:"removed",content:"        description: party.description,"},{type:"removed",content:"        owner: Meteor.userId()"},{type:"removed",content:"      });"},{type:"added",content:"     this.partyService.add(party);"},{type:"context",content:""},{type:"context",content:"      //reset input values to empty strings"},{type:"context",content:"      this.partiesForm.controls.name.updateValue('');"}],lineNumbers:{removed:{start:21,lines:11},added:{start:24,lines:7}}}]},sha:"e31c6490475044336a42d99143b3ec2644138940",message:"Step 8.13: modify PartiesForm to use PartyService.add",stepNumber:"8.13",summary:"modify PartiesForm to use PartyService.add"},8.14:{files:{".meteor/packages":[{lines:[{type:"context",content:"# Accounts"},{type:"context",content:"accounts-password"},{type:"context",content:"accounts-ui"},{type:"added",content:"accounts-facebook"},{type:"added",content:"accounts-twitter"}],lineNumbers:{removed:{start:14,lines:3},added:{start:14,lines:5}}}]},sha:"d0b8f931cab5ba6383418fc3adf7b521b4ff922f",message:"Step 8.14: add accounts-facebook, accounts-twitter packages",stepNumber:"8.14",summary:"add accounts-facebook, accounts-twitter packages"},8.15:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"    event.preventDefault();"},{type:"context",content:"    this.party = this.resetToParty;"},{type:"context",content:"  }"},{type:"added",content:"  canActivate() {"},{type:"added",content:"    return Meteor.userId();"},{type:"added",content:"  }"},{type:"context",content:"  onActivate() {"},{type:"context",content:"    this.party = Parties.find(this.partyId).fetch()[0];"},{type:"context",content:"    if (this.party) {"}],lineNumbers:{removed:{start:35,lines:6},added:{start:35,lines:9}}}]},sha:"d2af45c71eeac499b22fba06f499064e683d3a81",message:"Step 8.15: Add canActivate to PartyDetails to verify user is logged in",stepNumber:"8.15",summary:"Add canActivate to PartyDetails to verify user is logged in"},8.16:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"    this.party = this.resetToParty;"},{type:"context",content:"  }"},{type:"context",content:"  canActivate() {"},{type:"added",content:"    if (!Meteor.userId()) {"},{type:"added",content:"      alert('Please login first');"},{type:"added",content:"      return false;"},{type:"added",content:"    }"},{type:"context",content:"    return Meteor.userId();"},{type:"context",content:"  }"},{type:"context",content:"  onActivate() {"}],lineNumbers:{removed:{start:36,lines:6},added:{start:36,lines:10}}}]},sha:"6481ab892b64cee837db9d2b5aa780301f5fbadf",message:"Step 8.16: User login alert during canActivate failure",stepNumber:"8.16",summary:"User login alert during canActivate failure"},9.1:{files:{".meteor/packages":[{lines:[{type:"context",content:"# but you can also edit it by hand."},{type:"context",content:""},{type:"context",content:"meteor-platform"},{type:"removed",content:"autopublish"},{type:"context",content:""},{type:"context",content:"shmck:angular2"},{type:"context",content:"netanelgilad:angular2-typescript"}],lineNumbers:{removed:{start:5,lines:7},added:{start:5,lines:6}}}]},sha:"f2cb4b6f4decea7fb7073f43d52127d023293d7b",message:"Step 9.1: remove autopublish package",stepNumber:"9.1",summary:"remove autopublish package"},9.2:{files:{"server/parties.ts":[{lines:[{type:"added",content:"Meteor.publish('parties', function () {"},{type:"added",content:"  return Parties.find();"},{type:"added",content:"});"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:3}}}]},sha:"b872b14a38eb66c7d2c6c4a849249192eeeefba6",message:"Step 9.2: Publish parties collection",stepNumber:"9.2",summary:"Publish parties collection"},9.3:{files:{"client/parties-list/parties-list.ts":[{lines:[{type:"context",content:"  parties: IParty[];"},{type:"context",content:"  partyService:PartyService;"},{type:"context",content:"  constructor (@Inject(PartyService) partyService:PartyService) {"},{type:"added",content:"    Meteor.subscribe('parties');"},{type:"context",content:"    this.partyService = partyService;"},{type:"context",content:"    Tracker.autorun(zone.bind(() => {"},{type:"context",content:"      this.parties = Parties.find().fetch();"}],lineNumbers:{removed:{start:15,lines:6},added:{start:15,lines:7}}}]},sha:"39f93ef1eeb988caa2eeeb751548c75f132341dd",message:"Step 9.3: subscribe to parties colleciton in PartiesList",stepNumber:"9.3",summary:"subscribe to parties colleciton in PartiesList"},9.4:{files:{"server/parties.ts":[{lines:[{type:"context",content:"Meteor.publish('parties', function () {"},{type:"removed",content:"  return Parties.find();"},{type:"added",content:"  return Parties.find({"},{type:"added",content:"    $or:["},{type:"added",content:"      {$and:["},{type:"added",content:'        {"isPublic": true},'},{type:"added",content:'        {"isPublic": {$exists: true}}'},{type:"added",content:"      ]},"},{type:"added",content:"      {$and:["},{type:"added",content:"        {owner: this.userId},"},{type:"added",content:"        {owner: {$exists: true}}"},{type:"added",content:"      ]}"},{type:"added",content:"    ]});"},{type:"context",content:"});"}],lineNumbers:{removed:{start:1,lines:3},added:{start:1,lines:13}}}]},sha:"67acd1b6577b12eccd5d2f51b5c90193a74ca977",message:"Step 9.4: publish only parties that are public or owned by the user",stepNumber:"9.4",summary:"publish only parties that are public or owned by the user"},9.5:{files:{"server/loadParties.ts":[{lines:[{type:"context",content:"Meteor.startup(function () {"},{type:"context",content:"  if (Parties.find().count() === 0) {"},{type:"context",content:""},{type:"removed",content:"    var parties:IParty[] = ["},{type:"removed",content:"      {'name': 'Dubstep-Free Zone',"},{type:"removed",content:"        'description': 'Can we please just for an evening not listen to dubstep.'},"},{type:"removed",content:"      {'name': 'All dubstep all the time',"},{type:"removed",content:"        'description': 'Get it on!'},"},{type:"removed",content:"      {'name': 'Savage lounging',"},{type:"removed",content:"        'description': 'Leisure suit required. And only fiercest manners.'}"},{type:"removed",content:"    ];"},{type:"added",content:"    var parties:IParty[] = [{"},{type:"added",content:"      name: 'Dubstep-Free Zone',"},{type:"added",content:"      description: 'Can we please just for an evening not listen to dubstep.',"},{type:"added",content:"      owner: 'anonymous',"},{type:"added",content:"      isPublic: true"},{type:"added",content:"    }, {"},{type:"added",content:"      name: 'All dubstep all the time',"},{type:"added",content:"      description: 'Get it on!',"},{type:"added",content:"      owner: 'anonymous',"},{type:"added",content:"      isPublic: true"},{type:"added",content:"    }, {"},{type:"added",content:"      name: 'Savage lounging',"},{type:"added",content:"      description: 'Leisure suit required. And only fiercest manners.',"},{type:"added",content:"      owner: 'anonymous',"},{type:"added",content:"      isPublic: false"},{type:"added",content:"    }];"},{type:"context",content:""},{type:"context",content:"    for (var i = 0; i < parties.length; i++)"},{type:"context",content:"      Parties.insert(parties[i]);"}],lineNumbers:{removed:{start:1,lines:14},added:{start:1,lines:22}}}]},sha:"4f33a06419df6c3cf013ba4b1ba36744cf35cfb4",message:"Step 9.5: load initial parties with owner and isPublic values",stepNumber:"9.5",summary:"load initial parties with owner and isPublic values"},9.6:{files:{"typings/socially/socially.d.ts":[{lines:[{type:"context",content:"  name: string;"},{type:"context",content:"  description: string;"},{type:"context",content:"  owner: string;"},{type:"added",content:"  isPublic: boolean;"},{type:"context",content:"}"}],lineNumbers:{removed:{start:7,lines:4},added:{start:7,lines:5}}}]},sha:"1aa6a2e3c04a998e533262a5b847335bcab8a1b9",message:"Step 9.6: Add isPublic value to IParty interface",stepNumber:"9.6",summary:"Add isPublic value to IParty interface"},9.7:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"    return Meteor.userId();"},{type:"context",content:"  }"},{type:"context",content:"  onActivate() {"},{type:"added",content:"    Meteor.subscribe('parties', this.partyId);"},{type:"context",content:"    this.party = Parties.find(this.partyId).fetch()[0];"},{type:"context",content:"    if (this.party) {"},{type:"context",content:"      console.log('loading...');"}],lineNumbers:{removed:{start:43,lines:6},added:{start:43,lines:7}}}]},sha:"07b038c3e7c1adbee7186d9eb69ad3f410b5cb1d",message:"Step 9.7: Subscribe to parties in PartyDetails",stepNumber:"9.7",summary:"Subscribe to parties in PartyDetails"},9.8:{files:{"client/parties-form/parties-form.ts":[{lines:[{type:"context",content:"    this.partyService = partyService;"},{type:"context",content:"    this.partiesForm = new ControlGroup({"},{type:"context",content:"      name: new Control('', Validators.required),"},{type:"removed",content:"      description: new Control('', Validators.required)"},{type:"added",content:"      description: new Control('', Validators.required),"},{type:"added",content:"      isPublic: new Control(false)"},{type:"context",content:"    });"},{type:"context",content:"  }"},{type:"context",content:"  add(party:IParty) {"}],lineNumbers:{removed:{start:16,lines:7},added:{start:16,lines:8}}}]},sha:"b8fed2023c06bfa50ae040f5f14c4b7a8bc51bc5",message:"Step 9.8: add isPublic to PartiesForm form",stepNumber:"9.8",summary:"add isPublic to PartiesForm form"},9.9:{files:{"client/parties-form/parties-form.ng.html":[{lines:[{type:"context",content:'  <input type="text" ng-control="name">'},{type:"context",content:"  <label>Description</label>"},{type:"context",content:'  <input type="text" ng-control="description">'},{type:"added",content:"  <label>Public</label>"},{type:"added",content:'  <input type="checkbox" ng-control="isPublic">'},{type:"context",content:"  <button>Add</button>"},{type:"context",content:"</form>"}],lineNumbers:{removed:{start:3,lines:5},added:{start:3,lines:7}}}]},sha:"e6f2df0654986561c0d07b57731752dbcf52faac",message:"Step 9.9: add isPublic to parties-form template",stepNumber:"9.9",summary:"add isPublic to parties-form template"},"9.10":{files:{"client/party-details/party-details.ng.html":[{lines:[{type:"context",content:"  <label>Description</label>"},{type:"context",content:'  <input type="text" [(ng-model)]="party.description">'},{type:"context",content:""},{type:"added",content:"  <label>Is public</label>"},{type:"added",content:'  <input type="checkbox" [(ng-model)]="party.isPublic">'},{type:"added",content:""},{type:"context",content:'  <button type="submit">Save</button>'},{type:"context",content:'  <button (click)="reset($event)">Reset form</button>'},{type:"context",content:"  <button [router-link]=\"['/parties-list']\">Cancel</button>"}],lineNumbers:{removed:{start:5,lines:6},added:{start:5,lines:9}}}]},sha:"d759683926c20c4fc56262f81a286b61d795dd52",message:"Step 9.10: add isPublic to party-details template form",stepNumber:"9.10",summary:"add isPublic to party-details template form"},9.11:{files:{"server/users.ts":[{lines:[{type:"added",content:'Meteor.publish("users", function () {'},{type:"added",content:"  return Meteor.users.find({}, {fields: {emails: 1, profile: 1}});"},{type:"added",content:"});"}],lineNumbers:{removed:{start:0,lines:0},added:{start:1,lines:3}}}]},sha:"fcee302b04b40103bf6cc27a0c25edab4d3c52ea",message:"Step 9.11: Publish email and profile fields of users",stepNumber:"9.11",summary:"Publish email and profile fields of users"},9.12:{files:{"client/party-details/party-details.ts":[{lines:[{type:"context",content:"    return Meteor.userId();"},{type:"context",content:"  }"},{type:"context",content:"  onActivate() {"},{type:"added",content:"    Meteor.subscribe('users');"},{type:"added",content:"    this.users = Meteor.users();"},{type:"context",content:"    Meteor.subscribe('parties', this.partyId);"},{type:"context",content:"    this.party = Parties.find(this.partyId).fetch()[0];"},{type:"context",content:"    if (this.party) {"}],lineNumbers:{removed:{start:43,lines:6},added:{start:43,lines:8}}}]},sha:"621b52a5a773d2d7275263b435ad937666c4ac04",message:"Step 9.12: subscribe to users in PartyDetails",stepNumber:"9.12",summary:"subscribe to users in PartyDetails"},9.13:{files:{"client/party-details/party-details.ts":[{lines:[{type:"removed",content:"import {Component, View, Inject} from 'angular2/angular2';"},{type:"added",content:"import {Component, View, Inject, NgFor} from 'angular2/angular2';"},{type:"context",content:"import {RouteParams, RouterLink} from 'angular2/router';"},{type:"context",content:"import {FORM_DIRECTIVES} from 'angular2/angular2';"},{type:"context",content:"import {PartyService} from 'client/lib/party-service';"}],lineNumbers:{removed:{start:1,lines:4},added:{start:1,lines:4}}},{lines:[{type:"context",content:"})"},{type:"context",content:"@View({"},{type:"context",content:"  templateUrl: 'client/party-details/party-details.ng.html',"},{type:"removed",content:"  directives: [RouterLink, FORM_DIRECTIVES]"},{type:"added",content:"  directives: [RouterLink, FORM_DIRECTIVES, NgFor]"},{type:"context",content:"})"},{type:"context",content:"export class PartyDetails {"},{type:"context",content:"  partyId: string;"}],lineNumbers:{removed:{start:9,lines:7},added:{start:9,lines:7}}}]},sha:"48e0c4a6ab0925580227019faa3e18a16264be0f",message:"Step 9.13: load NgFor into PartyDetails",stepNumber:"9.13",summary:"load NgFor into PartyDetails"},9.14:{files:{"client/party-details/party-details.ng.html":[{lines:[{type:"removed",content:'<form (submit)="save($event)">'},{type:"removed",content:"  <label>Name</label>"},{type:"removed",content:'  <input type="text" [(ng-model)]="party.name">'},{type:"added",content:"<div>"},{type:"added",content:'  <form (submit)="save($event)">'},{type:"added",content:"    <label>Name</label>"},{type:"added",content:'    <input type="text" [(ng-model)]="party.name">'},{type:"context",content:""},{type:"removed",content:"  <label>Description</label>"},{type:"removed",content:'  <input type="text" [(ng-model)]="party.description">'},{type:"added",content:"    <label>Description</label>"},{type:"added",content:'    <input type="text" [(ng-model)]="party.description">'},{type:"context",content:""},{type:"removed",content:"  <label>Is public</label>"},{type:"removed",content:'  <input type="checkbox" [(ng-model)]="party.isPublic">'},{type:"added",content:"    <label>Is public</label>"},{type:"added",content:'    <input type="checkbox" [(ng-model)]="party.isPublic">'},{type:"context",content:""},{type:"removed",content:'  <button type="submit">Save</button>'},{type:"removed",content:'  <button (click)="reset($event)">Reset form</button>'},{type:"removed",content:"  <button [router-link]=\"['/parties-list']\">Cancel</button>"},{type:"removed",content:"</form>"},{type:"added",content:'    <button type="submit">Save</button>'},{type:"added",content:'    <button (click)="reset($event)">Reset form</button>'},{type:"added",content:"    <button [router-link]=\"['/parties-list']\">Cancel</button>"},{type:"added",content:"  </form>"},{type:"added",content:""},{type:"added",content:"  <ul>"},{type:"added",content:"    Users:"},{type:"added",content:'    <li *ng-for="#user of users">'},{type:"added",content:"      <div>{{ user.emails[0].address }}</div>"},{type:"added",content:"    </li>"},{type:"added",content:"  </ul>"},{type:"added",content:"</div>"}],lineNumbers:{removed:{start:1,lines:14},added:{start:1,lines:23}}}]},sha:"9db2124dc22864ef8b76ee456c0b8f77c54fa997",message:"Step 9.14: add ngFor to party-details template",stepNumber:"9.14",summary:"add ngFor to party-details template"}}}();

!function(){Template.tutorials.helpers({tutorials:function(){return TUTORIALS}}),Template.gitHubBox.helpers({gitHubBoxKeys:function(){var e=this;return e.sha&&e.parent.ghRepoName},stepNumber:function(){return parseInt(this.id,10)+1}});var e=function(e){var t,n;document.body.createTextRange?(t=document.body.createTextRange(),t.moveToElementText(e),t.select()):window.getSelection&&(n=window.getSelection(),t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t))};Template.codeBox.events({"click .select-all":function(t,n){e(n.find(".code-box-content code"))}})}();

!function(){Router.configure({layoutTemplate:"layout",notFoundTemplate:"notFound",seoTitle:"angular-meteor",seoAuthor:"Uri Goldshtein",seoDesc:"angular-meteor is a realtime full stack that combines the best frameworks. use your existing Angular applications with Meteor - the best backend framework for AngularJS applications.",seoType:"website",seoImage:"https://angular-meteor.com/images/logo-large.png",seoTwitter:"@urigoldshtein"}),Meteor.isClient&&(Router.onAfterAction(setSeo),Router.onAfterAction(scrollToTop)),Router.map(function(){var t=this;t.route("home",{path:"/",seoTitle:"angular-meteor"}),t.route("angular2",{path:"/angular2",template:"angular2",seoTitle:"Angular 2.0 Meteor"}),t.route("manifesto",{path:"/manifesto",template:"manifesto",seoTitle:"Angular Meteor Manifesto"}),redirect("/manifest","/manifesto"),t.route("about",{path:"/about",template:"about.html",seoTitle:"About Angular Meteor"}),createSubRoutes(TUTORIALS),redirect("/tutorials","/tutorialIntro"),redirect("/tutorial","/tutorialIntro"),redirect("/tutorial/step_00","/tutorials/angular1/bootstrapping"),redirect("/tutorial/step_01","/tutorials/angular1/static-template"),redirect("/tutorial/step_02","/tutorials/angular1/dynamic-template"),redirect("/tutorial/step_03","/tutorials/angular1/3-way-data-binding"),redirect("/tutorial/step_04","/tutorials/angular1/adding-removing-objects-and-angular-event-handling"),redirect("/tutorial/step_05","/tutorials/angular1/routing-and-multiple-views"),redirect("/tutorial/step_06","/tutorials/angular1/bind-one-object"),redirect("/tutorial/step_07","/tutorials/angular1/folder-structure"),redirect("/tutorial/step_08","/tutorials/angular1/user-accounts-authentication-and-permissions"),redirect("/tutorial/step_09","/tutorials/angular1/privacy-and-publish-subscribe-functions"),redirect("/tutorial/step_10","/tutorials/angular1/deploying-your-app"),redirect("/tutorial/step_11","/tutorials/angular1/running-your-app-on-android-or-ios-with-phoneGap"),redirect("/tutorial/step_12","/tutorials/angular1/search-sort-pagination-and-reactive-vars"),redirect("/tutorial/step_13","/tutorials/angular1/using-and-creating-angularjs-filters"),redirect("/tutorial/step_14","/tutorials/angular1/meteor-methods-with-promises"),redirect("/tutorial/step_15","/tutorials/angular1/conditional-template-directives-with-angularjs"),redirect("/tutorial/step_16","/tutorials/angular1/google-maps"),redirect("/tutorial/step_17","/tutorials/angular1/css-less-and-bootstrap"),redirect("/tutorial/step_18","/tutorials/angular1/angular-material-and-custom-angular-auth-forms"),redirect("/tutorial/step_19","/tutorials/angular1/3rd-party-libraries"),redirect("/tutorial/step_20","/tutorials/angular1/handling-files-with-collectionfs"),t.route("tutorialIntro",{path:"/tutorialIntro",template:"tutorial-intro",seoTitle:"Angular Meteor Tutorials"}),createSubRoutes(API_REFERENCE),redirect("/api","/api/meteorCollection"),redirect("/api/meteor-include","/api/blaze-template"),t.route("server",{path:"/server",template:"angular-server",seoTitle:"Angular-Server | Angular-Meteor"}),createSubRoutes(ANGULAR_SERVER),redirect("/server/base","/server/base/bootstrapping")})}();

!function(){Template.home.rendered=function(){Tracker.autorun(function(){if(Session.get("twitterWidgetLoaded")){var e=$("#homepage-social-buttons-cache").clone();e.attr("id","homepage-social-buttons"),$("#homepage-social-buttons").replaceWith(e)}})}}();

!function(){Template.layout.rendered=function(){window.oldIe&&$("body").addClass("oldIe"),twttr.ready(function(e){e.events.bind("loaded",function(t){Session.set("twitterWidgetLoaded",!0),e.events.bind("click",function(e){analytics.track("web.twitter-widget")})})})},Template.layout.events({"click section":function(){$(".navbar-collapse").removeClass("in")}})}();

!function(){Template.navbar.onCreated(function(){}),Template.navbar.helpers({isInstall:function(){var t=Router.current().route.getName();return t.startsWith("install")||t.startsWith("tutorial")?"selected":void 0},isApi:function(){return Router.current().route.getName().startsWith("api")?"selected":void 0},index:function(){return Number(this.id)}}),Template.navbar.events({'click a[class!="dropdown-toggle"], click .login-button':function(){$(".navbar-collapse").removeClass("in")}}),Template.navbarLink.helpers({selected:function(){var t=this,e=Router.current().data();if("sidebarStepsCollapse"===this.subSidebarType){var r="."+this.id+"-steps";$(r).collapse(e.route==t.route||e.parent.route==t.route?"show":"hide")}return e.route==t.route||e.parent.route==t.route?"active":""},chapter:function(){var t=Router.current().data();return t.path.substr(t.path.lastIndexOf("/"))},sidebarPath:function(){var t=Router.current().data(),e=t.path.substr(0,t.path.lastIndexOf("/")),r=this.path.substr(this.path.lastIndexOf("/"));return e+r}})}();

!function(){PAGES=[{id:"1",title:"Angular",route:"tutorials.angular1",path:"/tutorials/angular1",pathRedirect:"/tutorials/angular1/bootstrapping",ghRepoName:"https://github.com/Urigo/meteor-angular-socially",subSidebarType:"sidebarStepsCollapse",seoTitlePrefix:"Angular Meteor Tutorial | ",subHead:"Build your first Angular Meteor app",stepbarHide:!0,pages:ANGULAR1_TUT},{id:"2",title:"Angular 2.0",route:"tutorials.angular2",path:"/tutorials/angular2",pathRedirect:"/tutorials/angular2/bootstrapping",ghRepoName:"https://github.com/ShMcK/ng2-socially-tutorial",subSidebarType:"sidebarStepsCollapse",seoTitlePrefix:"Angular 2.0 Meteor Tutorial | ",subHead:"Angular 2.0 Meteor tutorial",stepbarHide:!0,pages:ANGULAR2_TUT}],Template.sidebarDesktop.helpers({sidebarType:function(){return this.subSidebarType?this.subSidebarType:"sidebarDefault"}}),Template.tutorialSelector.onCreated(function(){this.data.pages=PAGES}),Template.tutorialSelector.helpers({selected:function(){var e=this,t=Router.current().data();return t.route==e.route||t.parent.route==e.route?"active":""}}),Template.sidebarDefault.onCreated(function(){this.data.pages=ANGULAR1_TUT}),Template.sidebarDefault.helpers({index:function(){return Number(this.id)}}),Template.sidebarMobile.helpers({selectedMobile:function(){return Router.current().data().route==this.route?{selected:""}:null}}),Template.sidebarMobile.events({"change .component-sidebar-mobile":function(e,t){$(e.currentTarget).blur();var a=$(e.target).val();a&&(window.location=a)}}),Template.sidebarLink.helpers({selected:function(){var e=this,t=Router.current().data(),a=t.path.substr(t.path.lastIndexOf("/")),r=e.path.substr(e.path.lastIndexOf("/"));return a==r?"active":""},sidebarPath:function(){var e=Router.current().data(),t=e.path.substr(0,e.path.lastIndexOf("/")),a=this.path.substr(this.path.lastIndexOf("/"));return t+a}}),Template.tutorialsLink.helpers({selected:function(){var e=this,t=Router.current().data();if("sidebarStepsCollapse"===this.subSidebarType){var a="."+this.id+"-steps";$(a).collapse(t.route==e.route||t.parent.route==e.route?"show":"hide")}return t.route==e.route||t.parent.route==e.route?"active":""},chapter:function(){var e=Router.current().data();return e.path.substr(e.path.lastIndexOf("/"))}}),Template.sidebarStepsCollapse.onRendered(function(){var e=this,t=Router.current().data(),a="."+e.data.id+"-steps";$(".collapse").collapse({toggle:!1}),$(a).collapse(t.route==e.data.route||t.parent.route==e.data.route?"show":"hide")})}();

!function(){Template.sidebarDesktopAPI.helpers({sidebarType:function(){return this.subSidebarType?this.subSidebarType:"sidebarDefaultAPI"}}),Template.sidebarMobileAPI.helpers({selectedMobile:function(){return Router.current().data().route==this.route?{selected:""}:null}}),Template.sidebarMobileAPI.events({"change .component-sidebar-mobile":function(e,t){$(e.currentTarget).blur();var r=$(e.target).val();r&&(window.location=r)}}),Template.sidebarLinkAPI.helpers({selected:function(){var e=this,t=Router.current().data();if("sidebarStepsCollapse"===this.subSidebarType){var r="."+this.id+"-steps";$(r).collapse(t.route==e.route||t.parent.route==e.route?"show":"hide")}return t.route==e.route||t.parent.route==e.route?"selected":"not-selected"},sidebarPath:function(){return this.pathRedirect?this.pathRedirect:this.path}})}();

!function(){Template.stepbarButtons.helpers({prev:function(){var t=this;if(t.parent.pages)return t.parent.pages[parseInt(t.id,10)-1];var e={path:"tutorialIntro"};return e},next:function(){var t=this;return t.parent.pages?t.parent.pages[parseInt(t.id,10)+1]:void 0}}),Template.stepbarButtonsPrevious.helpers({prev:function(){var t=this;if(t.parent.pages)return t.parent.pages[parseInt(t.id,10)-1];var e={path:"tutorialIntro"};return e}}),Template.stepbarButtonsNext.helpers({next:function(){var t=this;return t.parent.pages?t.parent.pages[parseInt(t.id,10)+1]:void 0}}),Template.stepbarLiveDemo.helpers({liveDemoLink:function(){var t=this,e="";return t.id<10&&(e="0"),"http://socially-step"+e+t.id+".meteor.com/"},next:function(){var t=this;return t.parent.pages?t.parent.pages[parseInt(t.id,10)+1]:void 0}}),Template.stepbarCodeDiff.helpers({CommitDiff:function(){var t=this;return t.commitDiff},ghRepoName:function(){var t=this;return t.parent.ghRepoName},currentCommit:function(){var t=this,e="";return t.id<10&&(e="0"),e+t.id},previousCommit:function(){var t=this,e="";return t.id-1<10&&(e="0"),e+(t.id-1)},next:function(){var t=this;return t.parent.pages?t.parent.pages[parseInt(t.id,10)+1]:void 0}}),Template.improveDoc.helpers({tutorialName:function(){var t=Router.current().data();return"tutorials.angular2"==t.parent.route?"angular2":"angular1"}}),Template.downloadPreviousStep.helpers({ghRepoName:function(){var t=Router.current().data();return"tutorials.angular2"==t.parent.route?"https://github.com/ShMcK/ng2-socially-tutorial":"https://github.com/Urigo/meteor-angular-socially"}})}();

!function(){Router.onRun(function(){analytics.page(),this.next()})}();

!function(){METEOR_VERSION="1.1.0.2"}();